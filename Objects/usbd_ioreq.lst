ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"usbd_ioreq.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.USBD_CtlSendData,"ax",%progbits
  22              		.align	2
  23              		.global	USBD_CtlSendData
  24              		.thumb
  25              		.thumb_func
  27              	USBD_CtlSendData:
  28              	.LFB124:
  29              		.file 1 "USB/core/usbd_ioreq.c"
   1:USB/core/usbd_ioreq.c **** /**
   2:USB/core/usbd_ioreq.c ****   ******************************************************************************
   3:USB/core/usbd_ioreq.c ****   * @file    usbd_ioreq.c
   4:USB/core/usbd_ioreq.c ****   * @author  MCD Application Team
   5:USB/core/usbd_ioreq.c ****   * @version V1.1.0
   6:USB/core/usbd_ioreq.c ****   * @date    19-March-2012
   7:USB/core/usbd_ioreq.c ****   * @brief   This file provides the IO requests APIs for control endpoints.
   8:USB/core/usbd_ioreq.c ****   ******************************************************************************
   9:USB/core/usbd_ioreq.c ****   * @attention
  10:USB/core/usbd_ioreq.c ****   *
  11:USB/core/usbd_ioreq.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  12:USB/core/usbd_ioreq.c ****   *
  13:USB/core/usbd_ioreq.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  14:USB/core/usbd_ioreq.c ****   * You may not use this file except in compliance with the License.
  15:USB/core/usbd_ioreq.c ****   * You may obtain a copy of the License at:
  16:USB/core/usbd_ioreq.c ****   *
  17:USB/core/usbd_ioreq.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  18:USB/core/usbd_ioreq.c ****   *
  19:USB/core/usbd_ioreq.c ****   * Unless required by applicable law or agreed to in writing, software 
  20:USB/core/usbd_ioreq.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  21:USB/core/usbd_ioreq.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:USB/core/usbd_ioreq.c ****   * See the License for the specific language governing permissions and
  23:USB/core/usbd_ioreq.c ****   * limitations under the License.
  24:USB/core/usbd_ioreq.c ****   *
  25:USB/core/usbd_ioreq.c ****   ******************************************************************************
  26:USB/core/usbd_ioreq.c ****   */ 
  27:USB/core/usbd_ioreq.c **** 
  28:USB/core/usbd_ioreq.c **** /* Includes ------------------------------------------------------------------*/
  29:USB/core/usbd_ioreq.c **** #include "usbd_ioreq.h"
ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 2


  30:USB/core/usbd_ioreq.c **** 
  31:USB/core/usbd_ioreq.c **** /** @addtogroup STM32_USB_OTG_DEVICE_LIBRARY
  32:USB/core/usbd_ioreq.c ****   * @{
  33:USB/core/usbd_ioreq.c ****   */
  34:USB/core/usbd_ioreq.c **** 
  35:USB/core/usbd_ioreq.c **** 
  36:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ 
  37:USB/core/usbd_ioreq.c ****   * @brief control I/O requests module
  38:USB/core/usbd_ioreq.c ****   * @{
  39:USB/core/usbd_ioreq.c ****   */ 
  40:USB/core/usbd_ioreq.c **** 
  41:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_TypesDefinitions
  42:USB/core/usbd_ioreq.c ****   * @{
  43:USB/core/usbd_ioreq.c ****   */ 
  44:USB/core/usbd_ioreq.c **** /**
  45:USB/core/usbd_ioreq.c ****   * @}
  46:USB/core/usbd_ioreq.c ****   */ 
  47:USB/core/usbd_ioreq.c **** 
  48:USB/core/usbd_ioreq.c **** 
  49:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_Defines
  50:USB/core/usbd_ioreq.c ****   * @{
  51:USB/core/usbd_ioreq.c ****   */ 
  52:USB/core/usbd_ioreq.c **** 
  53:USB/core/usbd_ioreq.c **** /**
  54:USB/core/usbd_ioreq.c ****   * @}
  55:USB/core/usbd_ioreq.c ****   */ 
  56:USB/core/usbd_ioreq.c **** 
  57:USB/core/usbd_ioreq.c **** 
  58:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_Macros
  59:USB/core/usbd_ioreq.c ****   * @{
  60:USB/core/usbd_ioreq.c ****   */ 
  61:USB/core/usbd_ioreq.c **** /**
  62:USB/core/usbd_ioreq.c ****   * @}
  63:USB/core/usbd_ioreq.c ****   */ 
  64:USB/core/usbd_ioreq.c **** 
  65:USB/core/usbd_ioreq.c **** 
  66:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_Variables
  67:USB/core/usbd_ioreq.c ****   * @{
  68:USB/core/usbd_ioreq.c ****   */ 
  69:USB/core/usbd_ioreq.c **** 
  70:USB/core/usbd_ioreq.c **** /**
  71:USB/core/usbd_ioreq.c ****   * @}
  72:USB/core/usbd_ioreq.c ****   */ 
  73:USB/core/usbd_ioreq.c **** 
  74:USB/core/usbd_ioreq.c **** 
  75:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_FunctionPrototypes
  76:USB/core/usbd_ioreq.c ****   * @{
  77:USB/core/usbd_ioreq.c ****   */ 
  78:USB/core/usbd_ioreq.c **** /**
  79:USB/core/usbd_ioreq.c ****   * @}
  80:USB/core/usbd_ioreq.c ****   */ 
  81:USB/core/usbd_ioreq.c **** 
  82:USB/core/usbd_ioreq.c **** 
  83:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_Functions
  84:USB/core/usbd_ioreq.c ****   * @{
  85:USB/core/usbd_ioreq.c ****   */ 
  86:USB/core/usbd_ioreq.c **** 
ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 3


  87:USB/core/usbd_ioreq.c **** /**
  88:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlSendData
  89:USB/core/usbd_ioreq.c **** *         send data on the ctl pipe
  90:USB/core/usbd_ioreq.c **** * @param  pdev: device instance
  91:USB/core/usbd_ioreq.c **** * @param  buff: pointer to data buffer
  92:USB/core/usbd_ioreq.c **** * @param  len: length of data to be sent
  93:USB/core/usbd_ioreq.c **** * @retval status
  94:USB/core/usbd_ioreq.c **** */
  95:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlSendData (USB_OTG_CORE_HANDLE  *pdev, 
  96:USB/core/usbd_ioreq.c ****                                uint8_t *pbuf,
  97:USB/core/usbd_ioreq.c ****                                uint16_t len)
  98:USB/core/usbd_ioreq.c **** {
  30              		.loc 1 98 0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              	.LVL0:
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40 0002 0446     		mov	r4, r0
  41 0004 1346     		mov	r3, r2
  42              	.LVL1:
  99:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 100:USB/core/usbd_ioreq.c ****   
 101:USB/core/usbd_ioreq.c ****   pdev->dev.in_ep[0].total_data_len = len;
  43              		.loc 1 101 0
  44 0006 C4F83C21 		str	r2, [r4, #316]
 102:USB/core/usbd_ioreq.c ****   pdev->dev.in_ep[0].rem_data_len   = len;
  45              		.loc 1 102 0
  46 000a C4F83821 		str	r2, [r4, #312]
 103:USB/core/usbd_ioreq.c ****   pdev->dev.device_state = USB_OTG_EP0_DATA_IN;
  47              		.loc 1 103 0
  48 000e 0222     		movs	r2, #2
  49              	.LVL2:
  50 0010 80F81121 		strb	r2, [r0, #273]
 104:USB/core/usbd_ioreq.c **** 
 105:USB/core/usbd_ioreq.c ****   DCD_EP_Tx (pdev, 0, pbuf, len);
  51              		.loc 1 105 0
  52 0014 0A46     		mov	r2, r1
  53 0016 0021     		movs	r1, #0
  54              	.LVL3:
  55 0018 FFF7FEFF 		bl	DCD_EP_Tx
  56              	.LVL4:
 106:USB/core/usbd_ioreq.c ****  
 107:USB/core/usbd_ioreq.c ****   return ret;
 108:USB/core/usbd_ioreq.c **** }
  57              		.loc 1 108 0
  58 001c 0020     		movs	r0, #0
  59 001e 10BD     		pop	{r4, pc}
  60              		.cfi_endproc
  61              	.LFE124:
  63              		.section	.text.USBD_CtlContinueSendData,"ax",%progbits
  64              		.align	2
  65              		.global	USBD_CtlContinueSendData
ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 4


  66              		.thumb
  67              		.thumb_func
  69              	USBD_CtlContinueSendData:
  70              	.LFB125:
 109:USB/core/usbd_ioreq.c **** 
 110:USB/core/usbd_ioreq.c **** /**
 111:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlContinueSendData
 112:USB/core/usbd_ioreq.c **** *         continue sending data on the ctl pipe
 113:USB/core/usbd_ioreq.c **** * @param  pdev: device instance
 114:USB/core/usbd_ioreq.c **** * @param  buff: pointer to data buffer
 115:USB/core/usbd_ioreq.c **** * @param  len: length of data to be sent
 116:USB/core/usbd_ioreq.c **** * @retval status
 117:USB/core/usbd_ioreq.c **** */
 118:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlContinueSendData (USB_OTG_CORE_HANDLE  *pdev, 
 119:USB/core/usbd_ioreq.c ****                                        uint8_t *pbuf,
 120:USB/core/usbd_ioreq.c ****                                        uint16_t len)
 121:USB/core/usbd_ioreq.c **** {
  71              		.loc 1 121 0
  72              		.cfi_startproc
  73              		@ args = 0, pretend = 0, frame = 0
  74              		@ frame_needed = 0, uses_anonymous_args = 0
  75              	.LVL5:
  76 0000 08B5     		push	{r3, lr}
  77              	.LCFI1:
  78              		.cfi_def_cfa_offset 8
  79              		.cfi_offset 3, -8
  80              		.cfi_offset 14, -4
  81              	.LVL6:
 122:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 123:USB/core/usbd_ioreq.c ****   
 124:USB/core/usbd_ioreq.c ****   DCD_EP_Tx (pdev, 0, pbuf, len);
  82              		.loc 1 124 0
  83 0002 1346     		mov	r3, r2
  84 0004 0A46     		mov	r2, r1
  85              	.LVL7:
  86 0006 0021     		movs	r1, #0
  87              	.LVL8:
  88 0008 FFF7FEFF 		bl	DCD_EP_Tx
  89              	.LVL9:
 125:USB/core/usbd_ioreq.c ****   
 126:USB/core/usbd_ioreq.c ****   
 127:USB/core/usbd_ioreq.c ****   return ret;
 128:USB/core/usbd_ioreq.c **** }
  90              		.loc 1 128 0
  91 000c 0020     		movs	r0, #0
  92 000e 08BD     		pop	{r3, pc}
  93              		.cfi_endproc
  94              	.LFE125:
  96              		.section	.text.USBD_CtlPrepareRx,"ax",%progbits
  97              		.align	2
  98              		.global	USBD_CtlPrepareRx
  99              		.thumb
 100              		.thumb_func
 102              	USBD_CtlPrepareRx:
 103              	.LFB126:
 129:USB/core/usbd_ioreq.c **** 
 130:USB/core/usbd_ioreq.c **** /**
ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 5


 131:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlPrepareRx
 132:USB/core/usbd_ioreq.c **** *         receive data on the ctl pipe
 133:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
 134:USB/core/usbd_ioreq.c **** * @param  buff: pointer to data buffer
 135:USB/core/usbd_ioreq.c **** * @param  len: length of data to be received
 136:USB/core/usbd_ioreq.c **** * @retval status
 137:USB/core/usbd_ioreq.c **** */
 138:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlPrepareRx (USB_OTG_CORE_HANDLE  *pdev,
 139:USB/core/usbd_ioreq.c ****                                   uint8_t *pbuf,                                  
 140:USB/core/usbd_ioreq.c ****                                   uint16_t len)
 141:USB/core/usbd_ioreq.c **** {
 104              		.loc 1 141 0
 105              		.cfi_startproc
 106              		@ args = 0, pretend = 0, frame = 0
 107              		@ frame_needed = 0, uses_anonymous_args = 0
 108              	.LVL10:
 109 0000 10B5     		push	{r4, lr}
 110              	.LCFI2:
 111              		.cfi_def_cfa_offset 8
 112              		.cfi_offset 4, -8
 113              		.cfi_offset 14, -4
 114 0002 0446     		mov	r4, r0
 115 0004 1346     		mov	r3, r2
 116              	.LVL11:
 142:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 143:USB/core/usbd_ioreq.c ****   
 144:USB/core/usbd_ioreq.c ****   pdev->dev.out_ep[0].total_data_len = len;
 117              		.loc 1 144 0
 118 0006 C4F89423 		str	r2, [r4, #916]
 145:USB/core/usbd_ioreq.c ****   pdev->dev.out_ep[0].rem_data_len   = len;
 119              		.loc 1 145 0
 120 000a C4F89023 		str	r2, [r4, #912]
 146:USB/core/usbd_ioreq.c ****   pdev->dev.device_state = USB_OTG_EP0_DATA_OUT;
 121              		.loc 1 146 0
 122 000e 0322     		movs	r2, #3
 123              	.LVL12:
 124 0010 80F81121 		strb	r2, [r0, #273]
 147:USB/core/usbd_ioreq.c ****   
 148:USB/core/usbd_ioreq.c ****   DCD_EP_PrepareRx (pdev,
 125              		.loc 1 148 0
 126 0014 0A46     		mov	r2, r1
 127 0016 0021     		movs	r1, #0
 128              	.LVL13:
 129 0018 FFF7FEFF 		bl	DCD_EP_PrepareRx
 130              	.LVL14:
 149:USB/core/usbd_ioreq.c ****                     0,
 150:USB/core/usbd_ioreq.c ****                     pbuf,
 151:USB/core/usbd_ioreq.c ****                     len);
 152:USB/core/usbd_ioreq.c ****   
 153:USB/core/usbd_ioreq.c **** 
 154:USB/core/usbd_ioreq.c ****   return ret;
 155:USB/core/usbd_ioreq.c **** }
 131              		.loc 1 155 0
 132 001c 0020     		movs	r0, #0
 133 001e 10BD     		pop	{r4, pc}
 134              		.cfi_endproc
 135              	.LFE126:
ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 6


 137              		.section	.text.USBD_CtlContinueRx,"ax",%progbits
 138              		.align	2
 139              		.global	USBD_CtlContinueRx
 140              		.thumb
 141              		.thumb_func
 143              	USBD_CtlContinueRx:
 144              	.LFB127:
 156:USB/core/usbd_ioreq.c **** 
 157:USB/core/usbd_ioreq.c **** /**
 158:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlContinueRx
 159:USB/core/usbd_ioreq.c **** *         continue receive data on the ctl pipe
 160:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
 161:USB/core/usbd_ioreq.c **** * @param  buff: pointer to data buffer
 162:USB/core/usbd_ioreq.c **** * @param  len: length of data to be received
 163:USB/core/usbd_ioreq.c **** * @retval status
 164:USB/core/usbd_ioreq.c **** */
 165:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlContinueRx (USB_OTG_CORE_HANDLE  *pdev, 
 166:USB/core/usbd_ioreq.c ****                                           uint8_t *pbuf,                                          
 167:USB/core/usbd_ioreq.c ****                                           uint16_t len)
 168:USB/core/usbd_ioreq.c **** {
 145              		.loc 1 168 0
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149              	.LVL15:
 150 0000 08B5     		push	{r3, lr}
 151              	.LCFI3:
 152              		.cfi_def_cfa_offset 8
 153              		.cfi_offset 3, -8
 154              		.cfi_offset 14, -4
 155              	.LVL16:
 169:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 170:USB/core/usbd_ioreq.c ****   
 171:USB/core/usbd_ioreq.c ****   DCD_EP_PrepareRx (pdev,
 156              		.loc 1 171 0
 157 0002 1346     		mov	r3, r2
 158 0004 0A46     		mov	r2, r1
 159              	.LVL17:
 160 0006 0021     		movs	r1, #0
 161              	.LVL18:
 162 0008 FFF7FEFF 		bl	DCD_EP_PrepareRx
 163              	.LVL19:
 172:USB/core/usbd_ioreq.c ****                     0,                     
 173:USB/core/usbd_ioreq.c ****                     pbuf,                         
 174:USB/core/usbd_ioreq.c ****                     len);
 175:USB/core/usbd_ioreq.c ****   return ret;
 176:USB/core/usbd_ioreq.c **** }
 164              		.loc 1 176 0
 165 000c 0020     		movs	r0, #0
 166 000e 08BD     		pop	{r3, pc}
 167              		.cfi_endproc
 168              	.LFE127:
 170              		.section	.text.USBD_CtlSendStatus,"ax",%progbits
 171              		.align	2
 172              		.global	USBD_CtlSendStatus
 173              		.thumb
 174              		.thumb_func
ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 7


 176              	USBD_CtlSendStatus:
 177              	.LFB128:
 177:USB/core/usbd_ioreq.c **** /**
 178:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlSendStatus
 179:USB/core/usbd_ioreq.c **** *         send zero lzngth packet on the ctl pipe
 180:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
 181:USB/core/usbd_ioreq.c **** * @retval status
 182:USB/core/usbd_ioreq.c **** */
 183:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlSendStatus (USB_OTG_CORE_HANDLE  *pdev)
 184:USB/core/usbd_ioreq.c **** {
 178              		.loc 1 184 0
 179              		.cfi_startproc
 180              		@ args = 0, pretend = 0, frame = 0
 181              		@ frame_needed = 0, uses_anonymous_args = 0
 182              	.LVL20:
 183 0000 10B5     		push	{r4, lr}
 184              	.LCFI4:
 185              		.cfi_def_cfa_offset 8
 186              		.cfi_offset 4, -8
 187              		.cfi_offset 14, -4
 188 0002 0446     		mov	r4, r0
 189              	.LVL21:
 185:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 186:USB/core/usbd_ioreq.c ****   pdev->dev.device_state = USB_OTG_EP0_STATUS_IN;
 190              		.loc 1 186 0
 191 0004 0423     		movs	r3, #4
 192 0006 80F81131 		strb	r3, [r0, #273]
 187:USB/core/usbd_ioreq.c ****   DCD_EP_Tx (pdev,
 193              		.loc 1 187 0
 194 000a 0023     		movs	r3, #0
 195 000c 1A46     		mov	r2, r3
 196 000e 1946     		mov	r1, r3
 197 0010 FFF7FEFF 		bl	DCD_EP_Tx
 198              	.LVL22:
 188:USB/core/usbd_ioreq.c ****              0,
 189:USB/core/usbd_ioreq.c ****              NULL, 
 190:USB/core/usbd_ioreq.c ****              0); 
 191:USB/core/usbd_ioreq.c ****   
 192:USB/core/usbd_ioreq.c ****   USB_OTG_EP0_OutStart(pdev);  
 199              		.loc 1 192 0
 200 0014 2046     		mov	r0, r4
 201 0016 FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 202              	.LVL23:
 193:USB/core/usbd_ioreq.c ****   
 194:USB/core/usbd_ioreq.c ****   return ret;
 195:USB/core/usbd_ioreq.c **** }
 203              		.loc 1 195 0
 204 001a 0020     		movs	r0, #0
 205 001c 10BD     		pop	{r4, pc}
 206              		.cfi_endproc
 207              	.LFE128:
 209 001e 00BF     		.section	.text.USBD_CtlReceiveStatus,"ax",%progbits
 210              		.align	2
 211              		.global	USBD_CtlReceiveStatus
 212              		.thumb
 213              		.thumb_func
 215              	USBD_CtlReceiveStatus:
ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 8


 216              	.LFB129:
 196:USB/core/usbd_ioreq.c **** 
 197:USB/core/usbd_ioreq.c **** /**
 198:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlReceiveStatus
 199:USB/core/usbd_ioreq.c **** *         receive zero lzngth packet on the ctl pipe
 200:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
 201:USB/core/usbd_ioreq.c **** * @retval status
 202:USB/core/usbd_ioreq.c **** */
 203:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlReceiveStatus (USB_OTG_CORE_HANDLE  *pdev)
 204:USB/core/usbd_ioreq.c **** {
 217              		.loc 1 204 0
 218              		.cfi_startproc
 219              		@ args = 0, pretend = 0, frame = 0
 220              		@ frame_needed = 0, uses_anonymous_args = 0
 221              	.LVL24:
 222 0000 10B5     		push	{r4, lr}
 223              	.LCFI5:
 224              		.cfi_def_cfa_offset 8
 225              		.cfi_offset 4, -8
 226              		.cfi_offset 14, -4
 227 0002 0446     		mov	r4, r0
 228              	.LVL25:
 205:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 206:USB/core/usbd_ioreq.c ****   pdev->dev.device_state = USB_OTG_EP0_STATUS_OUT;  
 229              		.loc 1 206 0
 230 0004 0523     		movs	r3, #5
 231 0006 80F81131 		strb	r3, [r0, #273]
 207:USB/core/usbd_ioreq.c ****   DCD_EP_PrepareRx ( pdev,
 232              		.loc 1 207 0
 233 000a 0023     		movs	r3, #0
 234 000c 1A46     		mov	r2, r3
 235 000e 1946     		mov	r1, r3
 236 0010 FFF7FEFF 		bl	DCD_EP_PrepareRx
 237              	.LVL26:
 208:USB/core/usbd_ioreq.c ****                     0,
 209:USB/core/usbd_ioreq.c ****                     NULL,
 210:USB/core/usbd_ioreq.c ****                     0);  
 211:USB/core/usbd_ioreq.c **** 
 212:USB/core/usbd_ioreq.c ****   USB_OTG_EP0_OutStart(pdev);
 238              		.loc 1 212 0
 239 0014 2046     		mov	r0, r4
 240 0016 FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 241              	.LVL27:
 213:USB/core/usbd_ioreq.c ****   
 214:USB/core/usbd_ioreq.c ****   return ret;
 215:USB/core/usbd_ioreq.c **** }
 242              		.loc 1 215 0
 243 001a 0020     		movs	r0, #0
 244 001c 10BD     		pop	{r4, pc}
 245              		.cfi_endproc
 246              	.LFE129:
 248 001e 00BF     		.section	.text.USBD_GetRxCount,"ax",%progbits
 249              		.align	2
 250              		.global	USBD_GetRxCount
 251              		.thumb
 252              		.thumb_func
 254              	USBD_GetRxCount:
ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 9


 255              	.LFB130:
 216:USB/core/usbd_ioreq.c **** 
 217:USB/core/usbd_ioreq.c **** 
 218:USB/core/usbd_ioreq.c **** /**
 219:USB/core/usbd_ioreq.c **** * @brief  USBD_GetRxCount
 220:USB/core/usbd_ioreq.c **** *         returns the received data length
 221:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
 222:USB/core/usbd_ioreq.c **** *         epnum: endpoint index
 223:USB/core/usbd_ioreq.c **** * @retval Rx Data blength
 224:USB/core/usbd_ioreq.c **** */
 225:USB/core/usbd_ioreq.c **** uint16_t  USBD_GetRxCount (USB_OTG_CORE_HANDLE  *pdev , uint8_t epnum)
 226:USB/core/usbd_ioreq.c **** {
 256              		.loc 1 226 0
 257              		.cfi_startproc
 258              		@ args = 0, pretend = 0, frame = 0
 259              		@ frame_needed = 0, uses_anonymous_args = 0
 260              		@ link register save eliminated.
 261              	.LVL28:
 227:USB/core/usbd_ioreq.c ****   return pdev->dev.out_ep[epnum].xfer_count;
 262              		.loc 1 227 0
 263 0000 01EB8101 		add	r1, r1, r1, lsl #2
 264              	.LVL29:
 265 0004 CB00     		lsls	r3, r1, #3
 266 0006 1844     		add	r0, r0, r3
 267              	.LVL30:
 228:USB/core/usbd_ioreq.c **** }
 268              		.loc 1 228 0
 269 0008 B0F88C03 		ldrh	r0, [r0, #908]
 270 000c 7047     		bx	lr
 271              		.cfi_endproc
 272              	.LFE130:
 274 000e 00BF     		.text
 275              	.Letext0:
 276              		.file 2 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\machine\\_default_types.h"
 277              		.file 3 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\sys\\_stdint.h"
 278              		.file 4 "USB/core/usb_regs.h"
 279              		.file 5 "USB/core/usb_core.h"
 280              		.file 6 "USB/core/usbd_core.h"
 281              		.file 7 "USB/core/usb_dcd.h"
 282              		.file 8 "F4_CORE/core_cm4.h"
ARM GAS  C:\Users\why\AppData\Local\Temp\ccNrAzXg.s 			page 10


DEFINED SYMBOLS
                            *ABS*:00000000 usbd_ioreq.c
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:22     .text.USBD_CtlSendData:00000000 $t
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:27     .text.USBD_CtlSendData:00000000 USBD_CtlSendData
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:64     .text.USBD_CtlContinueSendData:00000000 $t
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:69     .text.USBD_CtlContinueSendData:00000000 USBD_CtlContinueSendData
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:97     .text.USBD_CtlPrepareRx:00000000 $t
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:102    .text.USBD_CtlPrepareRx:00000000 USBD_CtlPrepareRx
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:138    .text.USBD_CtlContinueRx:00000000 $t
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:143    .text.USBD_CtlContinueRx:00000000 USBD_CtlContinueRx
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:171    .text.USBD_CtlSendStatus:00000000 $t
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:176    .text.USBD_CtlSendStatus:00000000 USBD_CtlSendStatus
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:210    .text.USBD_CtlReceiveStatus:00000000 $t
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:215    .text.USBD_CtlReceiveStatus:00000000 USBD_CtlReceiveStatus
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:249    .text.USBD_GetRxCount:00000000 $t
C:\Users\why\AppData\Local\Temp\ccNrAzXg.s:254    .text.USBD_GetRxCount:00000000 USBD_GetRxCount
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
DCD_EP_Tx
DCD_EP_PrepareRx
USB_OTG_EP0_OutStart
