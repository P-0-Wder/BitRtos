ARM GAS  /tmp/ccbrjjCA.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbd_ioreq.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USBD_CtlSendData,"ax",%progbits
  18              		.align	1
  19              		.global	USBD_CtlSendData
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	USBD_CtlSendData:
  27              	.LVL0:
  28              	.LFB126:
  29              		.file 1 "USB/core/usbd_ioreq.c"
   1:USB/core/usbd_ioreq.c **** /**
   2:USB/core/usbd_ioreq.c ****   ******************************************************************************
   3:USB/core/usbd_ioreq.c ****   * @file    usbd_ioreq.c
   4:USB/core/usbd_ioreq.c ****   * @author  MCD Application Team
   5:USB/core/usbd_ioreq.c ****   * @version V1.1.0
   6:USB/core/usbd_ioreq.c ****   * @date    19-March-2012
   7:USB/core/usbd_ioreq.c ****   * @brief   This file provides the IO requests APIs for control endpoints.
   8:USB/core/usbd_ioreq.c ****   ******************************************************************************
   9:USB/core/usbd_ioreq.c ****   * @attention
  10:USB/core/usbd_ioreq.c ****   *
  11:USB/core/usbd_ioreq.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  12:USB/core/usbd_ioreq.c ****   *
  13:USB/core/usbd_ioreq.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  14:USB/core/usbd_ioreq.c ****   * You may not use this file except in compliance with the License.
  15:USB/core/usbd_ioreq.c ****   * You may obtain a copy of the License at:
  16:USB/core/usbd_ioreq.c ****   *
  17:USB/core/usbd_ioreq.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  18:USB/core/usbd_ioreq.c ****   *
  19:USB/core/usbd_ioreq.c ****   * Unless required by applicable law or agreed to in writing, software 
  20:USB/core/usbd_ioreq.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  21:USB/core/usbd_ioreq.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:USB/core/usbd_ioreq.c ****   * See the License for the specific language governing permissions and
  23:USB/core/usbd_ioreq.c ****   * limitations under the License.
  24:USB/core/usbd_ioreq.c ****   *
  25:USB/core/usbd_ioreq.c ****   ******************************************************************************
  26:USB/core/usbd_ioreq.c ****   */ 
  27:USB/core/usbd_ioreq.c **** 
  28:USB/core/usbd_ioreq.c **** /* Includes ------------------------------------------------------------------*/
  29:USB/core/usbd_ioreq.c **** #include "usbd_ioreq.h"
ARM GAS  /tmp/ccbrjjCA.s 			page 2


  30:USB/core/usbd_ioreq.c **** 
  31:USB/core/usbd_ioreq.c **** /** @addtogroup STM32_USB_OTG_DEVICE_LIBRARY
  32:USB/core/usbd_ioreq.c ****   * @{
  33:USB/core/usbd_ioreq.c ****   */
  34:USB/core/usbd_ioreq.c **** 
  35:USB/core/usbd_ioreq.c **** 
  36:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ 
  37:USB/core/usbd_ioreq.c ****   * @brief control I/O requests module
  38:USB/core/usbd_ioreq.c ****   * @{
  39:USB/core/usbd_ioreq.c ****   */ 
  40:USB/core/usbd_ioreq.c **** 
  41:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_TypesDefinitions
  42:USB/core/usbd_ioreq.c ****   * @{
  43:USB/core/usbd_ioreq.c ****   */ 
  44:USB/core/usbd_ioreq.c **** /**
  45:USB/core/usbd_ioreq.c ****   * @}
  46:USB/core/usbd_ioreq.c ****   */ 
  47:USB/core/usbd_ioreq.c **** 
  48:USB/core/usbd_ioreq.c **** 
  49:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_Defines
  50:USB/core/usbd_ioreq.c ****   * @{
  51:USB/core/usbd_ioreq.c ****   */ 
  52:USB/core/usbd_ioreq.c **** 
  53:USB/core/usbd_ioreq.c **** /**
  54:USB/core/usbd_ioreq.c ****   * @}
  55:USB/core/usbd_ioreq.c ****   */ 
  56:USB/core/usbd_ioreq.c **** 
  57:USB/core/usbd_ioreq.c **** 
  58:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_Macros
  59:USB/core/usbd_ioreq.c ****   * @{
  60:USB/core/usbd_ioreq.c ****   */ 
  61:USB/core/usbd_ioreq.c **** /**
  62:USB/core/usbd_ioreq.c ****   * @}
  63:USB/core/usbd_ioreq.c ****   */ 
  64:USB/core/usbd_ioreq.c **** 
  65:USB/core/usbd_ioreq.c **** 
  66:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_Variables
  67:USB/core/usbd_ioreq.c ****   * @{
  68:USB/core/usbd_ioreq.c ****   */ 
  69:USB/core/usbd_ioreq.c **** 
  70:USB/core/usbd_ioreq.c **** /**
  71:USB/core/usbd_ioreq.c ****   * @}
  72:USB/core/usbd_ioreq.c ****   */ 
  73:USB/core/usbd_ioreq.c **** 
  74:USB/core/usbd_ioreq.c **** 
  75:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_FunctionPrototypes
  76:USB/core/usbd_ioreq.c ****   * @{
  77:USB/core/usbd_ioreq.c ****   */ 
  78:USB/core/usbd_ioreq.c **** /**
  79:USB/core/usbd_ioreq.c ****   * @}
  80:USB/core/usbd_ioreq.c ****   */ 
  81:USB/core/usbd_ioreq.c **** 
  82:USB/core/usbd_ioreq.c **** 
  83:USB/core/usbd_ioreq.c **** /** @defgroup USBD_IOREQ_Private_Functions
  84:USB/core/usbd_ioreq.c ****   * @{
  85:USB/core/usbd_ioreq.c ****   */ 
  86:USB/core/usbd_ioreq.c **** 
ARM GAS  /tmp/ccbrjjCA.s 			page 3


  87:USB/core/usbd_ioreq.c **** /**
  88:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlSendData
  89:USB/core/usbd_ioreq.c **** *         send data on the ctl pipe
  90:USB/core/usbd_ioreq.c **** * @param  pdev: device instance
  91:USB/core/usbd_ioreq.c **** * @param  buff: pointer to data buffer
  92:USB/core/usbd_ioreq.c **** * @param  len: length of data to be sent
  93:USB/core/usbd_ioreq.c **** * @retval status
  94:USB/core/usbd_ioreq.c **** */
  95:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlSendData (USB_OTG_CORE_HANDLE  *pdev, 
  96:USB/core/usbd_ioreq.c ****                                uint8_t *pbuf,
  97:USB/core/usbd_ioreq.c ****                                uint16_t len)
  98:USB/core/usbd_ioreq.c **** {
  30              		.loc 1 98 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 98 1 is_stmt 0 view .LVU1
  35 0000 10B5     		push	{r4, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 4, -8
  39              		.cfi_offset 14, -4
  40 0002 0446     		mov	r4, r0
  41 0004 1346     		mov	r3, r2
  99:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
  42              		.loc 1 99 3 is_stmt 1 view .LVU2
  43              	.LVL1:
 100:USB/core/usbd_ioreq.c ****   
 101:USB/core/usbd_ioreq.c ****   pdev->dev.in_ep[0].total_data_len = len;
  44              		.loc 1 101 3 view .LVU3
  45              		.loc 1 101 37 is_stmt 0 view .LVU4
  46 0006 C4F83C21 		str	r2, [r4, #316]
 102:USB/core/usbd_ioreq.c ****   pdev->dev.in_ep[0].rem_data_len   = len;
  47              		.loc 1 102 3 is_stmt 1 view .LVU5
  48              		.loc 1 102 37 is_stmt 0 view .LVU6
  49 000a C4F83821 		str	r2, [r4, #312]
 103:USB/core/usbd_ioreq.c ****   pdev->dev.device_state = USB_OTG_EP0_DATA_IN;
  50              		.loc 1 103 3 is_stmt 1 view .LVU7
  51              		.loc 1 103 26 is_stmt 0 view .LVU8
  52 000e 0222     		movs	r2, #2
  53              	.LVL2:
  54              		.loc 1 103 26 view .LVU9
  55 0010 80F81121 		strb	r2, [r0, #273]
 104:USB/core/usbd_ioreq.c **** 
 105:USB/core/usbd_ioreq.c ****   DCD_EP_Tx (pdev, 0, pbuf, len);
  56              		.loc 1 105 3 is_stmt 1 view .LVU10
  57 0014 0A46     		mov	r2, r1
  58 0016 0021     		movs	r1, #0
  59              	.LVL3:
  60              		.loc 1 105 3 is_stmt 0 view .LVU11
  61 0018 FFF7FEFF 		bl	DCD_EP_Tx
  62              	.LVL4:
 106:USB/core/usbd_ioreq.c ****  
 107:USB/core/usbd_ioreq.c ****   return ret;
  63              		.loc 1 107 3 is_stmt 1 view .LVU12
 108:USB/core/usbd_ioreq.c **** }
  64              		.loc 1 108 1 is_stmt 0 view .LVU13
ARM GAS  /tmp/ccbrjjCA.s 			page 4


  65 001c 0020     		movs	r0, #0
  66 001e 10BD     		pop	{r4, pc}
  67              		.loc 1 108 1 view .LVU14
  68              		.cfi_endproc
  69              	.LFE126:
  71              		.section	.text.USBD_CtlContinueSendData,"ax",%progbits
  72              		.align	1
  73              		.global	USBD_CtlContinueSendData
  74              		.syntax unified
  75              		.thumb
  76              		.thumb_func
  77              		.fpu fpv4-sp-d16
  79              	USBD_CtlContinueSendData:
  80              	.LVL5:
  81              	.LFB127:
 109:USB/core/usbd_ioreq.c **** 
 110:USB/core/usbd_ioreq.c **** /**
 111:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlContinueSendData
 112:USB/core/usbd_ioreq.c **** *         continue sending data on the ctl pipe
 113:USB/core/usbd_ioreq.c **** * @param  pdev: device instance
 114:USB/core/usbd_ioreq.c **** * @param  buff: pointer to data buffer
 115:USB/core/usbd_ioreq.c **** * @param  len: length of data to be sent
 116:USB/core/usbd_ioreq.c **** * @retval status
 117:USB/core/usbd_ioreq.c **** */
 118:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlContinueSendData (USB_OTG_CORE_HANDLE  *pdev, 
 119:USB/core/usbd_ioreq.c ****                                        uint8_t *pbuf,
 120:USB/core/usbd_ioreq.c ****                                        uint16_t len)
 121:USB/core/usbd_ioreq.c **** {
  82              		.loc 1 121 1 is_stmt 1 view -0
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 0
  85              		@ frame_needed = 0, uses_anonymous_args = 0
  86              		.loc 1 121 1 is_stmt 0 view .LVU16
  87 0000 08B5     		push	{r3, lr}
  88              	.LCFI1:
  89              		.cfi_def_cfa_offset 8
  90              		.cfi_offset 3, -8
  91              		.cfi_offset 14, -4
 122:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
  92              		.loc 1 122 3 is_stmt 1 view .LVU17
  93              	.LVL6:
 123:USB/core/usbd_ioreq.c ****   
 124:USB/core/usbd_ioreq.c ****   DCD_EP_Tx (pdev, 0, pbuf, len);
  94              		.loc 1 124 3 view .LVU18
  95 0002 1346     		mov	r3, r2
  96 0004 0A46     		mov	r2, r1
  97              	.LVL7:
  98              		.loc 1 124 3 is_stmt 0 view .LVU19
  99 0006 0021     		movs	r1, #0
 100              	.LVL8:
 101              		.loc 1 124 3 view .LVU20
 102 0008 FFF7FEFF 		bl	DCD_EP_Tx
 103              	.LVL9:
 125:USB/core/usbd_ioreq.c ****   
 126:USB/core/usbd_ioreq.c ****   
 127:USB/core/usbd_ioreq.c ****   return ret;
 104              		.loc 1 127 3 is_stmt 1 view .LVU21
ARM GAS  /tmp/ccbrjjCA.s 			page 5


 128:USB/core/usbd_ioreq.c **** }
 105              		.loc 1 128 1 is_stmt 0 view .LVU22
 106 000c 0020     		movs	r0, #0
 107 000e 08BD     		pop	{r3, pc}
 108              		.cfi_endproc
 109              	.LFE127:
 111              		.section	.text.USBD_CtlPrepareRx,"ax",%progbits
 112              		.align	1
 113              		.global	USBD_CtlPrepareRx
 114              		.syntax unified
 115              		.thumb
 116              		.thumb_func
 117              		.fpu fpv4-sp-d16
 119              	USBD_CtlPrepareRx:
 120              	.LVL10:
 121              	.LFB128:
 129:USB/core/usbd_ioreq.c **** 
 130:USB/core/usbd_ioreq.c **** /**
 131:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlPrepareRx
 132:USB/core/usbd_ioreq.c **** *         receive data on the ctl pipe
 133:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
 134:USB/core/usbd_ioreq.c **** * @param  buff: pointer to data buffer
 135:USB/core/usbd_ioreq.c **** * @param  len: length of data to be received
 136:USB/core/usbd_ioreq.c **** * @retval status
 137:USB/core/usbd_ioreq.c **** */
 138:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlPrepareRx (USB_OTG_CORE_HANDLE  *pdev,
 139:USB/core/usbd_ioreq.c ****                                   uint8_t *pbuf,                                  
 140:USB/core/usbd_ioreq.c ****                                   uint16_t len)
 141:USB/core/usbd_ioreq.c **** {
 122              		.loc 1 141 1 is_stmt 1 view -0
 123              		.cfi_startproc
 124              		@ args = 0, pretend = 0, frame = 0
 125              		@ frame_needed = 0, uses_anonymous_args = 0
 126              		.loc 1 141 1 is_stmt 0 view .LVU24
 127 0000 10B5     		push	{r4, lr}
 128              	.LCFI2:
 129              		.cfi_def_cfa_offset 8
 130              		.cfi_offset 4, -8
 131              		.cfi_offset 14, -4
 132 0002 0446     		mov	r4, r0
 133 0004 1346     		mov	r3, r2
 142:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 134              		.loc 1 142 3 is_stmt 1 view .LVU25
 135              	.LVL11:
 143:USB/core/usbd_ioreq.c ****   
 144:USB/core/usbd_ioreq.c ****   pdev->dev.out_ep[0].total_data_len = len;
 136              		.loc 1 144 3 view .LVU26
 137              		.loc 1 144 38 is_stmt 0 view .LVU27
 138 0006 C4F89423 		str	r2, [r4, #916]
 145:USB/core/usbd_ioreq.c ****   pdev->dev.out_ep[0].rem_data_len   = len;
 139              		.loc 1 145 3 is_stmt 1 view .LVU28
 140              		.loc 1 145 38 is_stmt 0 view .LVU29
 141 000a C4F89023 		str	r2, [r4, #912]
 146:USB/core/usbd_ioreq.c ****   pdev->dev.device_state = USB_OTG_EP0_DATA_OUT;
 142              		.loc 1 146 3 is_stmt 1 view .LVU30
 143              		.loc 1 146 26 is_stmt 0 view .LVU31
 144 000e 0322     		movs	r2, #3
ARM GAS  /tmp/ccbrjjCA.s 			page 6


 145              	.LVL12:
 146              		.loc 1 146 26 view .LVU32
 147 0010 80F81121 		strb	r2, [r0, #273]
 147:USB/core/usbd_ioreq.c ****   
 148:USB/core/usbd_ioreq.c ****   DCD_EP_PrepareRx (pdev,
 148              		.loc 1 148 3 is_stmt 1 view .LVU33
 149 0014 0A46     		mov	r2, r1
 150 0016 0021     		movs	r1, #0
 151              	.LVL13:
 152              		.loc 1 148 3 is_stmt 0 view .LVU34
 153 0018 FFF7FEFF 		bl	DCD_EP_PrepareRx
 154              	.LVL14:
 149:USB/core/usbd_ioreq.c ****                     0,
 150:USB/core/usbd_ioreq.c ****                     pbuf,
 151:USB/core/usbd_ioreq.c ****                     len);
 152:USB/core/usbd_ioreq.c ****   
 153:USB/core/usbd_ioreq.c **** 
 154:USB/core/usbd_ioreq.c ****   return ret;
 155              		.loc 1 154 3 is_stmt 1 view .LVU35
 155:USB/core/usbd_ioreq.c **** }
 156              		.loc 1 155 1 is_stmt 0 view .LVU36
 157 001c 0020     		movs	r0, #0
 158 001e 10BD     		pop	{r4, pc}
 159              		.loc 1 155 1 view .LVU37
 160              		.cfi_endproc
 161              	.LFE128:
 163              		.section	.text.USBD_CtlContinueRx,"ax",%progbits
 164              		.align	1
 165              		.global	USBD_CtlContinueRx
 166              		.syntax unified
 167              		.thumb
 168              		.thumb_func
 169              		.fpu fpv4-sp-d16
 171              	USBD_CtlContinueRx:
 172              	.LVL15:
 173              	.LFB129:
 156:USB/core/usbd_ioreq.c **** 
 157:USB/core/usbd_ioreq.c **** /**
 158:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlContinueRx
 159:USB/core/usbd_ioreq.c **** *         continue receive data on the ctl pipe
 160:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
 161:USB/core/usbd_ioreq.c **** * @param  buff: pointer to data buffer
 162:USB/core/usbd_ioreq.c **** * @param  len: length of data to be received
 163:USB/core/usbd_ioreq.c **** * @retval status
 164:USB/core/usbd_ioreq.c **** */
 165:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlContinueRx (USB_OTG_CORE_HANDLE  *pdev, 
 166:USB/core/usbd_ioreq.c ****                                           uint8_t *pbuf,                                          
 167:USB/core/usbd_ioreq.c ****                                           uint16_t len)
 168:USB/core/usbd_ioreq.c **** {
 174              		.loc 1 168 1 is_stmt 1 view -0
 175              		.cfi_startproc
 176              		@ args = 0, pretend = 0, frame = 0
 177              		@ frame_needed = 0, uses_anonymous_args = 0
 178              		.loc 1 168 1 is_stmt 0 view .LVU39
 179 0000 08B5     		push	{r3, lr}
 180              	.LCFI3:
 181              		.cfi_def_cfa_offset 8
ARM GAS  /tmp/ccbrjjCA.s 			page 7


 182              		.cfi_offset 3, -8
 183              		.cfi_offset 14, -4
 169:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 184              		.loc 1 169 3 is_stmt 1 view .LVU40
 185              	.LVL16:
 170:USB/core/usbd_ioreq.c ****   
 171:USB/core/usbd_ioreq.c ****   DCD_EP_PrepareRx (pdev,
 186              		.loc 1 171 3 view .LVU41
 187 0002 1346     		mov	r3, r2
 188 0004 0A46     		mov	r2, r1
 189              	.LVL17:
 190              		.loc 1 171 3 is_stmt 0 view .LVU42
 191 0006 0021     		movs	r1, #0
 192              	.LVL18:
 193              		.loc 1 171 3 view .LVU43
 194 0008 FFF7FEFF 		bl	DCD_EP_PrepareRx
 195              	.LVL19:
 172:USB/core/usbd_ioreq.c ****                     0,                     
 173:USB/core/usbd_ioreq.c ****                     pbuf,                         
 174:USB/core/usbd_ioreq.c ****                     len);
 175:USB/core/usbd_ioreq.c ****   return ret;
 196              		.loc 1 175 3 is_stmt 1 view .LVU44
 176:USB/core/usbd_ioreq.c **** }
 197              		.loc 1 176 1 is_stmt 0 view .LVU45
 198 000c 0020     		movs	r0, #0
 199 000e 08BD     		pop	{r3, pc}
 200              		.cfi_endproc
 201              	.LFE129:
 203              		.section	.text.USBD_CtlSendStatus,"ax",%progbits
 204              		.align	1
 205              		.global	USBD_CtlSendStatus
 206              		.syntax unified
 207              		.thumb
 208              		.thumb_func
 209              		.fpu fpv4-sp-d16
 211              	USBD_CtlSendStatus:
 212              	.LVL20:
 213              	.LFB130:
 177:USB/core/usbd_ioreq.c **** /**
 178:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlSendStatus
 179:USB/core/usbd_ioreq.c **** *         send zero lzngth packet on the ctl pipe
 180:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
 181:USB/core/usbd_ioreq.c **** * @retval status
 182:USB/core/usbd_ioreq.c **** */
 183:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlSendStatus (USB_OTG_CORE_HANDLE  *pdev)
 184:USB/core/usbd_ioreq.c **** {
 214              		.loc 1 184 1 is_stmt 1 view -0
 215              		.cfi_startproc
 216              		@ args = 0, pretend = 0, frame = 0
 217              		@ frame_needed = 0, uses_anonymous_args = 0
 218              		.loc 1 184 1 is_stmt 0 view .LVU47
 219 0000 10B5     		push	{r4, lr}
 220              	.LCFI4:
 221              		.cfi_def_cfa_offset 8
 222              		.cfi_offset 4, -8
 223              		.cfi_offset 14, -4
 224 0002 0446     		mov	r4, r0
ARM GAS  /tmp/ccbrjjCA.s 			page 8


 185:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 225              		.loc 1 185 3 is_stmt 1 view .LVU48
 226              	.LVL21:
 186:USB/core/usbd_ioreq.c ****   pdev->dev.device_state = USB_OTG_EP0_STATUS_IN;
 227              		.loc 1 186 3 view .LVU49
 228              		.loc 1 186 26 is_stmt 0 view .LVU50
 229 0004 0423     		movs	r3, #4
 230 0006 80F81131 		strb	r3, [r0, #273]
 187:USB/core/usbd_ioreq.c ****   DCD_EP_Tx (pdev,
 231              		.loc 1 187 3 is_stmt 1 view .LVU51
 232 000a 0023     		movs	r3, #0
 233 000c 1A46     		mov	r2, r3
 234 000e 1946     		mov	r1, r3
 235 0010 FFF7FEFF 		bl	DCD_EP_Tx
 236              	.LVL22:
 188:USB/core/usbd_ioreq.c ****              0,
 189:USB/core/usbd_ioreq.c ****              NULL, 
 190:USB/core/usbd_ioreq.c ****              0); 
 191:USB/core/usbd_ioreq.c ****   
 192:USB/core/usbd_ioreq.c ****   USB_OTG_EP0_OutStart(pdev);  
 237              		.loc 1 192 3 view .LVU52
 238 0014 2046     		mov	r0, r4
 239 0016 FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 240              	.LVL23:
 193:USB/core/usbd_ioreq.c ****   
 194:USB/core/usbd_ioreq.c ****   return ret;
 241              		.loc 1 194 3 view .LVU53
 195:USB/core/usbd_ioreq.c **** }
 242              		.loc 1 195 1 is_stmt 0 view .LVU54
 243 001a 0020     		movs	r0, #0
 244 001c 10BD     		pop	{r4, pc}
 245              		.loc 1 195 1 view .LVU55
 246              		.cfi_endproc
 247              	.LFE130:
 249              		.section	.text.USBD_CtlReceiveStatus,"ax",%progbits
 250              		.align	1
 251              		.global	USBD_CtlReceiveStatus
 252              		.syntax unified
 253              		.thumb
 254              		.thumb_func
 255              		.fpu fpv4-sp-d16
 257              	USBD_CtlReceiveStatus:
 258              	.LVL24:
 259              	.LFB131:
 196:USB/core/usbd_ioreq.c **** 
 197:USB/core/usbd_ioreq.c **** /**
 198:USB/core/usbd_ioreq.c **** * @brief  USBD_CtlReceiveStatus
 199:USB/core/usbd_ioreq.c **** *         receive zero lzngth packet on the ctl pipe
 200:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
 201:USB/core/usbd_ioreq.c **** * @retval status
 202:USB/core/usbd_ioreq.c **** */
 203:USB/core/usbd_ioreq.c **** USBD_Status  USBD_CtlReceiveStatus (USB_OTG_CORE_HANDLE  *pdev)
 204:USB/core/usbd_ioreq.c **** {
 260              		.loc 1 204 1 is_stmt 1 view -0
 261              		.cfi_startproc
 262              		@ args = 0, pretend = 0, frame = 0
 263              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccbrjjCA.s 			page 9


 264              		.loc 1 204 1 is_stmt 0 view .LVU57
 265 0000 10B5     		push	{r4, lr}
 266              	.LCFI5:
 267              		.cfi_def_cfa_offset 8
 268              		.cfi_offset 4, -8
 269              		.cfi_offset 14, -4
 270 0002 0446     		mov	r4, r0
 205:USB/core/usbd_ioreq.c ****   USBD_Status ret = USBD_OK;
 271              		.loc 1 205 3 is_stmt 1 view .LVU58
 272              	.LVL25:
 206:USB/core/usbd_ioreq.c ****   pdev->dev.device_state = USB_OTG_EP0_STATUS_OUT;  
 273              		.loc 1 206 3 view .LVU59
 274              		.loc 1 206 26 is_stmt 0 view .LVU60
 275 0004 0523     		movs	r3, #5
 276 0006 80F81131 		strb	r3, [r0, #273]
 207:USB/core/usbd_ioreq.c ****   DCD_EP_PrepareRx ( pdev,
 277              		.loc 1 207 3 is_stmt 1 view .LVU61
 278 000a 0023     		movs	r3, #0
 279 000c 1A46     		mov	r2, r3
 280 000e 1946     		mov	r1, r3
 281 0010 FFF7FEFF 		bl	DCD_EP_PrepareRx
 282              	.LVL26:
 208:USB/core/usbd_ioreq.c ****                     0,
 209:USB/core/usbd_ioreq.c ****                     NULL,
 210:USB/core/usbd_ioreq.c ****                     0);  
 211:USB/core/usbd_ioreq.c **** 
 212:USB/core/usbd_ioreq.c ****   USB_OTG_EP0_OutStart(pdev);
 283              		.loc 1 212 3 view .LVU62
 284 0014 2046     		mov	r0, r4
 285 0016 FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 286              	.LVL27:
 213:USB/core/usbd_ioreq.c ****   
 214:USB/core/usbd_ioreq.c ****   return ret;
 287              		.loc 1 214 3 view .LVU63
 215:USB/core/usbd_ioreq.c **** }
 288              		.loc 1 215 1 is_stmt 0 view .LVU64
 289 001a 0020     		movs	r0, #0
 290 001c 10BD     		pop	{r4, pc}
 291              		.loc 1 215 1 view .LVU65
 292              		.cfi_endproc
 293              	.LFE131:
 295              		.section	.text.USBD_GetRxCount,"ax",%progbits
 296              		.align	1
 297              		.global	USBD_GetRxCount
 298              		.syntax unified
 299              		.thumb
 300              		.thumb_func
 301              		.fpu fpv4-sp-d16
 303              	USBD_GetRxCount:
 304              	.LVL28:
 305              	.LFB132:
 216:USB/core/usbd_ioreq.c **** 
 217:USB/core/usbd_ioreq.c **** 
 218:USB/core/usbd_ioreq.c **** /**
 219:USB/core/usbd_ioreq.c **** * @brief  USBD_GetRxCount
 220:USB/core/usbd_ioreq.c **** *         returns the received data length
 221:USB/core/usbd_ioreq.c **** * @param  pdev: USB OTG device instance
ARM GAS  /tmp/ccbrjjCA.s 			page 10


 222:USB/core/usbd_ioreq.c **** *         epnum: endpoint index
 223:USB/core/usbd_ioreq.c **** * @retval Rx Data blength
 224:USB/core/usbd_ioreq.c **** */
 225:USB/core/usbd_ioreq.c **** uint16_t  USBD_GetRxCount (USB_OTG_CORE_HANDLE  *pdev , uint8_t epnum)
 226:USB/core/usbd_ioreq.c **** {
 306              		.loc 1 226 1 is_stmt 1 view -0
 307              		.cfi_startproc
 308              		@ args = 0, pretend = 0, frame = 0
 309              		@ frame_needed = 0, uses_anonymous_args = 0
 310              		@ link register save eliminated.
 227:USB/core/usbd_ioreq.c ****   return pdev->dev.out_ep[epnum].xfer_count;
 311              		.loc 1 227 3 view .LVU67
 312              		.loc 1 227 33 is_stmt 0 view .LVU68
 313 0000 01EB8101 		add	r1, r1, r1, lsl #2
 314              	.LVL29:
 315              		.loc 1 227 33 view .LVU69
 316 0004 CB00     		lsls	r3, r1, #3
 317 0006 1844     		add	r0, r0, r3
 318              	.LVL30:
 228:USB/core/usbd_ioreq.c **** }
 319              		.loc 1 228 1 view .LVU70
 320 0008 B0F88C03 		ldrh	r0, [r0, #908]
 321 000c 7047     		bx	lr
 322              		.cfi_endproc
 323              	.LFE132:
 325              		.text
 326              	.Letext0:
 327              		.file 2 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 328              		.file 3 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 329              		.file 4 "F4_CORE/core_cm4.h"
 330              		.file 5 "USER/system_stm32f4xx.h"
 331              		.file 6 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 332              		.file 7 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 333              		.file 8 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 334              		.file 9 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 335              		.file 10 "USB/core/usb_regs.h"
 336              		.file 11 "USB/core/usb_core.h"
 337              		.file 12 "USB/core/usbd_core.h"
 338              		.file 13 "USB/core/usb_dcd.h"
ARM GAS  /tmp/ccbrjjCA.s 			page 11


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_ioreq.c
     /tmp/ccbrjjCA.s:18     .text.USBD_CtlSendData:0000000000000000 $t
     /tmp/ccbrjjCA.s:26     .text.USBD_CtlSendData:0000000000000000 USBD_CtlSendData
     /tmp/ccbrjjCA.s:72     .text.USBD_CtlContinueSendData:0000000000000000 $t
     /tmp/ccbrjjCA.s:79     .text.USBD_CtlContinueSendData:0000000000000000 USBD_CtlContinueSendData
     /tmp/ccbrjjCA.s:112    .text.USBD_CtlPrepareRx:0000000000000000 $t
     /tmp/ccbrjjCA.s:119    .text.USBD_CtlPrepareRx:0000000000000000 USBD_CtlPrepareRx
     /tmp/ccbrjjCA.s:164    .text.USBD_CtlContinueRx:0000000000000000 $t
     /tmp/ccbrjjCA.s:171    .text.USBD_CtlContinueRx:0000000000000000 USBD_CtlContinueRx
     /tmp/ccbrjjCA.s:204    .text.USBD_CtlSendStatus:0000000000000000 $t
     /tmp/ccbrjjCA.s:211    .text.USBD_CtlSendStatus:0000000000000000 USBD_CtlSendStatus
     /tmp/ccbrjjCA.s:250    .text.USBD_CtlReceiveStatus:0000000000000000 $t
     /tmp/ccbrjjCA.s:257    .text.USBD_CtlReceiveStatus:0000000000000000 USBD_CtlReceiveStatus
     /tmp/ccbrjjCA.s:296    .text.USBD_GetRxCount:0000000000000000 $t
     /tmp/ccbrjjCA.s:303    .text.USBD_GetRxCount:0000000000000000 USBD_GetRxCount

UNDEFINED SYMBOLS
DCD_EP_Tx
DCD_EP_PrepareRx
USB_OTG_EP0_OutStart
