ARM GAS  /tmp/ccKSSxev.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"shell.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.shellAdd,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	shellAdd:
  26              	.LVL0:
  27              	.LFB127:
  28              		.file 1 "SYS/shell/shell.c"
   1:SYS/shell/shell.c **** /**
   2:SYS/shell/shell.c ****  * @file shell.c
   3:SYS/shell/shell.c ****  * @author Letter (NevermindZZT@gmail.com)
   4:SYS/shell/shell.c ****  * @version 3.0.0
   5:SYS/shell/shell.c ****  * @date 2019-12-30
   6:SYS/shell/shell.c ****  * 
   7:SYS/shell/shell.c ****  * @copyright (c) 2020 Letter
   8:SYS/shell/shell.c ****  * 
   9:SYS/shell/shell.c ****  */
  10:SYS/shell/shell.c **** 
  11:SYS/shell/shell.c **** #include "shell.h"
  12:SYS/shell/shell.c **** #include "string.h"
  13:SYS/shell/shell.c **** #include "stdio.h"
  14:SYS/shell/shell.c **** #include "stdarg.h"
  15:SYS/shell/shell.c **** #include "shell_ext.h"
  16:SYS/shell/shell.c **** #include "stm32f4xx_usart.h"
  17:SYS/shell/shell.c **** #include "task_manager_cfg.h"
  18:SYS/shell/shell.c **** 
  19:SYS/shell/shell.c **** #if SHELL_USING_CMD_EXPORT == 1
  20:SYS/shell/shell.c **** /**
  21:SYS/shell/shell.c ****  * @brief 默认用户
  22:SYS/shell/shell.c ****  */
  23:SYS/shell/shell.c **** const char shellCmdDefaultUser[] = SHELL_DEFAULT_USER;
  24:SYS/shell/shell.c **** const char shellPasswordDefaultUser[] = SHELL_DEFAULT_USER_PASSWORD;
  25:SYS/shell/shell.c **** const char shellDesDefaultUser[] = "default user";
  26:SYS/shell/shell.c **** const ShellCommand shellUserDefault SECTION("shellCommand") =
  27:SYS/shell/shell.c ****     {
  28:SYS/shell/shell.c ****         .attr.value = SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_USER),
  29:SYS/shell/shell.c ****         .data.user.name = shellCmdDefaultUser,
  30:SYS/shell/shell.c ****         .data.user.password = shellPasswordDefaultUser,
ARM GAS  /tmp/ccKSSxev.s 			page 2


  31:SYS/shell/shell.c ****         .data.user.desc = shellDesDefaultUser};
  32:SYS/shell/shell.c **** #endif
  33:SYS/shell/shell.c **** 
  34:SYS/shell/shell.c **** #if SHELL_USING_CMD_EXPORT == 1
  35:SYS/shell/shell.c **** #if defined(__CC_ARM) || (defined(__ARMCC_VERSION) && __ARMCC_VERSION >= 6000000)
  36:SYS/shell/shell.c **** extern const unsigned int shellCommand$$Base;
  37:SYS/shell/shell.c **** extern const unsigned int shellCommand$$Limit;
  38:SYS/shell/shell.c **** #elif defined(__ICCARM__) || defined(__ICCRX__)
  39:SYS/shell/shell.c **** #pragma section = "shellCommand"
  40:SYS/shell/shell.c **** #elif defined(__GNUC__)
  41:SYS/shell/shell.c **** extern const unsigned int _shell_command_start;
  42:SYS/shell/shell.c **** extern const unsigned int _shell_command_end;
  43:SYS/shell/shell.c **** #endif
  44:SYS/shell/shell.c **** #else
  45:SYS/shell/shell.c **** extern const ShellCommand shellCommandList[];
  46:SYS/shell/shell.c **** extern const unsigned short shellCommandCount;
  47:SYS/shell/shell.c **** #endif
  48:SYS/shell/shell.c **** 
  49:SYS/shell/shell.c **** /**
  50:SYS/shell/shell.c ****  * @brief shell 常量文本索引
  51:SYS/shell/shell.c ****  */
  52:SYS/shell/shell.c **** enum
  53:SYS/shell/shell.c **** {
  54:SYS/shell/shell.c **** #if SHELL_SHOW_INFO == 1
  55:SYS/shell/shell.c ****     SHELL_TEXT_INFO, /**< shell信息 */
  56:SYS/shell/shell.c **** #endif
  57:SYS/shell/shell.c ****     SHELL_TEXT_CMD_TOO_LONG,                /**< 命令过长 */
  58:SYS/shell/shell.c ****     SHELL_TEXT_CMD_LIST,                    /**< 可执行命令列表标题 */
  59:SYS/shell/shell.c ****     SHELL_TEXT_VAR_LIST,                    /**< 变量列表标题 */
  60:SYS/shell/shell.c ****     SHELL_TEXT_USER_LIST,                   /**< 用户列表标题 */
  61:SYS/shell/shell.c ****     SHELL_TEXT_KEY_LIST,                    /**< 按键列表标题 */
  62:SYS/shell/shell.c ****     SHELL_TEXT_CMD_NOT_FOUND,               /**< 命令未找到 */
  63:SYS/shell/shell.c ****     SHELL_TEXT_POINT_CANNOT_MODIFY,         /**< 指针变量不允许修改 */
  64:SYS/shell/shell.c ****     SHELL_TEXT_VAR_READ_ONLY_CANNOT_MODIFY, /**< 只读变量不允许修改 */
  65:SYS/shell/shell.c ****     SHELL_TEXT_NOT_VAR,                     /**< 命令不是变量 */
  66:SYS/shell/shell.c ****     SHELL_TEXT_VAR_NOT_FOUND,               /**< 变量未找到 */
  67:SYS/shell/shell.c ****     SHELL_TEXT_HELP_HEADER,                 /**< help头 */
  68:SYS/shell/shell.c ****     SHELL_TEXT_PASSWORD_HINT,               /**< 密码输入提示 */
  69:SYS/shell/shell.c ****     SHELL_TEXT_PASSWORD_ERROR,              /**< 密码错误 */
  70:SYS/shell/shell.c ****     SHELL_TEXT_CLEAR_CONSOLE,               /**< 清空控制台 */
  71:SYS/shell/shell.c ****     SHELL_TEXT_CLEAR_LINE,                  /**< 清空当前行 */
  72:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_CMD,                    /**< 命令类型 */
  73:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_VAR,                    /**< 变量类型 */
  74:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_USER,                   /**< 用户类型 */
  75:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_KEY,                    /**< 按键类型 */
  76:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_NONE,                   /**< 非法类型 */
  77:SYS/shell/shell.c **** #if SHELL_EXEC_UNDEF_FUNC == 1
  78:SYS/shell/shell.c ****     SHELL_TEXT_PARAM_ERROR, /**< 参数错误 */
  79:SYS/shell/shell.c **** #endif
  80:SYS/shell/shell.c **** };
  81:SYS/shell/shell.c **** 
  82:SYS/shell/shell.c **** static const char *shellText[] =
  83:SYS/shell/shell.c ****     {
  84:SYS/shell/shell.c **** #if SHELL_SHOW_INFO == 1
  85:SYS/shell/shell.c ****         [SHELL_TEXT_INFO] =
  86:SYS/shell/shell.c ****             "\r\n\r\n"
  87:SYS/shell/shell.c ****             "/************  BitRtos  ************\\r\n\r\n"
ARM GAS  /tmp/ccKSSxev.s 			page 3


  88:SYS/shell/shell.c ****             "Team Mate:        8_B!T0\r\n"
  89:SYS/shell/shell.c ****             "                  WHY\r\n"
  90:SYS/shell/shell.c ****             "\r\n"
  91:SYS/shell/shell.c ****             "Build:            "__DATE__
  92:SYS/shell/shell.c ****             " "__TIME__
  93:SYS/shell/shell.c ****             "\r\n"
  94:SYS/shell/shell.c ****             "Shell   Version:  " SHELL_VERSION "\r\n"
  95:SYS/shell/shell.c ****             "BitRtos Version:  " RTOS_VERSION "\r\n",
  96:SYS/shell/shell.c **** #endif
  97:SYS/shell/shell.c ****         [SHELL_TEXT_CMD_TOO_LONG] =
  98:SYS/shell/shell.c ****             "\r\nWarning: Command is too long\r\n",
  99:SYS/shell/shell.c ****         [SHELL_TEXT_CMD_LIST] =
 100:SYS/shell/shell.c ****             "\r\nCommand List:\r\n",
 101:SYS/shell/shell.c ****         [SHELL_TEXT_VAR_LIST] =
 102:SYS/shell/shell.c ****             "\r\nVar List:\r\n",
 103:SYS/shell/shell.c ****         [SHELL_TEXT_USER_LIST] =
 104:SYS/shell/shell.c ****             "\r\nUser List:\r\n",
 105:SYS/shell/shell.c ****         [SHELL_TEXT_KEY_LIST] =
 106:SYS/shell/shell.c ****             "\r\nKey List:\r\n",
 107:SYS/shell/shell.c ****         [SHELL_TEXT_CMD_NOT_FOUND] =
 108:SYS/shell/shell.c ****             "Command not Found\r\n",
 109:SYS/shell/shell.c ****         [SHELL_TEXT_POINT_CANNOT_MODIFY] =
 110:SYS/shell/shell.c ****             "can't set pointer\r\n",
 111:SYS/shell/shell.c ****         [SHELL_TEXT_VAR_READ_ONLY_CANNOT_MODIFY] =
 112:SYS/shell/shell.c ****             "can't set read only var\r\n",
 113:SYS/shell/shell.c ****         [SHELL_TEXT_NOT_VAR] =
 114:SYS/shell/shell.c ****             " is not a var\r\n",
 115:SYS/shell/shell.c ****         [SHELL_TEXT_VAR_NOT_FOUND] =
 116:SYS/shell/shell.c ****             "Var not Fount\r\n",
 117:SYS/shell/shell.c ****         [SHELL_TEXT_HELP_HEADER] =
 118:SYS/shell/shell.c ****             "command help of ",
 119:SYS/shell/shell.c ****         [SHELL_TEXT_PASSWORD_HINT] =
 120:SYS/shell/shell.c ****             "\r\nPlease input password:",
 121:SYS/shell/shell.c ****         [SHELL_TEXT_PASSWORD_ERROR] =
 122:SYS/shell/shell.c ****             "\r\npassword error\r\n",
 123:SYS/shell/shell.c ****         [SHELL_TEXT_CLEAR_CONSOLE] =
 124:SYS/shell/shell.c ****             "\033[2J\033[1H",
 125:SYS/shell/shell.c ****         [SHELL_TEXT_CLEAR_LINE] =
 126:SYS/shell/shell.c ****             "\033[2K\r",
 127:SYS/shell/shell.c ****         [SHELL_TEXT_TYPE_CMD] =
 128:SYS/shell/shell.c ****             "CMD \r\n",
 129:SYS/shell/shell.c ****         [SHELL_TEXT_TYPE_VAR] =
 130:SYS/shell/shell.c ****             "VAR",
 131:SYS/shell/shell.c ****         [SHELL_TEXT_TYPE_USER] =
 132:SYS/shell/shell.c ****             "USER",
 133:SYS/shell/shell.c ****         [SHELL_TEXT_TYPE_KEY] =
 134:SYS/shell/shell.c ****             "KEY",
 135:SYS/shell/shell.c ****         [SHELL_TEXT_TYPE_NONE] =
 136:SYS/shell/shell.c ****             "NONE",
 137:SYS/shell/shell.c **** #if SHELL_EXEC_UNDEF_FUNC == 1
 138:SYS/shell/shell.c ****         [SHELL_TEXT_PARAM_ERROR] =
 139:SYS/shell/shell.c ****             "Parameter error\r\n",
 140:SYS/shell/shell.c **** #endif
 141:SYS/shell/shell.c **** };
 142:SYS/shell/shell.c **** 
 143:SYS/shell/shell.c **** /**
 144:SYS/shell/shell.c ****  * @brief shell对象表
ARM GAS  /tmp/ccKSSxev.s 			page 4


 145:SYS/shell/shell.c ****  */
 146:SYS/shell/shell.c **** static Shell *shellList[SHELL_MAX_NUMBER] = {NULL};
 147:SYS/shell/shell.c **** 
 148:SYS/shell/shell.c **** static void shellAdd(Shell *shell);
 149:SYS/shell/shell.c **** static void shellWriteCommandLine(Shell *shell, unsigned char newline);
 150:SYS/shell/shell.c **** static void shellWriteReturnValue(Shell *shell, int value);
 151:SYS/shell/shell.c **** static int shellShowVar(Shell *shell, ShellCommand *command);
 152:SYS/shell/shell.c **** static void shellSetUser(Shell *shell, const ShellCommand *user);
 153:SYS/shell/shell.c **** ShellCommand *shellSeekCommand(Shell *shell,
 154:SYS/shell/shell.c ****                                const char *cmd,
 155:SYS/shell/shell.c ****                                ShellCommand *base,
 156:SYS/shell/shell.c ****                                unsigned short compareLength);
 157:SYS/shell/shell.c **** 
 158:SYS/shell/shell.c **** /**
 159:SYS/shell/shell.c ****  * @brief shell 初始化
 160:SYS/shell/shell.c ****  * 
 161:SYS/shell/shell.c ****  * @param shell shell对象
 162:SYS/shell/shell.c ****  */
 163:SYS/shell/shell.c **** void shellInit(Shell *shell, char *buffer, unsigned short size)
 164:SYS/shell/shell.c **** {
 165:SYS/shell/shell.c ****     __asm("cpsid i");
 166:SYS/shell/shell.c ****     shell->parser.length = 0;
 167:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 168:SYS/shell/shell.c ****     shell->history.offset = 0;
 169:SYS/shell/shell.c ****     shell->history.number = 0;
 170:SYS/shell/shell.c ****     shell->history.record = 0;
 171:SYS/shell/shell.c ****     shell->info.user = NULL;
 172:SYS/shell/shell.c ****     shell->status.isChecked = 1;
 173:SYS/shell/shell.c **** 
 174:SYS/shell/shell.c ****     shell->parser.buffer = buffer;
 175:SYS/shell/shell.c ****     shell->parser.bufferSize = size / (SHELL_HISTORY_MAX_NUMBER + 1);
 176:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_HISTORY_MAX_NUMBER; i++)
 177:SYS/shell/shell.c ****     {
 178:SYS/shell/shell.c ****         shell->history.item[i] = buffer + shell->parser.bufferSize * (i + 1);
 179:SYS/shell/shell.c ****     }
 180:SYS/shell/shell.c **** 
 181:SYS/shell/shell.c **** #if SHELL_USING_CMD_EXPORT == 1
 182:SYS/shell/shell.c **** #if defined(__CC_ARM) || (defined(__ARMCC_VERSION) && __ARMCC_VERSION >= 6000000)
 183:SYS/shell/shell.c ****     shell->commandList.base = (ShellCommand *)(&shellCommand$$Base);
 184:SYS/shell/shell.c ****     shell->commandList.count = ((unsigned int)(&shellCommand$$Limit) - (unsigned int)(&shellCommand
 185:SYS/shell/shell.c **** 
 186:SYS/shell/shell.c **** #elif defined(__ICCARM__) || defined(__ICCRX__)
 187:SYS/shell/shell.c ****     shell->commandList.base = (ShellCommand *)(__section_begin("shellCommand"));
 188:SYS/shell/shell.c ****     shell->commandList.count = ((unsigned int)(__section_end("shellCommand")) - (unsigned int)(__se
 189:SYS/shell/shell.c **** #elif defined(__GNUC__)
 190:SYS/shell/shell.c ****     shell->commandList.base = (ShellCommand *)(&_shell_command_start);
 191:SYS/shell/shell.c ****     shell->commandList.count = ((unsigned int)(&_shell_command_end) - (unsigned int)(&_shell_comman
 192:SYS/shell/shell.c **** #else
 193:SYS/shell/shell.c **** #error not supported compiler, please use command table mode
 194:SYS/shell/shell.c **** #endif
 195:SYS/shell/shell.c **** #else
 196:SYS/shell/shell.c ****     shell->commandList.base = (ShellCommand *)shellCommandList;
 197:SYS/shell/shell.c ****     shell->commandList.count = shellCommandCount;
 198:SYS/shell/shell.c **** #endif
 199:SYS/shell/shell.c **** 
 200:SYS/shell/shell.c ****     shellAdd(shell);
 201:SYS/shell/shell.c **** 
ARM GAS  /tmp/ccKSSxev.s 			page 5


 202:SYS/shell/shell.c ****     shellSetUser(shell, shellSeekCommand(shell,
 203:SYS/shell/shell.c ****                                          SHELL_DEFAULT_USER,
 204:SYS/shell/shell.c ****                                          shell->commandList.base,
 205:SYS/shell/shell.c ****                                          0));
 206:SYS/shell/shell.c ****     shellWriteCommandLine(shell, 1);
 207:SYS/shell/shell.c ****     __asm("cpsie i");
 208:SYS/shell/shell.c **** }
 209:SYS/shell/shell.c **** 
 210:SYS/shell/shell.c **** /**
 211:SYS/shell/shell.c ****  * @brief 添加shell
 212:SYS/shell/shell.c ****  * 
 213:SYS/shell/shell.c ****  * @param shell shell对象
 214:SYS/shell/shell.c ****  */
 215:SYS/shell/shell.c **** static void shellAdd(Shell *shell)
 216:SYS/shell/shell.c **** {
  29              		.loc 1 216 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 217:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
  34              		.loc 1 217 5 view .LVU1
  35              	.LBB2:
  36              		.loc 1 217 10 view .LVU2
  37              		.loc 1 217 16 is_stmt 0 view .LVU3
  38 0000 0023     		movs	r3, #0
  39              	.LVL1:
  40              	.L2:
  41              		.loc 1 217 5 discriminator 1 view .LVU4
  42 0002 042B     		cmp	r3, #4
  43 0004 0BDC     		bgt	.L6
 218:SYS/shell/shell.c ****     {
 219:SYS/shell/shell.c ****         if (shellList[i] == NULL)
  44              		.loc 1 219 9 is_stmt 1 view .LVU5
  45              		.loc 1 219 22 is_stmt 0 view .LVU6
  46 0006 1946     		mov	r1, r3
  47 0008 054A     		ldr	r2, .L8
  48 000a 52F82320 		ldr	r2, [r2, r3, lsl #2]
  49              		.loc 1 219 12 view .LVU7
  50 000e 12B1     		cbz	r2, .L7
 217:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
  51              		.loc 1 217 46 discriminator 2 view .LVU8
  52 0010 0133     		adds	r3, r3, #1
  53              	.LVL2:
 217:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
  54              		.loc 1 217 46 discriminator 2 view .LVU9
  55 0012 1BB2     		sxth	r3, r3
  56              	.LVL3:
 217:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
  57              		.loc 1 217 46 discriminator 2 view .LVU10
  58 0014 F5E7     		b	.L2
  59              	.L7:
 220:SYS/shell/shell.c ****         {
 221:SYS/shell/shell.c ****             shellList[i] = shell;
  60              		.loc 1 221 13 is_stmt 1 view .LVU11
  61              		.loc 1 221 26 is_stmt 0 view .LVU12
  62 0016 024B     		ldr	r3, .L8
ARM GAS  /tmp/ccKSSxev.s 			page 6


  63              	.LVL4:
  64              		.loc 1 221 26 view .LVU13
  65 0018 43F82100 		str	r0, [r3, r1, lsl #2]
 222:SYS/shell/shell.c ****             return;
  66              		.loc 1 222 13 is_stmt 1 view .LVU14
  67 001c 7047     		bx	lr
  68              	.LVL5:
  69              	.L6:
  70              		.loc 1 222 13 is_stmt 0 view .LVU15
  71              	.LBE2:
 223:SYS/shell/shell.c ****         }
 224:SYS/shell/shell.c ****     }
 225:SYS/shell/shell.c **** }
  72              		.loc 1 225 1 view .LVU16
  73 001e 7047     		bx	lr
  74              	.L9:
  75              		.align	2
  76              	.L8:
  77 0020 00000000 		.word	.LANCHOR0
  78              		.cfi_endproc
  79              	.LFE127:
  81              		.section	.text.shellStringCopy,"ax",%progbits
  82              		.align	1
  83              		.syntax unified
  84              		.thumb
  85              		.thumb_func
  86              		.fpu fpv4-sp-d16
  88              	shellStringCopy:
  89              	.LVL6:
  90              	.LFB138:
 226:SYS/shell/shell.c **** 
 227:SYS/shell/shell.c **** /**
 228:SYS/shell/shell.c ****  * @brief 获取当前活动shell
 229:SYS/shell/shell.c ****  * 
 230:SYS/shell/shell.c ****  * @return Shell* 当前活动shell对象
 231:SYS/shell/shell.c ****  */
 232:SYS/shell/shell.c **** Shell *shellGetCurrent(void)
 233:SYS/shell/shell.c **** {
 234:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
 235:SYS/shell/shell.c ****     {
 236:SYS/shell/shell.c ****         if (shellList[i] && shellList[i]->status.isActive)
 237:SYS/shell/shell.c ****         {
 238:SYS/shell/shell.c ****             return shellList[i];
 239:SYS/shell/shell.c ****         }
 240:SYS/shell/shell.c ****     }
 241:SYS/shell/shell.c ****     return NULL;
 242:SYS/shell/shell.c **** }
 243:SYS/shell/shell.c **** 
 244:SYS/shell/shell.c **** /**
 245:SYS/shell/shell.c ****  * @brief shell写字符
 246:SYS/shell/shell.c ****  * 
 247:SYS/shell/shell.c ****  * @param shell shell对象
 248:SYS/shell/shell.c ****  * @param data 字符数据
 249:SYS/shell/shell.c ****  */
 250:SYS/shell/shell.c **** void shellWriteByte(Shell *shell, const char data)
 251:SYS/shell/shell.c **** {
 252:SYS/shell/shell.c ****     shell->write(&data, sizeof(data));
ARM GAS  /tmp/ccKSSxev.s 			page 7


 253:SYS/shell/shell.c **** }
 254:SYS/shell/shell.c **** 
 255:SYS/shell/shell.c **** /**
 256:SYS/shell/shell.c ****  * @brief shell 写字符串
 257:SYS/shell/shell.c ****  * 
 258:SYS/shell/shell.c ****  * @param shell shell对象
 259:SYS/shell/shell.c ****  * @param string 字符串数据
 260:SYS/shell/shell.c ****  * 
 261:SYS/shell/shell.c ****  * @return unsigned short 写入字符的数量
 262:SYS/shell/shell.c ****  */
 263:SYS/shell/shell.c **** unsigned short shellWriteString(Shell *shell, const char *string)
 264:SYS/shell/shell.c **** {
 265:SYS/shell/shell.c ****     unsigned short count = 0;
 266:SYS/shell/shell.c ****     SHELL_ASSERT(shell->write, return 0);
 267:SYS/shell/shell.c **** 
 268:SYS/shell/shell.c ****     shell->write(string, strlen(string));
 269:SYS/shell/shell.c ****     return count;
 270:SYS/shell/shell.c **** }
 271:SYS/shell/shell.c **** 
 272:SYS/shell/shell.c **** /**
 273:SYS/shell/shell.c ****  * @brief shell 写命令描述字符串
 274:SYS/shell/shell.c ****  * 
 275:SYS/shell/shell.c ****  * @param shell shell对象
 276:SYS/shell/shell.c ****  * @param string 字符串数据
 277:SYS/shell/shell.c ****  * 
 278:SYS/shell/shell.c ****  * @return unsigned short 写入字符的数量
 279:SYS/shell/shell.c ****  */
 280:SYS/shell/shell.c **** static unsigned short shellWriteCommandDesc(Shell *shell, const char *string)
 281:SYS/shell/shell.c **** {
 282:SYS/shell/shell.c ****     const char dot = '.';
 283:SYS/shell/shell.c ****     unsigned short count = 0;
 284:SYS/shell/shell.c ****     SHELL_ASSERT(shell->write, return 0);
 285:SYS/shell/shell.c ****     while (*string && *string != '\r' && *string != '\n' && count < 36)
 286:SYS/shell/shell.c ****     {
 287:SYS/shell/shell.c ****         shell->write(*string++, 1);
 288:SYS/shell/shell.c ****         count++;
 289:SYS/shell/shell.c ****         if (count >= 36 && *(string + 1))
 290:SYS/shell/shell.c ****         {
 291:SYS/shell/shell.c ****             shell->write(&dot, sizeof(dot));
 292:SYS/shell/shell.c ****             shell->write(&dot, sizeof(dot));
 293:SYS/shell/shell.c ****             shell->write(&dot, sizeof(dot));
 294:SYS/shell/shell.c ****         }
 295:SYS/shell/shell.c ****     }
 296:SYS/shell/shell.c ****     return count;
 297:SYS/shell/shell.c **** }
 298:SYS/shell/shell.c **** 
 299:SYS/shell/shell.c **** /**
 300:SYS/shell/shell.c ****  * @brief shell写命令提示符
 301:SYS/shell/shell.c ****  * 
 302:SYS/shell/shell.c ****  * @param shell shell对象
 303:SYS/shell/shell.c ****  * @param newline 新行
 304:SYS/shell/shell.c ****  * 
 305:SYS/shell/shell.c ****  */
 306:SYS/shell/shell.c **** static void shellWriteCommandLine(Shell *shell, unsigned char newline)
 307:SYS/shell/shell.c **** {
 308:SYS/shell/shell.c ****     if (shell->status.isChecked)
 309:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 8


 310:SYS/shell/shell.c ****         if (newline)
 311:SYS/shell/shell.c ****         {
 312:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
 313:SYS/shell/shell.c ****         }
 314:SYS/shell/shell.c ****         shellWriteString(shell, shell->info.user->data.user.name);
 315:SYS/shell/shell.c ****         shellWriteString(shell, ":");
 316:SYS/shell/shell.c ****         shellWriteString(shell, shell->info.path ? shell->info.path : "/");
 317:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 318:SYS/shell/shell.c ****     }
 319:SYS/shell/shell.c ****     else
 320:SYS/shell/shell.c ****     {
 321:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_PASSWORD_HINT]);
 322:SYS/shell/shell.c ****     }
 323:SYS/shell/shell.c **** }
 324:SYS/shell/shell.c **** 
 325:SYS/shell/shell.c **** #if SHELL_PRINT_BUFFER > 0
 326:SYS/shell/shell.c **** /**
 327:SYS/shell/shell.c ****  * @brief shell格式化输出
 328:SYS/shell/shell.c ****  * 
 329:SYS/shell/shell.c ****  * @param shell shell对象
 330:SYS/shell/shell.c ****  * @param fmt 格式化字符串
 331:SYS/shell/shell.c ****  * @param ... 参数
 332:SYS/shell/shell.c ****  */
 333:SYS/shell/shell.c **** void shellPrint(Shell *shell, char *fmt, ...)
 334:SYS/shell/shell.c **** {
 335:SYS/shell/shell.c ****     char buffer[SHELL_PRINT_BUFFER];
 336:SYS/shell/shell.c ****     va_list vargs;
 337:SYS/shell/shell.c **** 
 338:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return );
 339:SYS/shell/shell.c **** 
 340:SYS/shell/shell.c ****     va_start(vargs, fmt);
 341:SYS/shell/shell.c ****     vsnprintf(buffer, SHELL_PRINT_BUFFER - 1, fmt, vargs);
 342:SYS/shell/shell.c ****     va_end(vargs);
 343:SYS/shell/shell.c **** 
 344:SYS/shell/shell.c ****     shellWriteString(shell, buffer);
 345:SYS/shell/shell.c **** }
 346:SYS/shell/shell.c **** #endif
 347:SYS/shell/shell.c **** 
 348:SYS/shell/shell.c **** #if SHELL_SCAN_BUFFER > 0
 349:SYS/shell/shell.c **** /**
 350:SYS/shell/shell.c ****  * @brief shell格式化输入
 351:SYS/shell/shell.c ****  * 
 352:SYS/shell/shell.c ****  * @param shell shell对象
 353:SYS/shell/shell.c ****  * @param fmt 格式化字符串
 354:SYS/shell/shell.c ****  * @param ... 参数
 355:SYS/shell/shell.c ****  */
 356:SYS/shell/shell.c **** void shellScan(Shell *shell, char *fmt, ...)
 357:SYS/shell/shell.c **** {
 358:SYS/shell/shell.c ****     char buffer[SHELL_SCAN_BUFFER];
 359:SYS/shell/shell.c ****     va_list vargs;
 360:SYS/shell/shell.c ****     short index = 0;
 361:SYS/shell/shell.c **** 
 362:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return );
 363:SYS/shell/shell.c **** 
 364:SYS/shell/shell.c ****     if (shell->read)
 365:SYS/shell/shell.c ****     {
 366:SYS/shell/shell.c ****         do
ARM GAS  /tmp/ccKSSxev.s 			page 9


 367:SYS/shell/shell.c ****         {
 368:SYS/shell/shell.c ****             if (shell->read(&buffer[index]) == 0)
 369:SYS/shell/shell.c ****             {
 370:SYS/shell/shell.c ****                 shell->write(&buffer[index], sizeof(buffer[index]));
 371:SYS/shell/shell.c ****                 index++;
 372:SYS/shell/shell.c ****             }
 373:SYS/shell/shell.c ****         } while (buffer[index - 1] != '\r' && buffer[index - 1] != '\n' && index < SHELL_SCAN_BUFFE
 374:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 375:SYS/shell/shell.c ****         buffer[index] = '\0';
 376:SYS/shell/shell.c ****     }
 377:SYS/shell/shell.c **** 
 378:SYS/shell/shell.c ****     va_start(vargs, fmt);
 379:SYS/shell/shell.c ****     vsscanf(buffer, fmt, vargs);
 380:SYS/shell/shell.c ****     va_end(vargs);
 381:SYS/shell/shell.c **** }
 382:SYS/shell/shell.c **** #endif
 383:SYS/shell/shell.c **** 
 384:SYS/shell/shell.c **** /**
 385:SYS/shell/shell.c ****  * @brief shell 检查命令权限
 386:SYS/shell/shell.c ****  * 
 387:SYS/shell/shell.c ****  * @param shell shell对象
 388:SYS/shell/shell.c ****  * @param command ShellCommand
 389:SYS/shell/shell.c ****  * 
 390:SYS/shell/shell.c ****  * @return signed char 0 当前用户具有该命令权限
 391:SYS/shell/shell.c ****  * @return signec char -1 当前用户不具有该命令权限
 392:SYS/shell/shell.c ****  */
 393:SYS/shell/shell.c **** signed char shellCheckPermission(Shell *shell, ShellCommand *command)
 394:SYS/shell/shell.c **** {
 395:SYS/shell/shell.c ****     return ((!command->attr.attrs.permission || command->attr.attrs.type == SHELL_TYPE_USER || (com
 396:SYS/shell/shell.c ****                ? 0
 397:SYS/shell/shell.c ****                : -1;
 398:SYS/shell/shell.c **** }
 399:SYS/shell/shell.c **** 
 400:SYS/shell/shell.c **** /**
 401:SYS/shell/shell.c ****  * @brief int转16进制字符串
 402:SYS/shell/shell.c ****  * 
 403:SYS/shell/shell.c ****  * @param value 数值
 404:SYS/shell/shell.c ****  * @param buffer 缓冲
 405:SYS/shell/shell.c ****  * 
 406:SYS/shell/shell.c ****  * @return signed char 转换后有效数据长度
 407:SYS/shell/shell.c ****  */
 408:SYS/shell/shell.c **** signed char shellToHex(unsigned int value, char *buffer)
 409:SYS/shell/shell.c **** {
 410:SYS/shell/shell.c ****     char byte;
 411:SYS/shell/shell.c ****     unsigned char i = 8;
 412:SYS/shell/shell.c ****     buffer[8] = 0;
 413:SYS/shell/shell.c ****     while (value)
 414:SYS/shell/shell.c ****     {
 415:SYS/shell/shell.c ****         byte = value & 0x0000000F;
 416:SYS/shell/shell.c ****         buffer[--i] = (byte > 9) ? (byte + 87) : (byte + 48);
 417:SYS/shell/shell.c ****         value >>= 4;
 418:SYS/shell/shell.c ****     }
 419:SYS/shell/shell.c ****     return 8 - i;
 420:SYS/shell/shell.c **** }
 421:SYS/shell/shell.c **** 
 422:SYS/shell/shell.c **** /**
 423:SYS/shell/shell.c **** * @brief int转10进制字符串
ARM GAS  /tmp/ccKSSxev.s 			page 10


 424:SYS/shell/shell.c ****  * 
 425:SYS/shell/shell.c ****  * @param value 数值
 426:SYS/shell/shell.c ****  * @param buffer 缓冲
 427:SYS/shell/shell.c ****  * 
 428:SYS/shell/shell.c ****  * @return signed char 转换后有效数据长度
 429:SYS/shell/shell.c ****  */
 430:SYS/shell/shell.c **** signed char shellToDec(int value, char *buffer)
 431:SYS/shell/shell.c **** {
 432:SYS/shell/shell.c ****     unsigned char i = 11;
 433:SYS/shell/shell.c ****     int v = value;
 434:SYS/shell/shell.c ****     if (value < 0)
 435:SYS/shell/shell.c ****     {
 436:SYS/shell/shell.c ****         v = -value;
 437:SYS/shell/shell.c ****     }
 438:SYS/shell/shell.c ****     buffer[11] = 0;
 439:SYS/shell/shell.c ****     while (v)
 440:SYS/shell/shell.c ****     {
 441:SYS/shell/shell.c ****         buffer[--i] = v % 10 + 48;
 442:SYS/shell/shell.c ****         v /= 10;
 443:SYS/shell/shell.c ****     }
 444:SYS/shell/shell.c ****     if (value < 0)
 445:SYS/shell/shell.c ****     {
 446:SYS/shell/shell.c ****         buffer[--i] = '-';
 447:SYS/shell/shell.c ****     }
 448:SYS/shell/shell.c ****     if (value == 0)
 449:SYS/shell/shell.c ****     {
 450:SYS/shell/shell.c ****         buffer[--i] = '0';
 451:SYS/shell/shell.c ****     }
 452:SYS/shell/shell.c ****     return 11 - i;
 453:SYS/shell/shell.c **** }
 454:SYS/shell/shell.c **** 
 455:SYS/shell/shell.c **** /**
 456:SYS/shell/shell.c ****  * @brief shell字符串复制
 457:SYS/shell/shell.c ****  * 
 458:SYS/shell/shell.c ****  * @param dest 目标字符串
 459:SYS/shell/shell.c ****  * @param src 源字符串
 460:SYS/shell/shell.c ****  * @return unsigned short 字符串长度
 461:SYS/shell/shell.c ****  */
 462:SYS/shell/shell.c **** static unsigned short shellStringCopy(char *dest, char *src)
 463:SYS/shell/shell.c **** {
  91              		.loc 1 463 1 is_stmt 1 view -0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 0
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95              		@ link register save eliminated.
  96              		.loc 1 463 1 is_stmt 0 view .LVU18
  97 0000 10B4     		push	{r4}
  98              	.LCFI0:
  99              		.cfi_def_cfa_offset 4
 100              		.cfi_offset 4, -4
 464:SYS/shell/shell.c ****     unsigned short count = 0;
 101              		.loc 1 464 5 is_stmt 1 view .LVU19
 102              	.LVL7:
 465:SYS/shell/shell.c ****     while (*(src + count))
 103              		.loc 1 465 5 view .LVU20
 464:SYS/shell/shell.c ****     unsigned short count = 0;
 104              		.loc 1 464 20 is_stmt 0 view .LVU21
ARM GAS  /tmp/ccKSSxev.s 			page 11


 105 0002 0023     		movs	r3, #0
 106              	.LVL8:
 107              	.L11:
 108              		.loc 1 465 12 view .LVU22
 109 0004 CA5C     		ldrb	r2, [r1, r3]	@ zero_extendqisi2
 110              		.loc 1 465 11 view .LVU23
 111 0006 1AB1     		cbz	r2, .L14
 466:SYS/shell/shell.c ****     {
 467:SYS/shell/shell.c ****         *(dest + count) = *(src + count);
 112              		.loc 1 467 9 is_stmt 1 view .LVU24
 113              		.loc 1 467 25 is_stmt 0 view .LVU25
 114 0008 C254     		strb	r2, [r0, r3]
 468:SYS/shell/shell.c ****         count++;
 115              		.loc 1 468 9 is_stmt 1 view .LVU26
 116              		.loc 1 468 14 is_stmt 0 view .LVU27
 117 000a 0133     		adds	r3, r3, #1
 118              	.LVL9:
 119              		.loc 1 468 14 view .LVU28
 120 000c 9BB2     		uxth	r3, r3
 121              	.LVL10:
 122              		.loc 1 468 14 view .LVU29
 123 000e F9E7     		b	.L11
 124              	.L14:
 469:SYS/shell/shell.c ****     }
 470:SYS/shell/shell.c ****     *(dest + count) = 0;
 125              		.loc 1 470 5 is_stmt 1 view .LVU30
 126              		.loc 1 470 21 is_stmt 0 view .LVU31
 127 0010 C254     		strb	r2, [r0, r3]
 471:SYS/shell/shell.c ****     return count;
 128              		.loc 1 471 5 is_stmt 1 view .LVU32
 472:SYS/shell/shell.c **** }
 129              		.loc 1 472 1 is_stmt 0 view .LVU33
 130 0012 1846     		mov	r0, r3
 131              	.LVL11:
 132              		.loc 1 472 1 view .LVU34
 133 0014 5DF8044B 		ldr	r4, [sp], #4
 134              	.LCFI1:
 135              		.cfi_restore 4
 136              		.cfi_def_cfa_offset 0
 137 0018 7047     		bx	lr
 138              		.cfi_endproc
 139              	.LFE138:
 141              		.section	.text.shellStringCompare,"ax",%progbits
 142              		.align	1
 143              		.syntax unified
 144              		.thumb
 145              		.thumb_func
 146              		.fpu fpv4-sp-d16
 148              	shellStringCompare:
 149              	.LVL12:
 150              	.LFB139:
 473:SYS/shell/shell.c **** 
 474:SYS/shell/shell.c **** /**
 475:SYS/shell/shell.c ****  * @brief shell字符串比较
 476:SYS/shell/shell.c ****  * 
 477:SYS/shell/shell.c ****  * @param dest 目标字符串
 478:SYS/shell/shell.c ****  * @param src 源字符串
ARM GAS  /tmp/ccKSSxev.s 			page 12


 479:SYS/shell/shell.c ****  * @return unsigned short 匹配长度
 480:SYS/shell/shell.c ****  */
 481:SYS/shell/shell.c **** static unsigned short shellStringCompare(char *dest, char *src)
 482:SYS/shell/shell.c **** {
 151              		.loc 1 482 1 is_stmt 1 view -0
 152              		.cfi_startproc
 153              		@ args = 0, pretend = 0, frame = 0
 154              		@ frame_needed = 0, uses_anonymous_args = 0
 155              		@ link register save eliminated.
 483:SYS/shell/shell.c ****     unsigned short match = 0;
 156              		.loc 1 483 5 view .LVU36
 484:SYS/shell/shell.c ****     unsigned short i = 0;
 157              		.loc 1 484 5 view .LVU37
 485:SYS/shell/shell.c **** 
 486:SYS/shell/shell.c ****     while (*(dest + i) && *(src + i))
 158              		.loc 1 486 5 view .LVU38
 483:SYS/shell/shell.c ****     unsigned short i = 0;
 159              		.loc 1 483 20 is_stmt 0 view .LVU39
 160 0000 0023     		movs	r3, #0
 161              	.LVL13:
 162              		.loc 1 486 12 view .LVU40
 163 0002 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
 164              		.loc 1 486 11 view .LVU41
 165 0004 6AB1     		cbz	r2, .L24
 482:SYS/shell/shell.c ****     unsigned short match = 0;
 166              		.loc 1 482 1 view .LVU42
 167 0006 10B4     		push	{r4}
 168              	.LCFI2:
 169              		.cfi_def_cfa_offset 4
 170              		.cfi_offset 4, -4
 171              	.L21:
 172              		.loc 1 486 27 discriminator 1 view .LVU43
 173 0008 CC5C     		ldrb	r4, [r1, r3]	@ zero_extendqisi2
 174              		.loc 1 486 24 discriminator 1 view .LVU44
 175 000a 34B1     		cbz	r4, .L17
 487:SYS/shell/shell.c ****     {
 488:SYS/shell/shell.c ****         if (*(dest + i) != *(src + i))
 176              		.loc 1 488 9 is_stmt 1 view .LVU45
 177              		.loc 1 488 12 is_stmt 0 view .LVU46
 178 000c A242     		cmp	r2, r4
 179 000e 04D1     		bne	.L17
 489:SYS/shell/shell.c ****         {
 490:SYS/shell/shell.c ****             break;
 491:SYS/shell/shell.c ****         }
 492:SYS/shell/shell.c ****         match++;
 180              		.loc 1 492 9 is_stmt 1 view .LVU47
 181              		.loc 1 492 14 is_stmt 0 view .LVU48
 182 0010 0133     		adds	r3, r3, #1
 183              	.LVL14:
 184              		.loc 1 492 14 view .LVU49
 185 0012 9BB2     		uxth	r3, r3
 186              	.LVL15:
 493:SYS/shell/shell.c ****         i++;
 187              		.loc 1 493 9 is_stmt 1 view .LVU50
 486:SYS/shell/shell.c ****     {
 188              		.loc 1 486 12 is_stmt 0 view .LVU51
 189 0014 C25C     		ldrb	r2, [r0, r3]	@ zero_extendqisi2
ARM GAS  /tmp/ccKSSxev.s 			page 13


 486:SYS/shell/shell.c ****     {
 190              		.loc 1 486 11 view .LVU52
 191 0016 002A     		cmp	r2, #0
 192 0018 F6D1     		bne	.L21
 193              	.L17:
 494:SYS/shell/shell.c ****     }
 495:SYS/shell/shell.c ****     return match;
 194              		.loc 1 495 5 is_stmt 1 view .LVU53
 496:SYS/shell/shell.c **** }
 195              		.loc 1 496 1 is_stmt 0 view .LVU54
 196 001a 1846     		mov	r0, r3
 197              	.LVL16:
 198              		.loc 1 496 1 view .LVU55
 199 001c 5DF8044B 		ldr	r4, [sp], #4
 200              	.LCFI3:
 201              		.cfi_restore 4
 202              		.cfi_def_cfa_offset 0
 203 0020 7047     		bx	lr
 204              	.LVL17:
 205              	.L24:
 495:SYS/shell/shell.c **** }
 206              		.loc 1 495 5 is_stmt 1 view .LVU56
 207              		.loc 1 496 1 is_stmt 0 view .LVU57
 208 0022 1846     		mov	r0, r3
 209              	.LVL18:
 210              		.loc 1 496 1 view .LVU58
 211 0024 7047     		bx	lr
 212              		.cfi_endproc
 213              	.LFE139:
 215              		.section	.text.shellGetCommandDesc,"ax",%progbits
 216              		.align	1
 217              		.syntax unified
 218              		.thumb
 219              		.thumb_func
 220              		.fpu fpv4-sp-d16
 222              	shellGetCommandDesc:
 223              	.LVL19:
 224              	.LFB141:
 497:SYS/shell/shell.c **** 
 498:SYS/shell/shell.c **** /**
 499:SYS/shell/shell.c ****  * @brief shell获取命令名
 500:SYS/shell/shell.c ****  * 
 501:SYS/shell/shell.c ****  * @param command 命令
 502:SYS/shell/shell.c ****  * @return const char* 命令名
 503:SYS/shell/shell.c ****  */
 504:SYS/shell/shell.c **** static const char *shellGetCommandName(ShellCommand *command)
 505:SYS/shell/shell.c **** {
 506:SYS/shell/shell.c ****     static char buffer[9];
 507:SYS/shell/shell.c ****     for (unsigned char i = 0; i < 9; i++)
 508:SYS/shell/shell.c ****     {
 509:SYS/shell/shell.c ****         buffer[i] = '0';
 510:SYS/shell/shell.c ****     }
 511:SYS/shell/shell.c ****     if (command->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 512:SYS/shell/shell.c ****     {
 513:SYS/shell/shell.c ****         return command->data.cmd.name;
 514:SYS/shell/shell.c ****     }
 515:SYS/shell/shell.c ****     else if (command->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
ARM GAS  /tmp/ccKSSxev.s 			page 14


 516:SYS/shell/shell.c ****     {
 517:SYS/shell/shell.c ****         return command->data.var.name;
 518:SYS/shell/shell.c ****     }
 519:SYS/shell/shell.c ****     else if (command->attr.attrs.type <= SHELL_TYPE_USER)
 520:SYS/shell/shell.c ****     {
 521:SYS/shell/shell.c ****         return command->data.user.name;
 522:SYS/shell/shell.c ****     }
 523:SYS/shell/shell.c ****     else
 524:SYS/shell/shell.c ****     {
 525:SYS/shell/shell.c ****         shellToHex(command->data.key.value, buffer);
 526:SYS/shell/shell.c ****         return buffer;
 527:SYS/shell/shell.c ****     }
 528:SYS/shell/shell.c **** }
 529:SYS/shell/shell.c **** 
 530:SYS/shell/shell.c **** /**
 531:SYS/shell/shell.c ****  * @brief shell获取命令描述
 532:SYS/shell/shell.c ****  * 
 533:SYS/shell/shell.c ****  * @param command 命令
 534:SYS/shell/shell.c ****  * @return const char* 命令描述
 535:SYS/shell/shell.c ****  */
 536:SYS/shell/shell.c **** static const char *shellGetCommandDesc(ShellCommand *command)
 537:SYS/shell/shell.c **** {
 225              		.loc 1 537 1 is_stmt 1 view -0
 226              		.cfi_startproc
 227              		@ args = 0, pretend = 0, frame = 0
 228              		@ frame_needed = 0, uses_anonymous_args = 0
 229              		@ link register save eliminated.
 538:SYS/shell/shell.c ****     if (command->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 230              		.loc 1 538 5 view .LVU60
 231              		.loc 1 538 28 is_stmt 0 view .LVU61
 232 0000 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 233 0002 03F00F03 		and	r3, r3, #15
 234              		.loc 1 538 8 view .LVU62
 235 0006 012B     		cmp	r3, #1
 236 0008 05D9     		bls	.L30
 539:SYS/shell/shell.c ****     {
 540:SYS/shell/shell.c ****         return command->data.cmd.desc;
 541:SYS/shell/shell.c ****     }
 542:SYS/shell/shell.c ****     else if (command->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
 237              		.loc 1 542 10 is_stmt 1 view .LVU63
 238              		.loc 1 542 13 is_stmt 0 view .LVU64
 239 000a 072B     		cmp	r3, #7
 240 000c 05D9     		bls	.L31
 543:SYS/shell/shell.c ****     {
 544:SYS/shell/shell.c ****         return command->data.var.desc;
 545:SYS/shell/shell.c ****     }
 546:SYS/shell/shell.c ****     else if (command->attr.attrs.type <= SHELL_TYPE_USER)
 241              		.loc 1 546 10 is_stmt 1 view .LVU65
 242              		.loc 1 546 13 is_stmt 0 view .LVU66
 243 000e 082B     		cmp	r3, #8
 244 0010 05D8     		bhi	.L29
 547:SYS/shell/shell.c ****     {
 548:SYS/shell/shell.c ****         return command->data.user.desc;
 245              		.loc 1 548 9 is_stmt 1 view .LVU67
 246              		.loc 1 548 34 is_stmt 0 view .LVU68
 247 0012 C068     		ldr	r0, [r0, #12]
 248              	.LVL20:
ARM GAS  /tmp/ccKSSxev.s 			page 15


 249              		.loc 1 548 34 view .LVU69
 250 0014 7047     		bx	lr
 251              	.LVL21:
 252              	.L30:
 540:SYS/shell/shell.c ****     }
 253              		.loc 1 540 9 is_stmt 1 view .LVU70
 540:SYS/shell/shell.c ****     }
 254              		.loc 1 540 33 is_stmt 0 view .LVU71
 255 0016 C068     		ldr	r0, [r0, #12]
 256              	.LVL22:
 540:SYS/shell/shell.c ****     }
 257              		.loc 1 540 33 view .LVU72
 258 0018 7047     		bx	lr
 259              	.LVL23:
 260              	.L31:
 544:SYS/shell/shell.c ****     }
 261              		.loc 1 544 9 is_stmt 1 view .LVU73
 544:SYS/shell/shell.c ****     }
 262              		.loc 1 544 33 is_stmt 0 view .LVU74
 263 001a C068     		ldr	r0, [r0, #12]
 264              	.LVL24:
 544:SYS/shell/shell.c ****     }
 265              		.loc 1 544 33 view .LVU75
 266 001c 7047     		bx	lr
 267              	.LVL25:
 268              	.L29:
 549:SYS/shell/shell.c ****     }
 550:SYS/shell/shell.c ****     else
 551:SYS/shell/shell.c ****     {
 552:SYS/shell/shell.c ****         return command->data.key.desc;
 269              		.loc 1 552 9 is_stmt 1 view .LVU76
 270              		.loc 1 552 33 is_stmt 0 view .LVU77
 271 001e C068     		ldr	r0, [r0, #12]
 272              	.LVL26:
 553:SYS/shell/shell.c ****     }
 554:SYS/shell/shell.c **** }
 273              		.loc 1 554 1 view .LVU78
 274 0020 7047     		bx	lr
 275              		.cfi_endproc
 276              	.LFE141:
 278              		.section	.text.shellParserParam,"ax",%progbits
 279              		.align	1
 280              		.syntax unified
 281              		.thumb
 282              		.thumb_func
 283              		.fpu fpv4-sp-d16
 285              	shellParserParam:
 286              	.LVL27:
 287              	.LFB152:
 555:SYS/shell/shell.c **** 
 556:SYS/shell/shell.c **** /**
 557:SYS/shell/shell.c ****  * @brief shell 列出命令条目
 558:SYS/shell/shell.c ****  * 
 559:SYS/shell/shell.c ****  * @param shell shell对象
 560:SYS/shell/shell.c ****  * @param item 命令条目
 561:SYS/shell/shell.c ****  */
 562:SYS/shell/shell.c **** void shellListItem(Shell *shell, ShellCommand *item)
ARM GAS  /tmp/ccKSSxev.s 			page 16


 563:SYS/shell/shell.c **** {
 564:SYS/shell/shell.c ****     short spaceLength;
 565:SYS/shell/shell.c **** 
 566:SYS/shell/shell.c ****     spaceLength = 22 - shellWriteString(shell, shellGetCommandName(item));
 567:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 568:SYS/shell/shell.c ****     do
 569:SYS/shell/shell.c ****     {
 570:SYS/shell/shell.c ****         shellWriteByte(shell, '-');
 571:SYS/shell/shell.c ****     } while (--spaceLength);
 572:SYS/shell/shell.c ****     if (item->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 573:SYS/shell/shell.c ****     {
 574:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_CMD]);
 575:SYS/shell/shell.c ****     }
 576:SYS/shell/shell.c ****     else if (item->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
 577:SYS/shell/shell.c ****     {
 578:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_VAR]);
 579:SYS/shell/shell.c ****     }
 580:SYS/shell/shell.c ****     else if (item->attr.attrs.type <= SHELL_TYPE_USER)
 581:SYS/shell/shell.c ****     {
 582:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_USER]);
 583:SYS/shell/shell.c ****     }
 584:SYS/shell/shell.c ****     else if (item->attr.attrs.type <= SHELL_TYPE_KEY)
 585:SYS/shell/shell.c ****     {
 586:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_KEY]);
 587:SYS/shell/shell.c ****     }
 588:SYS/shell/shell.c ****     else
 589:SYS/shell/shell.c ****     {
 590:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_NONE]);
 591:SYS/shell/shell.c ****     }
 592:SYS/shell/shell.c **** #if SHELL_HELP_SHOW_PERMISSION == 1
 593:SYS/shell/shell.c ****     shellWriteString(shell, " ");
 594:SYS/shell/shell.c ****     for (signed char i = 7; i >= 0; i--)
 595:SYS/shell/shell.c ****     {
 596:SYS/shell/shell.c ****         shellWriteByte(shell, item->attr.attrs.permission & (1 << i) ? 'x' : '-');
 597:SYS/shell/shell.c ****     }
 598:SYS/shell/shell.c **** #endif
 599:SYS/shell/shell.c ****     // shellWriteString(shell, " ");
 600:SYS/shell/shell.c ****     // shellWriteCommandDesc(shell, shellGetCommandDesc(item));
 601:SYS/shell/shell.c ****     // shellWriteString(shell, "\r\n");
 602:SYS/shell/shell.c **** }
 603:SYS/shell/shell.c **** 
 604:SYS/shell/shell.c **** /**
 605:SYS/shell/shell.c ****  * @brief shell列出可执行命令
 606:SYS/shell/shell.c ****  * 
 607:SYS/shell/shell.c ****  * @param shell shell对象
 608:SYS/shell/shell.c ****  */
 609:SYS/shell/shell.c **** void shellListCommand(Shell *shell)
 610:SYS/shell/shell.c **** {
 611:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 612:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_CMD_LIST]);
 613:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 614:SYS/shell/shell.c ****     {
 615:SYS/shell/shell.c ****         if (base[i].attr.attrs.type <= SHELL_TYPE_CMD_FUNC && shellCheckPermission(shell, &base[i])
 616:SYS/shell/shell.c ****         {
 617:SYS/shell/shell.c ****             shellListItem(shell, &base[i]);
 618:SYS/shell/shell.c ****         }
 619:SYS/shell/shell.c ****     }
ARM GAS  /tmp/ccKSSxev.s 			page 17


 620:SYS/shell/shell.c **** }
 621:SYS/shell/shell.c **** 
 622:SYS/shell/shell.c **** /**
 623:SYS/shell/shell.c ****  * @brief shell列出变量
 624:SYS/shell/shell.c ****  * 
 625:SYS/shell/shell.c ****  * @param shell shell对象
 626:SYS/shell/shell.c ****  */
 627:SYS/shell/shell.c **** void shellListVar(Shell *shell)
 628:SYS/shell/shell.c **** {
 629:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 630:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_VAR_LIST]);
 631:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 632:SYS/shell/shell.c ****     {
 633:SYS/shell/shell.c ****         if (base[i].attr.attrs.type > SHELL_TYPE_CMD_FUNC && base[i].attr.attrs.type <= SHELL_TYPE_
 634:SYS/shell/shell.c ****         {
 635:SYS/shell/shell.c ****             shellListItem(shell, &base[i]);
 636:SYS/shell/shell.c ****         }
 637:SYS/shell/shell.c ****     }
 638:SYS/shell/shell.c **** }
 639:SYS/shell/shell.c **** 
 640:SYS/shell/shell.c **** /**
 641:SYS/shell/shell.c ****  * @brief shell列出用户
 642:SYS/shell/shell.c ****  * 
 643:SYS/shell/shell.c ****  * @param shell shell对象
 644:SYS/shell/shell.c ****  */
 645:SYS/shell/shell.c **** void shellListUser(Shell *shell)
 646:SYS/shell/shell.c **** {
 647:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 648:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_USER_LIST]);
 649:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 650:SYS/shell/shell.c ****     {
 651:SYS/shell/shell.c ****         if (base[i].attr.attrs.type > SHELL_TYPE_VAR_NODE && base[i].attr.attrs.type <= SHELL_TYPE_
 652:SYS/shell/shell.c ****         {
 653:SYS/shell/shell.c ****             shellListItem(shell, &base[i]);
 654:SYS/shell/shell.c ****         }
 655:SYS/shell/shell.c ****     }
 656:SYS/shell/shell.c **** }
 657:SYS/shell/shell.c **** 
 658:SYS/shell/shell.c **** /**
 659:SYS/shell/shell.c ****  * @brief shell列出按键
 660:SYS/shell/shell.c ****  * 
 661:SYS/shell/shell.c ****  * @param shell shell对象
 662:SYS/shell/shell.c ****  */
 663:SYS/shell/shell.c **** void shellListKey(Shell *shell)
 664:SYS/shell/shell.c **** {
 665:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 666:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_KEY_LIST]);
 667:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 668:SYS/shell/shell.c ****     {
 669:SYS/shell/shell.c ****         if (base[i].attr.attrs.type > SHELL_TYPE_USER && base[i].attr.attrs.type <= SHELL_TYPE_KEY 
 670:SYS/shell/shell.c ****         {
 671:SYS/shell/shell.c ****             shellListItem(shell, &base[i]);
 672:SYS/shell/shell.c ****         }
 673:SYS/shell/shell.c ****     }
 674:SYS/shell/shell.c **** }
 675:SYS/shell/shell.c **** 
 676:SYS/shell/shell.c **** /**
ARM GAS  /tmp/ccKSSxev.s 			page 18


 677:SYS/shell/shell.c ****  * @brief shell列出所有命令
 678:SYS/shell/shell.c ****  * 
 679:SYS/shell/shell.c ****  * @param shell shell对象
 680:SYS/shell/shell.c ****  */
 681:SYS/shell/shell.c **** void shellListAll(Shell *shell)
 682:SYS/shell/shell.c **** {
 683:SYS/shell/shell.c **** #if SHELL_HELP_LIST_USER == 1
 684:SYS/shell/shell.c ****     shellListUser(shell);
 685:SYS/shell/shell.c **** #endif
 686:SYS/shell/shell.c ****     shellListCommand(shell);
 687:SYS/shell/shell.c **** #if SHELL_HELP_LIST_VAR == 1
 688:SYS/shell/shell.c ****     shellListVar(shell);
 689:SYS/shell/shell.c **** #endif
 690:SYS/shell/shell.c **** #if SHELL_HELP_LIST_KEY == 1
 691:SYS/shell/shell.c ****     shellListKey(shell);
 692:SYS/shell/shell.c **** #endif
 693:SYS/shell/shell.c **** }
 694:SYS/shell/shell.c **** 
 695:SYS/shell/shell.c **** /**
 696:SYS/shell/shell.c ****  * @brief shell删除命令行数据
 697:SYS/shell/shell.c ****  * 
 698:SYS/shell/shell.c ****  * @param shell shell对象
 699:SYS/shell/shell.c ****  * @param length 删除长度
 700:SYS/shell/shell.c ****  */
 701:SYS/shell/shell.c **** void shellDeleteCommandLine(Shell *shell, unsigned char length)
 702:SYS/shell/shell.c **** {
 703:SYS/shell/shell.c ****     while (length--)
 704:SYS/shell/shell.c ****     {
 705:SYS/shell/shell.c ****         shellWriteString(shell, "\b \b");
 706:SYS/shell/shell.c ****     }
 707:SYS/shell/shell.c **** }
 708:SYS/shell/shell.c **** 
 709:SYS/shell/shell.c **** /**
 710:SYS/shell/shell.c ****  * @brief shell 清空命令行输入
 711:SYS/shell/shell.c ****  * 
 712:SYS/shell/shell.c ****  * @param shell shell对象
 713:SYS/shell/shell.c ****  */
 714:SYS/shell/shell.c **** void shellClearCommandLine(Shell *shell)
 715:SYS/shell/shell.c **** {
 716:SYS/shell/shell.c ****     for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 717:SYS/shell/shell.c ****     {
 718:SYS/shell/shell.c ****         shellWriteByte(shell, ' ');
 719:SYS/shell/shell.c ****     }
 720:SYS/shell/shell.c ****     shellDeleteCommandLine(shell, shell->parser.length);
 721:SYS/shell/shell.c **** }
 722:SYS/shell/shell.c **** 
 723:SYS/shell/shell.c **** /**
 724:SYS/shell/shell.c ****  * @brief shell插入一个字符到光标位置
 725:SYS/shell/shell.c ****  * 
 726:SYS/shell/shell.c ****  * @param shell shell对象
 727:SYS/shell/shell.c ****  * @param data 字符数据
 728:SYS/shell/shell.c ****  */
 729:SYS/shell/shell.c **** void shellInsertByte(Shell *shell, char data)
 730:SYS/shell/shell.c **** {
 731:SYS/shell/shell.c ****     /* 判断输入数据是否过长 */
 732:SYS/shell/shell.c ****     if (shell->parser.length >= shell->parser.bufferSize - 1)
 733:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 19


 734:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_CMD_TOO_LONG]);
 735:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
 736:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 737:SYS/shell/shell.c ****         return;
 738:SYS/shell/shell.c ****     }
 739:SYS/shell/shell.c **** 
 740:SYS/shell/shell.c ****     /* 插入数据 */
 741:SYS/shell/shell.c ****     if (shell->parser.cursor == shell->parser.length)
 742:SYS/shell/shell.c ****     {
 743:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length++] = data;
 744:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 745:SYS/shell/shell.c ****         shell->parser.cursor++;
 746:SYS/shell/shell.c ****         shellWriteByte(shell, data);
 747:SYS/shell/shell.c ****     }
 748:SYS/shell/shell.c ****     else if (shell->parser.cursor < shell->parser.length)
 749:SYS/shell/shell.c ****     {
 750:SYS/shell/shell.c ****         for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 751:SYS/shell/shell.c ****         {
 752:SYS/shell/shell.c ****             shell->parser.buffer[shell->parser.cursor + i] =
 753:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i - 1];
 754:SYS/shell/shell.c ****         }
 755:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.cursor++] = data;
 756:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 757:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 758:SYS/shell/shell.c ****         {
 759:SYS/shell/shell.c ****             shellWriteByte(shell, shell->parser.buffer[i]);
 760:SYS/shell/shell.c ****         }
 761:SYS/shell/shell.c ****         for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 762:SYS/shell/shell.c ****         {
 763:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 764:SYS/shell/shell.c ****         }
 765:SYS/shell/shell.c ****     }
 766:SYS/shell/shell.c **** }
 767:SYS/shell/shell.c **** 
 768:SYS/shell/shell.c **** /**
 769:SYS/shell/shell.c ****  * @brief shell 删除字节
 770:SYS/shell/shell.c ****  * 
 771:SYS/shell/shell.c ****  * @param shell shell对象
 772:SYS/shell/shell.c ****  * @param direction 删除方向 {@code 1}删除光标前字符 {@code -1}删除光标处字符
 773:SYS/shell/shell.c ****  */
 774:SYS/shell/shell.c **** void shellDeleteByte(Shell *shell, signed char direction)
 775:SYS/shell/shell.c **** {
 776:SYS/shell/shell.c ****     char offset = (direction == -1) ? 1 : 0;
 777:SYS/shell/shell.c **** 
 778:SYS/shell/shell.c ****     if ((shell->parser.cursor == 0 && direction == 1) || (shell->parser.cursor == shell->parser.len
 779:SYS/shell/shell.c ****     {
 780:SYS/shell/shell.c ****         return;
 781:SYS/shell/shell.c ****     }
 782:SYS/shell/shell.c ****     if (shell->parser.cursor == shell->parser.length && direction == 1)
 783:SYS/shell/shell.c ****     {
 784:SYS/shell/shell.c ****         shell->parser.cursor--;
 785:SYS/shell/shell.c ****         shell->parser.length--;
 786:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 787:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 788:SYS/shell/shell.c ****     }
 789:SYS/shell/shell.c ****     else
 790:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 20


 791:SYS/shell/shell.c ****         for (short i = offset; i < shell->parser.length - shell->parser.cursor; i++)
 792:SYS/shell/shell.c ****         {
 793:SYS/shell/shell.c ****             shell->parser.buffer[shell->parser.cursor + i - 1] =
 794:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i];
 795:SYS/shell/shell.c ****         }
 796:SYS/shell/shell.c ****         shell->parser.length--;
 797:SYS/shell/shell.c ****         if (!offset)
 798:SYS/shell/shell.c ****         {
 799:SYS/shell/shell.c ****             shell->parser.cursor--;
 800:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 801:SYS/shell/shell.c ****         }
 802:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 803:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
 804:SYS/shell/shell.c ****         {
 805:SYS/shell/shell.c ****             shellWriteByte(shell, shell->parser.buffer[i]);
 806:SYS/shell/shell.c ****         }
 807:SYS/shell/shell.c ****         shellWriteByte(shell, ' ');
 808:SYS/shell/shell.c ****         for (short i = shell->parser.length - shell->parser.cursor + 1; i > 0; i--)
 809:SYS/shell/shell.c ****         {
 810:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 811:SYS/shell/shell.c ****         }
 812:SYS/shell/shell.c ****     }
 813:SYS/shell/shell.c **** }
 814:SYS/shell/shell.c **** 
 815:SYS/shell/shell.c **** /**
 816:SYS/shell/shell.c ****  * @brief shell 解析参数
 817:SYS/shell/shell.c ****  * 
 818:SYS/shell/shell.c ****  * @param shell shell对象
 819:SYS/shell/shell.c ****  */
 820:SYS/shell/shell.c **** static void shellParserParam(Shell *shell)
 821:SYS/shell/shell.c **** {
 288              		.loc 1 821 1 is_stmt 1 view -0
 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 0
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292              		@ link register save eliminated.
 293              		.loc 1 821 1 is_stmt 0 view .LVU80
 294 0000 F0B4     		push	{r4, r5, r6, r7}
 295              	.LCFI4:
 296              		.cfi_def_cfa_offset 16
 297              		.cfi_offset 4, -16
 298              		.cfi_offset 5, -12
 299              		.cfi_offset 6, -8
 300              		.cfi_offset 7, -4
 822:SYS/shell/shell.c ****     unsigned char quotes = 0;
 301              		.loc 1 822 5 is_stmt 1 view .LVU81
 302              	.LVL28:
 823:SYS/shell/shell.c ****     unsigned char record = 1;
 303              		.loc 1 823 5 view .LVU82
 824:SYS/shell/shell.c **** 
 825:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_PARAMETER_MAX_NUMBER; i++)
 304              		.loc 1 825 5 view .LVU83
 305              	.LBB3:
 306              		.loc 1 825 10 view .LVU84
 307              		.loc 1 825 16 is_stmt 0 view .LVU85
 308 0002 0023     		movs	r3, #0
 309              		.loc 1 825 5 view .LVU86
ARM GAS  /tmp/ccKSSxev.s 			page 21


 310 0004 06E0     		b	.L33
 311              	.LVL29:
 312              	.L34:
 826:SYS/shell/shell.c ****     {
 827:SYS/shell/shell.c ****         shell->parser.param[i] = NULL;
 313              		.loc 1 827 9 is_stmt 1 discriminator 3 view .LVU87
 314              		.loc 1 827 32 is_stmt 0 discriminator 3 view .LVU88
 315 0006 1A1D     		adds	r2, r3, #4
 316 0008 00EB8202 		add	r2, r0, r2, lsl #2
 317 000c 0021     		movs	r1, #0
 318 000e 5160     		str	r1, [r2, #4]
 825:SYS/shell/shell.c ****     {
 319              		.loc 1 825 56 discriminator 3 view .LVU89
 320 0010 0133     		adds	r3, r3, #1
 321              	.LVL30:
 825:SYS/shell/shell.c ****     {
 322              		.loc 1 825 56 discriminator 3 view .LVU90
 323 0012 1BB2     		sxth	r3, r3
 324              	.LVL31:
 325              	.L33:
 825:SYS/shell/shell.c ****     {
 326              		.loc 1 825 5 discriminator 1 view .LVU91
 327 0014 072B     		cmp	r3, #7
 328 0016 F6DD     		ble	.L34
 329              	.LBE3:
 828:SYS/shell/shell.c ****     }
 829:SYS/shell/shell.c **** 
 830:SYS/shell/shell.c ****     shell->parser.paramCount = 0;
 330              		.loc 1 830 5 is_stmt 1 view .LVU92
 331              		.loc 1 830 30 is_stmt 0 view .LVU93
 332 0018 0021     		movs	r1, #0
 333 001a C186     		strh	r1, [r0, #54]	@ movhi
 831:SYS/shell/shell.c ****     for (unsigned short i = 0; i < shell->parser.length; i++)
 334              		.loc 1 831 5 is_stmt 1 view .LVU94
 335              	.LBB4:
 336              		.loc 1 831 10 view .LVU95
 337              	.LVL32:
 338              		.loc 1 831 25 is_stmt 0 view .LVU96
 339 001c 0B46     		mov	r3, r1
 340              	.LVL33:
 341              		.loc 1 831 25 view .LVU97
 342              	.LBE4:
 823:SYS/shell/shell.c **** 
 343              		.loc 1 823 19 view .LVU98
 344 001e 0125     		movs	r5, #1
 345              	.LBB5:
 346              		.loc 1 831 5 view .LVU99
 347 0020 0BE0     		b	.L35
 348              	.LVL34:
 349              	.L36:
 832:SYS/shell/shell.c ****     {
 833:SYS/shell/shell.c ****         if (quotes != 0 || (shell->parser.buffer[i] != ' ' && shell->parser.buffer[i] != 0))
 834:SYS/shell/shell.c ****         {
 835:SYS/shell/shell.c ****             if (shell->parser.buffer[i] == '\"')
 350              		.loc 1 835 13 is_stmt 1 view .LVU100
 351              		.loc 1 835 30 is_stmt 0 view .LVU101
 352 0022 0269     		ldr	r2, [r0, #16]
ARM GAS  /tmp/ccKSSxev.s 			page 22


 353              		.loc 1 835 37 view .LVU102
 354 0024 1F46     		mov	r7, r3
 355 0026 D418     		adds	r4, r2, r3
 356 0028 D65C     		ldrb	r6, [r2, r3]	@ zero_extendqisi2
 357              		.loc 1 835 16 view .LVU103
 358 002a 222E     		cmp	r6, #34
 359 002c 15D0     		beq	.L44
 360              	.L38:
 836:SYS/shell/shell.c ****             {
 837:SYS/shell/shell.c ****                 quotes = quotes ? 0 : 1;
 838:SYS/shell/shell.c ****             }
 839:SYS/shell/shell.c ****             if (record == 1)
 361              		.loc 1 839 13 is_stmt 1 view .LVU104
 362              		.loc 1 839 16 is_stmt 0 view .LVU105
 363 002e BDB9     		cbnz	r5, .L45
 364              	.LVL35:
 365              	.L39:
 840:SYS/shell/shell.c ****             {
 841:SYS/shell/shell.c ****                 if (shell->parser.paramCount < SHELL_PARAMETER_MAX_NUMBER)
 842:SYS/shell/shell.c ****                 {
 843:SYS/shell/shell.c ****                     shell->parser.param[shell->parser.paramCount++] =
 844:SYS/shell/shell.c ****                         &(shell->parser.buffer[i]);
 845:SYS/shell/shell.c ****                 }
 846:SYS/shell/shell.c ****                 record = 0;
 847:SYS/shell/shell.c ****             }
 848:SYS/shell/shell.c ****             if (shell->parser.buffer[i] == '\\' && shell->parser.buffer[i + 1] != 0)
 366              		.loc 1 848 13 is_stmt 1 view .LVU106
 367              		.loc 1 848 37 is_stmt 0 view .LVU107
 368 0030 2478     		ldrb	r4, [r4]	@ zero_extendqisi2
 369              		.loc 1 848 16 view .LVU108
 370 0032 5C2C     		cmp	r4, #92
 371 0034 21D0     		beq	.L46
 372              	.LVL36:
 373              	.L40:
 831:SYS/shell/shell.c ****     {
 374              		.loc 1 831 59 discriminator 2 view .LVU109
 375 0036 0133     		adds	r3, r3, #1
 376              	.LVL37:
 831:SYS/shell/shell.c ****     {
 377              		.loc 1 831 59 discriminator 2 view .LVU110
 378 0038 9BB2     		uxth	r3, r3
 379              	.LVL38:
 380              	.L35:
 831:SYS/shell/shell.c ****     {
 381              		.loc 1 831 49 discriminator 1 view .LVU111
 382 003a 8289     		ldrh	r2, [r0, #12]
 831:SYS/shell/shell.c ****     {
 383              		.loc 1 831 5 discriminator 1 view .LVU112
 384 003c 9A42     		cmp	r2, r3
 385 003e 23D9     		bls	.L47
 833:SYS/shell/shell.c ****         {
 386              		.loc 1 833 9 is_stmt 1 view .LVU113
 833:SYS/shell/shell.c ****         {
 387              		.loc 1 833 12 is_stmt 0 view .LVU114
 388 0040 0029     		cmp	r1, #0
 389 0042 EED1     		bne	.L36
 833:SYS/shell/shell.c ****         {
ARM GAS  /tmp/ccKSSxev.s 			page 23


 390              		.loc 1 833 42 discriminator 1 view .LVU115
 391 0044 0269     		ldr	r2, [r0, #16]
 833:SYS/shell/shell.c ****         {
 392              		.loc 1 833 49 discriminator 1 view .LVU116
 393 0046 D418     		adds	r4, r2, r3
 394 0048 D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 833:SYS/shell/shell.c ****         {
 395              		.loc 1 833 25 discriminator 1 view .LVU117
 396 004a 202A     		cmp	r2, #32
 397 004c 01D0     		beq	.L37
 833:SYS/shell/shell.c ****         {
 398              		.loc 1 833 60 discriminator 2 view .LVU118
 399 004e 002A     		cmp	r2, #0
 400 0050 E7D1     		bne	.L36
 401              	.L37:
 849:SYS/shell/shell.c ****             {
 850:SYS/shell/shell.c ****                 i++;
 851:SYS/shell/shell.c ****             }
 852:SYS/shell/shell.c ****         }
 853:SYS/shell/shell.c ****         else
 854:SYS/shell/shell.c ****         {
 855:SYS/shell/shell.c ****             shell->parser.buffer[i] = 0;
 402              		.loc 1 855 13 is_stmt 1 view .LVU119
 403              		.loc 1 855 37 is_stmt 0 view .LVU120
 404 0052 0022     		movs	r2, #0
 405 0054 2270     		strb	r2, [r4]
 856:SYS/shell/shell.c ****             record = 1;
 406              		.loc 1 856 13 is_stmt 1 view .LVU121
 407              	.LVL39:
 408              		.loc 1 856 20 is_stmt 0 view .LVU122
 409 0056 0125     		movs	r5, #1
 410 0058 EDE7     		b	.L40
 411              	.LVL40:
 412              	.L44:
 837:SYS/shell/shell.c ****             }
 413              		.loc 1 837 17 is_stmt 1 view .LVU123
 837:SYS/shell/shell.c ****             }
 414              		.loc 1 837 37 is_stmt 0 view .LVU124
 415 005a 81F00101 		eor	r1, r1, #1
 416              	.LVL41:
 837:SYS/shell/shell.c ****             }
 417              		.loc 1 837 37 view .LVU125
 418 005e E6E7     		b	.L38
 419              	.L45:
 841:SYS/shell/shell.c ****                 {
 420              		.loc 1 841 17 is_stmt 1 view .LVU126
 841:SYS/shell/shell.c ****                 {
 421              		.loc 1 841 34 is_stmt 0 view .LVU127
 422 0060 C58E     		ldrh	r5, [r0, #54]
 423              	.LVL42:
 841:SYS/shell/shell.c ****                 {
 424              		.loc 1 841 20 view .LVU128
 425 0062 072D     		cmp	r5, #7
 426 0064 07D8     		bhi	.L42
 843:SYS/shell/shell.c ****                         &(shell->parser.buffer[i]);
 427              		.loc 1 843 21 is_stmt 1 view .LVU129
 843:SYS/shell/shell.c ****                         &(shell->parser.buffer[i]);
ARM GAS  /tmp/ccKSSxev.s 			page 24


 428              		.loc 1 843 65 is_stmt 0 view .LVU130
 429 0066 6E1C     		adds	r6, r5, #1
 430 0068 C686     		strh	r6, [r0, #54]	@ movhi
 843:SYS/shell/shell.c ****                         &(shell->parser.buffer[i]);
 431              		.loc 1 843 69 view .LVU131
 432 006a 0435     		adds	r5, r5, #4
 433 006c 00EB8505 		add	r5, r0, r5, lsl #2
 434 0070 6C60     		str	r4, [r5, #4]
 846:SYS/shell/shell.c ****             }
 435              		.loc 1 846 24 view .LVU132
 436 0072 0025     		movs	r5, #0
 437 0074 DCE7     		b	.L39
 438              	.L42:
 439 0076 0025     		movs	r5, #0
 440 0078 DAE7     		b	.L39
 441              	.LVL43:
 442              	.L46:
 848:SYS/shell/shell.c ****             {
 443              		.loc 1 848 72 discriminator 1 view .LVU133
 444 007a 3A44     		add	r2, r2, r7
 445 007c 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 848:SYS/shell/shell.c ****             {
 446              		.loc 1 848 49 discriminator 1 view .LVU134
 447 007e 002A     		cmp	r2, #0
 448 0080 D9D0     		beq	.L40
 850:SYS/shell/shell.c ****             }
 449              		.loc 1 850 17 is_stmt 1 view .LVU135
 850:SYS/shell/shell.c ****             }
 450              		.loc 1 850 18 is_stmt 0 view .LVU136
 451 0082 0133     		adds	r3, r3, #1
 452              	.LVL44:
 850:SYS/shell/shell.c ****             }
 453              		.loc 1 850 18 view .LVU137
 454 0084 9BB2     		uxth	r3, r3
 455              	.LVL45:
 850:SYS/shell/shell.c ****             }
 456              		.loc 1 850 18 view .LVU138
 457 0086 D6E7     		b	.L40
 458              	.L47:
 850:SYS/shell/shell.c ****             }
 459              		.loc 1 850 18 view .LVU139
 460              	.LBE5:
 857:SYS/shell/shell.c ****         }
 858:SYS/shell/shell.c ****     }
 859:SYS/shell/shell.c **** }
 461              		.loc 1 859 1 view .LVU140
 462 0088 F0BC     		pop	{r4, r5, r6, r7}
 463              	.LCFI5:
 464              		.cfi_restore 7
 465              		.cfi_restore 6
 466              		.cfi_restore 5
 467              		.cfi_restore 4
 468              		.cfi_def_cfa_offset 0
 469              	.LVL46:
 470              		.loc 1 859 1 view .LVU141
 471 008a 7047     		bx	lr
 472              		.cfi_endproc
ARM GAS  /tmp/ccKSSxev.s 			page 25


 473              	.LFE152:
 475              		.section	.text.shellHistoryAdd,"ax",%progbits
 476              		.align	1
 477              		.syntax unified
 478              		.thumb
 479              		.thumb_func
 480              		.fpu fpv4-sp-d16
 482              	shellHistoryAdd:
 483              	.LVL47:
 484              	.LFB163:
 860:SYS/shell/shell.c **** 
 861:SYS/shell/shell.c **** /**
 862:SYS/shell/shell.c ****  * @brief shell去除字符串参数头尾的双引号
 863:SYS/shell/shell.c ****  * 
 864:SYS/shell/shell.c ****  * @param shell shell对象
 865:SYS/shell/shell.c ****  */
 866:SYS/shell/shell.c **** static void shellRemoveParamQuotes(Shell *shell)
 867:SYS/shell/shell.c **** {
 868:SYS/shell/shell.c ****     unsigned short paramLength;
 869:SYS/shell/shell.c ****     for (unsigned short i = 0; i < shell->parser.paramCount; i++)
 870:SYS/shell/shell.c ****     {
 871:SYS/shell/shell.c ****         if (shell->parser.param[i][0] == '\"')
 872:SYS/shell/shell.c ****         {
 873:SYS/shell/shell.c ****             shell->parser.param[i][0] = 0;
 874:SYS/shell/shell.c ****             shell->parser.param[i] = &shell->parser.param[i][1];
 875:SYS/shell/shell.c ****         }
 876:SYS/shell/shell.c ****         paramLength = strlen(shell->parser.param[i]);
 877:SYS/shell/shell.c ****         if (shell->parser.param[i][paramLength - 1] == '\"')
 878:SYS/shell/shell.c ****         {
 879:SYS/shell/shell.c ****             shell->parser.param[i][paramLength - 1] = 0;
 880:SYS/shell/shell.c ****         }
 881:SYS/shell/shell.c ****     }
 882:SYS/shell/shell.c **** }
 883:SYS/shell/shell.c **** 
 884:SYS/shell/shell.c **** /**
 885:SYS/shell/shell.c ****  * @brief shell匹配命令
 886:SYS/shell/shell.c ****  * 
 887:SYS/shell/shell.c ****  * @param shell shell对象
 888:SYS/shell/shell.c ****  * @param cmd 命令
 889:SYS/shell/shell.c ****  * @param base 匹配命令表基址
 890:SYS/shell/shell.c ****  * @param compareLength 匹配字符串长度
 891:SYS/shell/shell.c ****  * @return ShellCommand* 匹配到的命令
 892:SYS/shell/shell.c ****  */
 893:SYS/shell/shell.c **** ShellCommand *shellSeekCommand(Shell *shell,
 894:SYS/shell/shell.c ****                                const char *cmd,
 895:SYS/shell/shell.c ****                                ShellCommand *base,
 896:SYS/shell/shell.c ****                                unsigned short compareLength)
 897:SYS/shell/shell.c **** {
 898:SYS/shell/shell.c ****     const char *name;
 899:SYS/shell/shell.c ****     int ret;
 900:SYS/shell/shell.c ****     unsigned short count = shell->commandList.count -
 901:SYS/shell/shell.c ****                            ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 902:SYS/shell/shell.c ****     for (unsigned short i = 0; i < count; i++)
 903:SYS/shell/shell.c ****     {
 904:SYS/shell/shell.c ****         if (base[i].attr.attrs.type == SHELL_TYPE_KEY || shellCheckPermission(shell, &base[i]) != 0
 905:SYS/shell/shell.c ****         {
 906:SYS/shell/shell.c ****             continue;
ARM GAS  /tmp/ccKSSxev.s 			page 26


 907:SYS/shell/shell.c ****         }
 908:SYS/shell/shell.c ****         name = shellGetCommandName(&base[i]);
 909:SYS/shell/shell.c ****         if (!compareLength)
 910:SYS/shell/shell.c ****         {
 911:SYS/shell/shell.c ****             ret = strcmp(cmd, name);
 912:SYS/shell/shell.c ****             if (strcmp(cmd, name) == 0)
 913:SYS/shell/shell.c ****             {
 914:SYS/shell/shell.c ****                 return &base[i];
 915:SYS/shell/shell.c ****             }
 916:SYS/shell/shell.c ****         }
 917:SYS/shell/shell.c ****         else
 918:SYS/shell/shell.c ****         {
 919:SYS/shell/shell.c ****             if (strncmp(cmd, name, compareLength) == 0)
 920:SYS/shell/shell.c ****             {
 921:SYS/shell/shell.c ****                 return &base[i];
 922:SYS/shell/shell.c ****             }
 923:SYS/shell/shell.c ****         }
 924:SYS/shell/shell.c ****     }
 925:SYS/shell/shell.c ****     return NULL;
 926:SYS/shell/shell.c **** }
 927:SYS/shell/shell.c **** 
 928:SYS/shell/shell.c **** /**
 929:SYS/shell/shell.c ****  * @brief shell 获取变量值
 930:SYS/shell/shell.c ****  * 
 931:SYS/shell/shell.c ****  * @param shell shell对象
 932:SYS/shell/shell.c ****  * @param command 命令
 933:SYS/shell/shell.c ****  * @return int 变量值
 934:SYS/shell/shell.c ****  */
 935:SYS/shell/shell.c **** int shellGetVarValue(Shell *shell, ShellCommand *command)
 936:SYS/shell/shell.c **** {
 937:SYS/shell/shell.c ****     int value = 0;
 938:SYS/shell/shell.c ****     switch (command->attr.attrs.type)
 939:SYS/shell/shell.c ****     {
 940:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_INT:
 941:SYS/shell/shell.c ****         value = *((int *)(command->data.var.value));
 942:SYS/shell/shell.c ****         break;
 943:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_SHORT:
 944:SYS/shell/shell.c ****         value = *((short *)(command->data.var.value));
 945:SYS/shell/shell.c ****         break;
 946:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_CHAR:
 947:SYS/shell/shell.c ****         value = *((char *)(command->data.var.value));
 948:SYS/shell/shell.c ****         break;
 949:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_STRING:
 950:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_POINT:
 951:SYS/shell/shell.c ****         value = (int)(command->data.var.value);
 952:SYS/shell/shell.c ****         break;
 953:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_NODE:
 954:SYS/shell/shell.c ****         value = ((ShellNodeVarAttr *)command->data.var.value)->get ? ((ShellNodeVarAttr *)command->
 955:SYS/shell/shell.c ****                                                                          ->get(((ShellNodeVarAttr *
 956:SYS/shell/shell.c ****                                                                    : 0;
 957:SYS/shell/shell.c ****         break;
 958:SYS/shell/shell.c ****     default:
 959:SYS/shell/shell.c ****         break;
 960:SYS/shell/shell.c ****     }
 961:SYS/shell/shell.c ****     return value;
 962:SYS/shell/shell.c **** }
 963:SYS/shell/shell.c **** 
ARM GAS  /tmp/ccKSSxev.s 			page 27


 964:SYS/shell/shell.c **** /**
 965:SYS/shell/shell.c ****  * @brief shell设置变量值
 966:SYS/shell/shell.c ****  * 
 967:SYS/shell/shell.c ****  * @param shell shell对象
 968:SYS/shell/shell.c ****  * @param command 命令
 969:SYS/shell/shell.c ****  * @param value 值
 970:SYS/shell/shell.c ****  * @return int 返回变量值
 971:SYS/shell/shell.c ****  */
 972:SYS/shell/shell.c **** int shellSetVarValue(Shell *shell, ShellCommand *command, int value)
 973:SYS/shell/shell.c **** {
 974:SYS/shell/shell.c ****     if (command->attr.attrs.readOnly)
 975:SYS/shell/shell.c ****     {
 976:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_VAR_READ_ONLY_CANNOT_MODIFY]);
 977:SYS/shell/shell.c ****     }
 978:SYS/shell/shell.c ****     else
 979:SYS/shell/shell.c ****     {
 980:SYS/shell/shell.c ****         switch (command->attr.attrs.type)
 981:SYS/shell/shell.c ****         {
 982:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_INT:
 983:SYS/shell/shell.c ****             *((int *)(command->data.var.value)) = value;
 984:SYS/shell/shell.c ****             break;
 985:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_SHORT:
 986:SYS/shell/shell.c ****             *((short *)(command->data.var.value)) = value;
 987:SYS/shell/shell.c ****             break;
 988:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_CHAR:
 989:SYS/shell/shell.c ****             *((char *)(command->data.var.value)) = value;
 990:SYS/shell/shell.c ****             break;
 991:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_STRING:
 992:SYS/shell/shell.c ****             shellStringCopy(((char *)(command->data.var.value)), (char *)value);
 993:SYS/shell/shell.c ****             break;
 994:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_POINT:
 995:SYS/shell/shell.c ****             shellWriteString(shell, shellText[SHELL_TEXT_POINT_CANNOT_MODIFY]);
 996:SYS/shell/shell.c ****             break;
 997:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_NODE:
 998:SYS/shell/shell.c ****             if (((ShellNodeVarAttr *)command->data.var.value)->set)
 999:SYS/shell/shell.c ****             {
1000:SYS/shell/shell.c ****                 if (((ShellNodeVarAttr *)command->data.var.value)->var)
1001:SYS/shell/shell.c ****                 {
1002:SYS/shell/shell.c ****                     ((ShellNodeVarAttr *)command->data.var.value)
1003:SYS/shell/shell.c ****                         ->set(((ShellNodeVarAttr *)command->data.var.value)->var, value);
1004:SYS/shell/shell.c ****                 }
1005:SYS/shell/shell.c ****                 else
1006:SYS/shell/shell.c ****                 {
1007:SYS/shell/shell.c ****                     ((ShellNodeVarAttr *)command->data.var.value)->set(value);
1008:SYS/shell/shell.c ****                 }
1009:SYS/shell/shell.c ****             }
1010:SYS/shell/shell.c ****             break;
1011:SYS/shell/shell.c ****         default:
1012:SYS/shell/shell.c ****             break;
1013:SYS/shell/shell.c ****         }
1014:SYS/shell/shell.c ****     }
1015:SYS/shell/shell.c ****     return shellShowVar(shell, command);
1016:SYS/shell/shell.c **** }
1017:SYS/shell/shell.c **** 
1018:SYS/shell/shell.c **** /**
1019:SYS/shell/shell.c ****  * @brief shell变量输出
1020:SYS/shell/shell.c ****  * 
ARM GAS  /tmp/ccKSSxev.s 			page 28


1021:SYS/shell/shell.c ****  * @param shell shell对象
1022:SYS/shell/shell.c ****  * @param command 命令
1023:SYS/shell/shell.c ****  * @return int 返回变量值
1024:SYS/shell/shell.c ****  */
1025:SYS/shell/shell.c **** static int shellShowVar(Shell *shell, ShellCommand *command)
1026:SYS/shell/shell.c **** {
1027:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
1028:SYS/shell/shell.c ****     int value = shellGetVarValue(shell, command);
1029:SYS/shell/shell.c **** 
1030:SYS/shell/shell.c ****     shellWriteString(shell, command->data.var.name);
1031:SYS/shell/shell.c ****     shellWriteString(shell, " = ");
1032:SYS/shell/shell.c **** 
1033:SYS/shell/shell.c ****     switch (command->attr.attrs.type)
1034:SYS/shell/shell.c ****     {
1035:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_STRING:
1036:SYS/shell/shell.c ****         shellWriteString(shell, "\"");
1037:SYS/shell/shell.c ****         shellWriteString(shell, (char *)value);
1038:SYS/shell/shell.c ****         shellWriteString(shell, "\"");
1039:SYS/shell/shell.c ****         break;
1040:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_INT:
1041:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_SHORT:
1042:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_CHAR:
1043:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_POINT:
1044:SYS/shell/shell.c ****     default:
1045:SYS/shell/shell.c ****         shellWriteString(shell, &buffer[11 - shellToDec(value, buffer)]);
1046:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
1047:SYS/shell/shell.c ****         for (short i = 0; i < 11; i++)
1048:SYS/shell/shell.c ****         {
1049:SYS/shell/shell.c ****             buffer[i] = '0';
1050:SYS/shell/shell.c ****         }
1051:SYS/shell/shell.c ****         shellToHex(value, buffer);
1052:SYS/shell/shell.c ****         shellWriteString(shell, buffer);
1053:SYS/shell/shell.c ****         break;
1054:SYS/shell/shell.c ****     }
1055:SYS/shell/shell.c **** 
1056:SYS/shell/shell.c ****     shellWriteString(shell, "\r\n");
1057:SYS/shell/shell.c ****     return value;
1058:SYS/shell/shell.c **** }
1059:SYS/shell/shell.c **** 
1060:SYS/shell/shell.c **** /**
1061:SYS/shell/shell.c ****  * @brief shell设置变量
1062:SYS/shell/shell.c ****  * 
1063:SYS/shell/shell.c ****  * @param name 变量名
1064:SYS/shell/shell.c ****  * @param value 变量值
1065:SYS/shell/shell.c ****  * @return int 返回变量值
1066:SYS/shell/shell.c ****  */
1067:SYS/shell/shell.c **** int shellSetVar(char *name, int value)
1068:SYS/shell/shell.c **** {
1069:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1070:SYS/shell/shell.c ****     if (shell == NULL)
1071:SYS/shell/shell.c ****     {
1072:SYS/shell/shell.c ****         return 0;
1073:SYS/shell/shell.c ****     }
1074:SYS/shell/shell.c ****     ShellCommand *command = shellSeekCommand(shell,
1075:SYS/shell/shell.c ****                                              name,
1076:SYS/shell/shell.c ****                                              shell->commandList.base,
1077:SYS/shell/shell.c ****                                              0);
ARM GAS  /tmp/ccKSSxev.s 			page 29


1078:SYS/shell/shell.c ****     if (!command)
1079:SYS/shell/shell.c ****     {
1080:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_VAR_NOT_FOUND]);
1081:SYS/shell/shell.c ****         return 0;
1082:SYS/shell/shell.c ****     }
1083:SYS/shell/shell.c ****     if (command->attr.attrs.type < SHELL_TYPE_VAR_INT || command->attr.attrs.type > SHELL_TYPE_VAR_
1084:SYS/shell/shell.c ****     {
1085:SYS/shell/shell.c ****         shellWriteString(shell, name);
1086:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_NOT_VAR]);
1087:SYS/shell/shell.c ****         return 0;
1088:SYS/shell/shell.c ****     }
1089:SYS/shell/shell.c ****     return shellSetVarValue(shell, command, value);
1090:SYS/shell/shell.c **** }
1091:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1092:SYS/shell/shell.c ****     SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_RETURN,
1093:SYS/shell/shell.c ****     setVar, shellSetVar, set var);
1094:SYS/shell/shell.c **** 
1095:SYS/shell/shell.c **** /**
1096:SYS/shell/shell.c ****  * @brief shell运行命令
1097:SYS/shell/shell.c ****  * 
1098:SYS/shell/shell.c ****  * @param shell shell对象
1099:SYS/shell/shell.c ****  * @param command 命令
1100:SYS/shell/shell.c ****  * 
1101:SYS/shell/shell.c ****  * @return unsigned int 命令返回值
1102:SYS/shell/shell.c ****  */
1103:SYS/shell/shell.c **** unsigned int shellRunCommand(Shell *shell, ShellCommand *command)
1104:SYS/shell/shell.c **** {
1105:SYS/shell/shell.c ****     int returnValue = 0;
1106:SYS/shell/shell.c ****     shell->status.isActive = 1;
1107:SYS/shell/shell.c ****     if (command->attr.attrs.type == SHELL_TYPE_CMD_MAIN)
1108:SYS/shell/shell.c ****     {
1109:SYS/shell/shell.c ****         shellRemoveParamQuotes(shell);
1110:SYS/shell/shell.c ****         returnValue = command->data.cmd.function(shell->parser.paramCount,
1111:SYS/shell/shell.c ****                                                  shell->parser.param);
1112:SYS/shell/shell.c ****         if (!command->attr.attrs.disableReturn)
1113:SYS/shell/shell.c ****         {
1114:SYS/shell/shell.c ****             shellWriteReturnValue(shell, returnValue);
1115:SYS/shell/shell.c ****         }
1116:SYS/shell/shell.c ****     }
1117:SYS/shell/shell.c ****     else if (command->attr.attrs.type == SHELL_TYPE_CMD_FUNC)
1118:SYS/shell/shell.c ****     {
1119:SYS/shell/shell.c ****         returnValue = shellExtRun(shell,
1120:SYS/shell/shell.c ****                                   command,
1121:SYS/shell/shell.c ****                                   shell->parser.paramCount,
1122:SYS/shell/shell.c ****                                   shell->parser.param);
1123:SYS/shell/shell.c ****         if (!command->attr.attrs.disableReturn)
1124:SYS/shell/shell.c ****         {
1125:SYS/shell/shell.c ****             shellWriteReturnValue(shell, returnValue);
1126:SYS/shell/shell.c ****         }
1127:SYS/shell/shell.c ****     }
1128:SYS/shell/shell.c ****     else if (command->attr.attrs.type >= SHELL_TYPE_VAR_INT && command->attr.attrs.type <= SHELL_TY
1129:SYS/shell/shell.c ****     {
1130:SYS/shell/shell.c ****         shellShowVar(shell, command);
1131:SYS/shell/shell.c ****     }
1132:SYS/shell/shell.c ****     else if (command->attr.attrs.type == SHELL_TYPE_USER)
1133:SYS/shell/shell.c ****     {
1134:SYS/shell/shell.c ****         shellSetUser(shell, command);
ARM GAS  /tmp/ccKSSxev.s 			page 30


1135:SYS/shell/shell.c ****     }
1136:SYS/shell/shell.c ****     shell->status.isActive = 0;
1137:SYS/shell/shell.c **** 
1138:SYS/shell/shell.c ****     return returnValue;
1139:SYS/shell/shell.c **** }
1140:SYS/shell/shell.c **** 
1141:SYS/shell/shell.c **** /**
1142:SYS/shell/shell.c ****  * @brief shell校验密码
1143:SYS/shell/shell.c ****  * 
1144:SYS/shell/shell.c ****  * @param shell shell对象
1145:SYS/shell/shell.c ****  */
1146:SYS/shell/shell.c **** static void shellCheckPassword(Shell *shell)
1147:SYS/shell/shell.c **** {
1148:SYS/shell/shell.c ****     if (strcmp(shell->parser.buffer, shell->info.user->data.user.password) == 0)
1149:SYS/shell/shell.c ****     {
1150:SYS/shell/shell.c ****         shell->status.isChecked = 1;
1151:SYS/shell/shell.c **** #if SHELL_SHOW_INFO == 1
1152:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_INFO]);
1153:SYS/shell/shell.c **** #endif
1154:SYS/shell/shell.c ****     }
1155:SYS/shell/shell.c ****     else
1156:SYS/shell/shell.c ****     {
1157:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_PASSWORD_ERROR]);
1158:SYS/shell/shell.c ****     }
1159:SYS/shell/shell.c ****     shell->parser.length = 0;
1160:SYS/shell/shell.c ****     shell->parser.cursor = 0;
1161:SYS/shell/shell.c **** }
1162:SYS/shell/shell.c **** 
1163:SYS/shell/shell.c **** /**
1164:SYS/shell/shell.c ****  * @brief shell设置用户
1165:SYS/shell/shell.c ****  * 
1166:SYS/shell/shell.c ****  * @param shell shell对象
1167:SYS/shell/shell.c ****  * @param user 用户
1168:SYS/shell/shell.c ****  */
1169:SYS/shell/shell.c **** static void shellSetUser(Shell *shell, const ShellCommand *user)
1170:SYS/shell/shell.c **** {
1171:SYS/shell/shell.c ****     shell->info.user = user;
1172:SYS/shell/shell.c ****     shell->status.isChecked =
1173:SYS/shell/shell.c ****         ((user->data.user.password && strlen(user->data.user.password) != 0) && (shell->parser.para
1174:SYS/shell/shell.c ****             ? 0
1175:SYS/shell/shell.c ****             : 1;
1176:SYS/shell/shell.c **** 
1177:SYS/shell/shell.c **** #if SHELL_CLS_WHEN_LOGIN == 1
1178:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_CLEAR_CONSOLE]);
1179:SYS/shell/shell.c **** #endif
1180:SYS/shell/shell.c **** #if SHELL_SHOW_INFO == 1
1181:SYS/shell/shell.c ****     if (shell->status.isChecked)
1182:SYS/shell/shell.c ****     {
1183:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_INFO]);
1184:SYS/shell/shell.c ****     }
1185:SYS/shell/shell.c **** #endif
1186:SYS/shell/shell.c **** }
1187:SYS/shell/shell.c **** 
1188:SYS/shell/shell.c **** /**
1189:SYS/shell/shell.c ****  * @brief shell写返回值
1190:SYS/shell/shell.c ****  * 
1191:SYS/shell/shell.c ****  * @param shell shell对象
ARM GAS  /tmp/ccKSSxev.s 			page 31


1192:SYS/shell/shell.c ****  * @param value 返回值
1193:SYS/shell/shell.c ****  */
1194:SYS/shell/shell.c **** static void shellWriteReturnValue(Shell *shell, int value)
1195:SYS/shell/shell.c **** {
1196:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
1197:SYS/shell/shell.c ****     shellWriteString(shell, "Return: ");
1198:SYS/shell/shell.c ****     shellWriteString(shell, &buffer[11 - shellToDec(value, buffer)]);
1199:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
1200:SYS/shell/shell.c ****     for (short i = 0; i < 11; i++)
1201:SYS/shell/shell.c ****     {
1202:SYS/shell/shell.c ****         buffer[i] = '0';
1203:SYS/shell/shell.c ****     }
1204:SYS/shell/shell.c ****     shellToHex(value, buffer);
1205:SYS/shell/shell.c ****     shellWriteString(shell, buffer);
1206:SYS/shell/shell.c ****     shellWriteString(shell, "\r\n");
1207:SYS/shell/shell.c **** }
1208:SYS/shell/shell.c **** 
1209:SYS/shell/shell.c **** /**
1210:SYS/shell/shell.c ****  * @brief shell历史记录添加
1211:SYS/shell/shell.c ****  * 
1212:SYS/shell/shell.c ****  * @param shell shell对象
1213:SYS/shell/shell.c ****  */
1214:SYS/shell/shell.c **** static void shellHistoryAdd(Shell *shell)
1215:SYS/shell/shell.c **** {
 485              		.loc 1 1215 1 is_stmt 1 view -0
 486              		.cfi_startproc
 487              		@ args = 0, pretend = 0, frame = 0
 488              		@ frame_needed = 0, uses_anonymous_args = 0
 489              		.loc 1 1215 1 is_stmt 0 view .LVU143
 490 0000 10B5     		push	{r4, lr}
 491              	.LCFI6:
 492              		.cfi_def_cfa_offset 8
 493              		.cfi_offset 4, -8
 494              		.cfi_offset 14, -4
 495 0002 0446     		mov	r4, r0
1216:SYS/shell/shell.c ****     shell->history.offset = 0;
 496              		.loc 1 1216 5 is_stmt 1 view .LVU144
 497              		.loc 1 1216 27 is_stmt 0 view .LVU145
 498 0004 0023     		movs	r3, #0
 499 0006 A0F85430 		strh	r3, [r0, #84]	@ movhi
1217:SYS/shell/shell.c ****     if (shell->history.number > 0 && strcmp(shell->history.item[(shell->history.record == 0 ? SHELL
 500              		.loc 1 1217 5 is_stmt 1 view .LVU146
 501              		.loc 1 1217 23 is_stmt 0 view .LVU147
 502 000a B0F85030 		ldrh	r3, [r0, #80]
 503              		.loc 1 1217 8 view .LVU148
 504 000e 5BB1     		cbz	r3, .L49
 505              		.loc 1 1217 80 discriminator 1 view .LVU149
 506 0010 B0F85230 		ldrh	r3, [r0, #82]
 507              		.loc 1 1217 145 discriminator 1 view .LVU150
 508 0014 53B3     		cbz	r3, .L54
 509              		.loc 1 1217 145 discriminator 2 view .LVU151
 510 0016 013B     		subs	r3, r3, #1
 511              	.L50:
 512              		.loc 1 1217 64 discriminator 5 view .LVU152
 513 0018 0E33     		adds	r3, r3, #14
 514 001a 04EB8303 		add	r3, r4, r3, lsl #2
 515              		.loc 1 1217 38 discriminator 5 view .LVU153
ARM GAS  /tmp/ccKSSxev.s 			page 32


 516 001e 2169     		ldr	r1, [r4, #16]
 517 0020 5868     		ldr	r0, [r3, #4]
 518              	.LVL48:
 519              		.loc 1 1217 38 discriminator 5 view .LVU154
 520 0022 FFF7FEFF 		bl	strcmp
 521              	.LVL49:
 522              		.loc 1 1217 35 discriminator 5 view .LVU155
 523 0026 00B3     		cbz	r0, .L48
 524              	.L49:
1218:SYS/shell/shell.c ****                                             shell->parser.buffer) == 0)
1219:SYS/shell/shell.c ****     {
1220:SYS/shell/shell.c ****         return;
1221:SYS/shell/shell.c ****     }
1222:SYS/shell/shell.c ****     if (shellStringCopy(shell->history.item[shell->history.record],
 525              		.loc 1 1222 5 is_stmt 1 view .LVU156
 526              		.loc 1 1222 59 is_stmt 0 view .LVU157
 527 0028 B4F85230 		ldrh	r3, [r4, #82]
 528              		.loc 1 1222 9 view .LVU158
 529 002c 0E33     		adds	r3, r3, #14
 530 002e 04EB8303 		add	r3, r4, r3, lsl #2
 531 0032 2169     		ldr	r1, [r4, #16]
 532 0034 5868     		ldr	r0, [r3, #4]
 533 0036 FFF7FEFF 		bl	shellStringCopy
 534              	.LVL50:
 535              		.loc 1 1222 8 view .LVU159
 536 003a 20B1     		cbz	r0, .L52
1223:SYS/shell/shell.c ****                         shell->parser.buffer) != 0)
1224:SYS/shell/shell.c ****     {
1225:SYS/shell/shell.c ****         shell->history.record++;
 537              		.loc 1 1225 9 is_stmt 1 view .LVU160
 538              		.loc 1 1225 23 is_stmt 0 view .LVU161
 539 003c B4F85230 		ldrh	r3, [r4, #82]
 540              		.loc 1 1225 30 view .LVU162
 541 0040 0133     		adds	r3, r3, #1
 542 0042 A4F85230 		strh	r3, [r4, #82]	@ movhi
 543              	.L52:
1226:SYS/shell/shell.c ****     }
1227:SYS/shell/shell.c ****     if (++shell->history.number > SHELL_HISTORY_MAX_NUMBER)
 544              		.loc 1 1227 5 is_stmt 1 view .LVU163
 545              		.loc 1 1227 25 is_stmt 0 view .LVU164
 546 0046 B4F85030 		ldrh	r3, [r4, #80]
 547              		.loc 1 1227 9 view .LVU165
 548 004a 0133     		adds	r3, r3, #1
 549 004c 9BB2     		uxth	r3, r3
 550              		.loc 1 1227 8 view .LVU166
 551 004e A4F85030 		strh	r3, [r4, #80]	@ movhi
 552 0052 052B     		cmp	r3, #5
 553 0054 02D9     		bls	.L53
1228:SYS/shell/shell.c ****     {
1229:SYS/shell/shell.c ****         shell->history.number = SHELL_HISTORY_MAX_NUMBER;
 554              		.loc 1 1229 9 is_stmt 1 view .LVU167
 555              		.loc 1 1229 31 is_stmt 0 view .LVU168
 556 0056 0523     		movs	r3, #5
 557 0058 A4F85030 		strh	r3, [r4, #80]	@ movhi
 558              	.L53:
1230:SYS/shell/shell.c ****     }
1231:SYS/shell/shell.c ****     if (shell->history.record >= SHELL_HISTORY_MAX_NUMBER)
ARM GAS  /tmp/ccKSSxev.s 			page 33


 559              		.loc 1 1231 5 is_stmt 1 view .LVU169
 560              		.loc 1 1231 23 is_stmt 0 view .LVU170
 561 005c B4F85230 		ldrh	r3, [r4, #82]
 562              		.loc 1 1231 8 view .LVU171
 563 0060 042B     		cmp	r3, #4
 564 0062 02D9     		bls	.L48
1232:SYS/shell/shell.c ****     {
1233:SYS/shell/shell.c ****         shell->history.record = 0;
 565              		.loc 1 1233 9 is_stmt 1 view .LVU172
 566              		.loc 1 1233 31 is_stmt 0 view .LVU173
 567 0064 0023     		movs	r3, #0
 568 0066 A4F85230 		strh	r3, [r4, #82]	@ movhi
 569              	.L48:
1234:SYS/shell/shell.c ****     }
1235:SYS/shell/shell.c **** }
 570              		.loc 1 1235 1 view .LVU174
 571 006a 10BD     		pop	{r4, pc}
 572              	.LVL51:
 573              	.L54:
1217:SYS/shell/shell.c ****                                             shell->parser.buffer) == 0)
 574              		.loc 1 1217 145 view .LVU175
 575 006c 0423     		movs	r3, #4
 576 006e D3E7     		b	.L50
 577              		.cfi_endproc
 578              	.LFE163:
 580              		.section	.text.shellRemoveParamQuotes,"ax",%progbits
 581              		.align	1
 582              		.syntax unified
 583              		.thumb
 584              		.thumb_func
 585              		.fpu fpv4-sp-d16
 587              	shellRemoveParamQuotes:
 588              	.LVL52:
 589              	.LFB153:
 867:SYS/shell/shell.c ****     unsigned short paramLength;
 590              		.loc 1 867 1 is_stmt 1 view -0
 591              		.cfi_startproc
 592              		@ args = 0, pretend = 0, frame = 0
 593              		@ frame_needed = 0, uses_anonymous_args = 0
 867:SYS/shell/shell.c ****     unsigned short paramLength;
 594              		.loc 1 867 1 is_stmt 0 view .LVU177
 595 0000 70B5     		push	{r4, r5, r6, lr}
 596              	.LCFI7:
 597              		.cfi_def_cfa_offset 16
 598              		.cfi_offset 4, -16
 599              		.cfi_offset 5, -12
 600              		.cfi_offset 6, -8
 601              		.cfi_offset 14, -4
 602 0002 0546     		mov	r5, r0
 868:SYS/shell/shell.c ****     for (unsigned short i = 0; i < shell->parser.paramCount; i++)
 603              		.loc 1 868 5 is_stmt 1 view .LVU178
 869:SYS/shell/shell.c ****     {
 604              		.loc 1 869 5 view .LVU179
 605              	.LBB6:
 869:SYS/shell/shell.c ****     {
 606              		.loc 1 869 10 view .LVU180
 607              	.LVL53:
ARM GAS  /tmp/ccKSSxev.s 			page 34


 869:SYS/shell/shell.c ****     {
 608              		.loc 1 869 25 is_stmt 0 view .LVU181
 609 0004 0024     		movs	r4, #0
 869:SYS/shell/shell.c ****     {
 610              		.loc 1 869 5 view .LVU182
 611 0006 0AE0     		b	.L57
 612              	.LVL54:
 613              	.L63:
 873:SYS/shell/shell.c ****             shell->parser.param[i] = &shell->parser.param[i][1];
 614              		.loc 1 873 13 is_stmt 1 view .LVU183
 873:SYS/shell/shell.c ****             shell->parser.param[i] = &shell->parser.param[i][1];
 615              		.loc 1 873 39 is_stmt 0 view .LVU184
 616 0008 0021     		movs	r1, #0
 617 000a 1170     		strb	r1, [r2]
 874:SYS/shell/shell.c ****         }
 618              		.loc 1 874 13 is_stmt 1 view .LVU185
 874:SYS/shell/shell.c ****         }
 619              		.loc 1 874 58 is_stmt 0 view .LVU186
 620 000c 221D     		adds	r2, r4, #4
 621 000e 05EB8202 		add	r2, r5, r2, lsl #2
 622 0012 5168     		ldr	r1, [r2, #4]
 874:SYS/shell/shell.c ****         }
 623              		.loc 1 874 38 view .LVU187
 624 0014 0131     		adds	r1, r1, #1
 874:SYS/shell/shell.c ****         }
 625              		.loc 1 874 36 view .LVU188
 626 0016 5160     		str	r1, [r2, #4]
 627 0018 0CE0     		b	.L58
 628              	.LVL55:
 629              	.L59:
 869:SYS/shell/shell.c ****     {
 630              		.loc 1 869 63 discriminator 2 view .LVU189
 631 001a 0134     		adds	r4, r4, #1
 632              	.LVL56:
 869:SYS/shell/shell.c ****     {
 633              		.loc 1 869 63 discriminator 2 view .LVU190
 634 001c A4B2     		uxth	r4, r4
 635              	.LVL57:
 636              	.L57:
 869:SYS/shell/shell.c ****     {
 637              		.loc 1 869 49 discriminator 1 view .LVU191
 638 001e EB8E     		ldrh	r3, [r5, #54]
 869:SYS/shell/shell.c ****     {
 639              		.loc 1 869 5 discriminator 1 view .LVU192
 640 0020 A342     		cmp	r3, r4
 641 0022 16D9     		bls	.L62
 871:SYS/shell/shell.c ****         {
 642              		.loc 1 871 9 is_stmt 1 view .LVU193
 871:SYS/shell/shell.c ****         {
 643              		.loc 1 871 32 is_stmt 0 view .LVU194
 644 0024 2346     		mov	r3, r4
 645 0026 221D     		adds	r2, r4, #4
 646 0028 05EB8202 		add	r2, r5, r2, lsl #2
 647 002c 5268     		ldr	r2, [r2, #4]
 871:SYS/shell/shell.c ****         {
 648              		.loc 1 871 35 view .LVU195
 649 002e 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
ARM GAS  /tmp/ccKSSxev.s 			page 35


 871:SYS/shell/shell.c ****         {
 650              		.loc 1 871 12 view .LVU196
 651 0030 2229     		cmp	r1, #34
 652 0032 E9D0     		beq	.L63
 653              	.L58:
 876:SYS/shell/shell.c ****         if (shell->parser.param[i][paramLength - 1] == '\"')
 654              		.loc 1 876 9 is_stmt 1 view .LVU197
 876:SYS/shell/shell.c ****         if (shell->parser.param[i][paramLength - 1] == '\"')
 655              		.loc 1 876 49 is_stmt 0 view .LVU198
 656 0034 0433     		adds	r3, r3, #4
 657 0036 05EB8303 		add	r3, r5, r3, lsl #2
 658 003a 5E68     		ldr	r6, [r3, #4]
 876:SYS/shell/shell.c ****         if (shell->parser.param[i][paramLength - 1] == '\"')
 659              		.loc 1 876 23 view .LVU199
 660 003c 3046     		mov	r0, r6
 661 003e FFF7FEFF 		bl	strlen
 662              	.LVL58:
 877:SYS/shell/shell.c ****         {
 663              		.loc 1 877 9 is_stmt 1 view .LVU200
 877:SYS/shell/shell.c ****         {
 664              		.loc 1 877 35 is_stmt 0 view .LVU201
 665 0042 80B2     		uxth	r0, r0
 877:SYS/shell/shell.c ****         {
 666              		.loc 1 877 35 view .LVU202
 667 0044 0138     		subs	r0, r0, #1
 668              	.LVL59:
 877:SYS/shell/shell.c ****         {
 669              		.loc 1 877 35 view .LVU203
 670 0046 335C     		ldrb	r3, [r6, r0]	@ zero_extendqisi2
 877:SYS/shell/shell.c ****         {
 671              		.loc 1 877 12 view .LVU204
 672 0048 222B     		cmp	r3, #34
 673 004a E6D1     		bne	.L59
 879:SYS/shell/shell.c ****         }
 674              		.loc 1 879 13 is_stmt 1 view .LVU205
 879:SYS/shell/shell.c ****         }
 675              		.loc 1 879 53 is_stmt 0 view .LVU206
 676 004c 0023     		movs	r3, #0
 677 004e 3354     		strb	r3, [r6, r0]
 678 0050 E3E7     		b	.L59
 679              	.LVL60:
 680              	.L62:
 879:SYS/shell/shell.c ****         }
 681              		.loc 1 879 53 view .LVU207
 682              	.LBE6:
 882:SYS/shell/shell.c **** 
 683              		.loc 1 882 1 view .LVU208
 684 0052 70BD     		pop	{r4, r5, r6, pc}
 882:SYS/shell/shell.c **** 
 685              		.loc 1 882 1 view .LVU209
 686              		.cfi_endproc
 687              	.LFE153:
 689              		.section	.text.shellGetCurrent,"ax",%progbits
 690              		.align	1
 691              		.global	shellGetCurrent
 692              		.syntax unified
 693              		.thumb
ARM GAS  /tmp/ccKSSxev.s 			page 36


 694              		.thumb_func
 695              		.fpu fpv4-sp-d16
 697              	shellGetCurrent:
 698              	.LFB128:
 233:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
 699              		.loc 1 233 1 is_stmt 1 view -0
 700              		.cfi_startproc
 701              		@ args = 0, pretend = 0, frame = 0
 702              		@ frame_needed = 0, uses_anonymous_args = 0
 703              		@ link register save eliminated.
 234:SYS/shell/shell.c ****     {
 704              		.loc 1 234 5 view .LVU211
 705              	.LBB7:
 234:SYS/shell/shell.c ****     {
 706              		.loc 1 234 10 view .LVU212
 707              	.LVL61:
 234:SYS/shell/shell.c ****     {
 708              		.loc 1 234 16 is_stmt 0 view .LVU213
 709 0000 0023     		movs	r3, #0
 234:SYS/shell/shell.c ****     {
 710              		.loc 1 234 5 view .LVU214
 711 0002 01E0     		b	.L65
 712              	.LVL62:
 713              	.L66:
 234:SYS/shell/shell.c ****     {
 714              		.loc 1 234 46 discriminator 2 view .LVU215
 715 0004 0133     		adds	r3, r3, #1
 716              	.LVL63:
 234:SYS/shell/shell.c ****     {
 717              		.loc 1 234 46 discriminator 2 view .LVU216
 718 0006 1BB2     		sxth	r3, r3
 719              	.LVL64:
 720              	.L65:
 234:SYS/shell/shell.c ****     {
 721              		.loc 1 234 5 discriminator 1 view .LVU217
 722 0008 042B     		cmp	r3, #4
 723 000a 0ADC     		bgt	.L69
 236:SYS/shell/shell.c ****         {
 724              		.loc 1 236 9 is_stmt 1 view .LVU218
 236:SYS/shell/shell.c ****         {
 725              		.loc 1 236 22 is_stmt 0 view .LVU219
 726 000c 064A     		ldr	r2, .L70
 727 000e 52F82300 		ldr	r0, [r2, r3, lsl #2]
 236:SYS/shell/shell.c ****         {
 728              		.loc 1 236 12 view .LVU220
 729 0012 0028     		cmp	r0, #0
 730 0014 F6D0     		beq	.L66
 236:SYS/shell/shell.c ****         {
 731              		.loc 1 236 26 discriminator 1 view .LVU221
 732 0016 90F86020 		ldrb	r2, [r0, #96]	@ zero_extendqisi2
 733 001a 12F0020F 		tst	r2, #2
 734 001e F1D0     		beq	.L66
 735 0020 00E0     		b	.L64
 736              	.L69:
 737              	.LBE7:
 241:SYS/shell/shell.c **** }
 738              		.loc 1 241 12 view .LVU222
ARM GAS  /tmp/ccKSSxev.s 			page 37


 739 0022 0020     		movs	r0, #0
 740              	.L64:
 242:SYS/shell/shell.c **** 
 741              		.loc 1 242 1 view .LVU223
 742 0024 7047     		bx	lr
 743              	.L71:
 744 0026 00BF     		.align	2
 745              	.L70:
 746 0028 00000000 		.word	.LANCHOR0
 747              		.cfi_endproc
 748              	.LFE128:
 750              		.section	.text.shellWriteByte,"ax",%progbits
 751              		.align	1
 752              		.global	shellWriteByte
 753              		.syntax unified
 754              		.thumb
 755              		.thumb_func
 756              		.fpu fpv4-sp-d16
 758              	shellWriteByte:
 759              	.LVL65:
 760              	.LFB129:
 251:SYS/shell/shell.c ****     shell->write(&data, sizeof(data));
 761              		.loc 1 251 1 is_stmt 1 view -0
 762              		.cfi_startproc
 763              		@ args = 0, pretend = 0, frame = 8
 764              		@ frame_needed = 0, uses_anonymous_args = 0
 251:SYS/shell/shell.c ****     shell->write(&data, sizeof(data));
 765              		.loc 1 251 1 is_stmt 0 view .LVU225
 766 0000 00B5     		push	{lr}
 767              	.LCFI8:
 768              		.cfi_def_cfa_offset 4
 769              		.cfi_offset 14, -4
 770 0002 83B0     		sub	sp, sp, #12
 771              	.LCFI9:
 772              		.cfi_def_cfa_offset 16
 773 0004 8DF80710 		strb	r1, [sp, #7]
 252:SYS/shell/shell.c **** }
 774              		.loc 1 252 5 is_stmt 1 view .LVU226
 252:SYS/shell/shell.c **** }
 775              		.loc 1 252 10 is_stmt 0 view .LVU227
 776 0008 836E     		ldr	r3, [r0, #104]
 252:SYS/shell/shell.c **** }
 777              		.loc 1 252 5 view .LVU228
 778 000a 0121     		movs	r1, #1
 779              	.LVL66:
 252:SYS/shell/shell.c **** }
 780              		.loc 1 252 5 view .LVU229
 781 000c 0DF10700 		add	r0, sp, #7
 782              	.LVL67:
 252:SYS/shell/shell.c **** }
 783              		.loc 1 252 5 view .LVU230
 784 0010 9847     		blx	r3
 785              	.LVL68:
 253:SYS/shell/shell.c **** 
 786              		.loc 1 253 1 view .LVU231
 787 0012 03B0     		add	sp, sp, #12
 788              	.LCFI10:
ARM GAS  /tmp/ccKSSxev.s 			page 38


 789              		.cfi_def_cfa_offset 4
 790              		@ sp needed
 791 0014 5DF804FB 		ldr	pc, [sp], #4
 792              		.cfi_endproc
 793              	.LFE129:
 795              		.section	.text.shellRight,"ax",%progbits
 796              		.align	1
 797              		.global	shellRight
 798              		.syntax unified
 799              		.thumb
 800              		.thumb_func
 801              		.fpu fpv4-sp-d16
 803              	shellRight:
 804              	.LVL69:
 805              	.LFB169:
1236:SYS/shell/shell.c **** 
1237:SYS/shell/shell.c **** /**
1238:SYS/shell/shell.c ****  * @brief shell历史记录查找
1239:SYS/shell/shell.c ****  * 
1240:SYS/shell/shell.c ****  * @param shell shell对象
1241:SYS/shell/shell.c ****  * @param dir 方向 {@code <0}往上查找 {@code >0}往下查找
1242:SYS/shell/shell.c ****  */
1243:SYS/shell/shell.c **** static void shellHistory(Shell *shell, signed char dir)
1244:SYS/shell/shell.c **** {
1245:SYS/shell/shell.c ****     if (dir > 0)
1246:SYS/shell/shell.c ****     {
1247:SYS/shell/shell.c ****         if (shell->history.offset-- <=
1248:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ? shell->history.number : shell->hist
1249:SYS/shell/shell.c ****         {
1250:SYS/shell/shell.c ****             shell->history.offset = -((shell->history.number > shell->history.record)
1251:SYS/shell/shell.c ****                                           ? shell->history.number
1252:SYS/shell/shell.c ****                                           : shell->history.record);
1253:SYS/shell/shell.c ****         }
1254:SYS/shell/shell.c ****     }
1255:SYS/shell/shell.c ****     else if (dir < 0)
1256:SYS/shell/shell.c ****     {
1257:SYS/shell/shell.c ****         if (++shell->history.offset > 0)
1258:SYS/shell/shell.c ****         {
1259:SYS/shell/shell.c ****             shell->history.offset = 0;
1260:SYS/shell/shell.c ****             return;
1261:SYS/shell/shell.c ****         }
1262:SYS/shell/shell.c ****     }
1263:SYS/shell/shell.c ****     else
1264:SYS/shell/shell.c ****     {
1265:SYS/shell/shell.c ****         return;
1266:SYS/shell/shell.c ****     }
1267:SYS/shell/shell.c ****     shellClearCommandLine(shell);
1268:SYS/shell/shell.c ****     if (shell->history.offset == 0)
1269:SYS/shell/shell.c ****     {
1270:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length = 0;
1271:SYS/shell/shell.c ****     }
1272:SYS/shell/shell.c ****     else
1273:SYS/shell/shell.c ****     {
1274:SYS/shell/shell.c ****         if ((shell->parser.length = shellStringCopy(shell->parser.buffer,
1275:SYS/shell/shell.c ****                                                     shell->history.item[(shell->history.record + SH
1276:SYS/shell/shell.c ****         {
1277:SYS/shell/shell.c ****             return;
ARM GAS  /tmp/ccKSSxev.s 			page 39


1278:SYS/shell/shell.c ****         }
1279:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
1280:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
1281:SYS/shell/shell.c ****     }
1282:SYS/shell/shell.c **** }
1283:SYS/shell/shell.c **** 
1284:SYS/shell/shell.c **** /**
1285:SYS/shell/shell.c ****  * @brief shell 常规输入
1286:SYS/shell/shell.c ****  * 
1287:SYS/shell/shell.c ****  * @param shell shell 对象
1288:SYS/shell/shell.c ****  * @param data 输入字符
1289:SYS/shell/shell.c ****  */
1290:SYS/shell/shell.c **** void shellNormalInput(Shell *shell, char data)
1291:SYS/shell/shell.c **** {
1292:SYS/shell/shell.c ****     shell->status.tabFlag = 0;
1293:SYS/shell/shell.c ****     shellInsertByte(shell, data);
1294:SYS/shell/shell.c **** }
1295:SYS/shell/shell.c **** 
1296:SYS/shell/shell.c **** /**
1297:SYS/shell/shell.c ****  * @brief shell运行命令
1298:SYS/shell/shell.c ****  * 
1299:SYS/shell/shell.c ****  * @param shell shell对象
1300:SYS/shell/shell.c ****  */
1301:SYS/shell/shell.c **** void shellExec(Shell *shell)
1302:SYS/shell/shell.c **** {
1303:SYS/shell/shell.c **** 
1304:SYS/shell/shell.c ****     if (shell->parser.length == 0)
1305:SYS/shell/shell.c ****     {
1306:SYS/shell/shell.c ****         return;
1307:SYS/shell/shell.c ****     }
1308:SYS/shell/shell.c **** 
1309:SYS/shell/shell.c ****     shell->parser.buffer[shell->parser.length] = 0;
1310:SYS/shell/shell.c **** 
1311:SYS/shell/shell.c ****     if (shell->status.isChecked)
1312:SYS/shell/shell.c ****     {
1313:SYS/shell/shell.c ****         shellHistoryAdd(shell);
1314:SYS/shell/shell.c ****         shellParserParam(shell);
1315:SYS/shell/shell.c ****         shell->parser.length = shell->parser.cursor = 0;
1316:SYS/shell/shell.c ****         if (shell->parser.paramCount == 0)
1317:SYS/shell/shell.c ****         {
1318:SYS/shell/shell.c ****             return;
1319:SYS/shell/shell.c ****         }
1320:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
1321:SYS/shell/shell.c **** 
1322:SYS/shell/shell.c ****         ShellCommand *command = shellSeekCommand(shell,
1323:SYS/shell/shell.c ****                                                  shell->parser.param[0],
1324:SYS/shell/shell.c ****                                                  shell->commandList.base,
1325:SYS/shell/shell.c ****                                                  0);
1326:SYS/shell/shell.c ****         if (command != NULL)
1327:SYS/shell/shell.c ****         {
1328:SYS/shell/shell.c ****             shellRunCommand(shell, command);
1329:SYS/shell/shell.c ****         }
1330:SYS/shell/shell.c ****         else
1331:SYS/shell/shell.c ****         {
1332:SYS/shell/shell.c ****             shellWriteString(shell, shellText[SHELL_TEXT_CMD_NOT_FOUND]);
1333:SYS/shell/shell.c ****         }
1334:SYS/shell/shell.c ****     }
ARM GAS  /tmp/ccKSSxev.s 			page 40


1335:SYS/shell/shell.c ****     else
1336:SYS/shell/shell.c ****     {
1337:SYS/shell/shell.c ****         shellCheckPassword(shell);
1338:SYS/shell/shell.c ****     }
1339:SYS/shell/shell.c **** }
1340:SYS/shell/shell.c **** 
1341:SYS/shell/shell.c **** /**
1342:SYS/shell/shell.c ****  * @brief shell上方向键输入
1343:SYS/shell/shell.c ****  * 
1344:SYS/shell/shell.c ****  * @param shell shell对象
1345:SYS/shell/shell.c ****  */
1346:SYS/shell/shell.c **** void shellUp(Shell *shell)
1347:SYS/shell/shell.c **** {
1348:SYS/shell/shell.c ****     shellHistory(shell, 1);
1349:SYS/shell/shell.c **** }
1350:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x1B5B4100, shellUp, up);
1351:SYS/shell/shell.c **** 
1352:SYS/shell/shell.c **** /**
1353:SYS/shell/shell.c ****  * @brief shell下方向键输入
1354:SYS/shell/shell.c ****  * 
1355:SYS/shell/shell.c ****  * @param shell shell对象
1356:SYS/shell/shell.c ****  */
1357:SYS/shell/shell.c **** void shellDown(Shell *shell)
1358:SYS/shell/shell.c **** {
1359:SYS/shell/shell.c ****     shellHistory(shell, -1);
1360:SYS/shell/shell.c **** }
1361:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x1B5B4200, shellDown, down);
1362:SYS/shell/shell.c **** 
1363:SYS/shell/shell.c **** /**
1364:SYS/shell/shell.c ****  * @brief shell右方向键输入
1365:SYS/shell/shell.c ****  * 
1366:SYS/shell/shell.c ****  * @param shell shell对象
1367:SYS/shell/shell.c ****  */
1368:SYS/shell/shell.c **** void shellRight(Shell *shell)
1369:SYS/shell/shell.c **** {
 806              		.loc 1 1369 1 is_stmt 1 view -0
 807              		.cfi_startproc
 808              		@ args = 0, pretend = 0, frame = 0
 809              		@ frame_needed = 0, uses_anonymous_args = 0
 810              		.loc 1 1369 1 is_stmt 0 view .LVU233
 811 0000 08B5     		push	{r3, lr}
 812              	.LCFI11:
 813              		.cfi_def_cfa_offset 8
 814              		.cfi_offset 3, -8
 815              		.cfi_offset 14, -4
1370:SYS/shell/shell.c ****     if (shell->parser.cursor < shell->parser.length)
 816              		.loc 1 1370 5 is_stmt 1 view .LVU234
 817              		.loc 1 1370 22 is_stmt 0 view .LVU235
 818 0002 C389     		ldrh	r3, [r0, #14]
 819              		.loc 1 1370 45 view .LVU236
 820 0004 8289     		ldrh	r2, [r0, #12]
 821              		.loc 1 1370 8 view .LVU237
 822 0006 9342     		cmp	r3, r2
 823 0008 00D3     		bcc	.L77
 824              	.LVL70:
 825              	.L74:
1371:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 41


1372:SYS/shell/shell.c ****         shellWriteByte(shell, shell->parser.buffer[shell->parser.cursor++]);
1373:SYS/shell/shell.c ****     }
1374:SYS/shell/shell.c **** }
 826              		.loc 1 1374 1 view .LVU238
 827 000a 08BD     		pop	{r3, pc}
 828              	.LVL71:
 829              	.L77:
1372:SYS/shell/shell.c ****     }
 830              		.loc 1 1372 9 is_stmt 1 view .LVU239
1372:SYS/shell/shell.c ****     }
 831              		.loc 1 1372 44 is_stmt 0 view .LVU240
 832 000c 0269     		ldr	r2, [r0, #16]
1372:SYS/shell/shell.c ****     }
 833              		.loc 1 1372 72 view .LVU241
 834 000e 591C     		adds	r1, r3, #1
 835 0010 C181     		strh	r1, [r0, #14]	@ movhi
1372:SYS/shell/shell.c ****     }
 836              		.loc 1 1372 9 view .LVU242
 837 0012 D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 838 0014 FFF7FEFF 		bl	shellWriteByte
 839              	.LVL72:
 840              		.loc 1 1374 1 view .LVU243
 841 0018 F7E7     		b	.L74
 842              		.cfi_endproc
 843              	.LFE169:
 845              		.section	.text.shellLeft,"ax",%progbits
 846              		.align	1
 847              		.global	shellLeft
 848              		.syntax unified
 849              		.thumb
 850              		.thumb_func
 851              		.fpu fpv4-sp-d16
 853              	shellLeft:
 854              	.LVL73:
 855              	.LFB170:
1375:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
1376:SYS/shell/shell.c ****                  0x1B5B4300, shellRight, right);
1377:SYS/shell/shell.c **** 
1378:SYS/shell/shell.c **** /**
1379:SYS/shell/shell.c ****  * @brief shell左方向键输入
1380:SYS/shell/shell.c ****  * 
1381:SYS/shell/shell.c ****  * @param shell shell对象
1382:SYS/shell/shell.c ****  */
1383:SYS/shell/shell.c **** void shellLeft(Shell *shell)
1384:SYS/shell/shell.c **** {
 856              		.loc 1 1384 1 is_stmt 1 view -0
 857              		.cfi_startproc
 858              		@ args = 0, pretend = 0, frame = 0
 859              		@ frame_needed = 0, uses_anonymous_args = 0
1385:SYS/shell/shell.c ****     if (shell->parser.cursor > 0)
 860              		.loc 1 1385 5 view .LVU245
 861              		.loc 1 1385 22 is_stmt 0 view .LVU246
 862 0000 C389     		ldrh	r3, [r0, #14]
 863              		.loc 1 1385 8 view .LVU247
 864 0002 03B9     		cbnz	r3, .L84
 865 0004 7047     		bx	lr
 866              	.L84:
ARM GAS  /tmp/ccKSSxev.s 			page 42


1384:SYS/shell/shell.c ****     if (shell->parser.cursor > 0)
 867              		.loc 1 1384 1 view .LVU248
 868 0006 10B5     		push	{r4, lr}
 869              	.LCFI12:
 870              		.cfi_def_cfa_offset 8
 871              		.cfi_offset 4, -8
 872              		.cfi_offset 14, -4
 873 0008 0446     		mov	r4, r0
1386:SYS/shell/shell.c ****     {
1387:SYS/shell/shell.c ****         shellWriteByte(shell, '\b');
 874              		.loc 1 1387 9 is_stmt 1 view .LVU249
 875 000a 0821     		movs	r1, #8
 876 000c FFF7FEFF 		bl	shellWriteByte
 877              	.LVL74:
1388:SYS/shell/shell.c ****         shell->parser.cursor--;
 878              		.loc 1 1388 9 view .LVU250
 879              		.loc 1 1388 22 is_stmt 0 view .LVU251
 880 0010 E389     		ldrh	r3, [r4, #14]
 881              		.loc 1 1388 29 view .LVU252
 882 0012 013B     		subs	r3, r3, #1
 883 0014 E381     		strh	r3, [r4, #14]	@ movhi
1389:SYS/shell/shell.c ****     }
1390:SYS/shell/shell.c **** }
 884              		.loc 1 1390 1 view .LVU253
 885 0016 10BD     		pop	{r4, pc}
 886              		.loc 1 1390 1 view .LVU254
 887              		.cfi_endproc
 888              	.LFE170:
 890              		.section	.text.shellWriteString,"ax",%progbits
 891              		.align	1
 892              		.global	shellWriteString
 893              		.syntax unified
 894              		.thumb
 895              		.thumb_func
 896              		.fpu fpv4-sp-d16
 898              	shellWriteString:
 899              	.LVL75:
 900              	.LFB130:
 264:SYS/shell/shell.c ****     unsigned short count = 0;
 901              		.loc 1 264 1 is_stmt 1 view -0
 902              		.cfi_startproc
 903              		@ args = 0, pretend = 0, frame = 0
 904              		@ frame_needed = 0, uses_anonymous_args = 0
 264:SYS/shell/shell.c ****     unsigned short count = 0;
 905              		.loc 1 264 1 is_stmt 0 view .LVU256
 906 0000 38B5     		push	{r3, r4, r5, lr}
 907              	.LCFI13:
 908              		.cfi_def_cfa_offset 16
 909              		.cfi_offset 3, -16
 910              		.cfi_offset 4, -12
 911              		.cfi_offset 5, -8
 912              		.cfi_offset 14, -4
 265:SYS/shell/shell.c ****     SHELL_ASSERT(shell->write, return 0);
 913              		.loc 1 265 5 is_stmt 1 view .LVU257
 914              	.LVL76:
 266:SYS/shell/shell.c **** 
 915              		.loc 1 266 5 view .LVU258
ARM GAS  /tmp/ccKSSxev.s 			page 43


 916 0002 856E     		ldr	r5, [r0, #104]
 917 0004 35B1     		cbz	r5, .L86
 918 0006 0C46     		mov	r4, r1
 266:SYS/shell/shell.c **** 
 919              		.loc 1 266 41 discriminator 2 view .LVU259
 268:SYS/shell/shell.c ****     return count;
 920              		.loc 1 268 5 discriminator 2 view .LVU260
 268:SYS/shell/shell.c ****     return count;
 921              		.loc 1 268 26 is_stmt 0 discriminator 2 view .LVU261
 922 0008 0846     		mov	r0, r1
 923              	.LVL77:
 268:SYS/shell/shell.c ****     return count;
 924              		.loc 1 268 26 discriminator 2 view .LVU262
 925 000a FFF7FEFF 		bl	strlen
 926              	.LVL78:
 268:SYS/shell/shell.c ****     return count;
 927              		.loc 1 268 5 discriminator 2 view .LVU263
 928 000e 81B2     		uxth	r1, r0
 929 0010 2046     		mov	r0, r4
 930 0012 A847     		blx	r5
 931              	.LVL79:
 269:SYS/shell/shell.c **** }
 932              		.loc 1 269 5 is_stmt 1 discriminator 2 view .LVU264
 933              	.L86:
 270:SYS/shell/shell.c **** 
 934              		.loc 1 270 1 is_stmt 0 view .LVU265
 935 0014 0020     		movs	r0, #0
 936 0016 38BD     		pop	{r3, r4, r5, pc}
 937              		.cfi_endproc
 938              	.LFE130:
 940              		.section	.text.shellSetUser,"ax",%progbits
 941              		.align	1
 942              		.syntax unified
 943              		.thumb
 944              		.thumb_func
 945              		.fpu fpv4-sp-d16
 947              	shellSetUser:
 948              	.LVL80:
 949              	.LFB161:
1170:SYS/shell/shell.c ****     shell->info.user = user;
 950              		.loc 1 1170 1 is_stmt 1 view -0
 951              		.cfi_startproc
 952              		@ args = 0, pretend = 0, frame = 0
 953              		@ frame_needed = 0, uses_anonymous_args = 0
1170:SYS/shell/shell.c ****     shell->info.user = user;
 954              		.loc 1 1170 1 is_stmt 0 view .LVU267
 955 0000 10B5     		push	{r4, lr}
 956              	.LCFI14:
 957              		.cfi_def_cfa_offset 8
 958              		.cfi_offset 4, -8
 959              		.cfi_offset 14, -4
 960 0002 0446     		mov	r4, r0
1171:SYS/shell/shell.c ****     shell->status.isChecked =
 961              		.loc 1 1171 5 is_stmt 1 view .LVU268
1171:SYS/shell/shell.c ****     shell->status.isChecked =
 962              		.loc 1 1171 22 is_stmt 0 view .LVU269
 963 0004 0160     		str	r1, [r0]
ARM GAS  /tmp/ccKSSxev.s 			page 44


1172:SYS/shell/shell.c ****         ((user->data.user.password && strlen(user->data.user.password) != 0) && (shell->parser.para
 964              		.loc 1 1172 5 is_stmt 1 view .LVU270
1173:SYS/shell/shell.c ****             ? 0
 965              		.loc 1 1173 26 is_stmt 0 view .LVU271
 966 0006 8868     		ldr	r0, [r1, #8]
 967              	.LVL81:
1175:SYS/shell/shell.c **** 
 968              		.loc 1 1175 13 view .LVU272
 969 0008 50B1     		cbz	r0, .L91
1173:SYS/shell/shell.c ****             ? 0
 970              		.loc 1 1173 72 view .LVU273
 971 000a 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1173:SYS/shell/shell.c ****             ? 0
 972              		.loc 1 1173 36 view .LVU274
 973 000c 53B1     		cbz	r3, .L92
1173:SYS/shell/shell.c ****             ? 0
 974              		.loc 1 1173 95 discriminator 1 view .LVU275
 975 000e E38E     		ldrh	r3, [r4, #54]
1175:SYS/shell/shell.c **** 
 976              		.loc 1 1175 13 discriminator 1 view .LVU276
 977 0010 012B     		cmp	r3, #1
 978 0012 18D9     		bls	.L93
1173:SYS/shell/shell.c ****             ? 0
 979              		.loc 1 1173 114 view .LVU277
 980 0014 A169     		ldr	r1, [r4, #24]
 981              	.LVL82:
1173:SYS/shell/shell.c ****             ? 0
 982              		.loc 1 1173 114 view .LVU278
 983 0016 FFF7FEFF 		bl	strcmp
 984              	.LVL83:
1173:SYS/shell/shell.c ****             ? 0
 985              		.loc 1 1173 111 view .LVU279
 986 001a B0B1     		cbz	r0, .L94
1175:SYS/shell/shell.c **** 
 987              		.loc 1 1175 13 view .LVU280
 988 001c 0022     		movs	r2, #0
 989 001e 02E0     		b	.L89
 990              	.LVL84:
 991              	.L91:
1175:SYS/shell/shell.c **** 
 992              		.loc 1 1175 13 view .LVU281
 993 0020 0122     		movs	r2, #1
 994 0022 00E0     		b	.L89
 995              	.L92:
 996 0024 0122     		movs	r2, #1
 997              	.LVL85:
 998              	.L89:
1172:SYS/shell/shell.c ****         ((user->data.user.password && strlen(user->data.user.password) != 0) && (shell->parser.para
 999              		.loc 1 1172 29 discriminator 4 view .LVU282
 1000 0026 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 1001 002a 62F30003 		bfi	r3, r2, #0, #1
 1002 002e 84F86030 		strb	r3, [r4, #96]
1178:SYS/shell/shell.c **** #endif
 1003              		.loc 1 1178 5 is_stmt 1 discriminator 4 view .LVU283
 1004 0032 0949     		ldr	r1, .L97
 1005 0034 2046     		mov	r0, r4
 1006 0036 FFF7FEFF 		bl	shellWriteString
ARM GAS  /tmp/ccKSSxev.s 			page 45


 1007              	.LVL86:
1181:SYS/shell/shell.c ****     {
 1008              		.loc 1 1181 5 discriminator 4 view .LVU284
1181:SYS/shell/shell.c ****     {
 1009              		.loc 1 1181 9 is_stmt 0 discriminator 4 view .LVU285
 1010 003a 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
1181:SYS/shell/shell.c ****     {
 1011              		.loc 1 1181 8 discriminator 4 view .LVU286
 1012 003e 13F0010F 		tst	r3, #1
 1013 0042 04D1     		bne	.L96
 1014              	.L88:
1186:SYS/shell/shell.c **** 
 1015              		.loc 1 1186 1 view .LVU287
 1016 0044 10BD     		pop	{r4, pc}
 1017              	.LVL87:
 1018              	.L93:
1175:SYS/shell/shell.c **** 
 1019              		.loc 1 1175 13 view .LVU288
 1020 0046 0022     		movs	r2, #0
 1021 0048 EDE7     		b	.L89
 1022              	.LVL88:
 1023              	.L94:
1175:SYS/shell/shell.c **** 
 1024              		.loc 1 1175 13 view .LVU289
 1025 004a 0122     		movs	r2, #1
 1026 004c EBE7     		b	.L89
 1027              	.L96:
1183:SYS/shell/shell.c ****     }
 1028              		.loc 1 1183 9 is_stmt 1 view .LVU290
 1029 004e 0349     		ldr	r1, .L97+4
 1030 0050 2046     		mov	r0, r4
 1031 0052 FFF7FEFF 		bl	shellWriteString
 1032              	.LVL89:
1186:SYS/shell/shell.c **** 
 1033              		.loc 1 1186 1 is_stmt 0 view .LVU291
 1034 0056 F5E7     		b	.L88
 1035              	.L98:
 1036              		.align	2
 1037              	.L97:
 1038 0058 00000000 		.word	.LC0
 1039 005c 0C000000 		.word	.LC1
 1040              		.cfi_endproc
 1041              	.LFE161:
 1043              		.section	.text.shellWriteCommandLine,"ax",%progbits
 1044              		.align	1
 1045              		.syntax unified
 1046              		.thumb
 1047              		.thumb_func
 1048              		.fpu fpv4-sp-d16
 1050              	shellWriteCommandLine:
 1051              	.LVL90:
 1052              	.LFB132:
 307:SYS/shell/shell.c ****     if (shell->status.isChecked)
 1053              		.loc 1 307 1 is_stmt 1 view -0
 1054              		.cfi_startproc
 1055              		@ args = 0, pretend = 0, frame = 0
 1056              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccKSSxev.s 			page 46


 307:SYS/shell/shell.c ****     if (shell->status.isChecked)
 1057              		.loc 1 307 1 is_stmt 0 view .LVU293
 1058 0000 10B5     		push	{r4, lr}
 1059              	.LCFI15:
 1060              		.cfi_def_cfa_offset 8
 1061              		.cfi_offset 4, -8
 1062              		.cfi_offset 14, -4
 1063 0002 0446     		mov	r4, r0
 308:SYS/shell/shell.c ****     {
 1064              		.loc 1 308 5 is_stmt 1 view .LVU294
 308:SYS/shell/shell.c ****     {
 1065              		.loc 1 308 9 is_stmt 0 view .LVU295
 1066 0004 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
 308:SYS/shell/shell.c ****     {
 1067              		.loc 1 308 8 view .LVU296
 1068 0008 13F0010F 		tst	r3, #1
 1069 000c 19D0     		beq	.L100
 310:SYS/shell/shell.c ****         {
 1070              		.loc 1 310 9 is_stmt 1 view .LVU297
 310:SYS/shell/shell.c ****         {
 1071              		.loc 1 310 12 is_stmt 0 view .LVU298
 1072 000e 91B9     		cbnz	r1, .L105
 1073              	.LVL91:
 1074              	.L101:
 314:SYS/shell/shell.c ****         shellWriteString(shell, ":");
 1075              		.loc 1 314 9 is_stmt 1 view .LVU299
 314:SYS/shell/shell.c ****         shellWriteString(shell, ":");
 1076              		.loc 1 314 44 is_stmt 0 view .LVU300
 1077 0010 2368     		ldr	r3, [r4]
 314:SYS/shell/shell.c ****         shellWriteString(shell, ":");
 1078              		.loc 1 314 9 view .LVU301
 1079 0012 5968     		ldr	r1, [r3, #4]
 1080 0014 2046     		mov	r0, r4
 1081 0016 FFF7FEFF 		bl	shellWriteString
 1082              	.LVL92:
 315:SYS/shell/shell.c ****         shellWriteString(shell, shell->info.path ? shell->info.path : "/");
 1083              		.loc 1 315 9 is_stmt 1 view .LVU302
 1084 001a 0C49     		ldr	r1, .L107
 1085 001c 2046     		mov	r0, r4
 1086 001e FFF7FEFF 		bl	shellWriteString
 1087              	.LVL93:
 316:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1088              		.loc 1 316 9 view .LVU303
 316:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1089              		.loc 1 316 44 is_stmt 0 view .LVU304
 1090 0022 A168     		ldr	r1, [r4, #8]
 316:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1091              		.loc 1 316 9 view .LVU305
 1092 0024 59B1     		cbz	r1, .L106
 1093              	.L102:
 316:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1094              		.loc 1 316 9 discriminator 4 view .LVU306
 1095 0026 2046     		mov	r0, r4
 1096 0028 FFF7FEFF 		bl	shellWriteString
 1097              	.LVL94:
 317:SYS/shell/shell.c ****     }
 1098              		.loc 1 317 9 is_stmt 1 discriminator 4 view .LVU307
ARM GAS  /tmp/ccKSSxev.s 			page 47


 1099 002c 0849     		ldr	r1, .L107+4
 1100 002e 2046     		mov	r0, r4
 1101 0030 FFF7FEFF 		bl	shellWriteString
 1102              	.LVL95:
 1103              	.L99:
 323:SYS/shell/shell.c **** 
 1104              		.loc 1 323 1 is_stmt 0 view .LVU308
 1105 0034 10BD     		pop	{r4, pc}
 1106              	.LVL96:
 1107              	.L105:
 312:SYS/shell/shell.c ****         }
 1108              		.loc 1 312 13 is_stmt 1 view .LVU309
 1109 0036 0749     		ldr	r1, .L107+8
 1110              	.LVL97:
 312:SYS/shell/shell.c ****         }
 1111              		.loc 1 312 13 is_stmt 0 view .LVU310
 1112 0038 FFF7FEFF 		bl	shellWriteString
 1113              	.LVL98:
 312:SYS/shell/shell.c ****         }
 1114              		.loc 1 312 13 view .LVU311
 1115 003c E8E7     		b	.L101
 1116              	.L106:
 316:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1117              		.loc 1 316 9 view .LVU312
 1118 003e 0649     		ldr	r1, .L107+12
 1119 0040 F1E7     		b	.L102
 1120              	.LVL99:
 1121              	.L100:
 321:SYS/shell/shell.c ****     }
 1122              		.loc 1 321 9 is_stmt 1 view .LVU313
 1123 0042 0649     		ldr	r1, .L107+16
 1124              	.LVL100:
 321:SYS/shell/shell.c ****     }
 1125              		.loc 1 321 9 is_stmt 0 view .LVU314
 1126 0044 FFF7FEFF 		bl	shellWriteString
 1127              	.LVL101:
 323:SYS/shell/shell.c **** 
 1128              		.loc 1 323 1 view .LVU315
 1129 0048 F4E7     		b	.L99
 1130              	.L108:
 1131 004a 00BF     		.align	2
 1132              	.L107:
 1133 004c 08000000 		.word	.LC4
 1134 0050 0C000000 		.word	.LC5
 1135 0054 04000000 		.word	.LC3
 1136 0058 00000000 		.word	.LC2
 1137 005c 10000000 		.word	.LC6
 1138              		.cfi_endproc
 1139              	.LFE132:
 1141              		.section	.text.shellCheckPassword,"ax",%progbits
 1142              		.align	1
 1143              		.syntax unified
 1144              		.thumb
 1145              		.thumb_func
 1146              		.fpu fpv4-sp-d16
 1148              	shellCheckPassword:
 1149              	.LVL102:
ARM GAS  /tmp/ccKSSxev.s 			page 48


 1150              	.LFB160:
1147:SYS/shell/shell.c ****     if (strcmp(shell->parser.buffer, shell->info.user->data.user.password) == 0)
 1151              		.loc 1 1147 1 is_stmt 1 view -0
 1152              		.cfi_startproc
 1153              		@ args = 0, pretend = 0, frame = 0
 1154              		@ frame_needed = 0, uses_anonymous_args = 0
1147:SYS/shell/shell.c ****     if (strcmp(shell->parser.buffer, shell->info.user->data.user.password) == 0)
 1155              		.loc 1 1147 1 is_stmt 0 view .LVU317
 1156 0000 10B5     		push	{r4, lr}
 1157              	.LCFI16:
 1158              		.cfi_def_cfa_offset 8
 1159              		.cfi_offset 4, -8
 1160              		.cfi_offset 14, -4
 1161 0002 0446     		mov	r4, r0
1148:SYS/shell/shell.c ****     {
 1162              		.loc 1 1148 5 is_stmt 1 view .LVU318
1148:SYS/shell/shell.c ****     {
 1163              		.loc 1 1148 49 is_stmt 0 view .LVU319
 1164 0004 0368     		ldr	r3, [r0]
1148:SYS/shell/shell.c ****     {
 1165              		.loc 1 1148 9 view .LVU320
 1166 0006 9968     		ldr	r1, [r3, #8]
 1167 0008 0069     		ldr	r0, [r0, #16]
 1168              	.LVL103:
1148:SYS/shell/shell.c ****     {
 1169              		.loc 1 1148 9 view .LVU321
 1170 000a FFF7FEFF 		bl	strcmp
 1171              	.LVL104:
1148:SYS/shell/shell.c ****     {
 1172              		.loc 1 1148 8 view .LVU322
 1173 000e 68B9     		cbnz	r0, .L110
1150:SYS/shell/shell.c **** #if SHELL_SHOW_INFO == 1
 1174              		.loc 1 1150 9 is_stmt 1 view .LVU323
1150:SYS/shell/shell.c **** #if SHELL_SHOW_INFO == 1
 1175              		.loc 1 1150 33 is_stmt 0 view .LVU324
 1176 0010 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 1177 0014 43F00103 		orr	r3, r3, #1
 1178 0018 84F86030 		strb	r3, [r4, #96]
1152:SYS/shell/shell.c **** #endif
 1179              		.loc 1 1152 9 is_stmt 1 view .LVU325
 1180 001c 0649     		ldr	r1, .L113
 1181 001e 2046     		mov	r0, r4
 1182 0020 FFF7FEFF 		bl	shellWriteString
 1183              	.LVL105:
 1184              	.L111:
1159:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 1185              		.loc 1 1159 5 view .LVU326
1159:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 1186              		.loc 1 1159 26 is_stmt 0 view .LVU327
 1187 0024 0023     		movs	r3, #0
 1188 0026 A381     		strh	r3, [r4, #12]	@ movhi
1160:SYS/shell/shell.c **** }
 1189              		.loc 1 1160 5 is_stmt 1 view .LVU328
1160:SYS/shell/shell.c **** }
 1190              		.loc 1 1160 26 is_stmt 0 view .LVU329
 1191 0028 E381     		strh	r3, [r4, #14]	@ movhi
1161:SYS/shell/shell.c **** 
ARM GAS  /tmp/ccKSSxev.s 			page 49


 1192              		.loc 1 1161 1 view .LVU330
 1193 002a 10BD     		pop	{r4, pc}
 1194              	.LVL106:
 1195              	.L110:
1157:SYS/shell/shell.c ****     }
 1196              		.loc 1 1157 9 is_stmt 1 view .LVU331
 1197 002c 0349     		ldr	r1, .L113+4
 1198 002e 2046     		mov	r0, r4
 1199 0030 FFF7FEFF 		bl	shellWriteString
 1200              	.LVL107:
 1201 0034 F6E7     		b	.L111
 1202              	.L114:
 1203 0036 00BF     		.align	2
 1204              	.L113:
 1205 0038 0C000000 		.word	.LC1
 1206 003c 00000000 		.word	.LC7
 1207              		.cfi_endproc
 1208              	.LFE160:
 1210              		.section	.text.shellClear,"ax",%progbits
 1211              		.align	1
 1212              		.global	shellClear
 1213              		.syntax unified
 1214              		.thumb
 1215              		.thumb_func
 1216              		.fpu fpv4-sp-d16
 1218              	shellClear:
 1219              	.LFB182:
1391:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
1392:SYS/shell/shell.c ****                  0x1B5B4400, shellLeft, left);
1393:SYS/shell/shell.c **** 
1394:SYS/shell/shell.c **** /**
1395:SYS/shell/shell.c ****  * @brief shell Tab按键处理
1396:SYS/shell/shell.c ****  * 
1397:SYS/shell/shell.c ****  * @param shell shell对象
1398:SYS/shell/shell.c ****  */
1399:SYS/shell/shell.c **** void shellTab(Shell *shell)
1400:SYS/shell/shell.c **** {
1401:SYS/shell/shell.c ****     unsigned short maxMatch = shell->parser.bufferSize;
1402:SYS/shell/shell.c ****     unsigned short lastMatchIndex = 0;
1403:SYS/shell/shell.c ****     unsigned short matchNum = 0;
1404:SYS/shell/shell.c ****     unsigned short length;
1405:SYS/shell/shell.c **** 
1406:SYS/shell/shell.c ****     if (shell->parser.length == 0)
1407:SYS/shell/shell.c ****     {
1408:SYS/shell/shell.c ****         shellListAll(shell);
1409:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
1410:SYS/shell/shell.c ****     }
1411:SYS/shell/shell.c ****     else if (shell->parser.length > 0)
1412:SYS/shell/shell.c ****     {
1413:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
1414:SYS/shell/shell.c ****         ShellCommand *base = (ShellCommand *)shell->commandList.base;
1415:SYS/shell/shell.c ****         for (short i = 0; i < shell->commandList.count; i++)
1416:SYS/shell/shell.c ****         {
1417:SYS/shell/shell.c ****             if (shellCheckPermission(shell, &base[i]) == 0 && shellStringCompare(shell->parser.buff
1418:SYS/shell/shell.c ****                                                                                  (char *)shellGetCo
1419:SYS/shell/shell.c ****             {
1420:SYS/shell/shell.c ****                 if (matchNum != 0)
ARM GAS  /tmp/ccKSSxev.s 			page 50


1421:SYS/shell/shell.c ****                 {
1422:SYS/shell/shell.c ****                     if (matchNum == 1)
1423:SYS/shell/shell.c ****                     {
1424:SYS/shell/shell.c ****                         shellWriteString(shell, "\r\n");
1425:SYS/shell/shell.c ****                     }
1426:SYS/shell/shell.c ****                     shellListItem(shell, &base[lastMatchIndex]);
1427:SYS/shell/shell.c ****                     length =
1428:SYS/shell/shell.c ****                         shellStringCompare((char *)shellGetCommandName(&base[lastMatchIndex]),
1429:SYS/shell/shell.c ****                                            (char *)shellGetCommandName(&base[i]));
1430:SYS/shell/shell.c ****                     maxMatch = (maxMatch > length) ? length : maxMatch;
1431:SYS/shell/shell.c ****                 }
1432:SYS/shell/shell.c ****                 lastMatchIndex = i;
1433:SYS/shell/shell.c ****                 matchNum++;
1434:SYS/shell/shell.c ****             }
1435:SYS/shell/shell.c ****         }
1436:SYS/shell/shell.c ****         if (matchNum == 0)
1437:SYS/shell/shell.c ****         {
1438:SYS/shell/shell.c ****             return;
1439:SYS/shell/shell.c ****         }
1440:SYS/shell/shell.c ****         if (matchNum == 1)
1441:SYS/shell/shell.c ****         {
1442:SYS/shell/shell.c ****             shellClearCommandLine(shell);
1443:SYS/shell/shell.c ****         }
1444:SYS/shell/shell.c ****         if (matchNum != 0)
1445:SYS/shell/shell.c ****         {
1446:SYS/shell/shell.c ****             shell->parser.length =
1447:SYS/shell/shell.c ****                 shellStringCopy(shell->parser.buffer,
1448:SYS/shell/shell.c ****                                 (char *)shellGetCommandName(&base[lastMatchIndex]));
1449:SYS/shell/shell.c ****         }
1450:SYS/shell/shell.c ****         if (matchNum > 1)
1451:SYS/shell/shell.c ****         {
1452:SYS/shell/shell.c ****             shellListItem(shell, &base[lastMatchIndex]);
1453:SYS/shell/shell.c ****             shellWriteCommandLine(shell, 1);
1454:SYS/shell/shell.c ****             shell->parser.length = maxMatch;
1455:SYS/shell/shell.c ****         }
1456:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
1457:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
1458:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
1459:SYS/shell/shell.c ****     }
1460:SYS/shell/shell.c **** 
1461:SYS/shell/shell.c ****     if (SHELL_GET_TICK())
1462:SYS/shell/shell.c ****     {
1463:SYS/shell/shell.c ****         if (matchNum == 1 && shell->status.tabFlag && SHELL_GET_TICK() - shell->info.activeTime < S
1464:SYS/shell/shell.c ****         {
1465:SYS/shell/shell.c ****             shellClearCommandLine(shell);
1466:SYS/shell/shell.c ****             for (short i = shell->parser.length; i >= 0; i--)
1467:SYS/shell/shell.c ****             {
1468:SYS/shell/shell.c ****                 shell->parser.buffer[i + 5] = shell->parser.buffer[i];
1469:SYS/shell/shell.c ****             }
1470:SYS/shell/shell.c ****             shellStringCopy(shell->parser.buffer, "help");
1471:SYS/shell/shell.c ****             shell->parser.buffer[4] = ' ';
1472:SYS/shell/shell.c ****             shell->parser.length += 5;
1473:SYS/shell/shell.c ****             shell->parser.cursor = shell->parser.length;
1474:SYS/shell/shell.c ****             shellWriteString(shell, shell->parser.buffer);
1475:SYS/shell/shell.c ****         }
1476:SYS/shell/shell.c ****         else
1477:SYS/shell/shell.c ****         {
ARM GAS  /tmp/ccKSSxev.s 			page 51


1478:SYS/shell/shell.c ****             shell->status.tabFlag = 1;
1479:SYS/shell/shell.c ****         }
1480:SYS/shell/shell.c ****     }
1481:SYS/shell/shell.c **** }
1482:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x09000000, shellTab, tab);
1483:SYS/shell/shell.c **** 
1484:SYS/shell/shell.c **** /**
1485:SYS/shell/shell.c ****  * @brief shell 退格
1486:SYS/shell/shell.c ****  * 
1487:SYS/shell/shell.c ****  * @param shell shell对象
1488:SYS/shell/shell.c ****  */
1489:SYS/shell/shell.c **** void shellBackspace(Shell *shell)
1490:SYS/shell/shell.c **** {
1491:SYS/shell/shell.c ****     shellDeleteByte(shell, 1);
1492:SYS/shell/shell.c **** }
1493:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
1494:SYS/shell/shell.c ****                  0x08000000, shellBackspace, backspace);
1495:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
1496:SYS/shell/shell.c ****                  0x7F000000, shellBackspace, backspace);
1497:SYS/shell/shell.c **** 
1498:SYS/shell/shell.c **** /**
1499:SYS/shell/shell.c ****  * @brief shell 删除
1500:SYS/shell/shell.c ****  * 
1501:SYS/shell/shell.c ****  * @param shell shell对象
1502:SYS/shell/shell.c ****  */
1503:SYS/shell/shell.c **** void shellDelete(Shell *shell)
1504:SYS/shell/shell.c **** {
1505:SYS/shell/shell.c ****     shellDeleteByte(shell, -1);
1506:SYS/shell/shell.c **** }
1507:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
1508:SYS/shell/shell.c ****                  0x1B5B337E, shellDelete, delete);
1509:SYS/shell/shell.c **** 
1510:SYS/shell/shell.c **** /**
1511:SYS/shell/shell.c ****  * @brief shell 回车处理
1512:SYS/shell/shell.c ****  * 
1513:SYS/shell/shell.c ****  * @param shell shell对象
1514:SYS/shell/shell.c ****  */
1515:SYS/shell/shell.c **** void shellEnter(Shell *shell)
1516:SYS/shell/shell.c **** {
1517:SYS/shell/shell.c ****     shellExec(shell);
1518:SYS/shell/shell.c ****     shellWriteCommandLine(shell, 1);
1519:SYS/shell/shell.c **** }
1520:SYS/shell/shell.c **** #if SHELL_ENTER_LF == 1
1521:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
1522:SYS/shell/shell.c ****                  0x0A000000, shellEnter, enter);
1523:SYS/shell/shell.c **** #endif
1524:SYS/shell/shell.c **** #if SHELL_ENTER_CR == 1
1525:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
1526:SYS/shell/shell.c ****                  0x0D000000, shellEnter, enter);
1527:SYS/shell/shell.c **** #endif
1528:SYS/shell/shell.c **** #if SHELL_ENTER_CRLF == 1
1529:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
1530:SYS/shell/shell.c ****                  0x0D0A0000, shellEnter, enter);
1531:SYS/shell/shell.c **** #endif
1532:SYS/shell/shell.c **** 
1533:SYS/shell/shell.c **** /**
1534:SYS/shell/shell.c ****  * @brief shell help
ARM GAS  /tmp/ccKSSxev.s 			page 52


1535:SYS/shell/shell.c ****  * 
1536:SYS/shell/shell.c ****  * @param argc 参数个数
1537:SYS/shell/shell.c ****  * @param argv 参数
1538:SYS/shell/shell.c ****  */
1539:SYS/shell/shell.c **** void shellHelp(int argc, char *argv[])
1540:SYS/shell/shell.c **** {
1541:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1542:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return );
1543:SYS/shell/shell.c ****     if (argc == 1)
1544:SYS/shell/shell.c ****     {
1545:SYS/shell/shell.c ****         shellListAll(shell);
1546:SYS/shell/shell.c ****     }
1547:SYS/shell/shell.c ****     else if (argc > 1)
1548:SYS/shell/shell.c ****     {
1549:SYS/shell/shell.c ****         ShellCommand *command = shellSeekCommand(shell,
1550:SYS/shell/shell.c ****                                                  argv[1],
1551:SYS/shell/shell.c ****                                                  shell->commandList.base,
1552:SYS/shell/shell.c ****                                                  0);
1553:SYS/shell/shell.c ****         if (command)
1554:SYS/shell/shell.c ****         {
1555:SYS/shell/shell.c ****             shellWriteString(shell, shellText[SHELL_TEXT_HELP_HEADER]);
1556:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandName(command));
1557:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
1558:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandDesc(command));
1559:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
1560:SYS/shell/shell.c ****         }
1561:SYS/shell/shell.c ****         else
1562:SYS/shell/shell.c ****         {
1563:SYS/shell/shell.c ****             shellWriteString(shell, shellText[SHELL_TEXT_CMD_NOT_FOUND]);
1564:SYS/shell/shell.c ****         }
1565:SYS/shell/shell.c ****     }
1566:SYS/shell/shell.c **** }
1567:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1568:SYS/shell/shell.c ****     SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_MAIN) | SHELL_CMD_DISABLE_RETURN,
1569:SYS/shell/shell.c ****     help, shellHelp, show command info\r\nhelp[cmd]);
1570:SYS/shell/shell.c **** 
1571:SYS/shell/shell.c **** /**
1572:SYS/shell/shell.c ****  * @brief shell 输入处理
1573:SYS/shell/shell.c ****  * 
1574:SYS/shell/shell.c ****  * @param shell shell对象
1575:SYS/shell/shell.c ****  * @param data 输入数据
1576:SYS/shell/shell.c ****  */
1577:SYS/shell/shell.c **** void shellHandler(Shell *shell, char data)
1578:SYS/shell/shell.c **** {
1579:SYS/shell/shell.c ****     SHELL_ASSERT(data, return );
1580:SYS/shell/shell.c **** 
1581:SYS/shell/shell.c **** #if SHELL_LOCK_TIMEOUT > 0
1582:SYS/shell/shell.c ****     if (shell->info.user->data.user.password && strlen(shell->info.user->data.user.password) != 0 &
1583:SYS/shell/shell.c ****     {
1584:SYS/shell/shell.c ****         if (SHELL_GET_TICK() - shell->info.activeTime > SHELL_LOCK_TIMEOUT)
1585:SYS/shell/shell.c ****         {
1586:SYS/shell/shell.c ****             shell->status.isChecked = 0;
1587:SYS/shell/shell.c ****         }
1588:SYS/shell/shell.c ****     }
1589:SYS/shell/shell.c **** #endif
1590:SYS/shell/shell.c **** 
1591:SYS/shell/shell.c ****     /* 根据记录的按键键值计算当前字节在按键键值中的偏移 */
ARM GAS  /tmp/ccKSSxev.s 			page 53


1592:SYS/shell/shell.c ****     char keyByteOffset = 24;
1593:SYS/shell/shell.c ****     int keyFilter = 0x00000000;
1594:SYS/shell/shell.c ****     if ((shell->parser.keyValue & 0x0000FF00) != 0x00000000)
1595:SYS/shell/shell.c ****     {
1596:SYS/shell/shell.c ****         keyByteOffset = 0;
1597:SYS/shell/shell.c ****         keyFilter = 0xFFFFFF00;
1598:SYS/shell/shell.c ****     }
1599:SYS/shell/shell.c ****     else if ((shell->parser.keyValue & 0x00FF0000) != 0x00000000)
1600:SYS/shell/shell.c ****     {
1601:SYS/shell/shell.c ****         keyByteOffset = 8;
1602:SYS/shell/shell.c ****         keyFilter = 0xFFFF0000;
1603:SYS/shell/shell.c ****     }
1604:SYS/shell/shell.c ****     else if ((shell->parser.keyValue & 0xFF000000) != 0x00000000)
1605:SYS/shell/shell.c ****     {
1606:SYS/shell/shell.c ****         keyByteOffset = 16;
1607:SYS/shell/shell.c ****         keyFilter = 0xFF000000;
1608:SYS/shell/shell.c ****     }
1609:SYS/shell/shell.c **** 
1610:SYS/shell/shell.c ****     /* 遍历ShellCommand列表，尝试进行按键键值匹配 */
1611:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
1612:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
1613:SYS/shell/shell.c ****     {
1614:SYS/shell/shell.c ****         /* 判断是否是按键定义并验证权限 */
1615:SYS/shell/shell.c ****         if (base[i].attr.attrs.type == SHELL_TYPE_KEY && shellCheckPermission(shell, &(base[i])) ==
1616:SYS/shell/shell.c ****         {
1617:SYS/shell/shell.c ****             /* 对输入的字节同按键键值进行匹配 */
1618:SYS/shell/shell.c ****             if ((base[i].data.key.value & keyFilter) == shell->parser.keyValue && (base[i].data.key
1619:SYS/shell/shell.c ****             {
1620:SYS/shell/shell.c ****                 shell->parser.keyValue |= data << keyByteOffset;
1621:SYS/shell/shell.c ****                 data = 0x00;
1622:SYS/shell/shell.c ****                 if (keyByteOffset == 0 || (base[i].data.key.value & (0xFF << (keyByteOffset - 8))) 
1623:SYS/shell/shell.c ****                 {
1624:SYS/shell/shell.c ****                     if (base[i].data.key.function)
1625:SYS/shell/shell.c ****                     {
1626:SYS/shell/shell.c ****                         base[i].data.key.function(shell);
1627:SYS/shell/shell.c ****                     }
1628:SYS/shell/shell.c ****                     shell->parser.keyValue = 0x00000000;
1629:SYS/shell/shell.c ****                     break;
1630:SYS/shell/shell.c ****                 }
1631:SYS/shell/shell.c ****             }
1632:SYS/shell/shell.c ****         }
1633:SYS/shell/shell.c ****     }
1634:SYS/shell/shell.c **** 
1635:SYS/shell/shell.c ****     if (data != 0x00)
1636:SYS/shell/shell.c ****     {
1637:SYS/shell/shell.c ****         shell->parser.keyValue = 0x00000000;
1638:SYS/shell/shell.c ****         shellNormalInput(shell, data);
1639:SYS/shell/shell.c ****     }
1640:SYS/shell/shell.c **** 
1641:SYS/shell/shell.c ****     if (SHELL_GET_TICK())
1642:SYS/shell/shell.c ****     {
1643:SYS/shell/shell.c ****         shell->info.activeTime = SHELL_GET_TICK();
1644:SYS/shell/shell.c ****     }
1645:SYS/shell/shell.c **** }
1646:SYS/shell/shell.c **** 
1647:SYS/shell/shell.c **** #if SHELL_SUPPORT_END_LINE == 1
1648:SYS/shell/shell.c **** void shellWriteEndLine(Shell *shell, char *buffer, int len)
ARM GAS  /tmp/ccKSSxev.s 			page 54


1649:SYS/shell/shell.c **** {
1650:SYS/shell/shell.c ****     if (!shell->status.isActive)
1651:SYS/shell/shell.c ****     {
1652:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_CLEAR_LINE]);
1653:SYS/shell/shell.c ****     }
1654:SYS/shell/shell.c ****     while (len--)
1655:SYS/shell/shell.c ****     {
1656:SYS/shell/shell.c ****         shell->write(*buffer++);
1657:SYS/shell/shell.c ****     }
1658:SYS/shell/shell.c ****     if (!shell->status.isActive)
1659:SYS/shell/shell.c ****     {
1660:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 0);
1661:SYS/shell/shell.c ****         if (shell->parser.length > 0)
1662:SYS/shell/shell.c ****         {
1663:SYS/shell/shell.c ****             shellWriteString(shell, shell->parser.buffer);
1664:SYS/shell/shell.c ****             for (short i = 0; i < shell->parser.length - shell->parser.cursor; i++)
1665:SYS/shell/shell.c ****             {
1666:SYS/shell/shell.c ****                 shell->write('\b');
1667:SYS/shell/shell.c ****             }
1668:SYS/shell/shell.c ****         }
1669:SYS/shell/shell.c ****     }
1670:SYS/shell/shell.c **** }
1671:SYS/shell/shell.c **** #endif /** SHELL_SUPPORT_END_LINE == 1 */
1672:SYS/shell/shell.c **** 
1673:SYS/shell/shell.c **** /**
1674:SYS/shell/shell.c ****  * @brief shell 任务
1675:SYS/shell/shell.c ****  * 
1676:SYS/shell/shell.c ****  * @param param 参数(shell对象)
1677:SYS/shell/shell.c ****  * 
1678:SYS/shell/shell.c ****  */
1679:SYS/shell/shell.c **** void shellTask(void *param)
1680:SYS/shell/shell.c **** {
1681:SYS/shell/shell.c ****     Shell *shell = (Shell *)param;
1682:SYS/shell/shell.c ****     char data;
1683:SYS/shell/shell.c **** #if SHELL_TASK_WHILE == 1
1684:SYS/shell/shell.c ****     while (1)
1685:SYS/shell/shell.c ****     {
1686:SYS/shell/shell.c **** #endif
1687:SYS/shell/shell.c ****         if (shell->read && shell->read(&data) == 0)
1688:SYS/shell/shell.c ****         {
1689:SYS/shell/shell.c ****             shellHandler(shell, data);
1690:SYS/shell/shell.c ****         }
1691:SYS/shell/shell.c **** #if SHELL_TASK_WHILE == 1
1692:SYS/shell/shell.c ****     }
1693:SYS/shell/shell.c **** #endif
1694:SYS/shell/shell.c **** }
1695:SYS/shell/shell.c **** 
1696:SYS/shell/shell.c **** /**
1697:SYS/shell/shell.c ****  * @brief shell 输出用户列表(shell调用)
1698:SYS/shell/shell.c ****  */
1699:SYS/shell/shell.c **** void shellUsers(void)
1700:SYS/shell/shell.c **** {
1701:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1702:SYS/shell/shell.c ****     if (shell)
1703:SYS/shell/shell.c ****     {
1704:SYS/shell/shell.c ****         shellListUser(shell);
1705:SYS/shell/shell.c ****     }
ARM GAS  /tmp/ccKSSxev.s 			page 55


1706:SYS/shell/shell.c **** }
1707:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1708:SYS/shell/shell.c ****     SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_RETURN,
1709:SYS/shell/shell.c ****     users, shellUsers, list all user);
1710:SYS/shell/shell.c **** 
1711:SYS/shell/shell.c **** /**
1712:SYS/shell/shell.c ****  * @brief shell 输出命令列表(shell调用)
1713:SYS/shell/shell.c ****  */
1714:SYS/shell/shell.c **** void shellCmds(void)
1715:SYS/shell/shell.c **** {
1716:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1717:SYS/shell/shell.c ****     if (shell)
1718:SYS/shell/shell.c ****     {
1719:SYS/shell/shell.c ****         shellListCommand(shell);
1720:SYS/shell/shell.c ****     }
1721:SYS/shell/shell.c **** }
1722:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1723:SYS/shell/shell.c ****     SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_RETURN,
1724:SYS/shell/shell.c ****     cmds, shellCmds, list all cmd);
1725:SYS/shell/shell.c **** 
1726:SYS/shell/shell.c **** /**
1727:SYS/shell/shell.c ****  * @brief shell 输出变量列表(shell调用)
1728:SYS/shell/shell.c ****  */
1729:SYS/shell/shell.c **** void shellVars(void)
1730:SYS/shell/shell.c **** {
1731:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1732:SYS/shell/shell.c ****     if (shell)
1733:SYS/shell/shell.c ****     {
1734:SYS/shell/shell.c ****         shellListVar(shell);
1735:SYS/shell/shell.c ****     }
1736:SYS/shell/shell.c **** }
1737:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1738:SYS/shell/shell.c ****     SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_RETURN,
1739:SYS/shell/shell.c ****     vars, shellVars, list all var);
1740:SYS/shell/shell.c **** 
1741:SYS/shell/shell.c **** /**
1742:SYS/shell/shell.c ****  * @brief shell 输出按键列表(shell调用)
1743:SYS/shell/shell.c ****  */
1744:SYS/shell/shell.c **** void shellKeys(void)
1745:SYS/shell/shell.c **** {
1746:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1747:SYS/shell/shell.c ****     if (shell)
1748:SYS/shell/shell.c ****     {
1749:SYS/shell/shell.c ****         shellListKey(shell);
1750:SYS/shell/shell.c ****     }
1751:SYS/shell/shell.c **** }
1752:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1753:SYS/shell/shell.c ****     SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_RETURN,
1754:SYS/shell/shell.c ****     keys, shellKeys, list all key);
1755:SYS/shell/shell.c **** 
1756:SYS/shell/shell.c **** /**
1757:SYS/shell/shell.c ****  * @brief shell 清空控制台(shell调用)
1758:SYS/shell/shell.c ****  */
1759:SYS/shell/shell.c **** void shellClear(void)
1760:SYS/shell/shell.c **** {
 1220              		.loc 1 1760 1 view -0
 1221              		.cfi_startproc
ARM GAS  /tmp/ccKSSxev.s 			page 56


 1222              		@ args = 0, pretend = 0, frame = 0
 1223              		@ frame_needed = 0, uses_anonymous_args = 0
 1224 0000 08B5     		push	{r3, lr}
 1225              	.LCFI17:
 1226              		.cfi_def_cfa_offset 8
 1227              		.cfi_offset 3, -8
 1228              		.cfi_offset 14, -4
1761:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 1229              		.loc 1 1761 5 view .LVU333
 1230              		.loc 1 1761 20 is_stmt 0 view .LVU334
 1231 0002 FFF7FEFF 		bl	shellGetCurrent
 1232              	.LVL108:
1762:SYS/shell/shell.c ****     if (shell)
 1233              		.loc 1 1762 5 is_stmt 1 view .LVU335
 1234              		.loc 1 1762 8 is_stmt 0 view .LVU336
 1235 0006 10B1     		cbz	r0, .L115
1763:SYS/shell/shell.c ****     {
1764:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_CLEAR_CONSOLE]);
 1236              		.loc 1 1764 9 is_stmt 1 view .LVU337
 1237 0008 0149     		ldr	r1, .L118
 1238 000a FFF7FEFF 		bl	shellWriteString
 1239              	.LVL109:
 1240              	.L115:
1765:SYS/shell/shell.c ****     }
1766:SYS/shell/shell.c **** }
 1241              		.loc 1 1766 1 is_stmt 0 view .LVU338
 1242 000e 08BD     		pop	{r3, pc}
 1243              	.L119:
 1244              		.align	2
 1245              	.L118:
 1246 0010 00000000 		.word	.LC0
 1247              		.cfi_endproc
 1248              	.LFE182:
 1250              		.section	.text.shellPrint,"ax",%progbits
 1251              		.align	1
 1252              		.global	shellPrint
 1253              		.syntax unified
 1254              		.thumb
 1255              		.thumb_func
 1256              		.fpu fpv4-sp-d16
 1258              	shellPrint:
 1259              	.LVL110:
 1260              	.LFB133:
 334:SYS/shell/shell.c ****     char buffer[SHELL_PRINT_BUFFER];
 1261              		.loc 1 334 1 is_stmt 1 view -0
 1262              		.cfi_startproc
 1263              		@ args = 4, pretend = 12, frame = 136
 1264              		@ frame_needed = 0, uses_anonymous_args = 1
 335:SYS/shell/shell.c ****     va_list vargs;
 1265              		.loc 1 335 5 view .LVU340
 336:SYS/shell/shell.c **** 
 1266              		.loc 1 336 5 view .LVU341
 338:SYS/shell/shell.c **** 
 1267              		.loc 1 338 5 view .LVU342
 1268 0000 98B1     		cbz	r0, .L124
 334:SYS/shell/shell.c ****     char buffer[SHELL_PRINT_BUFFER];
 1269              		.loc 1 334 1 is_stmt 0 discriminator 2 view .LVU343
ARM GAS  /tmp/ccKSSxev.s 			page 57


 1270 0002 0EB4     		push	{r1, r2, r3}
 1271              	.LCFI18:
 1272              		.cfi_def_cfa_offset 12
 1273              		.cfi_offset 1, -12
 1274              		.cfi_offset 2, -8
 1275              		.cfi_offset 3, -4
 1276 0004 10B5     		push	{r4, lr}
 1277              	.LCFI19:
 1278              		.cfi_def_cfa_offset 20
 1279              		.cfi_offset 4, -20
 1280              		.cfi_offset 14, -16
 1281 0006 A3B0     		sub	sp, sp, #140
 1282              	.LCFI20:
 1283              		.cfi_def_cfa_offset 160
 1284 0008 0446     		mov	r4, r0
 338:SYS/shell/shell.c **** 
 1285              		.loc 1 338 33 is_stmt 1 discriminator 2 view .LVU344
 340:SYS/shell/shell.c ****     vsnprintf(buffer, SHELL_PRINT_BUFFER - 1, fmt, vargs);
 1286              		.loc 1 340 5 discriminator 2 view .LVU345
 1287 000a 26AB     		add	r3, sp, #152
 1288 000c 0193     		str	r3, [sp, #4]
 341:SYS/shell/shell.c ****     va_end(vargs);
 1289              		.loc 1 341 5 discriminator 2 view .LVU346
 1290 000e 259A     		ldr	r2, [sp, #148]
 1291 0010 7F21     		movs	r1, #127
 1292 0012 02A8     		add	r0, sp, #8
 1293              	.LVL111:
 341:SYS/shell/shell.c ****     va_end(vargs);
 1294              		.loc 1 341 5 is_stmt 0 discriminator 2 view .LVU347
 1295 0014 FFF7FEFF 		bl	vsnprintf
 1296              	.LVL112:
 342:SYS/shell/shell.c **** 
 1297              		.loc 1 342 5 is_stmt 1 discriminator 2 view .LVU348
 344:SYS/shell/shell.c **** }
 1298              		.loc 1 344 5 discriminator 2 view .LVU349
 1299 0018 02A9     		add	r1, sp, #8
 1300 001a 2046     		mov	r0, r4
 1301 001c FFF7FEFF 		bl	shellWriteString
 1302              	.LVL113:
 345:SYS/shell/shell.c **** #endif
 1303              		.loc 1 345 1 is_stmt 0 discriminator 2 view .LVU350
 1304 0020 23B0     		add	sp, sp, #140
 1305              	.LCFI21:
 1306              		.cfi_def_cfa_offset 20
 1307              		@ sp needed
 1308 0022 BDE81040 		pop	{r4, lr}
 1309              	.LCFI22:
 1310              		.cfi_restore 14
 1311              		.cfi_restore 4
 1312              		.cfi_def_cfa_offset 12
 1313              	.LVL114:
 345:SYS/shell/shell.c **** #endif
 1314              		.loc 1 345 1 discriminator 2 view .LVU351
 1315 0026 03B0     		add	sp, sp, #12
 1316              	.LCFI23:
 1317              		.cfi_restore 3
 1318              		.cfi_restore 2
ARM GAS  /tmp/ccKSSxev.s 			page 58


 1319              		.cfi_restore 1
 1320              		.cfi_def_cfa_offset 0
 1321 0028 7047     		bx	lr
 1322              	.LVL115:
 1323              	.L124:
 345:SYS/shell/shell.c **** #endif
 1324              		.loc 1 345 1 discriminator 2 view .LVU352
 1325 002a 7047     		bx	lr
 1326              		.cfi_endproc
 1327              	.LFE133:
 1329              		.section	.text.shellScan,"ax",%progbits
 1330              		.align	1
 1331              		.global	shellScan
 1332              		.syntax unified
 1333              		.thumb
 1334              		.thumb_func
 1335              		.fpu fpv4-sp-d16
 1337              	shellScan:
 1338              	.LVL116:
 1339              	.LFB134:
 357:SYS/shell/shell.c ****     char buffer[SHELL_SCAN_BUFFER];
 1340              		.loc 1 357 1 is_stmt 1 view -0
 1341              		.cfi_startproc
 1342              		@ args = 4, pretend = 12, frame = 8
 1343              		@ frame_needed = 0, uses_anonymous_args = 1
 358:SYS/shell/shell.c ****     va_list vargs;
 1344              		.loc 1 358 5 view .LVU354
 359:SYS/shell/shell.c ****     short index = 0;
 1345              		.loc 1 359 5 view .LVU355
 360:SYS/shell/shell.c **** 
 1346              		.loc 1 360 5 view .LVU356
 362:SYS/shell/shell.c **** 
 1347              		.loc 1 362 5 view .LVU357
 1348 0000 0028     		cmp	r0, #0
 1349 0002 35D0     		beq	.L135
 357:SYS/shell/shell.c ****     char buffer[SHELL_SCAN_BUFFER];
 1350              		.loc 1 357 1 is_stmt 0 discriminator 2 view .LVU358
 1351 0004 0EB4     		push	{r1, r2, r3}
 1352              	.LCFI24:
 1353              		.cfi_def_cfa_offset 12
 1354              		.cfi_offset 1, -12
 1355              		.cfi_offset 2, -8
 1356              		.cfi_offset 3, -4
 1357 0006 70B5     		push	{r4, r5, r6, lr}
 1358              	.LCFI25:
 1359              		.cfi_def_cfa_offset 28
 1360              		.cfi_offset 4, -28
 1361              		.cfi_offset 5, -24
 1362              		.cfi_offset 6, -20
 1363              		.cfi_offset 14, -16
 1364 0008 83B0     		sub	sp, sp, #12
 1365              	.LCFI26:
 1366              		.cfi_def_cfa_offset 40
 1367 000a 0646     		mov	r6, r0
 362:SYS/shell/shell.c **** 
 1368              		.loc 1 362 33 is_stmt 1 discriminator 2 view .LVU359
 364:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 59


 1369              		.loc 1 364 5 discriminator 2 view .LVU360
 364:SYS/shell/shell.c ****     {
 1370              		.loc 1 364 14 is_stmt 0 discriminator 2 view .LVU361
 1371 000c 436E     		ldr	r3, [r0, #100]
 364:SYS/shell/shell.c ****     {
 1372              		.loc 1 364 8 discriminator 2 view .LVU362
 1373 000e 23B3     		cbz	r3, .L130
 360:SYS/shell/shell.c **** 
 1374              		.loc 1 360 11 view .LVU363
 1375 0010 0024     		movs	r4, #0
 1376 0012 0BE0     		b	.L133
 1377              	.LVL117:
 1378              	.L131:
 373:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1379              		.loc 1 373 31 view .LVU364
 1380 0014 2546     		mov	r5, r4
 1381 0016 631E     		subs	r3, r4, #1
 373:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1382              		.loc 1 373 24 view .LVU365
 1383 0018 02AA     		add	r2, sp, #8
 1384 001a 1344     		add	r3, r3, r2
 1385 001c 13F8043C 		ldrb	r3, [r3, #-4]	@ zero_extendqisi2
 373:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1386              		.loc 1 373 9 view .LVU366
 1387 0020 0D2B     		cmp	r3, #13
 1388 0022 11D0     		beq	.L132
 373:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1389              		.loc 1 373 44 discriminator 1 view .LVU367
 1390 0024 0A2B     		cmp	r3, #10
 1391 0026 0FD0     		beq	.L132
 373:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1392              		.loc 1 373 73 discriminator 2 view .LVU368
 1393 0028 002C     		cmp	r4, #0
 1394 002a 0DDC     		bgt	.L132
 1395              	.LVL118:
 1396              	.L133:
 366:SYS/shell/shell.c ****         {
 1397              		.loc 1 366 9 is_stmt 1 view .LVU369
 368:SYS/shell/shell.c ****             {
 1398              		.loc 1 368 13 view .LVU370
 368:SYS/shell/shell.c ****             {
 1399              		.loc 1 368 22 is_stmt 0 view .LVU371
 1400 002c 736E     		ldr	r3, [r6, #100]
 368:SYS/shell/shell.c ****             {
 1401              		.loc 1 368 17 view .LVU372
 1402 002e 01AA     		add	r2, sp, #4
 1403 0030 1519     		adds	r5, r2, r4
 1404 0032 2846     		mov	r0, r5
 1405 0034 9847     		blx	r3
 1406              	.LVL119:
 368:SYS/shell/shell.c ****             {
 1407              		.loc 1 368 16 view .LVU373
 1408 0036 0028     		cmp	r0, #0
 1409 0038 ECD1     		bne	.L131
 370:SYS/shell/shell.c ****                 index++;
 1410              		.loc 1 370 17 is_stmt 1 view .LVU374
 370:SYS/shell/shell.c ****                 index++;
ARM GAS  /tmp/ccKSSxev.s 			page 60


 1411              		.loc 1 370 22 is_stmt 0 view .LVU375
 1412 003a B36E     		ldr	r3, [r6, #104]
 370:SYS/shell/shell.c ****                 index++;
 1413              		.loc 1 370 17 view .LVU376
 1414 003c 0121     		movs	r1, #1
 1415 003e 2846     		mov	r0, r5
 1416 0040 9847     		blx	r3
 1417              	.LVL120:
 371:SYS/shell/shell.c ****             }
 1418              		.loc 1 371 17 is_stmt 1 view .LVU377
 371:SYS/shell/shell.c ****             }
 1419              		.loc 1 371 22 is_stmt 0 view .LVU378
 1420 0042 0134     		adds	r4, r4, #1
 1421              	.LVL121:
 371:SYS/shell/shell.c ****             }
 1422              		.loc 1 371 22 view .LVU379
 1423 0044 24B2     		sxth	r4, r4
 1424              	.LVL122:
 371:SYS/shell/shell.c ****             }
 1425              		.loc 1 371 22 view .LVU380
 1426 0046 E5E7     		b	.L131
 1427              	.L132:
 374:SYS/shell/shell.c ****         buffer[index] = '\0';
 1428              		.loc 1 374 9 is_stmt 1 view .LVU381
 1429 0048 0A49     		ldr	r1, .L138
 1430 004a 3046     		mov	r0, r6
 1431 004c FFF7FEFF 		bl	shellWriteString
 1432              	.LVL123:
 375:SYS/shell/shell.c ****     }
 1433              		.loc 1 375 9 view .LVU382
 375:SYS/shell/shell.c ****     }
 1434              		.loc 1 375 23 is_stmt 0 view .LVU383
 1435 0050 02AB     		add	r3, sp, #8
 1436 0052 1D44     		add	r5, r5, r3
 1437 0054 0023     		movs	r3, #0
 1438 0056 05F8043C 		strb	r3, [r5, #-4]
 1439              	.LVL124:
 1440              	.L130:
 378:SYS/shell/shell.c ****     vsscanf(buffer, fmt, vargs);
 1441              		.loc 1 378 5 is_stmt 1 view .LVU384
 1442 005a 08AA     		add	r2, sp, #32
 1443 005c 0092     		str	r2, [sp]
 379:SYS/shell/shell.c ****     va_end(vargs);
 1444              		.loc 1 379 5 view .LVU385
 1445 005e 0799     		ldr	r1, [sp, #28]
 1446 0060 01A8     		add	r0, sp, #4
 1447 0062 FFF7FEFF 		bl	vsscanf
 1448              	.LVL125:
 380:SYS/shell/shell.c **** }
 1449              		.loc 1 380 5 view .LVU386
 381:SYS/shell/shell.c **** #endif
 1450              		.loc 1 381 1 is_stmt 0 view .LVU387
 1451 0066 03B0     		add	sp, sp, #12
 1452              	.LCFI27:
 1453              		.cfi_def_cfa_offset 28
 1454              		@ sp needed
 1455 0068 BDE87040 		pop	{r4, r5, r6, lr}
ARM GAS  /tmp/ccKSSxev.s 			page 61


 1456              	.LCFI28:
 1457              		.cfi_restore 14
 1458              		.cfi_restore 6
 1459              		.cfi_restore 5
 1460              		.cfi_restore 4
 1461              		.cfi_def_cfa_offset 12
 1462              	.LVL126:
 381:SYS/shell/shell.c **** #endif
 1463              		.loc 1 381 1 view .LVU388
 1464 006c 03B0     		add	sp, sp, #12
 1465              	.LCFI29:
 1466              		.cfi_restore 3
 1467              		.cfi_restore 2
 1468              		.cfi_restore 1
 1469              		.cfi_def_cfa_offset 0
 1470 006e 7047     		bx	lr
 1471              	.LVL127:
 1472              	.L135:
 381:SYS/shell/shell.c **** #endif
 1473              		.loc 1 381 1 view .LVU389
 1474 0070 7047     		bx	lr
 1475              	.L139:
 1476 0072 00BF     		.align	2
 1477              	.L138:
 1478 0074 04000000 		.word	.LC3
 1479              		.cfi_endproc
 1480              	.LFE134:
 1482              		.section	.text.shellCheckPermission,"ax",%progbits
 1483              		.align	1
 1484              		.global	shellCheckPermission
 1485              		.syntax unified
 1486              		.thumb
 1487              		.thumb_func
 1488              		.fpu fpv4-sp-d16
 1490              	shellCheckPermission:
 1491              	.LVL128:
 1492              	.LFB135:
 394:SYS/shell/shell.c ****     return ((!command->attr.attrs.permission || command->attr.attrs.type == SHELL_TYPE_USER || (com
 1493              		.loc 1 394 1 is_stmt 1 view -0
 1494              		.cfi_startproc
 1495              		@ args = 0, pretend = 0, frame = 0
 1496              		@ frame_needed = 0, uses_anonymous_args = 0
 1497              		@ link register save eliminated.
 395:SYS/shell/shell.c ****                ? 0
 1498              		.loc 1 395 5 view .LVU391
 395:SYS/shell/shell.c ****                ? 0
 1499              		.loc 1 395 34 is_stmt 0 view .LVU392
 1500 0000 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 397:SYS/shell/shell.c **** }
 1501              		.loc 1 397 16 view .LVU393
 1502 0002 43B1     		cbz	r3, .L141
 395:SYS/shell/shell.c ****                ? 0
 1503              		.loc 1 395 74 view .LVU394
 1504 0004 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 1505 0006 02F00F02 		and	r2, r2, #15
 395:SYS/shell/shell.c ****                ? 0
 1506              		.loc 1 395 46 view .LVU395
ARM GAS  /tmp/ccKSSxev.s 			page 62


 1507 000a 082A     		cmp	r2, #8
 1508 000c 03D0     		beq	.L141
 395:SYS/shell/shell.c ****                ? 0
 1509              		.loc 1 395 141 discriminator 2 view .LVU396
 1510 000e 0268     		ldr	r2, [r0]
 395:SYS/shell/shell.c ****                ? 0
 1511              		.loc 1 395 158 discriminator 2 view .LVU397
 1512 0010 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 395:SYS/shell/shell.c ****                ? 0
 1513              		.loc 1 395 93 discriminator 2 view .LVU398
 1514 0012 1342     		tst	r3, r2
 1515 0014 0DD0     		beq	.L143
 1516              	.L141:
 395:SYS/shell/shell.c ****                ? 0
 1517              		.loc 1 395 176 discriminator 3 view .LVU399
 1518 0016 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
 395:SYS/shell/shell.c ****                ? 0
 1519              		.loc 1 395 172 discriminator 3 view .LVU400
 1520 001a 13F0010F 		tst	r3, #1
 1521 001e 0BD1     		bne	.L144
 395:SYS/shell/shell.c ****                ? 0
 1522              		.loc 1 395 200 discriminator 4 view .LVU401
 1523 0020 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1524 0022 13F0100F 		tst	r3, #16
 1525 0026 01D0     		beq	.L146
 397:SYS/shell/shell.c **** }
 1526              		.loc 1 397 16 view .LVU402
 1527 0028 0020     		movs	r0, #0
 1528              	.LVL129:
 398:SYS/shell/shell.c **** 
 1529              		.loc 1 398 1 view .LVU403
 1530 002a 7047     		bx	lr
 1531              	.LVL130:
 1532              	.L146:
 397:SYS/shell/shell.c **** }
 1533              		.loc 1 397 16 view .LVU404
 1534 002c 4FF0FF30 		mov	r0, #-1
 1535              	.LVL131:
 397:SYS/shell/shell.c **** }
 1536              		.loc 1 397 16 view .LVU405
 1537 0030 7047     		bx	lr
 1538              	.LVL132:
 1539              	.L143:
 397:SYS/shell/shell.c **** }
 1540              		.loc 1 397 16 view .LVU406
 1541 0032 4FF0FF30 		mov	r0, #-1
 1542              	.LVL133:
 397:SYS/shell/shell.c **** }
 1543              		.loc 1 397 16 view .LVU407
 1544 0036 7047     		bx	lr
 1545              	.LVL134:
 1546              	.L144:
 397:SYS/shell/shell.c **** }
 1547              		.loc 1 397 16 view .LVU408
 1548 0038 0020     		movs	r0, #0
 1549              	.LVL135:
 397:SYS/shell/shell.c **** }
ARM GAS  /tmp/ccKSSxev.s 			page 63


 1550              		.loc 1 397 16 view .LVU409
 1551 003a 7047     		bx	lr
 1552              		.cfi_endproc
 1553              	.LFE135:
 1555              		.section	.text.shellToHex,"ax",%progbits
 1556              		.align	1
 1557              		.global	shellToHex
 1558              		.syntax unified
 1559              		.thumb
 1560              		.thumb_func
 1561              		.fpu fpv4-sp-d16
 1563              	shellToHex:
 1564              	.LVL136:
 1565              	.LFB136:
 409:SYS/shell/shell.c ****     char byte;
 1566              		.loc 1 409 1 is_stmt 1 view -0
 1567              		.cfi_startproc
 1568              		@ args = 0, pretend = 0, frame = 0
 1569              		@ frame_needed = 0, uses_anonymous_args = 0
 1570              		@ link register save eliminated.
 410:SYS/shell/shell.c ****     unsigned char i = 8;
 1571              		.loc 1 410 5 view .LVU411
 411:SYS/shell/shell.c ****     buffer[8] = 0;
 1572              		.loc 1 411 5 view .LVU412
 412:SYS/shell/shell.c ****     while (value)
 1573              		.loc 1 412 5 view .LVU413
 412:SYS/shell/shell.c ****     while (value)
 1574              		.loc 1 412 15 is_stmt 0 view .LVU414
 1575 0000 0023     		movs	r3, #0
 1576 0002 0B72     		strb	r3, [r1, #8]
 413:SYS/shell/shell.c ****     {
 1577              		.loc 1 413 5 is_stmt 1 view .LVU415
 411:SYS/shell/shell.c ****     buffer[8] = 0;
 1578              		.loc 1 411 19 is_stmt 0 view .LVU416
 1579 0004 0823     		movs	r3, #8
 413:SYS/shell/shell.c ****     {
 1580              		.loc 1 413 11 view .LVU417
 1581 0006 04E0     		b	.L148
 1582              	.LVL137:
 1583              	.L149:
 416:SYS/shell/shell.c ****         value >>= 4;
 1584              		.loc 1 416 21 discriminator 2 view .LVU418
 1585 0008 3032     		adds	r2, r2, #48
 1586              	.LVL138:
 1587              	.L150:
 416:SYS/shell/shell.c ****         value >>= 4;
 1588              		.loc 1 416 21 discriminator 4 view .LVU419
 1589 000a 013B     		subs	r3, r3, #1
 1590              	.LVL139:
 416:SYS/shell/shell.c ****         value >>= 4;
 1591              		.loc 1 416 21 discriminator 4 view .LVU420
 1592 000c DBB2     		uxtb	r3, r3
 1593              	.LVL140:
 416:SYS/shell/shell.c ****         value >>= 4;
 1594              		.loc 1 416 21 discriminator 4 view .LVU421
 1595 000e CA54     		strb	r2, [r1, r3]
 417:SYS/shell/shell.c ****     }
ARM GAS  /tmp/ccKSSxev.s 			page 64


 1596              		.loc 1 417 9 is_stmt 1 discriminator 4 view .LVU422
 417:SYS/shell/shell.c ****     }
 1597              		.loc 1 417 15 is_stmt 0 discriminator 4 view .LVU423
 1598 0010 0009     		lsrs	r0, r0, #4
 1599              	.LVL141:
 1600              	.L148:
 413:SYS/shell/shell.c ****     {
 1601              		.loc 1 413 11 view .LVU424
 1602 0012 28B1     		cbz	r0, .L152
 415:SYS/shell/shell.c ****         buffer[--i] = (byte > 9) ? (byte + 87) : (byte + 48);
 1603              		.loc 1 415 9 is_stmt 1 view .LVU425
 415:SYS/shell/shell.c ****         buffer[--i] = (byte > 9) ? (byte + 87) : (byte + 48);
 1604              		.loc 1 415 14 is_stmt 0 view .LVU426
 1605 0014 00F00F02 		and	r2, r0, #15
 1606              	.LVL142:
 416:SYS/shell/shell.c ****         value >>= 4;
 1607              		.loc 1 416 9 is_stmt 1 view .LVU427
 416:SYS/shell/shell.c ****         value >>= 4;
 1608              		.loc 1 416 21 is_stmt 0 view .LVU428
 1609 0018 092A     		cmp	r2, #9
 1610 001a F5D9     		bls	.L149
 416:SYS/shell/shell.c ****         value >>= 4;
 1611              		.loc 1 416 21 discriminator 1 view .LVU429
 1612 001c 5732     		adds	r2, r2, #87
 1613              	.LVL143:
 416:SYS/shell/shell.c ****         value >>= 4;
 1614              		.loc 1 416 21 discriminator 1 view .LVU430
 1615 001e F4E7     		b	.L150
 1616              	.LVL144:
 1617              	.L152:
 419:SYS/shell/shell.c **** }
 1618              		.loc 1 419 5 is_stmt 1 view .LVU431
 419:SYS/shell/shell.c **** }
 1619              		.loc 1 419 14 is_stmt 0 view .LVU432
 1620 0020 C3F10800 		rsb	r0, r3, #8
 1621              	.LVL145:
 420:SYS/shell/shell.c **** 
 1622              		.loc 1 420 1 view .LVU433
 1623 0024 40B2     		sxtb	r0, r0
 1624 0026 7047     		bx	lr
 1625              		.cfi_endproc
 1626              	.LFE136:
 1628              		.section	.text.shellGetCommandName,"ax",%progbits
 1629              		.align	1
 1630              		.syntax unified
 1631              		.thumb
 1632              		.thumb_func
 1633              		.fpu fpv4-sp-d16
 1635              	shellGetCommandName:
 1636              	.LVL146:
 1637              	.LFB140:
 505:SYS/shell/shell.c ****     static char buffer[9];
 1638              		.loc 1 505 1 is_stmt 1 view -0
 1639              		.cfi_startproc
 1640              		@ args = 0, pretend = 0, frame = 0
 1641              		@ frame_needed = 0, uses_anonymous_args = 0
 506:SYS/shell/shell.c ****     for (unsigned char i = 0; i < 9; i++)
ARM GAS  /tmp/ccKSSxev.s 			page 65


 1642              		.loc 1 506 5 view .LVU435
 507:SYS/shell/shell.c ****     {
 1643              		.loc 1 507 5 view .LVU436
 1644              	.LBB8:
 507:SYS/shell/shell.c ****     {
 1645              		.loc 1 507 10 view .LVU437
 507:SYS/shell/shell.c ****     {
 1646              		.loc 1 507 24 is_stmt 0 view .LVU438
 1647 0000 0023     		movs	r3, #0
 507:SYS/shell/shell.c ****     {
 1648              		.loc 1 507 5 view .LVU439
 1649 0002 04E0     		b	.L154
 1650              	.LVL147:
 1651              	.L155:
 509:SYS/shell/shell.c ****     }
 1652              		.loc 1 509 9 is_stmt 1 discriminator 3 view .LVU440
 509:SYS/shell/shell.c ****     }
 1653              		.loc 1 509 19 is_stmt 0 discriminator 3 view .LVU441
 1654 0004 0E4A     		ldr	r2, .L165
 1655 0006 3021     		movs	r1, #48
 1656 0008 D154     		strb	r1, [r2, r3]
 507:SYS/shell/shell.c ****     {
 1657              		.loc 1 507 39 discriminator 3 view .LVU442
 1658 000a 0133     		adds	r3, r3, #1
 1659              	.LVL148:
 507:SYS/shell/shell.c ****     {
 1660              		.loc 1 507 39 discriminator 3 view .LVU443
 1661 000c DBB2     		uxtb	r3, r3
 1662              	.LVL149:
 1663              	.L154:
 507:SYS/shell/shell.c ****     {
 1664              		.loc 1 507 5 discriminator 1 view .LVU444
 1665 000e 082B     		cmp	r3, #8
 1666 0010 F8D9     		bls	.L155
 1667              	.LBE8:
 511:SYS/shell/shell.c ****     {
 1668              		.loc 1 511 5 is_stmt 1 view .LVU445
 511:SYS/shell/shell.c ****     {
 1669              		.loc 1 511 28 is_stmt 0 view .LVU446
 1670 0012 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 1671              	.LVL150:
 511:SYS/shell/shell.c ****     {
 1672              		.loc 1 511 28 view .LVU447
 1673 0014 03F00F03 		and	r3, r3, #15
 511:SYS/shell/shell.c ****     {
 1674              		.loc 1 511 8 view .LVU448
 1675 0018 012B     		cmp	r3, #1
 1676 001a 05D9     		bls	.L163
 515:SYS/shell/shell.c ****     {
 1677              		.loc 1 515 10 is_stmt 1 view .LVU449
 515:SYS/shell/shell.c ****     {
 1678              		.loc 1 515 13 is_stmt 0 view .LVU450
 1679 001c 072B     		cmp	r3, #7
 1680 001e 05D9     		bls	.L164
 519:SYS/shell/shell.c ****     {
 1681              		.loc 1 519 10 is_stmt 1 view .LVU451
 519:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 66


 1682              		.loc 1 519 13 is_stmt 0 view .LVU452
 1683 0020 082B     		cmp	r3, #8
 1684 0022 05D8     		bhi	.L159
 521:SYS/shell/shell.c ****     }
 1685              		.loc 1 521 9 is_stmt 1 view .LVU453
 521:SYS/shell/shell.c ****     }
 1686              		.loc 1 521 34 is_stmt 0 view .LVU454
 1687 0024 4068     		ldr	r0, [r0, #4]
 1688              	.LVL151:
 528:SYS/shell/shell.c **** 
 1689              		.loc 1 528 1 view .LVU455
 1690 0026 7047     		bx	lr
 1691              	.LVL152:
 1692              	.L163:
 513:SYS/shell/shell.c ****     }
 1693              		.loc 1 513 9 is_stmt 1 view .LVU456
 513:SYS/shell/shell.c ****     }
 1694              		.loc 1 513 33 is_stmt 0 view .LVU457
 1695 0028 4068     		ldr	r0, [r0, #4]
 1696              	.LVL153:
 513:SYS/shell/shell.c ****     }
 1697              		.loc 1 513 33 view .LVU458
 1698 002a 7047     		bx	lr
 1699              	.LVL154:
 1700              	.L164:
 517:SYS/shell/shell.c ****     }
 1701              		.loc 1 517 9 is_stmt 1 view .LVU459
 517:SYS/shell/shell.c ****     }
 1702              		.loc 1 517 33 is_stmt 0 view .LVU460
 1703 002c 4068     		ldr	r0, [r0, #4]
 1704              	.LVL155:
 517:SYS/shell/shell.c ****     }
 1705              		.loc 1 517 33 view .LVU461
 1706 002e 7047     		bx	lr
 1707              	.LVL156:
 1708              	.L159:
 505:SYS/shell/shell.c ****     static char buffer[9];
 1709              		.loc 1 505 1 view .LVU462
 1710 0030 10B5     		push	{r4, lr}
 1711              	.LCFI30:
 1712              		.cfi_def_cfa_offset 8
 1713              		.cfi_offset 4, -8
 1714              		.cfi_offset 14, -4
 525:SYS/shell/shell.c ****         return buffer;
 1715              		.loc 1 525 9 is_stmt 1 view .LVU463
 1716 0032 034C     		ldr	r4, .L165
 1717 0034 2146     		mov	r1, r4
 1718 0036 4068     		ldr	r0, [r0, #4]
 1719              	.LVL157:
 525:SYS/shell/shell.c ****         return buffer;
 1720              		.loc 1 525 9 is_stmt 0 view .LVU464
 1721 0038 FFF7FEFF 		bl	shellToHex
 1722              	.LVL158:
 526:SYS/shell/shell.c ****     }
 1723              		.loc 1 526 9 is_stmt 1 view .LVU465
 526:SYS/shell/shell.c ****     }
 1724              		.loc 1 526 16 is_stmt 0 view .LVU466
ARM GAS  /tmp/ccKSSxev.s 			page 67


 1725 003c 2046     		mov	r0, r4
 528:SYS/shell/shell.c **** 
 1726              		.loc 1 528 1 view .LVU467
 1727 003e 10BD     		pop	{r4, pc}
 1728              	.L166:
 1729              		.align	2
 1730              	.L165:
 1731 0040 00000000 		.word	.LANCHOR1
 1732              		.cfi_endproc
 1733              	.LFE140:
 1735              		.section	.text.shellToDec,"ax",%progbits
 1736              		.align	1
 1737              		.global	shellToDec
 1738              		.syntax unified
 1739              		.thumb
 1740              		.thumb_func
 1741              		.fpu fpv4-sp-d16
 1743              	shellToDec:
 1744              	.LVL159:
 1745              	.LFB137:
 431:SYS/shell/shell.c ****     unsigned char i = 11;
 1746              		.loc 1 431 1 is_stmt 1 view -0
 1747              		.cfi_startproc
 1748              		@ args = 0, pretend = 0, frame = 0
 1749              		@ frame_needed = 0, uses_anonymous_args = 0
 1750              		@ link register save eliminated.
 431:SYS/shell/shell.c ****     unsigned char i = 11;
 1751              		.loc 1 431 1 is_stmt 0 view .LVU469
 1752 0000 70B4     		push	{r4, r5, r6}
 1753              	.LCFI31:
 1754              		.cfi_def_cfa_offset 12
 1755              		.cfi_offset 4, -12
 1756              		.cfi_offset 5, -8
 1757              		.cfi_offset 6, -4
 432:SYS/shell/shell.c ****     int v = value;
 1758              		.loc 1 432 5 is_stmt 1 view .LVU470
 1759              	.LVL160:
 433:SYS/shell/shell.c ****     if (value < 0)
 1760              		.loc 1 433 5 view .LVU471
 434:SYS/shell/shell.c ****     {
 1761              		.loc 1 434 5 view .LVU472
 434:SYS/shell/shell.c ****     {
 1762              		.loc 1 434 8 is_stmt 0 view .LVU473
 1763 0002 0028     		cmp	r0, #0
 434:SYS/shell/shell.c ****     {
 1764              		.loc 1 434 8 view .LVU474
 1765 0004 15DB     		blt	.L175
 433:SYS/shell/shell.c ****     if (value < 0)
 1766              		.loc 1 433 9 view .LVU475
 1767 0006 0446     		mov	r4, r0
 1768              	.LVL161:
 1769              	.L168:
 438:SYS/shell/shell.c ****     while (v)
 1770              		.loc 1 438 5 is_stmt 1 view .LVU476
 438:SYS/shell/shell.c ****     while (v)
 1771              		.loc 1 438 16 is_stmt 0 view .LVU477
 1772 0008 0023     		movs	r3, #0
ARM GAS  /tmp/ccKSSxev.s 			page 68


 1773 000a CB72     		strb	r3, [r1, #11]
 439:SYS/shell/shell.c ****     {
 1774              		.loc 1 439 5 is_stmt 1 view .LVU478
 432:SYS/shell/shell.c ****     int v = value;
 1775              		.loc 1 432 19 is_stmt 0 view .LVU479
 1776 000c 0B22     		movs	r2, #11
 1777              	.LVL162:
 1778              	.L169:
 439:SYS/shell/shell.c ****     {
 1779              		.loc 1 439 11 view .LVU480
 1780 000e 94B1     		cbz	r4, .L176
 441:SYS/shell/shell.c ****         v /= 10;
 1781              		.loc 1 441 9 is_stmt 1 view .LVU481
 441:SYS/shell/shell.c ****         v /= 10;
 1782              		.loc 1 441 25 is_stmt 0 view .LVU482
 1783 0010 114D     		ldr	r5, .L178
 1784 0012 85FB0435 		smull	r3, r5, r5, r4
 1785 0016 E317     		asrs	r3, r4, #31
 1786 0018 C3EBA503 		rsb	r3, r3, r5, asr #2
 1787 001c 1E46     		mov	r6, r3
 1788 001e 03EB8303 		add	r3, r3, r3, lsl #2
 1789 0022 5D00     		lsls	r5, r3, #1
 1790 0024 631B     		subs	r3, r4, r5
 441:SYS/shell/shell.c ****         v /= 10;
 1791              		.loc 1 441 21 view .LVU483
 1792 0026 013A     		subs	r2, r2, #1
 1793              	.LVL163:
 441:SYS/shell/shell.c ****         v /= 10;
 1794              		.loc 1 441 21 view .LVU484
 1795 0028 D2B2     		uxtb	r2, r2
 1796              	.LVL164:
 441:SYS/shell/shell.c ****         v /= 10;
 1797              		.loc 1 441 30 view .LVU485
 1798 002a 3033     		adds	r3, r3, #48
 441:SYS/shell/shell.c ****         v /= 10;
 1799              		.loc 1 441 21 view .LVU486
 1800 002c 8B54     		strb	r3, [r1, r2]
 442:SYS/shell/shell.c ****     }
 1801              		.loc 1 442 9 is_stmt 1 view .LVU487
 442:SYS/shell/shell.c ****     }
 1802              		.loc 1 442 11 is_stmt 0 view .LVU488
 1803 002e 3446     		mov	r4, r6
 1804              	.LVL165:
 442:SYS/shell/shell.c ****     }
 1805              		.loc 1 442 11 view .LVU489
 1806 0030 EDE7     		b	.L169
 1807              	.LVL166:
 1808              	.L175:
 436:SYS/shell/shell.c ****     }
 1809              		.loc 1 436 9 is_stmt 1 view .LVU490
 436:SYS/shell/shell.c ****     }
 1810              		.loc 1 436 11 is_stmt 0 view .LVU491
 1811 0032 4442     		rsbs	r4, r0, #0
 1812              	.LVL167:
 436:SYS/shell/shell.c ****     }
 1813              		.loc 1 436 11 view .LVU492
 1814 0034 E8E7     		b	.L168
ARM GAS  /tmp/ccKSSxev.s 			page 69


 1815              	.LVL168:
 1816              	.L176:
 444:SYS/shell/shell.c ****     {
 1817              		.loc 1 444 5 is_stmt 1 view .LVU493
 444:SYS/shell/shell.c ****     {
 1818              		.loc 1 444 8 is_stmt 0 view .LVU494
 1819 0036 0028     		cmp	r0, #0
 1820 0038 09DB     		blt	.L177
 1821              	.L171:
 448:SYS/shell/shell.c ****     {
 1822              		.loc 1 448 5 is_stmt 1 view .LVU495
 448:SYS/shell/shell.c ****     {
 1823              		.loc 1 448 8 is_stmt 0 view .LVU496
 1824 003a 18B9     		cbnz	r0, .L172
 450:SYS/shell/shell.c ****     }
 1825              		.loc 1 450 9 is_stmt 1 view .LVU497
 450:SYS/shell/shell.c ****     }
 1826              		.loc 1 450 21 is_stmt 0 view .LVU498
 1827 003c 013A     		subs	r2, r2, #1
 1828              	.LVL169:
 450:SYS/shell/shell.c ****     }
 1829              		.loc 1 450 21 view .LVU499
 1830 003e D2B2     		uxtb	r2, r2
 1831              	.LVL170:
 450:SYS/shell/shell.c ****     }
 1832              		.loc 1 450 21 view .LVU500
 1833 0040 3023     		movs	r3, #48
 1834 0042 8B54     		strb	r3, [r1, r2]
 1835              	.L172:
 452:SYS/shell/shell.c **** }
 1836              		.loc 1 452 5 is_stmt 1 view .LVU501
 452:SYS/shell/shell.c **** }
 1837              		.loc 1 452 15 is_stmt 0 view .LVU502
 1838 0044 C2F10B00 		rsb	r0, r2, #11
 1839              	.LVL171:
 453:SYS/shell/shell.c **** 
 1840              		.loc 1 453 1 view .LVU503
 1841 0048 40B2     		sxtb	r0, r0
 1842 004a 70BC     		pop	{r4, r5, r6}
 1843              	.LCFI32:
 1844              		.cfi_remember_state
 1845              		.cfi_restore 6
 1846              		.cfi_restore 5
 1847              		.cfi_restore 4
 1848              		.cfi_def_cfa_offset 0
 1849              	.LVL172:
 453:SYS/shell/shell.c **** 
 1850              		.loc 1 453 1 view .LVU504
 1851 004c 7047     		bx	lr
 1852              	.LVL173:
 1853              	.L177:
 1854              	.LCFI33:
 1855              		.cfi_restore_state
 446:SYS/shell/shell.c ****     }
 1856              		.loc 1 446 9 is_stmt 1 view .LVU505
 446:SYS/shell/shell.c ****     }
 1857              		.loc 1 446 21 is_stmt 0 view .LVU506
ARM GAS  /tmp/ccKSSxev.s 			page 70


 1858 004e 013A     		subs	r2, r2, #1
 1859              	.LVL174:
 446:SYS/shell/shell.c ****     }
 1860              		.loc 1 446 21 view .LVU507
 1861 0050 D2B2     		uxtb	r2, r2
 1862              	.LVL175:
 446:SYS/shell/shell.c ****     }
 1863              		.loc 1 446 21 view .LVU508
 1864 0052 2D23     		movs	r3, #45
 1865 0054 8B54     		strb	r3, [r1, r2]
 1866 0056 F0E7     		b	.L171
 1867              	.L179:
 1868              		.align	2
 1869              	.L178:
 1870 0058 67666666 		.word	1717986919
 1871              		.cfi_endproc
 1872              	.LFE137:
 1874              		.section	.text.shellWriteReturnValue,"ax",%progbits
 1875              		.align	1
 1876              		.syntax unified
 1877              		.thumb
 1878              		.thumb_func
 1879              		.fpu fpv4-sp-d16
 1881              	shellWriteReturnValue:
 1882              	.LVL176:
 1883              	.LFB162:
1195:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
 1884              		.loc 1 1195 1 is_stmt 1 view -0
 1885              		.cfi_startproc
 1886              		@ args = 0, pretend = 0, frame = 16
 1887              		@ frame_needed = 0, uses_anonymous_args = 0
1195:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
 1888              		.loc 1 1195 1 is_stmt 0 view .LVU510
 1889 0000 70B5     		push	{r4, r5, r6, lr}
 1890              	.LCFI34:
 1891              		.cfi_def_cfa_offset 16
 1892              		.cfi_offset 4, -16
 1893              		.cfi_offset 5, -12
 1894              		.cfi_offset 6, -8
 1895              		.cfi_offset 14, -4
 1896 0002 84B0     		sub	sp, sp, #16
 1897              	.LCFI35:
 1898              		.cfi_def_cfa_offset 32
 1899 0004 0446     		mov	r4, r0
 1900 0006 0E46     		mov	r6, r1
1196:SYS/shell/shell.c ****     shellWriteString(shell, "Return: ");
 1901              		.loc 1 1196 5 is_stmt 1 view .LVU511
1196:SYS/shell/shell.c ****     shellWriteString(shell, "Return: ");
 1902              		.loc 1 1196 10 is_stmt 0 view .LVU512
 1903 0008 184B     		ldr	r3, .L184
 1904 000a 01AD     		add	r5, sp, #4
 1905 000c 93E80700 		ldm	r3, {r0, r1, r2}
 1906              	.LVL177:
1196:SYS/shell/shell.c ****     shellWriteString(shell, "Return: ");
 1907              		.loc 1 1196 10 view .LVU513
 1908 0010 85E80700 		stm	r5, {r0, r1, r2}
1197:SYS/shell/shell.c ****     shellWriteString(shell, &buffer[11 - shellToDec(value, buffer)]);
ARM GAS  /tmp/ccKSSxev.s 			page 71


 1909              		.loc 1 1197 5 is_stmt 1 view .LVU514
 1910 0014 1649     		ldr	r1, .L184+4
 1911 0016 2046     		mov	r0, r4
 1912 0018 FFF7FEFF 		bl	shellWriteString
 1913              	.LVL178:
1198:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
 1914              		.loc 1 1198 5 view .LVU515
1198:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
 1915              		.loc 1 1198 42 is_stmt 0 view .LVU516
 1916 001c 2946     		mov	r1, r5
 1917 001e 3046     		mov	r0, r6
 1918 0020 FFF7FEFF 		bl	shellToDec
 1919              	.LVL179:
1198:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
 1920              		.loc 1 1198 40 view .LVU517
 1921 0024 C0F10B01 		rsb	r1, r0, #11
1198:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
 1922              		.loc 1 1198 5 view .LVU518
 1923 0028 2944     		add	r1, r1, r5
 1924 002a 2046     		mov	r0, r4
 1925 002c FFF7FEFF 		bl	shellWriteString
 1926              	.LVL180:
1199:SYS/shell/shell.c ****     for (short i = 0; i < 11; i++)
 1927              		.loc 1 1199 5 is_stmt 1 view .LVU519
 1928 0030 1049     		ldr	r1, .L184+8
 1929 0032 2046     		mov	r0, r4
 1930 0034 FFF7FEFF 		bl	shellWriteString
 1931              	.LVL181:
1200:SYS/shell/shell.c ****     {
 1932              		.loc 1 1200 5 view .LVU520
 1933              	.LBB9:
1200:SYS/shell/shell.c ****     {
 1934              		.loc 1 1200 10 view .LVU521
1200:SYS/shell/shell.c ****     {
 1935              		.loc 1 1200 16 is_stmt 0 view .LVU522
 1936 0038 0023     		movs	r3, #0
1200:SYS/shell/shell.c ****     {
 1937              		.loc 1 1200 5 view .LVU523
 1938 003a 06E0     		b	.L181
 1939              	.LVL182:
 1940              	.L182:
1202:SYS/shell/shell.c ****     }
 1941              		.loc 1 1202 9 is_stmt 1 discriminator 3 view .LVU524
1202:SYS/shell/shell.c ****     }
 1942              		.loc 1 1202 19 is_stmt 0 discriminator 3 view .LVU525
 1943 003c 04AA     		add	r2, sp, #16
 1944 003e 1A44     		add	r2, r2, r3
 1945 0040 3021     		movs	r1, #48
 1946 0042 02F80C1C 		strb	r1, [r2, #-12]
1200:SYS/shell/shell.c ****     {
 1947              		.loc 1 1200 32 discriminator 3 view .LVU526
 1948 0046 0133     		adds	r3, r3, #1
 1949              	.LVL183:
1200:SYS/shell/shell.c ****     {
 1950              		.loc 1 1200 32 discriminator 3 view .LVU527
 1951 0048 1BB2     		sxth	r3, r3
 1952              	.LVL184:
ARM GAS  /tmp/ccKSSxev.s 			page 72


 1953              	.L181:
1200:SYS/shell/shell.c ****     {
 1954              		.loc 1 1200 5 discriminator 1 view .LVU528
 1955 004a 0A2B     		cmp	r3, #10
 1956 004c F6DD     		ble	.L182
 1957              	.LBE9:
1204:SYS/shell/shell.c ****     shellWriteString(shell, buffer);
 1958              		.loc 1 1204 5 is_stmt 1 view .LVU529
 1959 004e 01A9     		add	r1, sp, #4
 1960 0050 3046     		mov	r0, r6
 1961 0052 FFF7FEFF 		bl	shellToHex
 1962              	.LVL185:
1205:SYS/shell/shell.c ****     shellWriteString(shell, "\r\n");
 1963              		.loc 1 1205 5 view .LVU530
 1964 0056 01A9     		add	r1, sp, #4
 1965 0058 2046     		mov	r0, r4
 1966 005a FFF7FEFF 		bl	shellWriteString
 1967              	.LVL186:
1206:SYS/shell/shell.c **** }
 1968              		.loc 1 1206 5 view .LVU531
 1969 005e 0649     		ldr	r1, .L184+12
 1970 0060 2046     		mov	r0, r4
 1971 0062 FFF7FEFF 		bl	shellWriteString
 1972              	.LVL187:
1207:SYS/shell/shell.c **** 
 1973              		.loc 1 1207 1 is_stmt 0 view .LVU532
 1974 0066 04B0     		add	sp, sp, #16
 1975              	.LCFI36:
 1976              		.cfi_def_cfa_offset 16
 1977              		@ sp needed
 1978 0068 70BD     		pop	{r4, r5, r6, pc}
 1979              	.LVL188:
 1980              	.L185:
1207:SYS/shell/shell.c **** 
 1981              		.loc 1 1207 1 view .LVU533
 1982 006a 00BF     		.align	2
 1983              	.L184:
 1984 006c 14000000 		.word	.LC8
 1985 0070 00000000 		.word	.LC9
 1986 0074 0C000000 		.word	.LC10
 1987 0078 04000000 		.word	.LC3
 1988              		.cfi_endproc
 1989              	.LFE162:
 1991              		.section	.text.shellListItem,"ax",%progbits
 1992              		.align	1
 1993              		.global	shellListItem
 1994              		.syntax unified
 1995              		.thumb
 1996              		.thumb_func
 1997              		.fpu fpv4-sp-d16
 1999              	shellListItem:
 2000              	.LVL189:
 2001              	.LFB142:
 563:SYS/shell/shell.c ****     short spaceLength;
 2002              		.loc 1 563 1 is_stmt 1 view -0
 2003              		.cfi_startproc
 2004              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccKSSxev.s 			page 73


 2005              		@ frame_needed = 0, uses_anonymous_args = 0
 563:SYS/shell/shell.c ****     short spaceLength;
 2006              		.loc 1 563 1 is_stmt 0 view .LVU535
 2007 0000 70B5     		push	{r4, r5, r6, lr}
 2008              	.LCFI37:
 2009              		.cfi_def_cfa_offset 16
 2010              		.cfi_offset 4, -16
 2011              		.cfi_offset 5, -12
 2012              		.cfi_offset 6, -8
 2013              		.cfi_offset 14, -4
 2014 0002 0546     		mov	r5, r0
 2015 0004 0E46     		mov	r6, r1
 564:SYS/shell/shell.c **** 
 2016              		.loc 1 564 5 is_stmt 1 view .LVU536
 566:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2017              		.loc 1 566 5 view .LVU537
 566:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2018              		.loc 1 566 24 is_stmt 0 view .LVU538
 2019 0006 0846     		mov	r0, r1
 2020              	.LVL190:
 566:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2021              		.loc 1 566 24 view .LVU539
 2022 0008 FFF7FEFF 		bl	shellGetCommandName
 2023              	.LVL191:
 566:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2024              		.loc 1 566 24 view .LVU540
 2025 000c 0146     		mov	r1, r0
 2026 000e 2846     		mov	r0, r5
 2027 0010 FFF7FEFF 		bl	shellWriteString
 2028              	.LVL192:
 566:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2029              		.loc 1 566 22 view .LVU541
 2030 0014 C0F11600 		rsb	r0, r0, #22
 566:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2031              		.loc 1 566 17 view .LVU542
 2032 0018 04B2     		sxth	r4, r0
 2033              	.LVL193:
 567:SYS/shell/shell.c ****     do
 2034              		.loc 1 567 5 is_stmt 1 view .LVU543
 567:SYS/shell/shell.c ****     do
 2035              		.loc 1 567 17 is_stmt 0 view .LVU544
 2036 001a 002C     		cmp	r4, #0
 2037 001c 17DD     		ble	.L196
 2038              	.LVL194:
 2039              	.L188:
 568:SYS/shell/shell.c ****     {
 2040              		.loc 1 568 5 is_stmt 1 discriminator 1 view .LVU545
 570:SYS/shell/shell.c ****     } while (--spaceLength);
 2041              		.loc 1 570 9 discriminator 1 view .LVU546
 2042 001e 2D21     		movs	r1, #45
 2043 0020 2846     		mov	r0, r5
 2044 0022 FFF7FEFF 		bl	shellWriteByte
 2045              	.LVL195:
 571:SYS/shell/shell.c ****     if (item->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 2046              		.loc 1 571 14 is_stmt 0 discriminator 1 view .LVU547
 2047 0026 013C     		subs	r4, r4, #1
 2048              	.LVL196:
ARM GAS  /tmp/ccKSSxev.s 			page 74


 571:SYS/shell/shell.c ****     if (item->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 2049              		.loc 1 571 5 discriminator 1 view .LVU548
 2050 0028 24B2     		sxth	r4, r4
 2051              	.LVL197:
 571:SYS/shell/shell.c ****     if (item->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 2052              		.loc 1 571 5 discriminator 1 view .LVU549
 2053 002a 002C     		cmp	r4, #0
 2054 002c F7D1     		bne	.L188
 572:SYS/shell/shell.c ****     {
 2055              		.loc 1 572 5 is_stmt 1 view .LVU550
 572:SYS/shell/shell.c ****     {
 2056              		.loc 1 572 25 is_stmt 0 view .LVU551
 2057 002e 7378     		ldrb	r3, [r6, #1]	@ zero_extendqisi2
 2058 0030 03F00F03 		and	r3, r3, #15
 572:SYS/shell/shell.c ****     {
 2059              		.loc 1 572 8 view .LVU552
 2060 0034 012B     		cmp	r3, #1
 2061 0036 0CD9     		bls	.L197
 576:SYS/shell/shell.c ****     {
 2062              		.loc 1 576 10 is_stmt 1 view .LVU553
 576:SYS/shell/shell.c ****     {
 2063              		.loc 1 576 13 is_stmt 0 view .LVU554
 2064 0038 072B     		cmp	r3, #7
 2065 003a 0FD9     		bls	.L198
 580:SYS/shell/shell.c ****     {
 2066              		.loc 1 580 10 is_stmt 1 view .LVU555
 580:SYS/shell/shell.c ****     {
 2067              		.loc 1 580 13 is_stmt 0 view .LVU556
 2068 003c 082B     		cmp	r3, #8
 2069 003e 12D9     		bls	.L199
 584:SYS/shell/shell.c ****     {
 2070              		.loc 1 584 10 is_stmt 1 view .LVU557
 584:SYS/shell/shell.c ****     {
 2071              		.loc 1 584 13 is_stmt 0 view .LVU558
 2072 0040 092B     		cmp	r3, #9
 2073 0042 15D8     		bhi	.L193
 586:SYS/shell/shell.c ****     }
 2074              		.loc 1 586 9 is_stmt 1 view .LVU559
 2075 0044 0D49     		ldr	r1, .L200
 2076 0046 2846     		mov	r0, r5
 2077 0048 FFF7FEFF 		bl	shellWriteString
 2078              	.LVL198:
 2079 004c 05E0     		b	.L186
 2080              	.L196:
 567:SYS/shell/shell.c ****     do
 2081              		.loc 1 567 17 is_stmt 0 view .LVU560
 2082 004e 0424     		movs	r4, #4
 2083              	.LVL199:
 567:SYS/shell/shell.c ****     do
 2084              		.loc 1 567 17 view .LVU561
 2085 0050 E5E7     		b	.L188
 2086              	.LVL200:
 2087              	.L197:
 574:SYS/shell/shell.c ****     }
 2088              		.loc 1 574 9 is_stmt 1 view .LVU562
 2089 0052 0B49     		ldr	r1, .L200+4
 2090 0054 2846     		mov	r0, r5
ARM GAS  /tmp/ccKSSxev.s 			page 75


 2091 0056 FFF7FEFF 		bl	shellWriteString
 2092              	.LVL201:
 2093              	.L186:
 602:SYS/shell/shell.c **** 
 2094              		.loc 1 602 1 is_stmt 0 view .LVU563
 2095 005a 70BD     		pop	{r4, r5, r6, pc}
 2096              	.LVL202:
 2097              	.L198:
 578:SYS/shell/shell.c ****     }
 2098              		.loc 1 578 9 is_stmt 1 view .LVU564
 2099 005c 0949     		ldr	r1, .L200+8
 2100 005e 2846     		mov	r0, r5
 2101 0060 FFF7FEFF 		bl	shellWriteString
 2102              	.LVL203:
 2103 0064 F9E7     		b	.L186
 2104              	.L199:
 582:SYS/shell/shell.c ****     }
 2105              		.loc 1 582 9 view .LVU565
 2106 0066 0849     		ldr	r1, .L200+12
 2107 0068 2846     		mov	r0, r5
 2108 006a FFF7FEFF 		bl	shellWriteString
 2109              	.LVL204:
 2110 006e F4E7     		b	.L186
 2111              	.L193:
 590:SYS/shell/shell.c ****     }
 2112              		.loc 1 590 9 view .LVU566
 2113 0070 0649     		ldr	r1, .L200+16
 2114 0072 2846     		mov	r0, r5
 2115 0074 FFF7FEFF 		bl	shellWriteString
 2116              	.LVL205:
 602:SYS/shell/shell.c **** 
 2117              		.loc 1 602 1 is_stmt 0 view .LVU567
 2118 0078 EFE7     		b	.L186
 2119              	.L201:
 2120 007a 00BF     		.align	2
 2121              	.L200:
 2122 007c 14000000 		.word	.LC14
 2123 0080 00000000 		.word	.LC11
 2124 0084 08000000 		.word	.LC12
 2125 0088 0C000000 		.word	.LC13
 2126 008c 18000000 		.word	.LC15
 2127              		.cfi_endproc
 2128              	.LFE142:
 2130              		.section	.text.shellListCommand,"ax",%progbits
 2131              		.align	1
 2132              		.global	shellListCommand
 2133              		.syntax unified
 2134              		.thumb
 2135              		.thumb_func
 2136              		.fpu fpv4-sp-d16
 2138              	shellListCommand:
 2139              	.LVL206:
 2140              	.LFB143:
 610:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2141              		.loc 1 610 1 is_stmt 1 view -0
 2142              		.cfi_startproc
 2143              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccKSSxev.s 			page 76


 2144              		@ frame_needed = 0, uses_anonymous_args = 0
 610:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2145              		.loc 1 610 1 is_stmt 0 view .LVU569
 2146 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2147              	.LCFI38:
 2148              		.cfi_def_cfa_offset 24
 2149              		.cfi_offset 3, -24
 2150              		.cfi_offset 4, -20
 2151              		.cfi_offset 5, -16
 2152              		.cfi_offset 6, -12
 2153              		.cfi_offset 7, -8
 2154              		.cfi_offset 14, -4
 2155 0002 0646     		mov	r6, r0
 611:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_CMD_LIST]);
 2156              		.loc 1 611 5 is_stmt 1 view .LVU570
 611:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_CMD_LIST]);
 2157              		.loc 1 611 19 is_stmt 0 view .LVU571
 2158 0004 876D     		ldr	r7, [r0, #88]
 2159              	.LVL207:
 612:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 2160              		.loc 1 612 5 is_stmt 1 view .LVU572
 2161 0006 0F49     		ldr	r1, .L209
 2162 0008 FFF7FEFF 		bl	shellWriteString
 2163              	.LVL208:
 613:SYS/shell/shell.c ****     {
 2164              		.loc 1 613 5 view .LVU573
 2165              	.LBB10:
 613:SYS/shell/shell.c ****     {
 2166              		.loc 1 613 10 view .LVU574
 613:SYS/shell/shell.c ****     {
 2167              		.loc 1 613 16 is_stmt 0 view .LVU575
 2168 000c 0024     		movs	r4, #0
 613:SYS/shell/shell.c ****     {
 2169              		.loc 1 613 5 view .LVU576
 2170 000e 05E0     		b	.L203
 2171              	.LVL209:
 2172              	.L208:
 617:SYS/shell/shell.c ****         }
 2173              		.loc 1 617 13 is_stmt 1 view .LVU577
 2174 0010 2946     		mov	r1, r5
 2175 0012 3046     		mov	r0, r6
 2176 0014 FFF7FEFF 		bl	shellListItem
 2177              	.LVL210:
 2178              	.L204:
 613:SYS/shell/shell.c ****     {
 2179              		.loc 1 613 54 is_stmt 0 discriminator 2 view .LVU578
 2180 0018 0134     		adds	r4, r4, #1
 2181              	.LVL211:
 613:SYS/shell/shell.c ****     {
 2182              		.loc 1 613 54 discriminator 2 view .LVU579
 2183 001a 24B2     		sxth	r4, r4
 2184              	.LVL212:
 2185              	.L203:
 613:SYS/shell/shell.c ****     {
 2186              		.loc 1 613 45 discriminator 1 view .LVU580
 2187 001c B6F85C30 		ldrh	r3, [r6, #92]
 613:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 77


 2188              		.loc 1 613 5 discriminator 1 view .LVU581
 2189 0020 9C42     		cmp	r4, r3
 2190 0022 0DDA     		bge	.L207
 615:SYS/shell/shell.c ****         {
 2191              		.loc 1 615 9 is_stmt 1 view .LVU582
 615:SYS/shell/shell.c ****         {
 2192              		.loc 1 615 17 is_stmt 0 view .LVU583
 2193 0024 07EB0415 		add	r5, r7, r4, lsl #4
 615:SYS/shell/shell.c ****         {
 2194              		.loc 1 615 31 view .LVU584
 2195 0028 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2196 002a 03F00F03 		and	r3, r3, #15
 615:SYS/shell/shell.c ****         {
 2197              		.loc 1 615 12 view .LVU585
 2198 002e 012B     		cmp	r3, #1
 2199 0030 F2D8     		bhi	.L204
 615:SYS/shell/shell.c ****         {
 2200              		.loc 1 615 63 discriminator 1 view .LVU586
 2201 0032 2946     		mov	r1, r5
 2202 0034 3046     		mov	r0, r6
 2203 0036 FFF7FEFF 		bl	shellCheckPermission
 2204              	.LVL213:
 615:SYS/shell/shell.c ****         {
 2205              		.loc 1 615 60 discriminator 1 view .LVU587
 2206 003a 0028     		cmp	r0, #0
 2207 003c ECD1     		bne	.L204
 2208 003e E7E7     		b	.L208
 2209              	.L207:
 615:SYS/shell/shell.c ****         {
 2210              		.loc 1 615 60 discriminator 1 view .LVU588
 2211              	.LBE10:
 620:SYS/shell/shell.c **** 
 2212              		.loc 1 620 1 view .LVU589
 2213 0040 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2214              	.LVL214:
 2215              	.L210:
 620:SYS/shell/shell.c **** 
 2216              		.loc 1 620 1 view .LVU590
 2217 0042 00BF     		.align	2
 2218              	.L209:
 2219 0044 00000000 		.word	.LC16
 2220              		.cfi_endproc
 2221              	.LFE143:
 2223              		.section	.text.shellCmds,"ax",%progbits
 2224              		.align	1
 2225              		.global	shellCmds
 2226              		.syntax unified
 2227              		.thumb
 2228              		.thumb_func
 2229              		.fpu fpv4-sp-d16
 2231              	shellCmds:
 2232              	.LFB179:
1715:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 2233              		.loc 1 1715 1 is_stmt 1 view -0
 2234              		.cfi_startproc
 2235              		@ args = 0, pretend = 0, frame = 0
 2236              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccKSSxev.s 			page 78


 2237 0000 08B5     		push	{r3, lr}
 2238              	.LCFI39:
 2239              		.cfi_def_cfa_offset 8
 2240              		.cfi_offset 3, -8
 2241              		.cfi_offset 14, -4
1716:SYS/shell/shell.c ****     if (shell)
 2242              		.loc 1 1716 5 view .LVU592
1716:SYS/shell/shell.c ****     if (shell)
 2243              		.loc 1 1716 20 is_stmt 0 view .LVU593
 2244 0002 FFF7FEFF 		bl	shellGetCurrent
 2245              	.LVL215:
1717:SYS/shell/shell.c ****     {
 2246              		.loc 1 1717 5 is_stmt 1 view .LVU594
1717:SYS/shell/shell.c ****     {
 2247              		.loc 1 1717 8 is_stmt 0 view .LVU595
 2248 0006 08B1     		cbz	r0, .L211
1719:SYS/shell/shell.c ****     }
 2249              		.loc 1 1719 9 is_stmt 1 view .LVU596
 2250 0008 FFF7FEFF 		bl	shellListCommand
 2251              	.LVL216:
 2252              	.L211:
1721:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 2253              		.loc 1 1721 1 is_stmt 0 view .LVU597
 2254 000c 08BD     		pop	{r3, pc}
 2255              		.cfi_endproc
 2256              	.LFE179:
 2258              		.section	.text.shellListVar,"ax",%progbits
 2259              		.align	1
 2260              		.global	shellListVar
 2261              		.syntax unified
 2262              		.thumb
 2263              		.thumb_func
 2264              		.fpu fpv4-sp-d16
 2266              	shellListVar:
 2267              	.LVL217:
 2268              	.LFB144:
 628:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2269              		.loc 1 628 1 is_stmt 1 view -0
 2270              		.cfi_startproc
 2271              		@ args = 0, pretend = 0, frame = 0
 2272              		@ frame_needed = 0, uses_anonymous_args = 0
 628:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2273              		.loc 1 628 1 is_stmt 0 view .LVU599
 2274 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2275              	.LCFI40:
 2276              		.cfi_def_cfa_offset 24
 2277              		.cfi_offset 3, -24
 2278              		.cfi_offset 4, -20
 2279              		.cfi_offset 5, -16
 2280              		.cfi_offset 6, -12
 2281              		.cfi_offset 7, -8
 2282              		.cfi_offset 14, -4
 2283 0002 0646     		mov	r6, r0
 629:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_VAR_LIST]);
 2284              		.loc 1 629 5 is_stmt 1 view .LVU600
 629:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_VAR_LIST]);
 2285              		.loc 1 629 19 is_stmt 0 view .LVU601
ARM GAS  /tmp/ccKSSxev.s 			page 79


 2286 0004 876D     		ldr	r7, [r0, #88]
 2287              	.LVL218:
 630:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 2288              		.loc 1 630 5 is_stmt 1 view .LVU602
 2289 0006 1049     		ldr	r1, .L221
 2290 0008 FFF7FEFF 		bl	shellWriteString
 2291              	.LVL219:
 631:SYS/shell/shell.c ****     {
 2292              		.loc 1 631 5 view .LVU603
 2293              	.LBB11:
 631:SYS/shell/shell.c ****     {
 2294              		.loc 1 631 10 view .LVU604
 631:SYS/shell/shell.c ****     {
 2295              		.loc 1 631 16 is_stmt 0 view .LVU605
 2296 000c 0024     		movs	r4, #0
 631:SYS/shell/shell.c ****     {
 2297              		.loc 1 631 5 view .LVU606
 2298 000e 05E0     		b	.L215
 2299              	.LVL220:
 2300              	.L220:
 635:SYS/shell/shell.c ****         }
 2301              		.loc 1 635 13 is_stmt 1 view .LVU607
 2302 0010 2946     		mov	r1, r5
 2303 0012 3046     		mov	r0, r6
 2304 0014 FFF7FEFF 		bl	shellListItem
 2305              	.LVL221:
 2306              	.L216:
 631:SYS/shell/shell.c ****     {
 2307              		.loc 1 631 54 is_stmt 0 discriminator 2 view .LVU608
 2308 0018 0134     		adds	r4, r4, #1
 2309              	.LVL222:
 631:SYS/shell/shell.c ****     {
 2310              		.loc 1 631 54 discriminator 2 view .LVU609
 2311 001a 24B2     		sxth	r4, r4
 2312              	.LVL223:
 2313              	.L215:
 631:SYS/shell/shell.c ****     {
 2314              		.loc 1 631 45 discriminator 1 view .LVU610
 2315 001c B6F85C30 		ldrh	r3, [r6, #92]
 631:SYS/shell/shell.c ****     {
 2316              		.loc 1 631 5 discriminator 1 view .LVU611
 2317 0020 9C42     		cmp	r4, r3
 2318 0022 10DA     		bge	.L219
 633:SYS/shell/shell.c ****         {
 2319              		.loc 1 633 9 is_stmt 1 view .LVU612
 633:SYS/shell/shell.c ****         {
 2320              		.loc 1 633 17 is_stmt 0 view .LVU613
 2321 0024 07EB0415 		add	r5, r7, r4, lsl #4
 633:SYS/shell/shell.c ****         {
 2322              		.loc 1 633 31 view .LVU614
 2323 0028 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2324 002a 03F00F03 		and	r3, r3, #15
 633:SYS/shell/shell.c ****         {
 2325              		.loc 1 633 59 view .LVU615
 2326 002e 0E33     		adds	r3, r3, #14
 2327 0030 03F00F03 		and	r3, r3, #15
 633:SYS/shell/shell.c ****         {
ARM GAS  /tmp/ccKSSxev.s 			page 80


 2328              		.loc 1 633 12 view .LVU616
 2329 0034 052B     		cmp	r3, #5
 2330 0036 EFD8     		bhi	.L216
 633:SYS/shell/shell.c ****         {
 2331              		.loc 1 633 112 discriminator 1 view .LVU617
 2332 0038 2946     		mov	r1, r5
 2333 003a 3046     		mov	r0, r6
 2334 003c FFF7FEFF 		bl	shellCheckPermission
 2335              	.LVL224:
 633:SYS/shell/shell.c ****         {
 2336              		.loc 1 633 109 discriminator 1 view .LVU618
 2337 0040 0028     		cmp	r0, #0
 2338 0042 E9D1     		bne	.L216
 2339 0044 E4E7     		b	.L220
 2340              	.L219:
 633:SYS/shell/shell.c ****         {
 2341              		.loc 1 633 109 discriminator 1 view .LVU619
 2342              	.LBE11:
 638:SYS/shell/shell.c **** 
 2343              		.loc 1 638 1 view .LVU620
 2344 0046 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2345              	.LVL225:
 2346              	.L222:
 638:SYS/shell/shell.c **** 
 2347              		.loc 1 638 1 view .LVU621
 2348              		.align	2
 2349              	.L221:
 2350 0048 00000000 		.word	.LC17
 2351              		.cfi_endproc
 2352              	.LFE144:
 2354              		.section	.text.shellVars,"ax",%progbits
 2355              		.align	1
 2356              		.global	shellVars
 2357              		.syntax unified
 2358              		.thumb
 2359              		.thumb_func
 2360              		.fpu fpv4-sp-d16
 2362              	shellVars:
 2363              	.LFB180:
1730:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 2364              		.loc 1 1730 1 is_stmt 1 view -0
 2365              		.cfi_startproc
 2366              		@ args = 0, pretend = 0, frame = 0
 2367              		@ frame_needed = 0, uses_anonymous_args = 0
 2368 0000 08B5     		push	{r3, lr}
 2369              	.LCFI41:
 2370              		.cfi_def_cfa_offset 8
 2371              		.cfi_offset 3, -8
 2372              		.cfi_offset 14, -4
1731:SYS/shell/shell.c ****     if (shell)
 2373              		.loc 1 1731 5 view .LVU623
1731:SYS/shell/shell.c ****     if (shell)
 2374              		.loc 1 1731 20 is_stmt 0 view .LVU624
 2375 0002 FFF7FEFF 		bl	shellGetCurrent
 2376              	.LVL226:
1732:SYS/shell/shell.c ****     {
 2377              		.loc 1 1732 5 is_stmt 1 view .LVU625
ARM GAS  /tmp/ccKSSxev.s 			page 81


1732:SYS/shell/shell.c ****     {
 2378              		.loc 1 1732 8 is_stmt 0 view .LVU626
 2379 0006 08B1     		cbz	r0, .L223
1734:SYS/shell/shell.c ****     }
 2380              		.loc 1 1734 9 is_stmt 1 view .LVU627
 2381 0008 FFF7FEFF 		bl	shellListVar
 2382              	.LVL227:
 2383              	.L223:
1736:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 2384              		.loc 1 1736 1 is_stmt 0 view .LVU628
 2385 000c 08BD     		pop	{r3, pc}
 2386              		.cfi_endproc
 2387              	.LFE180:
 2389              		.section	.text.shellListUser,"ax",%progbits
 2390              		.align	1
 2391              		.global	shellListUser
 2392              		.syntax unified
 2393              		.thumb
 2394              		.thumb_func
 2395              		.fpu fpv4-sp-d16
 2397              	shellListUser:
 2398              	.LVL228:
 2399              	.LFB145:
 646:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2400              		.loc 1 646 1 is_stmt 1 view -0
 2401              		.cfi_startproc
 2402              		@ args = 0, pretend = 0, frame = 0
 2403              		@ frame_needed = 0, uses_anonymous_args = 0
 646:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2404              		.loc 1 646 1 is_stmt 0 view .LVU630
 2405 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2406              	.LCFI42:
 2407              		.cfi_def_cfa_offset 24
 2408              		.cfi_offset 3, -24
 2409              		.cfi_offset 4, -20
 2410              		.cfi_offset 5, -16
 2411              		.cfi_offset 6, -12
 2412              		.cfi_offset 7, -8
 2413              		.cfi_offset 14, -4
 2414 0002 0646     		mov	r6, r0
 647:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_USER_LIST]);
 2415              		.loc 1 647 5 is_stmt 1 view .LVU631
 647:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_USER_LIST]);
 2416              		.loc 1 647 19 is_stmt 0 view .LVU632
 2417 0004 876D     		ldr	r7, [r0, #88]
 2418              	.LVL229:
 648:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 2419              		.loc 1 648 5 is_stmt 1 view .LVU633
 2420 0006 0F49     		ldr	r1, .L233
 2421 0008 FFF7FEFF 		bl	shellWriteString
 2422              	.LVL230:
 649:SYS/shell/shell.c ****     {
 2423              		.loc 1 649 5 view .LVU634
 2424              	.LBB12:
 649:SYS/shell/shell.c ****     {
 2425              		.loc 1 649 10 view .LVU635
 649:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 82


 2426              		.loc 1 649 16 is_stmt 0 view .LVU636
 2427 000c 0024     		movs	r4, #0
 649:SYS/shell/shell.c ****     {
 2428              		.loc 1 649 5 view .LVU637
 2429 000e 05E0     		b	.L227
 2430              	.LVL231:
 2431              	.L232:
 653:SYS/shell/shell.c ****         }
 2432              		.loc 1 653 13 is_stmt 1 view .LVU638
 2433 0010 2946     		mov	r1, r5
 2434 0012 3046     		mov	r0, r6
 2435 0014 FFF7FEFF 		bl	shellListItem
 2436              	.LVL232:
 2437              	.L228:
 649:SYS/shell/shell.c ****     {
 2438              		.loc 1 649 54 is_stmt 0 discriminator 2 view .LVU639
 2439 0018 0134     		adds	r4, r4, #1
 2440              	.LVL233:
 649:SYS/shell/shell.c ****     {
 2441              		.loc 1 649 54 discriminator 2 view .LVU640
 2442 001a 24B2     		sxth	r4, r4
 2443              	.LVL234:
 2444              	.L227:
 649:SYS/shell/shell.c ****     {
 2445              		.loc 1 649 45 discriminator 1 view .LVU641
 2446 001c B6F85C30 		ldrh	r3, [r6, #92]
 649:SYS/shell/shell.c ****     {
 2447              		.loc 1 649 5 discriminator 1 view .LVU642
 2448 0020 9C42     		cmp	r4, r3
 2449 0022 0DDA     		bge	.L231
 651:SYS/shell/shell.c ****         {
 2450              		.loc 1 651 9 is_stmt 1 view .LVU643
 651:SYS/shell/shell.c ****         {
 2451              		.loc 1 651 17 is_stmt 0 view .LVU644
 2452 0024 07EB0415 		add	r5, r7, r4, lsl #4
 651:SYS/shell/shell.c ****         {
 2453              		.loc 1 651 59 view .LVU645
 2454 0028 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2455 002a 03F00F03 		and	r3, r3, #15
 651:SYS/shell/shell.c ****         {
 2456              		.loc 1 651 12 view .LVU646
 2457 002e 082B     		cmp	r3, #8
 2458 0030 F2D1     		bne	.L228
 651:SYS/shell/shell.c ****         {
 2459              		.loc 1 651 108 discriminator 1 view .LVU647
 2460 0032 2946     		mov	r1, r5
 2461 0034 3046     		mov	r0, r6
 2462 0036 FFF7FEFF 		bl	shellCheckPermission
 2463              	.LVL235:
 651:SYS/shell/shell.c ****         {
 2464              		.loc 1 651 105 discriminator 1 view .LVU648
 2465 003a 0028     		cmp	r0, #0
 2466 003c ECD1     		bne	.L228
 2467 003e E7E7     		b	.L232
 2468              	.L231:
 651:SYS/shell/shell.c ****         {
 2469              		.loc 1 651 105 discriminator 1 view .LVU649
ARM GAS  /tmp/ccKSSxev.s 			page 83


 2470              	.LBE12:
 656:SYS/shell/shell.c **** 
 2471              		.loc 1 656 1 view .LVU650
 2472 0040 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2473              	.LVL236:
 2474              	.L234:
 656:SYS/shell/shell.c **** 
 2475              		.loc 1 656 1 view .LVU651
 2476 0042 00BF     		.align	2
 2477              	.L233:
 2478 0044 00000000 		.word	.LC18
 2479              		.cfi_endproc
 2480              	.LFE145:
 2482              		.section	.text.shellUsers,"ax",%progbits
 2483              		.align	1
 2484              		.global	shellUsers
 2485              		.syntax unified
 2486              		.thumb
 2487              		.thumb_func
 2488              		.fpu fpv4-sp-d16
 2490              	shellUsers:
 2491              	.LFB178:
1700:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 2492              		.loc 1 1700 1 is_stmt 1 view -0
 2493              		.cfi_startproc
 2494              		@ args = 0, pretend = 0, frame = 0
 2495              		@ frame_needed = 0, uses_anonymous_args = 0
 2496 0000 08B5     		push	{r3, lr}
 2497              	.LCFI43:
 2498              		.cfi_def_cfa_offset 8
 2499              		.cfi_offset 3, -8
 2500              		.cfi_offset 14, -4
1701:SYS/shell/shell.c ****     if (shell)
 2501              		.loc 1 1701 5 view .LVU653
1701:SYS/shell/shell.c ****     if (shell)
 2502              		.loc 1 1701 20 is_stmt 0 view .LVU654
 2503 0002 FFF7FEFF 		bl	shellGetCurrent
 2504              	.LVL237:
1702:SYS/shell/shell.c ****     {
 2505              		.loc 1 1702 5 is_stmt 1 view .LVU655
1702:SYS/shell/shell.c ****     {
 2506              		.loc 1 1702 8 is_stmt 0 view .LVU656
 2507 0006 08B1     		cbz	r0, .L235
1704:SYS/shell/shell.c ****     }
 2508              		.loc 1 1704 9 is_stmt 1 view .LVU657
 2509 0008 FFF7FEFF 		bl	shellListUser
 2510              	.LVL238:
 2511              	.L235:
1706:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 2512              		.loc 1 1706 1 is_stmt 0 view .LVU658
 2513 000c 08BD     		pop	{r3, pc}
 2514              		.cfi_endproc
 2515              	.LFE178:
 2517              		.section	.text.shellListKey,"ax",%progbits
 2518              		.align	1
 2519              		.global	shellListKey
 2520              		.syntax unified
ARM GAS  /tmp/ccKSSxev.s 			page 84


 2521              		.thumb
 2522              		.thumb_func
 2523              		.fpu fpv4-sp-d16
 2525              	shellListKey:
 2526              	.LVL239:
 2527              	.LFB146:
 664:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2528              		.loc 1 664 1 is_stmt 1 view -0
 2529              		.cfi_startproc
 2530              		@ args = 0, pretend = 0, frame = 0
 2531              		@ frame_needed = 0, uses_anonymous_args = 0
 664:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2532              		.loc 1 664 1 is_stmt 0 view .LVU660
 2533 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2534              	.LCFI44:
 2535              		.cfi_def_cfa_offset 24
 2536              		.cfi_offset 3, -24
 2537              		.cfi_offset 4, -20
 2538              		.cfi_offset 5, -16
 2539              		.cfi_offset 6, -12
 2540              		.cfi_offset 7, -8
 2541              		.cfi_offset 14, -4
 2542 0002 0646     		mov	r6, r0
 665:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_KEY_LIST]);
 2543              		.loc 1 665 5 is_stmt 1 view .LVU661
 665:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_KEY_LIST]);
 2544              		.loc 1 665 19 is_stmt 0 view .LVU662
 2545 0004 876D     		ldr	r7, [r0, #88]
 2546              	.LVL240:
 666:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 2547              		.loc 1 666 5 is_stmt 1 view .LVU663
 2548 0006 0F49     		ldr	r1, .L245
 2549 0008 FFF7FEFF 		bl	shellWriteString
 2550              	.LVL241:
 667:SYS/shell/shell.c ****     {
 2551              		.loc 1 667 5 view .LVU664
 2552              	.LBB13:
 667:SYS/shell/shell.c ****     {
 2553              		.loc 1 667 10 view .LVU665
 667:SYS/shell/shell.c ****     {
 2554              		.loc 1 667 16 is_stmt 0 view .LVU666
 2555 000c 0024     		movs	r4, #0
 667:SYS/shell/shell.c ****     {
 2556              		.loc 1 667 5 view .LVU667
 2557 000e 05E0     		b	.L239
 2558              	.LVL242:
 2559              	.L244:
 671:SYS/shell/shell.c ****         }
 2560              		.loc 1 671 13 is_stmt 1 view .LVU668
 2561 0010 2946     		mov	r1, r5
 2562 0012 3046     		mov	r0, r6
 2563 0014 FFF7FEFF 		bl	shellListItem
 2564              	.LVL243:
 2565              	.L240:
 667:SYS/shell/shell.c ****     {
 2566              		.loc 1 667 54 is_stmt 0 discriminator 2 view .LVU669
 2567 0018 0134     		adds	r4, r4, #1
ARM GAS  /tmp/ccKSSxev.s 			page 85


 2568              	.LVL244:
 667:SYS/shell/shell.c ****     {
 2569              		.loc 1 667 54 discriminator 2 view .LVU670
 2570 001a 24B2     		sxth	r4, r4
 2571              	.LVL245:
 2572              	.L239:
 667:SYS/shell/shell.c ****     {
 2573              		.loc 1 667 45 discriminator 1 view .LVU671
 2574 001c B6F85C30 		ldrh	r3, [r6, #92]
 667:SYS/shell/shell.c ****     {
 2575              		.loc 1 667 5 discriminator 1 view .LVU672
 2576 0020 9C42     		cmp	r4, r3
 2577 0022 0DDA     		bge	.L243
 669:SYS/shell/shell.c ****         {
 2578              		.loc 1 669 9 is_stmt 1 view .LVU673
 669:SYS/shell/shell.c ****         {
 2579              		.loc 1 669 17 is_stmt 0 view .LVU674
 2580 0024 07EB0415 		add	r5, r7, r4, lsl #4
 669:SYS/shell/shell.c ****         {
 2581              		.loc 1 669 55 view .LVU675
 2582 0028 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2583 002a 03F00F03 		and	r3, r3, #15
 669:SYS/shell/shell.c ****         {
 2584              		.loc 1 669 12 view .LVU676
 2585 002e 092B     		cmp	r3, #9
 2586 0030 F2D1     		bne	.L240
 669:SYS/shell/shell.c ****         {
 2587              		.loc 1 669 103 discriminator 1 view .LVU677
 2588 0032 2946     		mov	r1, r5
 2589 0034 3046     		mov	r0, r6
 2590 0036 FFF7FEFF 		bl	shellCheckPermission
 2591              	.LVL246:
 669:SYS/shell/shell.c ****         {
 2592              		.loc 1 669 100 discriminator 1 view .LVU678
 2593 003a 0028     		cmp	r0, #0
 2594 003c ECD1     		bne	.L240
 2595 003e E7E7     		b	.L244
 2596              	.L243:
 669:SYS/shell/shell.c ****         {
 2597              		.loc 1 669 100 discriminator 1 view .LVU679
 2598              	.LBE13:
 674:SYS/shell/shell.c **** 
 2599              		.loc 1 674 1 view .LVU680
 2600 0040 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2601              	.LVL247:
 2602              	.L246:
 674:SYS/shell/shell.c **** 
 2603              		.loc 1 674 1 view .LVU681
 2604 0042 00BF     		.align	2
 2605              	.L245:
 2606 0044 00000000 		.word	.LC19
 2607              		.cfi_endproc
 2608              	.LFE146:
 2610              		.section	.text.shellKeys,"ax",%progbits
 2611              		.align	1
 2612              		.global	shellKeys
 2613              		.syntax unified
ARM GAS  /tmp/ccKSSxev.s 			page 86


 2614              		.thumb
 2615              		.thumb_func
 2616              		.fpu fpv4-sp-d16
 2618              	shellKeys:
 2619              	.LFB181:
1745:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 2620              		.loc 1 1745 1 is_stmt 1 view -0
 2621              		.cfi_startproc
 2622              		@ args = 0, pretend = 0, frame = 0
 2623              		@ frame_needed = 0, uses_anonymous_args = 0
 2624 0000 08B5     		push	{r3, lr}
 2625              	.LCFI45:
 2626              		.cfi_def_cfa_offset 8
 2627              		.cfi_offset 3, -8
 2628              		.cfi_offset 14, -4
1746:SYS/shell/shell.c ****     if (shell)
 2629              		.loc 1 1746 5 view .LVU683
1746:SYS/shell/shell.c ****     if (shell)
 2630              		.loc 1 1746 20 is_stmt 0 view .LVU684
 2631 0002 FFF7FEFF 		bl	shellGetCurrent
 2632              	.LVL248:
1747:SYS/shell/shell.c ****     {
 2633              		.loc 1 1747 5 is_stmt 1 view .LVU685
1747:SYS/shell/shell.c ****     {
 2634              		.loc 1 1747 8 is_stmt 0 view .LVU686
 2635 0006 08B1     		cbz	r0, .L247
1749:SYS/shell/shell.c ****     }
 2636              		.loc 1 1749 9 is_stmt 1 view .LVU687
 2637 0008 FFF7FEFF 		bl	shellListKey
 2638              	.LVL249:
 2639              	.L247:
1751:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 2640              		.loc 1 1751 1 is_stmt 0 view .LVU688
 2641 000c 08BD     		pop	{r3, pc}
 2642              		.cfi_endproc
 2643              	.LFE181:
 2645              		.section	.text.shellListAll,"ax",%progbits
 2646              		.align	1
 2647              		.global	shellListAll
 2648              		.syntax unified
 2649              		.thumb
 2650              		.thumb_func
 2651              		.fpu fpv4-sp-d16
 2653              	shellListAll:
 2654              	.LVL250:
 2655              	.LFB147:
 682:SYS/shell/shell.c **** #if SHELL_HELP_LIST_USER == 1
 2656              		.loc 1 682 1 is_stmt 1 view -0
 2657              		.cfi_startproc
 2658              		@ args = 0, pretend = 0, frame = 0
 2659              		@ frame_needed = 0, uses_anonymous_args = 0
 682:SYS/shell/shell.c **** #if SHELL_HELP_LIST_USER == 1
 2660              		.loc 1 682 1 is_stmt 0 view .LVU690
 2661 0000 08B5     		push	{r3, lr}
 2662              	.LCFI46:
 2663              		.cfi_def_cfa_offset 8
 2664              		.cfi_offset 3, -8
ARM GAS  /tmp/ccKSSxev.s 			page 87


 2665              		.cfi_offset 14, -4
 686:SYS/shell/shell.c **** #if SHELL_HELP_LIST_VAR == 1
 2666              		.loc 1 686 5 is_stmt 1 view .LVU691
 2667 0002 FFF7FEFF 		bl	shellListCommand
 2668              	.LVL251:
 693:SYS/shell/shell.c **** 
 2669              		.loc 1 693 1 is_stmt 0 view .LVU692
 2670 0006 08BD     		pop	{r3, pc}
 2671              		.cfi_endproc
 2672              	.LFE147:
 2674              		.section	.text.shellDeleteCommandLine,"ax",%progbits
 2675              		.align	1
 2676              		.global	shellDeleteCommandLine
 2677              		.syntax unified
 2678              		.thumb
 2679              		.thumb_func
 2680              		.fpu fpv4-sp-d16
 2682              	shellDeleteCommandLine:
 2683              	.LVL252:
 2684              	.LFB148:
 702:SYS/shell/shell.c ****     while (length--)
 2685              		.loc 1 702 1 is_stmt 1 view -0
 2686              		.cfi_startproc
 2687              		@ args = 0, pretend = 0, frame = 0
 2688              		@ frame_needed = 0, uses_anonymous_args = 0
 702:SYS/shell/shell.c ****     while (length--)
 2689              		.loc 1 702 1 is_stmt 0 view .LVU694
 2690 0000 38B5     		push	{r3, r4, r5, lr}
 2691              	.LCFI47:
 2692              		.cfi_def_cfa_offset 16
 2693              		.cfi_offset 3, -16
 2694              		.cfi_offset 4, -12
 2695              		.cfi_offset 5, -8
 2696              		.cfi_offset 14, -4
 2697 0002 0546     		mov	r5, r0
 703:SYS/shell/shell.c ****     {
 2698              		.loc 1 703 5 is_stmt 1 view .LVU695
 2699              	.LVL253:
 2700              	.L253:
 703:SYS/shell/shell.c ****     {
 2701              		.loc 1 703 18 is_stmt 0 view .LVU696
 2702 0004 4B1E     		subs	r3, r1, #1
 2703 0006 DCB2     		uxtb	r4, r3
 2704              	.LVL254:
 703:SYS/shell/shell.c ****     {
 2705              		.loc 1 703 11 view .LVU697
 2706 0008 29B1     		cbz	r1, .L256
 705:SYS/shell/shell.c ****     }
 2707              		.loc 1 705 9 is_stmt 1 view .LVU698
 2708 000a 0349     		ldr	r1, .L257
 2709 000c 2846     		mov	r0, r5
 2710 000e FFF7FEFF 		bl	shellWriteString
 2711              	.LVL255:
 703:SYS/shell/shell.c ****     {
 2712              		.loc 1 703 18 is_stmt 0 view .LVU699
 2713 0012 2146     		mov	r1, r4
 2714 0014 F6E7     		b	.L253
ARM GAS  /tmp/ccKSSxev.s 			page 88


 2715              	.L256:
 707:SYS/shell/shell.c **** 
 2716              		.loc 1 707 1 view .LVU700
 2717 0016 38BD     		pop	{r3, r4, r5, pc}
 2718              	.LVL256:
 2719              	.L258:
 707:SYS/shell/shell.c **** 
 2720              		.loc 1 707 1 view .LVU701
 2721              		.align	2
 2722              	.L257:
 2723 0018 00000000 		.word	.LC20
 2724              		.cfi_endproc
 2725              	.LFE148:
 2727              		.section	.text.shellClearCommandLine,"ax",%progbits
 2728              		.align	1
 2729              		.global	shellClearCommandLine
 2730              		.syntax unified
 2731              		.thumb
 2732              		.thumb_func
 2733              		.fpu fpv4-sp-d16
 2735              	shellClearCommandLine:
 2736              	.LVL257:
 2737              	.LFB149:
 715:SYS/shell/shell.c ****     for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 2738              		.loc 1 715 1 is_stmt 1 view -0
 2739              		.cfi_startproc
 2740              		@ args = 0, pretend = 0, frame = 0
 2741              		@ frame_needed = 0, uses_anonymous_args = 0
 715:SYS/shell/shell.c ****     for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 2742              		.loc 1 715 1 is_stmt 0 view .LVU703
 2743 0000 38B5     		push	{r3, r4, r5, lr}
 2744              	.LCFI48:
 2745              		.cfi_def_cfa_offset 16
 2746              		.cfi_offset 3, -16
 2747              		.cfi_offset 4, -12
 2748              		.cfi_offset 5, -8
 2749              		.cfi_offset 14, -4
 2750 0002 0546     		mov	r5, r0
 716:SYS/shell/shell.c ****     {
 2751              		.loc 1 716 5 is_stmt 1 view .LVU704
 2752              	.LBB14:
 716:SYS/shell/shell.c ****     {
 2753              		.loc 1 716 10 view .LVU705
 716:SYS/shell/shell.c ****     {
 2754              		.loc 1 716 33 is_stmt 0 view .LVU706
 2755 0004 8489     		ldrh	r4, [r0, #12]
 716:SYS/shell/shell.c ****     {
 2756              		.loc 1 716 56 view .LVU707
 2757 0006 C389     		ldrh	r3, [r0, #14]
 716:SYS/shell/shell.c ****     {
 2758              		.loc 1 716 41 view .LVU708
 2759 0008 E41A     		subs	r4, r4, r3
 716:SYS/shell/shell.c ****     {
 2760              		.loc 1 716 16 view .LVU709
 2761 000a 24B2     		sxth	r4, r4
 2762              	.LVL258:
 2763              	.L260:
ARM GAS  /tmp/ccKSSxev.s 			page 89


 716:SYS/shell/shell.c ****     {
 2764              		.loc 1 716 5 discriminator 1 view .LVU710
 2765 000c 002C     		cmp	r4, #0
 2766 000e 06DD     		ble	.L263
 718:SYS/shell/shell.c ****     }
 2767              		.loc 1 718 9 is_stmt 1 discriminator 3 view .LVU711
 2768 0010 2021     		movs	r1, #32
 2769 0012 2846     		mov	r0, r5
 2770 0014 FFF7FEFF 		bl	shellWriteByte
 2771              	.LVL259:
 716:SYS/shell/shell.c ****     {
 2772              		.loc 1 716 73 is_stmt 0 discriminator 3 view .LVU712
 2773 0018 013C     		subs	r4, r4, #1
 2774              	.LVL260:
 716:SYS/shell/shell.c ****     {
 2775              		.loc 1 716 73 discriminator 3 view .LVU713
 2776 001a 24B2     		sxth	r4, r4
 2777              	.LVL261:
 716:SYS/shell/shell.c ****     {
 2778              		.loc 1 716 73 discriminator 3 view .LVU714
 2779 001c F6E7     		b	.L260
 2780              	.L263:
 716:SYS/shell/shell.c ****     {
 2781              		.loc 1 716 73 discriminator 3 view .LVU715
 2782              	.LBE14:
 720:SYS/shell/shell.c **** }
 2783              		.loc 1 720 5 is_stmt 1 view .LVU716
 2784 001e 297B     		ldrb	r1, [r5, #12]	@ zero_extendqisi2
 2785 0020 2846     		mov	r0, r5
 2786 0022 FFF7FEFF 		bl	shellDeleteCommandLine
 2787              	.LVL262:
 721:SYS/shell/shell.c **** 
 2788              		.loc 1 721 1 is_stmt 0 view .LVU717
 2789 0026 38BD     		pop	{r3, r4, r5, pc}
 721:SYS/shell/shell.c **** 
 2790              		.loc 1 721 1 view .LVU718
 2791              		.cfi_endproc
 2792              	.LFE149:
 2794              		.section	.text.shellHistory,"ax",%progbits
 2795              		.align	1
 2796              		.syntax unified
 2797              		.thumb
 2798              		.thumb_func
 2799              		.fpu fpv4-sp-d16
 2801              	shellHistory:
 2802              	.LVL263:
 2803              	.LFB164:
1244:SYS/shell/shell.c ****     if (dir > 0)
 2804              		.loc 1 1244 1 is_stmt 1 view -0
 2805              		.cfi_startproc
 2806              		@ args = 0, pretend = 0, frame = 0
 2807              		@ frame_needed = 0, uses_anonymous_args = 0
1245:SYS/shell/shell.c ****     {
 2808              		.loc 1 1245 5 view .LVU720
1245:SYS/shell/shell.c ****     {
 2809              		.loc 1 1245 8 is_stmt 0 view .LVU721
 2810 0000 0029     		cmp	r1, #0
ARM GAS  /tmp/ccKSSxev.s 			page 90


 2811              	.LVL264:
1245:SYS/shell/shell.c ****     {
 2812              		.loc 1 1245 8 view .LVU722
 2813 0002 1ADD     		ble	.L265
1247:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ? shell->history.number : shell->hist
 2814              		.loc 1 1247 9 is_stmt 1 view .LVU723
1247:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ? shell->history.number : shell->hist
 2815              		.loc 1 1247 27 is_stmt 0 view .LVU724
 2816 0004 B0F95420 		ldrsh	r2, [r0, #84]
1247:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ? shell->history.number : shell->hist
 2817              		.loc 1 1247 34 view .LVU725
 2818 0008 531E     		subs	r3, r2, #1
 2819 000a A0F85430 		strh	r3, [r0, #84]	@ movhi
1248:SYS/shell/shell.c ****         {
 2820              		.loc 1 1248 54 view .LVU726
 2821 000e B0F85230 		ldrh	r3, [r0, #82]
1248:SYS/shell/shell.c ****         {
 2822              		.loc 1 1248 30 view .LVU727
 2823 0012 B0F85010 		ldrh	r1, [r0, #80]
1248:SYS/shell/shell.c ****         {
 2824              		.loc 1 1248 87 view .LVU728
 2825 0016 8B42     		cmp	r3, r1
 2826 0018 38BF     		it	cc
 2827 001a 0B46     		movcc	r3, r1
1248:SYS/shell/shell.c ****         {
 2828              		.loc 1 1248 13 view .LVU729
 2829 001c 5942     		rsbs	r1, r3, #0
1247:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ? shell->history.number : shell->hist
 2830              		.loc 1 1247 12 view .LVU730
 2831 001e 8A42     		cmp	r2, r1
 2832 0020 01DC     		bgt	.L266
1250:SYS/shell/shell.c ****                                           ? shell->history.number
 2833              		.loc 1 1250 13 is_stmt 1 view .LVU731
1250:SYS/shell/shell.c ****                                           ? shell->history.number
 2834              		.loc 1 1250 35 is_stmt 0 view .LVU732
 2835 0022 A0F85410 		strh	r1, [r0, #84]	@ movhi
 2836              	.L266:
1244:SYS/shell/shell.c ****     if (dir > 0)
 2837              		.loc 1 1244 1 view .LVU733
 2838 0026 10B5     		push	{r4, lr}
 2839              	.LCFI49:
 2840              		.cfi_def_cfa_offset 8
 2841              		.cfi_offset 4, -8
 2842              		.cfi_offset 14, -4
 2843 0028 0446     		mov	r4, r0
1267:SYS/shell/shell.c ****     if (shell->history.offset == 0)
 2844              		.loc 1 1267 5 is_stmt 1 view .LVU734
 2845 002a FFF7FEFF 		bl	shellClearCommandLine
 2846              	.LVL265:
1268:SYS/shell/shell.c ****     {
 2847              		.loc 1 1268 5 view .LVU735
1268:SYS/shell/shell.c ****     {
 2848              		.loc 1 1268 23 is_stmt 0 view .LVU736
 2849 002e B4F95430 		ldrsh	r3, [r4, #84]
1268:SYS/shell/shell.c ****     {
 2850              		.loc 1 1268 8 view .LVU737
 2851 0032 83B9     		cbnz	r3, .L268
ARM GAS  /tmp/ccKSSxev.s 			page 91


1270:SYS/shell/shell.c ****     }
 2852              		.loc 1 1270 9 is_stmt 1 view .LVU738
1270:SYS/shell/shell.c ****     }
 2853              		.loc 1 1270 53 is_stmt 0 view .LVU739
 2854 0034 A381     		strh	r3, [r4, #12]	@ movhi
1270:SYS/shell/shell.c ****     }
 2855              		.loc 1 1270 30 view .LVU740
 2856 0036 E381     		strh	r3, [r4, #14]	@ movhi
 2857              	.L264:
1282:SYS/shell/shell.c **** 
 2858              		.loc 1 1282 1 view .LVU741
 2859 0038 10BD     		pop	{r4, pc}
 2860              	.LVL266:
 2861              	.L265:
 2862              	.LCFI50:
 2863              		.cfi_def_cfa_offset 0
 2864              		.cfi_restore 4
 2865              		.cfi_restore 14
1255:SYS/shell/shell.c ****     {
 2866              		.loc 1 1255 10 is_stmt 1 view .LVU742
1255:SYS/shell/shell.c ****     {
 2867              		.loc 1 1255 13 is_stmt 0 view .LVU743
 2868 003a 0029     		cmp	r1, #0
 2869 003c 28DA     		bge	.L270
1257:SYS/shell/shell.c ****         {
 2870              		.loc 1 1257 9 is_stmt 1 view .LVU744
1257:SYS/shell/shell.c ****         {
 2871              		.loc 1 1257 29 is_stmt 0 view .LVU745
 2872 003e B0F95430 		ldrsh	r3, [r0, #84]
1257:SYS/shell/shell.c ****         {
 2873              		.loc 1 1257 13 view .LVU746
 2874 0042 0133     		adds	r3, r3, #1
 2875 0044 1BB2     		sxth	r3, r3
1257:SYS/shell/shell.c ****         {
 2876              		.loc 1 1257 12 view .LVU747
 2877 0046 A0F85430 		strh	r3, [r0, #84]	@ movhi
 2878 004a 002B     		cmp	r3, #0
 2879 004c EBDD     		ble	.L266
1259:SYS/shell/shell.c ****             return;
 2880              		.loc 1 1259 13 is_stmt 1 view .LVU748
1259:SYS/shell/shell.c ****             return;
 2881              		.loc 1 1259 35 is_stmt 0 view .LVU749
 2882 004e 0023     		movs	r3, #0
 2883 0050 A0F85430 		strh	r3, [r0, #84]	@ movhi
1260:SYS/shell/shell.c ****         }
 2884              		.loc 1 1260 13 is_stmt 1 view .LVU750
 2885 0054 7047     		bx	lr
 2886              	.LVL267:
 2887              	.L268:
 2888              	.LCFI51:
 2889              		.cfi_def_cfa_offset 8
 2890              		.cfi_offset 4, -8
 2891              		.cfi_offset 14, -4
1274:SYS/shell/shell.c ****                                                     shell->history.item[(shell->history.record + SH
 2892              		.loc 1 1274 9 view .LVU751
1275:SYS/shell/shell.c ****         {
 2893              		.loc 1 1275 88 is_stmt 0 view .LVU752
ARM GAS  /tmp/ccKSSxev.s 			page 92


 2894 0056 B4F85220 		ldrh	r2, [r4, #82]
1275:SYS/shell/shell.c ****         {
 2895              		.loc 1 1275 96 view .LVU753
 2896 005a 0532     		adds	r2, r2, #5
1275:SYS/shell/shell.c ****         {
 2897              		.loc 1 1275 123 view .LVU754
 2898 005c 1A44     		add	r2, r2, r3
1275:SYS/shell/shell.c ****         {
 2899              		.loc 1 1275 148 view .LVU755
 2900 005e 0D49     		ldr	r1, .L272
 2901 0060 81FB0231 		smull	r3, r1, r1, r2
 2902 0064 D317     		asrs	r3, r2, #31
 2903 0066 C3EB6103 		rsb	r3, r3, r1, asr #1
 2904 006a 03EB8303 		add	r3, r3, r3, lsl #2
 2905 006e D31A     		subs	r3, r2, r3
1274:SYS/shell/shell.c ****                                                     shell->history.item[(shell->history.record + SH
 2906              		.loc 1 1274 37 view .LVU756
 2907 0070 0E33     		adds	r3, r3, #14
 2908 0072 04EB8303 		add	r3, r4, r3, lsl #2
 2909 0076 5968     		ldr	r1, [r3, #4]
 2910 0078 2069     		ldr	r0, [r4, #16]
 2911 007a FFF7FEFF 		bl	shellStringCopy
 2912              	.LVL268:
1274:SYS/shell/shell.c ****                                                     shell->history.item[(shell->history.record + SH
 2913              		.loc 1 1274 35 view .LVU757
 2914 007e A081     		strh	r0, [r4, #12]	@ movhi
1274:SYS/shell/shell.c ****                                                     shell->history.item[(shell->history.record + SH
 2915              		.loc 1 1274 12 view .LVU758
 2916 0080 0028     		cmp	r0, #0
 2917 0082 D9D0     		beq	.L264
1279:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 2918              		.loc 1 1279 9 is_stmt 1 view .LVU759
1279:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 2919              		.loc 1 1279 30 is_stmt 0 view .LVU760
 2920 0084 E081     		strh	r0, [r4, #14]	@ movhi
1280:SYS/shell/shell.c ****     }
 2921              		.loc 1 1280 9 is_stmt 1 view .LVU761
 2922 0086 2169     		ldr	r1, [r4, #16]
 2923 0088 2046     		mov	r0, r4
 2924 008a FFF7FEFF 		bl	shellWriteString
 2925              	.LVL269:
 2926 008e D3E7     		b	.L264
 2927              	.LVL270:
 2928              	.L270:
 2929              	.LCFI52:
 2930              		.cfi_def_cfa_offset 0
 2931              		.cfi_restore 4
 2932              		.cfi_restore 14
1280:SYS/shell/shell.c ****     }
 2933              		.loc 1 1280 9 is_stmt 0 view .LVU762
 2934 0090 7047     		bx	lr
 2935              	.L273:
 2936 0092 00BF     		.align	2
 2937              	.L272:
 2938 0094 67666666 		.word	1717986919
 2939              		.cfi_endproc
 2940              	.LFE164:
ARM GAS  /tmp/ccKSSxev.s 			page 93


 2942              		.section	.text.shellUp,"ax",%progbits
 2943              		.align	1
 2944              		.global	shellUp
 2945              		.syntax unified
 2946              		.thumb
 2947              		.thumb_func
 2948              		.fpu fpv4-sp-d16
 2950              	shellUp:
 2951              	.LVL271:
 2952              	.LFB167:
1347:SYS/shell/shell.c ****     shellHistory(shell, 1);
 2953              		.loc 1 1347 1 is_stmt 1 view -0
 2954              		.cfi_startproc
 2955              		@ args = 0, pretend = 0, frame = 0
 2956              		@ frame_needed = 0, uses_anonymous_args = 0
1347:SYS/shell/shell.c ****     shellHistory(shell, 1);
 2957              		.loc 1 1347 1 is_stmt 0 view .LVU764
 2958 0000 08B5     		push	{r3, lr}
 2959              	.LCFI53:
 2960              		.cfi_def_cfa_offset 8
 2961              		.cfi_offset 3, -8
 2962              		.cfi_offset 14, -4
1348:SYS/shell/shell.c **** }
 2963              		.loc 1 1348 5 is_stmt 1 view .LVU765
 2964 0002 0121     		movs	r1, #1
 2965 0004 FFF7FEFF 		bl	shellHistory
 2966              	.LVL272:
1349:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x1B5B4100, shellUp, up);
 2967              		.loc 1 1349 1 is_stmt 0 view .LVU766
 2968 0008 08BD     		pop	{r3, pc}
 2969              		.cfi_endproc
 2970              	.LFE167:
 2972              		.section	.text.shellDown,"ax",%progbits
 2973              		.align	1
 2974              		.global	shellDown
 2975              		.syntax unified
 2976              		.thumb
 2977              		.thumb_func
 2978              		.fpu fpv4-sp-d16
 2980              	shellDown:
 2981              	.LVL273:
 2982              	.LFB168:
1358:SYS/shell/shell.c ****     shellHistory(shell, -1);
 2983              		.loc 1 1358 1 is_stmt 1 view -0
 2984              		.cfi_startproc
 2985              		@ args = 0, pretend = 0, frame = 0
 2986              		@ frame_needed = 0, uses_anonymous_args = 0
1358:SYS/shell/shell.c ****     shellHistory(shell, -1);
 2987              		.loc 1 1358 1 is_stmt 0 view .LVU768
 2988 0000 08B5     		push	{r3, lr}
 2989              	.LCFI54:
 2990              		.cfi_def_cfa_offset 8
 2991              		.cfi_offset 3, -8
 2992              		.cfi_offset 14, -4
1359:SYS/shell/shell.c **** }
 2993              		.loc 1 1359 5 is_stmt 1 view .LVU769
 2994 0002 4FF0FF31 		mov	r1, #-1
ARM GAS  /tmp/ccKSSxev.s 			page 94


 2995 0006 FFF7FEFF 		bl	shellHistory
 2996              	.LVL274:
1360:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x1B5B4200, shellDown, down);
 2997              		.loc 1 1360 1 is_stmt 0 view .LVU770
 2998 000a 08BD     		pop	{r3, pc}
 2999              		.cfi_endproc
 3000              	.LFE168:
 3002              		.section	.text.shellTab,"ax",%progbits
 3003              		.align	1
 3004              		.global	shellTab
 3005              		.syntax unified
 3006              		.thumb
 3007              		.thumb_func
 3008              		.fpu fpv4-sp-d16
 3010              	shellTab:
 3011              	.LVL275:
 3012              	.LFB171:
1400:SYS/shell/shell.c ****     unsigned short maxMatch = shell->parser.bufferSize;
 3013              		.loc 1 1400 1 is_stmt 1 view -0
 3014              		.cfi_startproc
 3015              		@ args = 0, pretend = 0, frame = 0
 3016              		@ frame_needed = 0, uses_anonymous_args = 0
1400:SYS/shell/shell.c ****     unsigned short maxMatch = shell->parser.bufferSize;
 3017              		.loc 1 1400 1 is_stmt 0 view .LVU772
 3018 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3019              	.LCFI55:
 3020              		.cfi_def_cfa_offset 40
 3021              		.cfi_offset 3, -40
 3022              		.cfi_offset 4, -36
 3023              		.cfi_offset 5, -32
 3024              		.cfi_offset 6, -28
 3025              		.cfi_offset 7, -24
 3026              		.cfi_offset 8, -20
 3027              		.cfi_offset 9, -16
 3028              		.cfi_offset 10, -12
 3029              		.cfi_offset 11, -8
 3030              		.cfi_offset 14, -4
 3031 0004 0546     		mov	r5, r0
1401:SYS/shell/shell.c ****     unsigned short lastMatchIndex = 0;
 3032              		.loc 1 1401 5 is_stmt 1 view .LVU773
1401:SYS/shell/shell.c ****     unsigned short lastMatchIndex = 0;
 3033              		.loc 1 1401 20 is_stmt 0 view .LVU774
 3034 0006 B0F834A0 		ldrh	r10, [r0, #52]
 3035              	.LVL276:
1402:SYS/shell/shell.c ****     unsigned short matchNum = 0;
 3036              		.loc 1 1402 5 is_stmt 1 view .LVU775
1403:SYS/shell/shell.c ****     unsigned short length;
 3037              		.loc 1 1403 5 view .LVU776
1404:SYS/shell/shell.c **** 
 3038              		.loc 1 1404 5 view .LVU777
1406:SYS/shell/shell.c ****     {
 3039              		.loc 1 1406 5 view .LVU778
1406:SYS/shell/shell.c ****     {
 3040              		.loc 1 1406 22 is_stmt 0 view .LVU779
 3041 000a 8389     		ldrh	r3, [r0, #12]
1406:SYS/shell/shell.c ****     {
 3042              		.loc 1 1406 8 view .LVU780
ARM GAS  /tmp/ccKSSxev.s 			page 95


 3043 000c 43B1     		cbz	r3, .L289
1411:SYS/shell/shell.c ****     {
 3044              		.loc 1 1411 10 is_stmt 1 view .LVU781
 3045              	.LBB15:
1413:SYS/shell/shell.c ****         ShellCommand *base = (ShellCommand *)shell->commandList.base;
 3046              		.loc 1 1413 9 view .LVU782
1413:SYS/shell/shell.c ****         ShellCommand *base = (ShellCommand *)shell->commandList.base;
 3047              		.loc 1 1413 22 is_stmt 0 view .LVU783
 3048 000e 0269     		ldr	r2, [r0, #16]
1413:SYS/shell/shell.c ****         ShellCommand *base = (ShellCommand *)shell->commandList.base;
 3049              		.loc 1 1413 52 view .LVU784
 3050 0010 4FF00008 		mov	r8, #0
 3051 0014 02F80380 		strb	r8, [r2, r3]
1414:SYS/shell/shell.c ****         for (short i = 0; i < shell->commandList.count; i++)
 3052              		.loc 1 1414 9 is_stmt 1 view .LVU785
1414:SYS/shell/shell.c ****         for (short i = 0; i < shell->commandList.count; i++)
 3053              		.loc 1 1414 23 is_stmt 0 view .LVU786
 3054 0018 876D     		ldr	r7, [r0, #88]
 3055              	.LVL277:
1415:SYS/shell/shell.c ****         {
 3056              		.loc 1 1415 9 is_stmt 1 view .LVU787
 3057              	.LBB16:
1415:SYS/shell/shell.c ****         {
 3058              		.loc 1 1415 14 view .LVU788
1415:SYS/shell/shell.c ****         {
 3059              		.loc 1 1415 20 is_stmt 0 view .LVU789
 3060 001a 4446     		mov	r4, r8
 3061              	.LBE16:
 3062              	.LBE15:
1403:SYS/shell/shell.c ****     unsigned short length;
 3063              		.loc 1 1403 20 view .LVU790
 3064 001c C146     		mov	r9, r8
 3065              	.LBB19:
 3066              	.LBB17:
1415:SYS/shell/shell.c ****         {
 3067              		.loc 1 1415 9 view .LVU791
 3068 001e 24E0     		b	.L281
 3069              	.LVL278:
 3070              	.L289:
1415:SYS/shell/shell.c ****         {
 3071              		.loc 1 1415 9 view .LVU792
 3072              	.LBE17:
 3073              	.LBE19:
1408:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
 3074              		.loc 1 1408 9 is_stmt 1 view .LVU793
 3075 0020 FFF7FEFF 		bl	shellListAll
 3076              	.LVL279:
1409:SYS/shell/shell.c ****     }
 3077              		.loc 1 1409 9 view .LVU794
 3078 0024 0121     		movs	r1, #1
 3079 0026 2846     		mov	r0, r5
 3080 0028 FFF7FEFF 		bl	shellWriteCommandLine
 3081              	.LVL280:
 3082 002c 5DE0     		b	.L278
 3083              	.LVL281:
 3084              	.L284:
 3085              	.LBB20:
ARM GAS  /tmp/ccKSSxev.s 			page 96


 3086              	.LBB18:
1426:SYS/shell/shell.c ****                     length =
 3087              		.loc 1 1426 21 view .LVU795
 3088 002e 07EB0818 		add	r8, r7, r8, lsl #4
 3089              	.LVL282:
1426:SYS/shell/shell.c ****                     length =
 3090              		.loc 1 1426 21 is_stmt 0 view .LVU796
 3091 0032 4146     		mov	r1, r8
 3092 0034 2846     		mov	r0, r5
 3093 0036 FFF7FEFF 		bl	shellListItem
 3094              	.LVL283:
1427:SYS/shell/shell.c ****                         shellStringCompare((char *)shellGetCommandName(&base[lastMatchIndex]),
 3095              		.loc 1 1427 21 is_stmt 1 view .LVU797
1428:SYS/shell/shell.c ****                                            (char *)shellGetCommandName(&base[i]));
 3096              		.loc 1 1428 52 is_stmt 0 view .LVU798
 3097 003a 4046     		mov	r0, r8
 3098 003c FFF7FEFF 		bl	shellGetCommandName
 3099              	.LVL284:
 3100 0040 8046     		mov	r8, r0
1429:SYS/shell/shell.c ****                     maxMatch = (maxMatch > length) ? length : maxMatch;
 3101              		.loc 1 1429 52 view .LVU799
 3102 0042 3046     		mov	r0, r6
 3103 0044 FFF7FEFF 		bl	shellGetCommandName
 3104              	.LVL285:
1428:SYS/shell/shell.c ****                                            (char *)shellGetCommandName(&base[i]));
 3105              		.loc 1 1428 25 view .LVU800
 3106 0048 0146     		mov	r1, r0
 3107 004a 4046     		mov	r0, r8
 3108 004c FFF7FEFF 		bl	shellStringCompare
 3109              	.LVL286:
1430:SYS/shell/shell.c ****                 }
 3110              		.loc 1 1430 21 is_stmt 1 view .LVU801
1430:SYS/shell/shell.c ****                 }
 3111              		.loc 1 1430 30 is_stmt 0 view .LVU802
 3112 0050 8245     		cmp	r10, r0
 3113 0052 28BF     		it	cs
 3114 0054 8246     		movcs	r10, r0
 3115              	.LVL287:
1430:SYS/shell/shell.c ****                 }
 3116              		.loc 1 1430 30 view .LVU803
 3117 0056 1FFA8AFA 		uxth	r10, r10
 3118              	.LVL288:
 3119              	.L283:
1432:SYS/shell/shell.c ****                 matchNum++;
 3120              		.loc 1 1432 17 is_stmt 1 view .LVU804
1432:SYS/shell/shell.c ****                 matchNum++;
 3121              		.loc 1 1432 32 is_stmt 0 view .LVU805
 3122 005a 1FFA84F8 		uxth	r8, r4
 3123              	.LVL289:
1433:SYS/shell/shell.c ****             }
 3124              		.loc 1 1433 17 is_stmt 1 view .LVU806
1433:SYS/shell/shell.c ****             }
 3125              		.loc 1 1433 25 is_stmt 0 view .LVU807
 3126 005e 09F10109 		add	r9, r9, #1
 3127              	.LVL290:
1433:SYS/shell/shell.c ****             }
 3128              		.loc 1 1433 25 view .LVU808
ARM GAS  /tmp/ccKSSxev.s 			page 97


 3129 0062 1FFA89F9 		uxth	r9, r9
 3130              	.LVL291:
 3131              	.L282:
1415:SYS/shell/shell.c ****         {
 3132              		.loc 1 1415 58 discriminator 2 view .LVU809
 3133 0066 0134     		adds	r4, r4, #1
 3134              	.LVL292:
1415:SYS/shell/shell.c ****         {
 3135              		.loc 1 1415 58 discriminator 2 view .LVU810
 3136 0068 24B2     		sxth	r4, r4
 3137              	.LVL293:
 3138              	.L281:
1415:SYS/shell/shell.c ****         {
 3139              		.loc 1 1415 49 discriminator 1 view .LVU811
 3140 006a B5F85C30 		ldrh	r3, [r5, #92]
1415:SYS/shell/shell.c ****         {
 3141              		.loc 1 1415 9 discriminator 1 view .LVU812
 3142 006e 9C42     		cmp	r4, r3
 3143 0070 1EDA     		bge	.L290
1417:SYS/shell/shell.c ****                                                                                  (char *)shellGetCo
 3144              		.loc 1 1417 13 is_stmt 1 view .LVU813
1417:SYS/shell/shell.c ****                                                                                  (char *)shellGetCo
 3145              		.loc 1 1417 17 is_stmt 0 view .LVU814
 3146 0072 07EB0416 		add	r6, r7, r4, lsl #4
 3147 0076 3146     		mov	r1, r6
 3148 0078 2846     		mov	r0, r5
 3149 007a FFF7FEFF 		bl	shellCheckPermission
 3150              	.LVL294:
1417:SYS/shell/shell.c ****                                                                                  (char *)shellGetCo
 3151              		.loc 1 1417 16 view .LVU815
 3152 007e 0028     		cmp	r0, #0
 3153 0080 F1D1     		bne	.L282
1417:SYS/shell/shell.c ****                                                                                  (char *)shellGetCo
 3154              		.loc 1 1417 63 discriminator 1 view .LVU816
 3155 0082 D5F810B0 		ldr	fp, [r5, #16]
1418:SYS/shell/shell.c ****             {
 3156              		.loc 1 1418 90 discriminator 1 view .LVU817
 3157 0086 3046     		mov	r0, r6
 3158 0088 FFF7FEFF 		bl	shellGetCommandName
 3159              	.LVL295:
1417:SYS/shell/shell.c ****                                                                                  (char *)shellGetCo
 3160              		.loc 1 1417 63 discriminator 1 view .LVU818
 3161 008c 0146     		mov	r1, r0
 3162 008e 5846     		mov	r0, fp
 3163 0090 FFF7FEFF 		bl	shellStringCompare
 3164              	.LVL296:
1418:SYS/shell/shell.c ****             {
 3165              		.loc 1 1418 137 discriminator 1 view .LVU819
 3166 0094 AB89     		ldrh	r3, [r5, #12]
1417:SYS/shell/shell.c ****                                                                                  (char *)shellGetCo
 3167              		.loc 1 1417 60 discriminator 1 view .LVU820
 3168 0096 9842     		cmp	r0, r3
 3169 0098 E5D1     		bne	.L282
1420:SYS/shell/shell.c ****                 {
 3170              		.loc 1 1420 17 is_stmt 1 view .LVU821
1420:SYS/shell/shell.c ****                 {
 3171              		.loc 1 1420 20 is_stmt 0 view .LVU822
ARM GAS  /tmp/ccKSSxev.s 			page 98


 3172 009a B9F1000F 		cmp	r9, #0
 3173 009e DCD0     		beq	.L283
1422:SYS/shell/shell.c ****                     {
 3174              		.loc 1 1422 21 is_stmt 1 view .LVU823
1422:SYS/shell/shell.c ****                     {
 3175              		.loc 1 1422 24 is_stmt 0 view .LVU824
 3176 00a0 B9F1010F 		cmp	r9, #1
 3177 00a4 C3D1     		bne	.L284
1424:SYS/shell/shell.c ****                     }
 3178              		.loc 1 1424 25 is_stmt 1 view .LVU825
 3179 00a6 1A49     		ldr	r1, .L293
 3180 00a8 2846     		mov	r0, r5
 3181 00aa FFF7FEFF 		bl	shellWriteString
 3182              	.LVL297:
 3183 00ae BEE7     		b	.L284
 3184              	.L290:
1424:SYS/shell/shell.c ****                     }
 3185              		.loc 1 1424 25 is_stmt 0 view .LVU826
 3186              	.LBE18:
1436:SYS/shell/shell.c ****         {
 3187              		.loc 1 1436 9 is_stmt 1 view .LVU827
1436:SYS/shell/shell.c ****         {
 3188              		.loc 1 1436 12 is_stmt 0 view .LVU828
 3189 00b0 B9F1000F 		cmp	r9, #0
 3190 00b4 19D0     		beq	.L278
1440:SYS/shell/shell.c ****         {
 3191              		.loc 1 1440 9 is_stmt 1 view .LVU829
1440:SYS/shell/shell.c ****         {
 3192              		.loc 1 1440 12 is_stmt 0 view .LVU830
 3193 00b6 B9F1010F 		cmp	r9, #1
 3194 00ba 18D0     		beq	.L291
 3195              	.L286:
1444:SYS/shell/shell.c ****         {
 3196              		.loc 1 1444 9 is_stmt 1 view .LVU831
1446:SYS/shell/shell.c ****                 shellStringCopy(shell->parser.buffer,
 3197              		.loc 1 1446 13 view .LVU832
1447:SYS/shell/shell.c ****                                 (char *)shellGetCommandName(&base[lastMatchIndex]));
 3198              		.loc 1 1447 17 is_stmt 0 view .LVU833
 3199 00bc 2C69     		ldr	r4, [r5, #16]
 3200              	.LVL298:
1448:SYS/shell/shell.c ****         }
 3201              		.loc 1 1448 41 view .LVU834
 3202 00be 07EB0810 		add	r0, r7, r8, lsl #4
 3203 00c2 FFF7FEFF 		bl	shellGetCommandName
 3204              	.LVL299:
1447:SYS/shell/shell.c ****                                 (char *)shellGetCommandName(&base[lastMatchIndex]));
 3205              		.loc 1 1447 17 view .LVU835
 3206 00c6 0146     		mov	r1, r0
 3207 00c8 2046     		mov	r0, r4
 3208 00ca FFF7FEFF 		bl	shellStringCopy
 3209              	.LVL300:
1446:SYS/shell/shell.c ****                 shellStringCopy(shell->parser.buffer,
 3210              		.loc 1 1446 34 view .LVU836
 3211 00ce A881     		strh	r0, [r5, #12]	@ movhi
1450:SYS/shell/shell.c ****         {
 3212              		.loc 1 1450 9 is_stmt 1 view .LVU837
1450:SYS/shell/shell.c ****         {
ARM GAS  /tmp/ccKSSxev.s 			page 99


 3213              		.loc 1 1450 12 is_stmt 0 view .LVU838
 3214 00d0 B9F1010F 		cmp	r9, #1
 3215 00d4 0FD8     		bhi	.L292
 3216              	.L287:
1456:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
 3217              		.loc 1 1456 9 is_stmt 1 view .LVU839
1456:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
 3218              		.loc 1 1456 22 is_stmt 0 view .LVU840
 3219 00d6 2A69     		ldr	r2, [r5, #16]
1456:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
 3220              		.loc 1 1456 43 view .LVU841
 3221 00d8 AB89     		ldrh	r3, [r5, #12]
1456:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
 3222              		.loc 1 1456 52 view .LVU842
 3223 00da 0021     		movs	r1, #0
 3224 00dc D154     		strb	r1, [r2, r3]
1457:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3225              		.loc 1 1457 9 is_stmt 1 view .LVU843
1457:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3226              		.loc 1 1457 45 is_stmt 0 view .LVU844
 3227 00de AB89     		ldrh	r3, [r5, #12]
1457:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3228              		.loc 1 1457 30 view .LVU845
 3229 00e0 EB81     		strh	r3, [r5, #14]	@ movhi
1458:SYS/shell/shell.c ****     }
 3230              		.loc 1 1458 9 is_stmt 1 view .LVU846
 3231 00e2 2969     		ldr	r1, [r5, #16]
 3232 00e4 2846     		mov	r0, r5
 3233 00e6 FFF7FEFF 		bl	shellWriteString
 3234              	.LVL301:
 3235              	.L278:
1458:SYS/shell/shell.c ****     }
 3236              		.loc 1 1458 9 is_stmt 0 view .LVU847
 3237              	.LBE20:
1481:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x09000000, shellTab, tab);
 3238              		.loc 1 1481 1 view .LVU848
 3239 00ea BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3240              	.LVL302:
 3241              	.L291:
 3242              	.LBB21:
1442:SYS/shell/shell.c ****         }
 3243              		.loc 1 1442 13 is_stmt 1 view .LVU849
 3244 00ee 2846     		mov	r0, r5
 3245 00f0 FFF7FEFF 		bl	shellClearCommandLine
 3246              	.LVL303:
 3247 00f4 E2E7     		b	.L286
 3248              	.LVL304:
 3249              	.L292:
1452:SYS/shell/shell.c ****             shellWriteCommandLine(shell, 1);
 3250              		.loc 1 1452 13 view .LVU850
 3251 00f6 07EB0811 		add	r1, r7, r8, lsl #4
 3252 00fa 2846     		mov	r0, r5
 3253 00fc FFF7FEFF 		bl	shellListItem
 3254              	.LVL305:
1453:SYS/shell/shell.c ****             shell->parser.length = maxMatch;
 3255              		.loc 1 1453 13 view .LVU851
 3256 0100 0121     		movs	r1, #1
ARM GAS  /tmp/ccKSSxev.s 			page 100


 3257 0102 2846     		mov	r0, r5
 3258 0104 FFF7FEFF 		bl	shellWriteCommandLine
 3259              	.LVL306:
1454:SYS/shell/shell.c ****         }
 3260              		.loc 1 1454 13 view .LVU852
1454:SYS/shell/shell.c ****         }
 3261              		.loc 1 1454 34 is_stmt 0 view .LVU853
 3262 0108 A5F80CA0 		strh	r10, [r5, #12]	@ movhi
 3263 010c E3E7     		b	.L287
 3264              	.L294:
 3265 010e 00BF     		.align	2
 3266              	.L293:
 3267 0110 04000000 		.word	.LC3
 3268              	.LBE21:
 3269              		.cfi_endproc
 3270              	.LFE171:
 3272              		.section	.text.shellInsertByte,"ax",%progbits
 3273              		.align	1
 3274              		.global	shellInsertByte
 3275              		.syntax unified
 3276              		.thumb
 3277              		.thumb_func
 3278              		.fpu fpv4-sp-d16
 3280              	shellInsertByte:
 3281              	.LVL307:
 3282              	.LFB150:
 730:SYS/shell/shell.c ****     /* 判断输入数据是否过长 */
 3283              		.loc 1 730 1 is_stmt 1 view -0
 3284              		.cfi_startproc
 3285              		@ args = 0, pretend = 0, frame = 0
 3286              		@ frame_needed = 0, uses_anonymous_args = 0
 730:SYS/shell/shell.c ****     /* 判断输入数据是否过长 */
 3287              		.loc 1 730 1 is_stmt 0 view .LVU855
 3288 0000 70B5     		push	{r4, r5, r6, lr}
 3289              	.LCFI56:
 3290              		.cfi_def_cfa_offset 16
 3291              		.cfi_offset 4, -16
 3292              		.cfi_offset 5, -12
 3293              		.cfi_offset 6, -8
 3294              		.cfi_offset 14, -4
 3295 0002 0446     		mov	r4, r0
 732:SYS/shell/shell.c ****     {
 3296              		.loc 1 732 5 is_stmt 1 view .LVU856
 732:SYS/shell/shell.c ****     {
 3297              		.loc 1 732 22 is_stmt 0 view .LVU857
 3298 0004 8389     		ldrh	r3, [r0, #12]
 732:SYS/shell/shell.c ****     {
 3299              		.loc 1 732 46 view .LVU858
 3300 0006 828E     		ldrh	r2, [r0, #52]
 732:SYS/shell/shell.c ****     {
 3301              		.loc 1 732 58 view .LVU859
 3302 0008 013A     		subs	r2, r2, #1
 732:SYS/shell/shell.c ****     {
 3303              		.loc 1 732 8 view .LVU860
 3304 000a 9342     		cmp	r3, r2
 3305 000c 12DA     		bge	.L306
 741:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 101


 3306              		.loc 1 741 5 is_stmt 1 view .LVU861
 741:SYS/shell/shell.c ****     {
 3307              		.loc 1 741 22 is_stmt 0 view .LVU862
 3308 000e C289     		ldrh	r2, [r0, #14]
 741:SYS/shell/shell.c ****     {
 3309              		.loc 1 741 8 view .LVU863
 3310 0010 9342     		cmp	r3, r2
 3311 0012 1BD0     		beq	.L307
 748:SYS/shell/shell.c ****     {
 3312              		.loc 1 748 10 is_stmt 1 view .LVU864
 748:SYS/shell/shell.c ****     {
 3313              		.loc 1 748 13 is_stmt 0 view .LVU865
 3314 0014 9342     		cmp	r3, r2
 3315 0016 18D9     		bls	.L295
 750:SYS/shell/shell.c ****         {
 3316              		.loc 1 750 9 is_stmt 1 view .LVU866
 3317              	.LBB22:
 750:SYS/shell/shell.c ****         {
 3318              		.loc 1 750 14 view .LVU867
 750:SYS/shell/shell.c ****         {
 3319              		.loc 1 750 45 is_stmt 0 view .LVU868
 3320 0018 9B1A     		subs	r3, r3, r2
 750:SYS/shell/shell.c ****         {
 3321              		.loc 1 750 20 view .LVU869
 3322 001a 1BB2     		sxth	r3, r3
 3323              	.LVL308:
 3324              	.L299:
 750:SYS/shell/shell.c ****         {
 3325              		.loc 1 750 9 discriminator 1 view .LVU870
 3326 001c 002B     		cmp	r3, #0
 3327 001e 24DD     		ble	.L308
 752:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i - 1];
 3328              		.loc 1 752 13 is_stmt 1 discriminator 3 view .LVU871
 753:SYS/shell/shell.c ****         }
 3329              		.loc 1 753 30 is_stmt 0 discriminator 3 view .LVU872
 3330 0020 2069     		ldr	r0, [r4, #16]
 753:SYS/shell/shell.c ****         }
 3331              		.loc 1 753 51 discriminator 3 view .LVU873
 3332 0022 E289     		ldrh	r2, [r4, #14]
 753:SYS/shell/shell.c ****         }
 3333              		.loc 1 753 59 discriminator 3 view .LVU874
 3334 0024 1A44     		add	r2, r2, r3
 752:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i - 1];
 3335              		.loc 1 752 33 discriminator 3 view .LVU875
 3336 0026 8518     		adds	r5, r0, r2
 753:SYS/shell/shell.c ****         }
 3337              		.loc 1 753 37 discriminator 3 view .LVU876
 3338 0028 15F8015C 		ldrb	r5, [r5, #-1]	@ zero_extendqisi2
 752:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i - 1];
 3339              		.loc 1 752 60 discriminator 3 view .LVU877
 3340 002c 8554     		strb	r5, [r0, r2]
 750:SYS/shell/shell.c ****         {
 3341              		.loc 1 750 77 discriminator 3 view .LVU878
 3342 002e 013B     		subs	r3, r3, #1
 3343              	.LVL309:
 750:SYS/shell/shell.c ****         {
 3344              		.loc 1 750 77 discriminator 3 view .LVU879
ARM GAS  /tmp/ccKSSxev.s 			page 102


 3345 0030 1BB2     		sxth	r3, r3
 3346              	.LVL310:
 750:SYS/shell/shell.c ****         {
 3347              		.loc 1 750 77 discriminator 3 view .LVU880
 3348 0032 F3E7     		b	.L299
 3349              	.LVL311:
 3350              	.L306:
 750:SYS/shell/shell.c ****         {
 3351              		.loc 1 750 77 discriminator 3 view .LVU881
 3352              	.LBE22:
 734:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
 3353              		.loc 1 734 9 is_stmt 1 view .LVU882
 3354 0034 2049     		ldr	r1, .L310
 3355              	.LVL312:
 734:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
 3356              		.loc 1 734 9 is_stmt 0 view .LVU883
 3357 0036 FFF7FEFF 		bl	shellWriteString
 3358              	.LVL313:
 735:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3359              		.loc 1 735 9 is_stmt 1 view .LVU884
 3360 003a 0121     		movs	r1, #1
 3361 003c 2046     		mov	r0, r4
 3362 003e FFF7FEFF 		bl	shellWriteCommandLine
 3363              	.LVL314:
 736:SYS/shell/shell.c ****         return;
 3364              		.loc 1 736 9 view .LVU885
 3365 0042 2169     		ldr	r1, [r4, #16]
 3366 0044 2046     		mov	r0, r4
 3367 0046 FFF7FEFF 		bl	shellWriteString
 3368              	.LVL315:
 737:SYS/shell/shell.c ****     }
 3369              		.loc 1 737 9 view .LVU886
 3370              	.L295:
 766:SYS/shell/shell.c **** 
 3371              		.loc 1 766 1 is_stmt 0 view .LVU887
 3372 004a 70BD     		pop	{r4, r5, r6, pc}
 3373              	.LVL316:
 3374              	.L307:
 743:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3375              		.loc 1 743 9 is_stmt 1 view .LVU888
 743:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3376              		.loc 1 743 22 is_stmt 0 view .LVU889
 3377 004c 0269     		ldr	r2, [r0, #16]
 743:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3378              		.loc 1 743 50 view .LVU890
 3379 004e 581C     		adds	r0, r3, #1
 3380              	.LVL317:
 743:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3381              		.loc 1 743 50 view .LVU891
 3382 0050 A081     		strh	r0, [r4, #12]	@ movhi
 743:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3383              		.loc 1 743 54 view .LVU892
 3384 0052 D154     		strb	r1, [r2, r3]
 744:SYS/shell/shell.c ****         shell->parser.cursor++;
 3385              		.loc 1 744 9 is_stmt 1 view .LVU893
 744:SYS/shell/shell.c ****         shell->parser.cursor++;
 3386              		.loc 1 744 22 is_stmt 0 view .LVU894
ARM GAS  /tmp/ccKSSxev.s 			page 103


 3387 0054 2269     		ldr	r2, [r4, #16]
 744:SYS/shell/shell.c ****         shell->parser.cursor++;
 3388              		.loc 1 744 43 view .LVU895
 3389 0056 A389     		ldrh	r3, [r4, #12]
 744:SYS/shell/shell.c ****         shell->parser.cursor++;
 3390              		.loc 1 744 52 view .LVU896
 3391 0058 0020     		movs	r0, #0
 3392 005a D054     		strb	r0, [r2, r3]
 745:SYS/shell/shell.c ****         shellWriteByte(shell, data);
 3393              		.loc 1 745 9 is_stmt 1 view .LVU897
 745:SYS/shell/shell.c ****         shellWriteByte(shell, data);
 3394              		.loc 1 745 22 is_stmt 0 view .LVU898
 3395 005c E389     		ldrh	r3, [r4, #14]
 745:SYS/shell/shell.c ****         shellWriteByte(shell, data);
 3396              		.loc 1 745 29 view .LVU899
 3397 005e 0133     		adds	r3, r3, #1
 3398 0060 E381     		strh	r3, [r4, #14]	@ movhi
 746:SYS/shell/shell.c ****     }
 3399              		.loc 1 746 9 is_stmt 1 view .LVU900
 3400 0062 2046     		mov	r0, r4
 3401 0064 FFF7FEFF 		bl	shellWriteByte
 3402              	.LVL318:
 746:SYS/shell/shell.c ****     }
 3403              		.loc 1 746 9 is_stmt 0 view .LVU901
 3404 0068 EFE7     		b	.L295
 3405              	.LVL319:
 3406              	.L308:
 755:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3407              		.loc 1 755 9 is_stmt 1 view .LVU902
 755:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3408              		.loc 1 755 22 is_stmt 0 view .LVU903
 3409 006a 2269     		ldr	r2, [r4, #16]
 755:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3410              		.loc 1 755 43 view .LVU904
 3411 006c E389     		ldrh	r3, [r4, #14]
 3412              	.LVL320:
 755:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3413              		.loc 1 755 50 view .LVU905
 3414 006e 581C     		adds	r0, r3, #1
 3415 0070 E081     		strh	r0, [r4, #14]	@ movhi
 755:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3416              		.loc 1 755 54 view .LVU906
 3417 0072 D154     		strb	r1, [r2, r3]
 756:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3418              		.loc 1 756 9 is_stmt 1 view .LVU907
 756:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3419              		.loc 1 756 22 is_stmt 0 view .LVU908
 3420 0074 2269     		ldr	r2, [r4, #16]
 756:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3421              		.loc 1 756 45 view .LVU909
 3422 0076 A389     		ldrh	r3, [r4, #12]
 756:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3423              		.loc 1 756 30 view .LVU910
 3424 0078 0133     		adds	r3, r3, #1
 3425 007a 9BB2     		uxth	r3, r3
 756:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3426              		.loc 1 756 54 view .LVU911
ARM GAS  /tmp/ccKSSxev.s 			page 104


 3427 007c A381     		strh	r3, [r4, #12]	@ movhi
 3428 007e 0021     		movs	r1, #0
 3429              	.LVL321:
 756:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3430              		.loc 1 756 54 view .LVU912
 3431 0080 D154     		strb	r1, [r2, r3]
 757:SYS/shell/shell.c ****         {
 3432              		.loc 1 757 9 is_stmt 1 view .LVU913
 3433              	.LBB23:
 757:SYS/shell/shell.c ****         {
 3434              		.loc 1 757 14 view .LVU914
 757:SYS/shell/shell.c ****         {
 3435              		.loc 1 757 37 is_stmt 0 view .LVU915
 3436 0082 E689     		ldrh	r6, [r4, #14]
 757:SYS/shell/shell.c ****         {
 3437              		.loc 1 757 45 view .LVU916
 3438 0084 013E     		subs	r6, r6, #1
 757:SYS/shell/shell.c ****         {
 3439              		.loc 1 757 20 view .LVU917
 3440 0086 36B2     		sxth	r6, r6
 3441              	.LVL322:
 3442              	.L301:
 757:SYS/shell/shell.c ****         {
 3443              		.loc 1 757 67 discriminator 1 view .LVU918
 3444 0088 A589     		ldrh	r5, [r4, #12]
 757:SYS/shell/shell.c ****         {
 3445              		.loc 1 757 9 discriminator 1 view .LVU919
 3446 008a AE42     		cmp	r6, r5
 3447 008c 07DA     		bge	.L309
 759:SYS/shell/shell.c ****         }
 3448              		.loc 1 759 13 is_stmt 1 discriminator 3 view .LVU920
 759:SYS/shell/shell.c ****         }
 3449              		.loc 1 759 48 is_stmt 0 discriminator 3 view .LVU921
 3450 008e 2369     		ldr	r3, [r4, #16]
 759:SYS/shell/shell.c ****         }
 3451              		.loc 1 759 13 discriminator 3 view .LVU922
 3452 0090 995D     		ldrb	r1, [r3, r6]	@ zero_extendqisi2
 3453 0092 2046     		mov	r0, r4
 3454 0094 FFF7FEFF 		bl	shellWriteByte
 3455              	.LVL323:
 757:SYS/shell/shell.c ****         {
 3456              		.loc 1 757 77 discriminator 3 view .LVU923
 3457 0098 0136     		adds	r6, r6, #1
 3458              	.LVL324:
 757:SYS/shell/shell.c ****         {
 3459              		.loc 1 757 77 discriminator 3 view .LVU924
 3460 009a 36B2     		sxth	r6, r6
 3461              	.LVL325:
 757:SYS/shell/shell.c ****         {
 3462              		.loc 1 757 77 discriminator 3 view .LVU925
 3463 009c F4E7     		b	.L301
 3464              	.L309:
 757:SYS/shell/shell.c ****         {
 3465              		.loc 1 757 77 discriminator 3 view .LVU926
 3466              	.LBE23:
 761:SYS/shell/shell.c ****         {
 3467              		.loc 1 761 9 is_stmt 1 view .LVU927
ARM GAS  /tmp/ccKSSxev.s 			page 105


 3468              	.LBB24:
 761:SYS/shell/shell.c ****         {
 3469              		.loc 1 761 14 view .LVU928
 761:SYS/shell/shell.c ****         {
 3470              		.loc 1 761 60 is_stmt 0 view .LVU929
 3471 009e E389     		ldrh	r3, [r4, #14]
 761:SYS/shell/shell.c ****         {
 3472              		.loc 1 761 45 view .LVU930
 3473 00a0 ED1A     		subs	r5, r5, r3
 761:SYS/shell/shell.c ****         {
 3474              		.loc 1 761 20 view .LVU931
 3475 00a2 2DB2     		sxth	r5, r5
 3476              	.LVL326:
 3477              	.L303:
 761:SYS/shell/shell.c ****         {
 3478              		.loc 1 761 9 discriminator 1 view .LVU932
 3479 00a4 002D     		cmp	r5, #0
 3480 00a6 D0DD     		ble	.L295
 763:SYS/shell/shell.c ****         }
 3481              		.loc 1 763 13 is_stmt 1 discriminator 3 view .LVU933
 3482 00a8 0821     		movs	r1, #8
 3483 00aa 2046     		mov	r0, r4
 3484 00ac FFF7FEFF 		bl	shellWriteByte
 3485              	.LVL327:
 761:SYS/shell/shell.c ****         {
 3486              		.loc 1 761 77 is_stmt 0 discriminator 3 view .LVU934
 3487 00b0 013D     		subs	r5, r5, #1
 3488              	.LVL328:
 761:SYS/shell/shell.c ****         {
 3489              		.loc 1 761 77 discriminator 3 view .LVU935
 3490 00b2 2DB2     		sxth	r5, r5
 3491              	.LVL329:
 761:SYS/shell/shell.c ****         {
 3492              		.loc 1 761 77 discriminator 3 view .LVU936
 3493 00b4 F6E7     		b	.L303
 3494              	.L311:
 3495 00b6 00BF     		.align	2
 3496              	.L310:
 3497 00b8 00000000 		.word	.LC21
 3498              	.LBE24:
 3499              		.cfi_endproc
 3500              	.LFE150:
 3502              		.section	.text.shellDeleteByte,"ax",%progbits
 3503              		.align	1
 3504              		.global	shellDeleteByte
 3505              		.syntax unified
 3506              		.thumb
 3507              		.thumb_func
 3508              		.fpu fpv4-sp-d16
 3510              	shellDeleteByte:
 3511              	.LVL330:
 3512              	.LFB151:
 775:SYS/shell/shell.c ****     char offset = (direction == -1) ? 1 : 0;
 3513              		.loc 1 775 1 is_stmt 1 view -0
 3514              		.cfi_startproc
 3515              		@ args = 0, pretend = 0, frame = 0
 3516              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccKSSxev.s 			page 106


 775:SYS/shell/shell.c ****     char offset = (direction == -1) ? 1 : 0;
 3517              		.loc 1 775 1 is_stmt 0 view .LVU938
 3518 0000 38B5     		push	{r3, r4, r5, lr}
 3519              	.LCFI57:
 3520              		.cfi_def_cfa_offset 16
 3521              		.cfi_offset 3, -16
 3522              		.cfi_offset 4, -12
 3523              		.cfi_offset 5, -8
 3524              		.cfi_offset 14, -4
 776:SYS/shell/shell.c **** 
 3525              		.loc 1 776 5 is_stmt 1 view .LVU939
 776:SYS/shell/shell.c **** 
 3526              		.loc 1 776 41 is_stmt 0 view .LVU940
 3527 0002 B1F1FF3F 		cmp	r1, #-1
 3528 0006 14BF     		ite	ne
 3529 0008 0023     		movne	r3, #0
 3530 000a 0123     		moveq	r3, #1
 3531              	.LVL331:
 778:SYS/shell/shell.c ****     {
 3532              		.loc 1 778 5 is_stmt 1 view .LVU941
 778:SYS/shell/shell.c ****     {
 3533              		.loc 1 778 23 is_stmt 0 view .LVU942
 3534 000c C289     		ldrh	r2, [r0, #14]
 778:SYS/shell/shell.c ****     {
 3535              		.loc 1 778 8 view .LVU943
 3536 000e 0AB9     		cbnz	r2, .L313
 778:SYS/shell/shell.c ****     {
 3537              		.loc 1 778 36 discriminator 1 view .LVU944
 3538 0010 0129     		cmp	r1, #1
 3539 0012 16D0     		beq	.L312
 3540              	.L313:
 778:SYS/shell/shell.c ****     {
 3541              		.loc 1 778 96 discriminator 3 view .LVU945
 3542 0014 8589     		ldrh	r5, [r0, #12]
 778:SYS/shell/shell.c ****     {
 3543              		.loc 1 778 55 discriminator 3 view .LVU946
 3544 0016 AA42     		cmp	r2, r5
 3545 0018 10D0     		beq	.L325
 3546              	.L315:
 3547 001a 0446     		mov	r4, r0
 782:SYS/shell/shell.c ****     {
 3548              		.loc 1 782 5 is_stmt 1 view .LVU947
 782:SYS/shell/shell.c ****     {
 3549              		.loc 1 782 8 is_stmt 0 view .LVU948
 3550 001c AA42     		cmp	r2, r5
 3551 001e 11D0     		beq	.L326
 3552              	.L316:
 791:SYS/shell/shell.c ****         {
 3553              		.loc 1 791 9 is_stmt 1 view .LVU949
 3554              	.LBB25:
 791:SYS/shell/shell.c ****         {
 3555              		.loc 1 791 14 view .LVU950
 791:SYS/shell/shell.c ****         {
 3556              		.loc 1 791 20 is_stmt 0 view .LVU951
 3557 0020 1BB2     		sxth	r3, r3
 3558              	.LVL332:
 3559              	.L317:
ARM GAS  /tmp/ccKSSxev.s 			page 107


 791:SYS/shell/shell.c ****         {
 3560              		.loc 1 791 49 discriminator 1 view .LVU952
 3561 0022 A089     		ldrh	r0, [r4, #12]
 791:SYS/shell/shell.c ****         {
 3562              		.loc 1 791 72 discriminator 1 view .LVU953
 3563 0024 E289     		ldrh	r2, [r4, #14]
 791:SYS/shell/shell.c ****         {
 3564              		.loc 1 791 57 discriminator 1 view .LVU954
 3565 0026 851A     		subs	r5, r0, r2
 791:SYS/shell/shell.c ****         {
 3566              		.loc 1 791 9 discriminator 1 view .LVU955
 3567 0028 AB42     		cmp	r3, r5
 3568 002a 19DA     		bge	.L327
 793:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i];
 3569              		.loc 1 793 13 is_stmt 1 discriminator 3 view .LVU956
 794:SYS/shell/shell.c ****         }
 3570              		.loc 1 794 30 is_stmt 0 discriminator 3 view .LVU957
 3571 002c 2069     		ldr	r0, [r4, #16]
 794:SYS/shell/shell.c ****         }
 3572              		.loc 1 794 59 discriminator 3 view .LVU958
 3573 002e 1A44     		add	r2, r2, r3
 793:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i];
 3574              		.loc 1 793 33 discriminator 3 view .LVU959
 3575 0030 551E     		subs	r5, r2, #1
 794:SYS/shell/shell.c ****         }
 3576              		.loc 1 794 37 discriminator 3 view .LVU960
 3577 0032 825C     		ldrb	r2, [r0, r2]	@ zero_extendqisi2
 793:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i];
 3578              		.loc 1 793 64 discriminator 3 view .LVU961
 3579 0034 4255     		strb	r2, [r0, r5]
 791:SYS/shell/shell.c ****         {
 3580              		.loc 1 791 82 discriminator 3 view .LVU962
 3581 0036 0133     		adds	r3, r3, #1
 3582              	.LVL333:
 791:SYS/shell/shell.c ****         {
 3583              		.loc 1 791 82 discriminator 3 view .LVU963
 3584 0038 1BB2     		sxth	r3, r3
 3585              	.LVL334:
 791:SYS/shell/shell.c ****         {
 3586              		.loc 1 791 82 discriminator 3 view .LVU964
 3587 003a F2E7     		b	.L317
 3588              	.LVL335:
 3589              	.L325:
 791:SYS/shell/shell.c ****         {
 3590              		.loc 1 791 82 discriminator 3 view .LVU965
 3591              	.LBE25:
 778:SYS/shell/shell.c ****     {
 3592              		.loc 1 778 104 discriminator 4 view .LVU966
 3593 003c B1F1FF3F 		cmp	r1, #-1
 3594 0040 EBD1     		bne	.L315
 3595              	.LVL336:
 3596              	.L312:
 813:SYS/shell/shell.c **** 
 3597              		.loc 1 813 1 view .LVU967
 3598 0042 38BD     		pop	{r3, r4, r5, pc}
 3599              	.LVL337:
 3600              	.L326:
ARM GAS  /tmp/ccKSSxev.s 			page 108


 782:SYS/shell/shell.c ****     {
 3601              		.loc 1 782 54 discriminator 1 view .LVU968
 3602 0044 0129     		cmp	r1, #1
 3603 0046 EBD1     		bne	.L316
 784:SYS/shell/shell.c ****         shell->parser.length--;
 3604              		.loc 1 784 9 is_stmt 1 view .LVU969
 784:SYS/shell/shell.c ****         shell->parser.length--;
 3605              		.loc 1 784 29 is_stmt 0 view .LVU970
 3606 0048 013A     		subs	r2, r2, #1
 3607 004a C281     		strh	r2, [r0, #14]	@ movhi
 785:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3608              		.loc 1 785 9 is_stmt 1 view .LVU971
 785:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3609              		.loc 1 785 29 is_stmt 0 view .LVU972
 3610 004c 6B1E     		subs	r3, r5, #1
 3611              	.LVL338:
 785:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3612              		.loc 1 785 29 view .LVU973
 3613 004e 9BB2     		uxth	r3, r3
 3614 0050 8381     		strh	r3, [r0, #12]	@ movhi
 786:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 3615              		.loc 1 786 9 is_stmt 1 view .LVU974
 786:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 3616              		.loc 1 786 22 is_stmt 0 view .LVU975
 3617 0052 0269     		ldr	r2, [r0, #16]
 786:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 3618              		.loc 1 786 52 view .LVU976
 3619 0054 0021     		movs	r1, #0
 3620              	.LVL339:
 786:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 3621              		.loc 1 786 52 view .LVU977
 3622 0056 D154     		strb	r1, [r2, r3]
 787:SYS/shell/shell.c ****     }
 3623              		.loc 1 787 9 is_stmt 1 view .LVU978
 3624 0058 0121     		movs	r1, #1
 3625 005a FFF7FEFF 		bl	shellDeleteCommandLine
 3626              	.LVL340:
 787:SYS/shell/shell.c ****     }
 3627              		.loc 1 787 9 is_stmt 0 view .LVU979
 3628 005e F0E7     		b	.L312
 3629              	.LVL341:
 3630              	.L327:
 796:SYS/shell/shell.c ****         if (!offset)
 3631              		.loc 1 796 9 is_stmt 1 view .LVU980
 796:SYS/shell/shell.c ****         if (!offset)
 3632              		.loc 1 796 29 is_stmt 0 view .LVU981
 3633 0060 0138     		subs	r0, r0, #1
 3634 0062 A081     		strh	r0, [r4, #12]	@ movhi
 797:SYS/shell/shell.c ****         {
 3635              		.loc 1 797 9 is_stmt 1 view .LVU982
 797:SYS/shell/shell.c ****         {
 3636              		.loc 1 797 12 is_stmt 0 view .LVU983
 3637 0064 B1F1FF3F 		cmp	r1, #-1
 3638 0068 10D1     		bne	.L328
 3639              	.LVL342:
 3640              	.L319:
 802:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
ARM GAS  /tmp/ccKSSxev.s 			page 109


 3641              		.loc 1 802 9 is_stmt 1 view .LVU984
 802:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
 3642              		.loc 1 802 22 is_stmt 0 view .LVU985
 3643 006a 2269     		ldr	r2, [r4, #16]
 802:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
 3644              		.loc 1 802 43 view .LVU986
 3645 006c A389     		ldrh	r3, [r4, #12]
 802:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
 3646              		.loc 1 802 52 view .LVU987
 3647 006e 0021     		movs	r1, #0
 3648 0070 D154     		strb	r1, [r2, r3]
 803:SYS/shell/shell.c ****         {
 3649              		.loc 1 803 9 is_stmt 1 view .LVU988
 3650              	.LBB26:
 803:SYS/shell/shell.c ****         {
 3651              		.loc 1 803 14 view .LVU989
 803:SYS/shell/shell.c ****         {
 3652              		.loc 1 803 20 is_stmt 0 view .LVU990
 3653 0072 B4F90E50 		ldrsh	r5, [r4, #14]
 3654              	.LVL343:
 3655              	.L320:
 803:SYS/shell/shell.c ****         {
 3656              		.loc 1 803 63 discriminator 1 view .LVU991
 3657 0076 A389     		ldrh	r3, [r4, #12]
 803:SYS/shell/shell.c ****         {
 3658              		.loc 1 803 9 discriminator 1 view .LVU992
 3659 0078 9D42     		cmp	r5, r3
 3660 007a 0EDA     		bge	.L329
 805:SYS/shell/shell.c ****         }
 3661              		.loc 1 805 13 is_stmt 1 discriminator 3 view .LVU993
 805:SYS/shell/shell.c ****         }
 3662              		.loc 1 805 48 is_stmt 0 discriminator 3 view .LVU994
 3663 007c 2369     		ldr	r3, [r4, #16]
 805:SYS/shell/shell.c ****         }
 3664              		.loc 1 805 13 discriminator 3 view .LVU995
 3665 007e 595D     		ldrb	r1, [r3, r5]	@ zero_extendqisi2
 3666 0080 2046     		mov	r0, r4
 3667 0082 FFF7FEFF 		bl	shellWriteByte
 3668              	.LVL344:
 803:SYS/shell/shell.c ****         {
 3669              		.loc 1 803 73 discriminator 3 view .LVU996
 3670 0086 0135     		adds	r5, r5, #1
 3671              	.LVL345:
 803:SYS/shell/shell.c ****         {
 3672              		.loc 1 803 73 discriminator 3 view .LVU997
 3673 0088 2DB2     		sxth	r5, r5
 3674              	.LVL346:
 803:SYS/shell/shell.c ****         {
 3675              		.loc 1 803 73 discriminator 3 view .LVU998
 3676 008a F4E7     		b	.L320
 3677              	.LVL347:
 3678              	.L328:
 803:SYS/shell/shell.c ****         {
 3679              		.loc 1 803 73 discriminator 3 view .LVU999
 3680              	.LBE26:
 799:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 3681              		.loc 1 799 13 is_stmt 1 view .LVU1000
ARM GAS  /tmp/ccKSSxev.s 			page 110


 799:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 3682              		.loc 1 799 33 is_stmt 0 view .LVU1001
 3683 008c 013A     		subs	r2, r2, #1
 3684 008e E281     		strh	r2, [r4, #14]	@ movhi
 800:SYS/shell/shell.c ****         }
 3685              		.loc 1 800 13 is_stmt 1 view .LVU1002
 3686 0090 0821     		movs	r1, #8
 3687              	.LVL348:
 800:SYS/shell/shell.c ****         }
 3688              		.loc 1 800 13 is_stmt 0 view .LVU1003
 3689 0092 2046     		mov	r0, r4
 3690 0094 FFF7FEFF 		bl	shellWriteByte
 3691              	.LVL349:
 800:SYS/shell/shell.c ****         }
 3692              		.loc 1 800 13 view .LVU1004
 3693 0098 E7E7     		b	.L319
 3694              	.LVL350:
 3695              	.L329:
 807:SYS/shell/shell.c ****         for (short i = shell->parser.length - shell->parser.cursor + 1; i > 0; i--)
 3696              		.loc 1 807 9 is_stmt 1 view .LVU1005
 3697 009a 2021     		movs	r1, #32
 3698 009c 2046     		mov	r0, r4
 3699 009e FFF7FEFF 		bl	shellWriteByte
 3700              	.LVL351:
 808:SYS/shell/shell.c ****         {
 3701              		.loc 1 808 9 view .LVU1006
 3702              	.LBB27:
 808:SYS/shell/shell.c ****         {
 3703              		.loc 1 808 14 view .LVU1007
 808:SYS/shell/shell.c ****         {
 3704              		.loc 1 808 37 is_stmt 0 view .LVU1008
 3705 00a2 A589     		ldrh	r5, [r4, #12]
 3706              	.LVL352:
 808:SYS/shell/shell.c ****         {
 3707              		.loc 1 808 60 view .LVU1009
 3708 00a4 E389     		ldrh	r3, [r4, #14]
 808:SYS/shell/shell.c ****         {
 3709              		.loc 1 808 45 view .LVU1010
 3710 00a6 ED1A     		subs	r5, r5, r3
 3711 00a8 ADB2     		uxth	r5, r5
 808:SYS/shell/shell.c ****         {
 3712              		.loc 1 808 68 view .LVU1011
 3713 00aa 0135     		adds	r5, r5, #1
 808:SYS/shell/shell.c ****         {
 3714              		.loc 1 808 20 view .LVU1012
 3715 00ac 2DB2     		sxth	r5, r5
 3716              	.LVL353:
 3717              	.L322:
 808:SYS/shell/shell.c ****         {
 3718              		.loc 1 808 9 discriminator 1 view .LVU1013
 3719 00ae 002D     		cmp	r5, #0
 3720 00b0 C7DD     		ble	.L312
 810:SYS/shell/shell.c ****         }
 3721              		.loc 1 810 13 is_stmt 1 discriminator 3 view .LVU1014
 3722 00b2 0821     		movs	r1, #8
 3723 00b4 2046     		mov	r0, r4
 3724 00b6 FFF7FEFF 		bl	shellWriteByte
ARM GAS  /tmp/ccKSSxev.s 			page 111


 3725              	.LVL354:
 808:SYS/shell/shell.c ****         {
 3726              		.loc 1 808 81 is_stmt 0 discriminator 3 view .LVU1015
 3727 00ba 013D     		subs	r5, r5, #1
 3728              	.LVL355:
 808:SYS/shell/shell.c ****         {
 3729              		.loc 1 808 81 discriminator 3 view .LVU1016
 3730 00bc 2DB2     		sxth	r5, r5
 3731              	.LVL356:
 808:SYS/shell/shell.c ****         {
 3732              		.loc 1 808 81 discriminator 3 view .LVU1017
 3733 00be F6E7     		b	.L322
 3734              	.LBE27:
 3735              		.cfi_endproc
 3736              	.LFE151:
 3738              		.section	.text.shellBackspace,"ax",%progbits
 3739              		.align	1
 3740              		.global	shellBackspace
 3741              		.syntax unified
 3742              		.thumb
 3743              		.thumb_func
 3744              		.fpu fpv4-sp-d16
 3746              	shellBackspace:
 3747              	.LVL357:
 3748              	.LFB172:
1490:SYS/shell/shell.c ****     shellDeleteByte(shell, 1);
 3749              		.loc 1 1490 1 is_stmt 1 view -0
 3750              		.cfi_startproc
 3751              		@ args = 0, pretend = 0, frame = 0
 3752              		@ frame_needed = 0, uses_anonymous_args = 0
1490:SYS/shell/shell.c ****     shellDeleteByte(shell, 1);
 3753              		.loc 1 1490 1 is_stmt 0 view .LVU1019
 3754 0000 08B5     		push	{r3, lr}
 3755              	.LCFI58:
 3756              		.cfi_def_cfa_offset 8
 3757              		.cfi_offset 3, -8
 3758              		.cfi_offset 14, -4
1491:SYS/shell/shell.c **** }
 3759              		.loc 1 1491 5 is_stmt 1 view .LVU1020
 3760 0002 0121     		movs	r1, #1
 3761 0004 FFF7FEFF 		bl	shellDeleteByte
 3762              	.LVL358:
1492:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
 3763              		.loc 1 1492 1 is_stmt 0 view .LVU1021
 3764 0008 08BD     		pop	{r3, pc}
 3765              		.cfi_endproc
 3766              	.LFE172:
 3768              		.section	.text.shellDelete,"ax",%progbits
 3769              		.align	1
 3770              		.global	shellDelete
 3771              		.syntax unified
 3772              		.thumb
 3773              		.thumb_func
 3774              		.fpu fpv4-sp-d16
 3776              	shellDelete:
 3777              	.LVL359:
 3778              	.LFB173:
ARM GAS  /tmp/ccKSSxev.s 			page 112


1504:SYS/shell/shell.c ****     shellDeleteByte(shell, -1);
 3779              		.loc 1 1504 1 is_stmt 1 view -0
 3780              		.cfi_startproc
 3781              		@ args = 0, pretend = 0, frame = 0
 3782              		@ frame_needed = 0, uses_anonymous_args = 0
1504:SYS/shell/shell.c ****     shellDeleteByte(shell, -1);
 3783              		.loc 1 1504 1 is_stmt 0 view .LVU1023
 3784 0000 08B5     		push	{r3, lr}
 3785              	.LCFI59:
 3786              		.cfi_def_cfa_offset 8
 3787              		.cfi_offset 3, -8
 3788              		.cfi_offset 14, -4
1505:SYS/shell/shell.c **** }
 3789              		.loc 1 1505 5 is_stmt 1 view .LVU1024
 3790 0002 4FF0FF31 		mov	r1, #-1
 3791 0006 FFF7FEFF 		bl	shellDeleteByte
 3792              	.LVL360:
1506:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0) | SHELL_CMD_ENABLE_UNCHECKED,
 3793              		.loc 1 1506 1 is_stmt 0 view .LVU1025
 3794 000a 08BD     		pop	{r3, pc}
 3795              		.cfi_endproc
 3796              	.LFE173:
 3798              		.section	.text.shellSeekCommand,"ax",%progbits
 3799              		.align	1
 3800              		.global	shellSeekCommand
 3801              		.syntax unified
 3802              		.thumb
 3803              		.thumb_func
 3804              		.fpu fpv4-sp-d16
 3806              	shellSeekCommand:
 3807              	.LVL361:
 3808              	.LFB154:
 897:SYS/shell/shell.c ****     const char *name;
 3809              		.loc 1 897 1 is_stmt 1 view -0
 3810              		.cfi_startproc
 3811              		@ args = 0, pretend = 0, frame = 0
 3812              		@ frame_needed = 0, uses_anonymous_args = 0
 897:SYS/shell/shell.c ****     const char *name;
 3813              		.loc 1 897 1 is_stmt 0 view .LVU1027
 3814 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3815              	.LCFI60:
 3816              		.cfi_def_cfa_offset 32
 3817              		.cfi_offset 4, -32
 3818              		.cfi_offset 5, -28
 3819              		.cfi_offset 6, -24
 3820              		.cfi_offset 7, -20
 3821              		.cfi_offset 8, -16
 3822              		.cfi_offset 9, -12
 3823              		.cfi_offset 10, -8
 3824              		.cfi_offset 14, -4
 3825 0004 8046     		mov	r8, r0
 3826 0006 8A46     		mov	r10, r1
 3827 0008 1746     		mov	r7, r2
 3828 000a 9946     		mov	r9, r3
 898:SYS/shell/shell.c ****     int ret;
 3829              		.loc 1 898 5 is_stmt 1 view .LVU1028
 899:SYS/shell/shell.c ****     unsigned short count = shell->commandList.count -
ARM GAS  /tmp/ccKSSxev.s 			page 113


 3830              		.loc 1 899 5 view .LVU1029
 900:SYS/shell/shell.c ****                            ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 3831              		.loc 1 900 5 view .LVU1030
 900:SYS/shell/shell.c ****                            ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 3832              		.loc 1 900 46 is_stmt 0 view .LVU1031
 3833 000c B0F85C60 		ldrh	r6, [r0, #92]
 901:SYS/shell/shell.c ****     for (unsigned short i = 0; i < count; i++)
 3834              		.loc 1 901 64 view .LVU1032
 3835 0010 836D     		ldr	r3, [r0, #88]
 3836              	.LVL362:
 901:SYS/shell/shell.c ****     for (unsigned short i = 0; i < count; i++)
 3837              		.loc 1 901 39 view .LVU1033
 3838 0012 D31A     		subs	r3, r2, r3
 900:SYS/shell/shell.c ****                            ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 3839              		.loc 1 900 53 view .LVU1034
 3840 0014 C3F30F13 		ubfx	r3, r3, #4, #16
 900:SYS/shell/shell.c ****                            ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 3841              		.loc 1 900 20 view .LVU1035
 3842 0018 F31A     		subs	r3, r6, r3
 3843 001a 9EB2     		uxth	r6, r3
 3844              	.LVL363:
 902:SYS/shell/shell.c ****     {
 3845              		.loc 1 902 5 is_stmt 1 view .LVU1036
 3846              	.LBB28:
 902:SYS/shell/shell.c ****     {
 3847              		.loc 1 902 10 view .LVU1037
 902:SYS/shell/shell.c ****     {
 3848              		.loc 1 902 25 is_stmt 0 view .LVU1038
 3849 001c 0024     		movs	r4, #0
 902:SYS/shell/shell.c ****     {
 3850              		.loc 1 902 5 view .LVU1039
 3851 001e 06E0     		b	.L335
 3852              	.LVL364:
 3853              	.L337:
 919:SYS/shell/shell.c ****             {
 3854              		.loc 1 919 13 is_stmt 1 view .LVU1040
 919:SYS/shell/shell.c ****             {
 3855              		.loc 1 919 17 is_stmt 0 view .LVU1041
 3856 0020 4A46     		mov	r2, r9
 3857 0022 5046     		mov	r0, r10
 3858              	.LVL365:
 919:SYS/shell/shell.c ****             {
 3859              		.loc 1 919 17 view .LVU1042
 3860 0024 FFF7FEFF 		bl	strncmp
 3861              	.LVL366:
 919:SYS/shell/shell.c ****             {
 3862              		.loc 1 919 16 view .LVU1043
 3863 0028 F0B1     		cbz	r0, .L334
 3864              	.L336:
 902:SYS/shell/shell.c ****     {
 3865              		.loc 1 902 44 discriminator 2 view .LVU1044
 3866 002a 0134     		adds	r4, r4, #1
 3867              	.LVL367:
 902:SYS/shell/shell.c ****     {
 3868              		.loc 1 902 44 discriminator 2 view .LVU1045
 3869 002c A4B2     		uxth	r4, r4
 3870              	.LVL368:
ARM GAS  /tmp/ccKSSxev.s 			page 114


 3871              	.L335:
 902:SYS/shell/shell.c ****     {
 3872              		.loc 1 902 5 discriminator 1 view .LVU1046
 3873 002e B442     		cmp	r4, r6
 3874 0030 19D2     		bcs	.L341
 904:SYS/shell/shell.c ****         {
 3875              		.loc 1 904 9 is_stmt 1 view .LVU1047
 904:SYS/shell/shell.c ****         {
 3876              		.loc 1 904 17 is_stmt 0 view .LVU1048
 3877 0032 07EB0415 		add	r5, r7, r4, lsl #4
 904:SYS/shell/shell.c ****         {
 3878              		.loc 1 904 37 view .LVU1049
 3879 0036 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 3880 0038 03F00F03 		and	r3, r3, #15
 904:SYS/shell/shell.c ****         {
 3881              		.loc 1 904 12 view .LVU1050
 3882 003c 092B     		cmp	r3, #9
 3883 003e F4D0     		beq	.L336
 904:SYS/shell/shell.c ****         {
 3884              		.loc 1 904 58 discriminator 1 view .LVU1051
 3885 0040 2946     		mov	r1, r5
 3886 0042 4046     		mov	r0, r8
 3887 0044 FFF7FEFF 		bl	shellCheckPermission
 3888              	.LVL369:
 904:SYS/shell/shell.c ****         {
 3889              		.loc 1 904 55 discriminator 1 view .LVU1052
 3890 0048 0028     		cmp	r0, #0
 3891 004a EED1     		bne	.L336
 908:SYS/shell/shell.c ****         if (!compareLength)
 3892              		.loc 1 908 9 is_stmt 1 view .LVU1053
 908:SYS/shell/shell.c ****         if (!compareLength)
 3893              		.loc 1 908 16 is_stmt 0 view .LVU1054
 3894 004c 2846     		mov	r0, r5
 3895 004e FFF7FEFF 		bl	shellGetCommandName
 3896              	.LVL370:
 3897 0052 0146     		mov	r1, r0
 3898              	.LVL371:
 909:SYS/shell/shell.c ****         {
 3899              		.loc 1 909 9 is_stmt 1 view .LVU1055
 909:SYS/shell/shell.c ****         {
 3900              		.loc 1 909 12 is_stmt 0 view .LVU1056
 3901 0054 B9F1000F 		cmp	r9, #0
 3902 0058 E2D1     		bne	.L337
 911:SYS/shell/shell.c ****             if (strcmp(cmd, name) == 0)
 3903              		.loc 1 911 13 is_stmt 1 view .LVU1057
 911:SYS/shell/shell.c ****             if (strcmp(cmd, name) == 0)
 3904              		.loc 1 911 19 is_stmt 0 view .LVU1058
 3905 005a 5046     		mov	r0, r10
 3906              	.LVL372:
 911:SYS/shell/shell.c ****             if (strcmp(cmd, name) == 0)
 3907              		.loc 1 911 19 view .LVU1059
 3908 005c FFF7FEFF 		bl	strcmp
 3909              	.LVL373:
 912:SYS/shell/shell.c ****             {
 3910              		.loc 1 912 13 is_stmt 1 view .LVU1060
 912:SYS/shell/shell.c ****             {
 3911              		.loc 1 912 16 is_stmt 0 view .LVU1061
ARM GAS  /tmp/ccKSSxev.s 			page 115


 3912 0060 0028     		cmp	r0, #0
 3913 0062 E2D1     		bne	.L336
 3914 0064 00E0     		b	.L334
 3915              	.LVL374:
 3916              	.L341:
 912:SYS/shell/shell.c ****             {
 3917              		.loc 1 912 16 view .LVU1062
 3918              	.LBE28:
 925:SYS/shell/shell.c **** }
 3919              		.loc 1 925 12 view .LVU1063
 3920 0066 0025     		movs	r5, #0
 3921              	.L334:
 926:SYS/shell/shell.c **** 
 3922              		.loc 1 926 1 view .LVU1064
 3923 0068 2846     		mov	r0, r5
 3924 006a BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 926:SYS/shell/shell.c **** 
 3925              		.loc 1 926 1 view .LVU1065
 3926              		.cfi_endproc
 3927              	.LFE154:
 3929              		.section	.text.shellInit,"ax",%progbits
 3930              		.align	1
 3931              		.global	shellInit
 3932              		.syntax unified
 3933              		.thumb
 3934              		.thumb_func
 3935              		.fpu fpv4-sp-d16
 3937              	shellInit:
 3938              	.LVL375:
 3939              	.LFB126:
 164:SYS/shell/shell.c ****     __asm("cpsid i");
 3940              		.loc 1 164 1 is_stmt 1 view -0
 3941              		.cfi_startproc
 3942              		@ args = 0, pretend = 0, frame = 0
 3943              		@ frame_needed = 0, uses_anonymous_args = 0
 164:SYS/shell/shell.c ****     __asm("cpsid i");
 3944              		.loc 1 164 1 is_stmt 0 view .LVU1067
 3945 0000 38B5     		push	{r3, r4, r5, lr}
 3946              	.LCFI61:
 3947              		.cfi_def_cfa_offset 16
 3948              		.cfi_offset 3, -16
 3949              		.cfi_offset 4, -12
 3950              		.cfi_offset 5, -8
 3951              		.cfi_offset 14, -4
 3952 0002 0446     		mov	r4, r0
 165:SYS/shell/shell.c ****     shell->parser.length = 0;
 3953              		.loc 1 165 5 is_stmt 1 view .LVU1068
 3954              		.syntax unified
 3955              	@ 165 "SYS/shell/shell.c" 1
 3956 0004 72B6     		cpsid i
 3957              	@ 0 "" 2
 166:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 3958              		.loc 1 166 5 view .LVU1069
 166:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 3959              		.loc 1 166 26 is_stmt 0 view .LVU1070
 3960              		.thumb
 3961              		.syntax unified
ARM GAS  /tmp/ccKSSxev.s 			page 116


 3962 0006 0023     		movs	r3, #0
 3963 0008 8381     		strh	r3, [r0, #12]	@ movhi
 167:SYS/shell/shell.c ****     shell->history.offset = 0;
 3964              		.loc 1 167 5 is_stmt 1 view .LVU1071
 167:SYS/shell/shell.c ****     shell->history.offset = 0;
 3965              		.loc 1 167 26 is_stmt 0 view .LVU1072
 3966 000a C381     		strh	r3, [r0, #14]	@ movhi
 168:SYS/shell/shell.c ****     shell->history.number = 0;
 3967              		.loc 1 168 5 is_stmt 1 view .LVU1073
 168:SYS/shell/shell.c ****     shell->history.number = 0;
 3968              		.loc 1 168 27 is_stmt 0 view .LVU1074
 3969 000c A0F85430 		strh	r3, [r0, #84]	@ movhi
 169:SYS/shell/shell.c ****     shell->history.record = 0;
 3970              		.loc 1 169 5 is_stmt 1 view .LVU1075
 169:SYS/shell/shell.c ****     shell->history.record = 0;
 3971              		.loc 1 169 27 is_stmt 0 view .LVU1076
 3972 0010 A0F85030 		strh	r3, [r0, #80]	@ movhi
 170:SYS/shell/shell.c ****     shell->info.user = NULL;
 3973              		.loc 1 170 5 is_stmt 1 view .LVU1077
 170:SYS/shell/shell.c ****     shell->info.user = NULL;
 3974              		.loc 1 170 27 is_stmt 0 view .LVU1078
 3975 0014 A0F85230 		strh	r3, [r0, #82]	@ movhi
 171:SYS/shell/shell.c ****     shell->status.isChecked = 1;
 3976              		.loc 1 171 5 is_stmt 1 view .LVU1079
 171:SYS/shell/shell.c ****     shell->status.isChecked = 1;
 3977              		.loc 1 171 22 is_stmt 0 view .LVU1080
 3978 0018 0360     		str	r3, [r0]
 172:SYS/shell/shell.c **** 
 3979              		.loc 1 172 5 is_stmt 1 view .LVU1081
 172:SYS/shell/shell.c **** 
 3980              		.loc 1 172 29 is_stmt 0 view .LVU1082
 3981 001a 90F86000 		ldrb	r0, [r0, #96]	@ zero_extendqisi2
 3982              	.LVL376:
 172:SYS/shell/shell.c **** 
 3983              		.loc 1 172 29 view .LVU1083
 3984 001e 40F00100 		orr	r0, r0, #1
 3985 0022 84F86000 		strb	r0, [r4, #96]
 174:SYS/shell/shell.c ****     shell->parser.bufferSize = size / (SHELL_HISTORY_MAX_NUMBER + 1);
 3986              		.loc 1 174 5 is_stmt 1 view .LVU1084
 174:SYS/shell/shell.c ****     shell->parser.bufferSize = size / (SHELL_HISTORY_MAX_NUMBER + 1);
 3987              		.loc 1 174 26 is_stmt 0 view .LVU1085
 3988 0026 2161     		str	r1, [r4, #16]
 175:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_HISTORY_MAX_NUMBER; i++)
 3989              		.loc 1 175 5 is_stmt 1 view .LVU1086
 175:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_HISTORY_MAX_NUMBER; i++)
 3990              		.loc 1 175 30 is_stmt 0 view .LVU1087
 3991 0028 154D     		ldr	r5, .L347
 3992 002a A5FB0225 		umull	r2, r5, r5, r2
 3993              	.LVL377:
 175:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_HISTORY_MAX_NUMBER; i++)
 3994              		.loc 1 175 30 view .LVU1088
 3995 002e AD08     		lsrs	r5, r5, #2
 3996 0030 A586     		strh	r5, [r4, #52]	@ movhi
 176:SYS/shell/shell.c ****     {
 3997              		.loc 1 176 5 is_stmt 1 view .LVU1089
 3998              	.LBB29:
 176:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 117


 3999              		.loc 1 176 10 view .LVU1090
 4000              	.LVL378:
 4001              	.L343:
 176:SYS/shell/shell.c ****     {
 4002              		.loc 1 176 5 is_stmt 0 discriminator 1 view .LVU1091
 4003 0032 042B     		cmp	r3, #4
 4004 0034 0ADC     		bgt	.L346
 178:SYS/shell/shell.c ****     }
 4005              		.loc 1 178 9 is_stmt 1 discriminator 3 view .LVU1092
 178:SYS/shell/shell.c ****     }
 4006              		.loc 1 178 68 is_stmt 0 discriminator 3 view .LVU1093
 4007 0036 03FB0550 		mla	r0, r3, r5, r5
 178:SYS/shell/shell.c ****     }
 4008              		.loc 1 178 41 discriminator 3 view .LVU1094
 4009 003a 0844     		add	r0, r0, r1
 178:SYS/shell/shell.c ****     }
 4010              		.loc 1 178 32 discriminator 3 view .LVU1095
 4011 003c 03F10E02 		add	r2, r3, #14
 4012 0040 04EB8202 		add	r2, r4, r2, lsl #2
 4013 0044 5060     		str	r0, [r2, #4]
 176:SYS/shell/shell.c ****     {
 4014              		.loc 1 176 54 discriminator 3 view .LVU1096
 4015 0046 0133     		adds	r3, r3, #1
 4016              	.LVL379:
 176:SYS/shell/shell.c ****     {
 4017              		.loc 1 176 54 discriminator 3 view .LVU1097
 4018 0048 1BB2     		sxth	r3, r3
 4019              	.LVL380:
 176:SYS/shell/shell.c ****     {
 4020              		.loc 1 176 54 discriminator 3 view .LVU1098
 4021 004a F2E7     		b	.L343
 4022              	.L346:
 176:SYS/shell/shell.c ****     {
 4023              		.loc 1 176 54 discriminator 3 view .LVU1099
 4024              	.LBE29:
 190:SYS/shell/shell.c ****     shell->commandList.count = ((unsigned int)(&_shell_command_end) - (unsigned int)(&_shell_comman
 4025              		.loc 1 190 5 is_stmt 1 view .LVU1100
 190:SYS/shell/shell.c ****     shell->commandList.count = ((unsigned int)(&_shell_command_end) - (unsigned int)(&_shell_comman
 4026              		.loc 1 190 29 is_stmt 0 view .LVU1101
 4027 004c 0D4A     		ldr	r2, .L347+4
 4028 004e A265     		str	r2, [r4, #88]
 191:SYS/shell/shell.c **** #else
 4029              		.loc 1 191 5 is_stmt 1 view .LVU1102
 191:SYS/shell/shell.c **** #else
 4030              		.loc 1 191 33 is_stmt 0 view .LVU1103
 4031 0050 0D4B     		ldr	r3, .L347+8
 4032              	.LVL381:
 191:SYS/shell/shell.c **** #else
 4033              		.loc 1 191 69 view .LVU1104
 4034 0052 9B1A     		subs	r3, r3, r2
 191:SYS/shell/shell.c **** #else
 4035              		.loc 1 191 110 view .LVU1105
 4036 0054 1B09     		lsrs	r3, r3, #4
 191:SYS/shell/shell.c **** #else
 4037              		.loc 1 191 30 view .LVU1106
 4038 0056 A4F85C30 		strh	r3, [r4, #92]	@ movhi
 200:SYS/shell/shell.c **** 
ARM GAS  /tmp/ccKSSxev.s 			page 118


 4039              		.loc 1 200 5 is_stmt 1 view .LVU1107
 4040 005a 2046     		mov	r0, r4
 4041 005c FFF7FEFF 		bl	shellAdd
 4042              	.LVL382:
 202:SYS/shell/shell.c ****                                          SHELL_DEFAULT_USER,
 4043              		.loc 1 202 5 view .LVU1108
 202:SYS/shell/shell.c ****                                          SHELL_DEFAULT_USER,
 4044              		.loc 1 202 25 is_stmt 0 view .LVU1109
 4045 0060 0023     		movs	r3, #0
 4046 0062 A26D     		ldr	r2, [r4, #88]
 4047 0064 0949     		ldr	r1, .L347+12
 4048 0066 2046     		mov	r0, r4
 4049 0068 FFF7FEFF 		bl	shellSeekCommand
 4050              	.LVL383:
 202:SYS/shell/shell.c ****                                          SHELL_DEFAULT_USER,
 4051              		.loc 1 202 5 view .LVU1110
 4052 006c 0146     		mov	r1, r0
 4053 006e 2046     		mov	r0, r4
 4054 0070 FFF7FEFF 		bl	shellSetUser
 4055              	.LVL384:
 206:SYS/shell/shell.c ****     __asm("cpsie i");
 4056              		.loc 1 206 5 is_stmt 1 view .LVU1111
 4057 0074 0121     		movs	r1, #1
 4058 0076 2046     		mov	r0, r4
 4059 0078 FFF7FEFF 		bl	shellWriteCommandLine
 4060              	.LVL385:
 207:SYS/shell/shell.c **** }
 4061              		.loc 1 207 5 view .LVU1112
 4062              		.syntax unified
 4063              	@ 207 "SYS/shell/shell.c" 1
 4064 007c 62B6     		cpsie i
 4065              	@ 0 "" 2
 208:SYS/shell/shell.c **** 
 4066              		.loc 1 208 1 is_stmt 0 view .LVU1113
 4067              		.thumb
 4068              		.syntax unified
 4069 007e 38BD     		pop	{r3, r4, r5, pc}
 4070              	.LVL386:
 4071              	.L348:
 208:SYS/shell/shell.c **** 
 4072              		.loc 1 208 1 view .LVU1114
 4073              		.align	2
 4074              	.L347:
 4075 0080 ABAAAAAA 		.word	-1431655765
 4076 0084 00000000 		.word	_shell_command_start
 4077 0088 00000000 		.word	_shell_command_end
 4078 008c 00000000 		.word	.LC22
 4079              		.cfi_endproc
 4080              	.LFE126:
 4082              		.section	.text.shellHelp,"ax",%progbits
 4083              		.align	1
 4084              		.global	shellHelp
 4085              		.syntax unified
 4086              		.thumb
 4087              		.thumb_func
 4088              		.fpu fpv4-sp-d16
 4090              	shellHelp:
ARM GAS  /tmp/ccKSSxev.s 			page 119


 4091              	.LVL387:
 4092              	.LFB175:
1540:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 4093              		.loc 1 1540 1 is_stmt 1 view -0
 4094              		.cfi_startproc
 4095              		@ args = 0, pretend = 0, frame = 0
 4096              		@ frame_needed = 0, uses_anonymous_args = 0
1540:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 4097              		.loc 1 1540 1 is_stmt 0 view .LVU1116
 4098 0000 70B5     		push	{r4, r5, r6, lr}
 4099              	.LCFI62:
 4100              		.cfi_def_cfa_offset 16
 4101              		.cfi_offset 4, -16
 4102              		.cfi_offset 5, -12
 4103              		.cfi_offset 6, -8
 4104              		.cfi_offset 14, -4
 4105 0002 0546     		mov	r5, r0
 4106 0004 0E46     		mov	r6, r1
1541:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return );
 4107              		.loc 1 1541 5 is_stmt 1 view .LVU1117
1541:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return );
 4108              		.loc 1 1541 20 is_stmt 0 view .LVU1118
 4109 0006 FFF7FEFF 		bl	shellGetCurrent
 4110              	.LVL388:
1542:SYS/shell/shell.c ****     if (argc == 1)
 4111              		.loc 1 1542 5 is_stmt 1 view .LVU1119
 4112 000a 20B1     		cbz	r0, .L349
 4113 000c 0446     		mov	r4, r0
1542:SYS/shell/shell.c ****     if (argc == 1)
 4114              		.loc 1 1542 33 discriminator 2 view .LVU1120
1543:SYS/shell/shell.c ****     {
 4115              		.loc 1 1543 5 discriminator 2 view .LVU1121
1543:SYS/shell/shell.c ****     {
 4116              		.loc 1 1543 8 is_stmt 0 discriminator 2 view .LVU1122
 4117 000e 012D     		cmp	r5, #1
 4118 0010 02D0     		beq	.L354
1547:SYS/shell/shell.c ****     {
 4119              		.loc 1 1547 10 is_stmt 1 view .LVU1123
1547:SYS/shell/shell.c ****     {
 4120              		.loc 1 1547 13 is_stmt 0 view .LVU1124
 4121 0012 012D     		cmp	r5, #1
 4122 0014 03DC     		bgt	.L355
 4123              	.LVL389:
 4124              	.L349:
1566:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 4125              		.loc 1 1566 1 view .LVU1125
 4126 0016 70BD     		pop	{r4, r5, r6, pc}
 4127              	.LVL390:
 4128              	.L354:
1545:SYS/shell/shell.c ****     }
 4129              		.loc 1 1545 9 is_stmt 1 view .LVU1126
 4130 0018 FFF7FEFF 		bl	shellListAll
 4131              	.LVL391:
1545:SYS/shell/shell.c ****     }
 4132              		.loc 1 1545 9 is_stmt 0 view .LVU1127
 4133 001c FBE7     		b	.L349
 4134              	.LVL392:
ARM GAS  /tmp/ccKSSxev.s 			page 120


 4135              	.L355:
 4136              	.LBB30:
1549:SYS/shell/shell.c ****                                                  argv[1],
 4137              		.loc 1 1549 9 is_stmt 1 view .LVU1128
1549:SYS/shell/shell.c ****                                                  argv[1],
 4138              		.loc 1 1549 33 is_stmt 0 view .LVU1129
 4139 001e 0023     		movs	r3, #0
 4140 0020 826D     		ldr	r2, [r0, #88]
 4141 0022 7168     		ldr	r1, [r6, #4]
 4142 0024 FFF7FEFF 		bl	shellSeekCommand
 4143              	.LVL393:
1553:SYS/shell/shell.c ****         {
 4144              		.loc 1 1553 9 is_stmt 1 view .LVU1130
1553:SYS/shell/shell.c ****         {
 4145              		.loc 1 1553 12 is_stmt 0 view .LVU1131
 4146 0028 0546     		mov	r5, r0
 4147              	.LVL394:
1553:SYS/shell/shell.c ****         {
 4148              		.loc 1 1553 12 view .LVU1132
 4149 002a D8B1     		cbz	r0, .L352
1555:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandName(command));
 4150              		.loc 1 1555 13 is_stmt 1 view .LVU1133
 4151 002c 1049     		ldr	r1, .L356
 4152 002e 2046     		mov	r0, r4
 4153              	.LVL395:
1555:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandName(command));
 4154              		.loc 1 1555 13 is_stmt 0 view .LVU1134
 4155 0030 FFF7FEFF 		bl	shellWriteString
 4156              	.LVL396:
1556:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
 4157              		.loc 1 1556 13 is_stmt 1 view .LVU1135
 4158 0034 2846     		mov	r0, r5
 4159 0036 FFF7FEFF 		bl	shellGetCommandName
 4160              	.LVL397:
 4161 003a 0146     		mov	r1, r0
 4162 003c 2046     		mov	r0, r4
 4163 003e FFF7FEFF 		bl	shellWriteString
 4164              	.LVL398:
1557:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandDesc(command));
 4165              		.loc 1 1557 13 view .LVU1136
 4166 0042 0C4E     		ldr	r6, .L356+4
 4167              	.LVL399:
1557:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandDesc(command));
 4168              		.loc 1 1557 13 is_stmt 0 view .LVU1137
 4169 0044 3146     		mov	r1, r6
 4170 0046 2046     		mov	r0, r4
 4171 0048 FFF7FEFF 		bl	shellWriteString
 4172              	.LVL400:
1558:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
 4173              		.loc 1 1558 13 is_stmt 1 view .LVU1138
 4174 004c 2846     		mov	r0, r5
 4175 004e FFF7FEFF 		bl	shellGetCommandDesc
 4176              	.LVL401:
 4177 0052 0146     		mov	r1, r0
 4178 0054 2046     		mov	r0, r4
 4179 0056 FFF7FEFF 		bl	shellWriteString
 4180              	.LVL402:
ARM GAS  /tmp/ccKSSxev.s 			page 121


1559:SYS/shell/shell.c ****         }
 4181              		.loc 1 1559 13 view .LVU1139
 4182 005a 3146     		mov	r1, r6
 4183 005c 2046     		mov	r0, r4
 4184 005e FFF7FEFF 		bl	shellWriteString
 4185              	.LVL403:
 4186 0062 D8E7     		b	.L349
 4187              	.LVL404:
 4188              	.L352:
1563:SYS/shell/shell.c ****         }
 4189              		.loc 1 1563 13 view .LVU1140
 4190 0064 0449     		ldr	r1, .L356+8
 4191 0066 2046     		mov	r0, r4
 4192              	.LVL405:
1563:SYS/shell/shell.c ****         }
 4193              		.loc 1 1563 13 is_stmt 0 view .LVU1141
 4194 0068 FFF7FEFF 		bl	shellWriteString
 4195              	.LVL406:
 4196 006c D3E7     		b	.L349
 4197              	.L357:
 4198 006e 00BF     		.align	2
 4199              	.L356:
 4200 0070 00000000 		.word	.LC23
 4201 0074 04000000 		.word	.LC3
 4202 0078 14000000 		.word	.LC24
 4203              	.LBE30:
 4204              		.cfi_endproc
 4205              	.LFE175:
 4207              		.section	.text.shellGetVarValue,"ax",%progbits
 4208              		.align	1
 4209              		.global	shellGetVarValue
 4210              		.syntax unified
 4211              		.thumb
 4212              		.thumb_func
 4213              		.fpu fpv4-sp-d16
 4215              	shellGetVarValue:
 4216              	.LVL407:
 4217              	.LFB155:
 936:SYS/shell/shell.c ****     int value = 0;
 4218              		.loc 1 936 1 is_stmt 1 view -0
 4219              		.cfi_startproc
 4220              		@ args = 0, pretend = 0, frame = 0
 4221              		@ frame_needed = 0, uses_anonymous_args = 0
 936:SYS/shell/shell.c ****     int value = 0;
 4222              		.loc 1 936 1 is_stmt 0 view .LVU1143
 4223 0000 08B5     		push	{r3, lr}
 4224              	.LCFI63:
 4225              		.cfi_def_cfa_offset 8
 4226              		.cfi_offset 3, -8
 4227              		.cfi_offset 14, -4
 937:SYS/shell/shell.c ****     switch (command->attr.attrs.type)
 4228              		.loc 1 937 5 is_stmt 1 view .LVU1144
 4229              	.LVL408:
 938:SYS/shell/shell.c ****     {
 4230              		.loc 1 938 5 view .LVU1145
 938:SYS/shell/shell.c ****     {
 4231              		.loc 1 938 32 is_stmt 0 view .LVU1146
ARM GAS  /tmp/ccKSSxev.s 			page 122


 4232 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4233 0004 03F00F03 		and	r3, r3, #15
 938:SYS/shell/shell.c ****     {
 4234              		.loc 1 938 5 view .LVU1147
 4235 0008 023B     		subs	r3, r3, #2
 4236 000a 052B     		cmp	r3, #5
 4237 000c 16D8     		bhi	.L366
 4238 000e DFE803F0 		tbb	[pc, r3]
 4239              	.L361:
 4240 0012 03       		.byte	(.L365-.L361)/2
 4241 0013 06       		.byte	(.L364-.L361)/2
 4242 0014 0A       		.byte	(.L363-.L361)/2
 4243 0015 0D       		.byte	(.L362-.L361)/2
 4244 0016 0D       		.byte	(.L362-.L361)/2
 4245 0017 0F       		.byte	(.L360-.L361)/2
 4246              		.p2align 1
 4247              	.L365:
 941:SYS/shell/shell.c ****         break;
 4248              		.loc 1 941 9 is_stmt 1 view .LVU1148
 941:SYS/shell/shell.c ****         break;
 4249              		.loc 1 941 44 is_stmt 0 view .LVU1149
 4250 0018 8B68     		ldr	r3, [r1, #8]
 941:SYS/shell/shell.c ****         break;
 4251              		.loc 1 941 15 view .LVU1150
 4252 001a 1868     		ldr	r0, [r3]
 4253              	.LVL409:
 942:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_SHORT:
 4254              		.loc 1 942 9 is_stmt 1 view .LVU1151
 4255              	.L358:
 962:SYS/shell/shell.c **** 
 4256              		.loc 1 962 1 is_stmt 0 view .LVU1152
 4257 001c 08BD     		pop	{r3, pc}
 4258              	.LVL410:
 4259              	.L364:
 944:SYS/shell/shell.c ****         break;
 4260              		.loc 1 944 9 is_stmt 1 view .LVU1153
 944:SYS/shell/shell.c ****         break;
 4261              		.loc 1 944 46 is_stmt 0 view .LVU1154
 4262 001e 8B68     		ldr	r3, [r1, #8]
 944:SYS/shell/shell.c ****         break;
 4263              		.loc 1 944 17 view .LVU1155
 4264 0020 B3F90000 		ldrsh	r0, [r3]
 4265              	.LVL411:
 945:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_CHAR:
 4266              		.loc 1 945 9 is_stmt 1 view .LVU1156
 4267 0024 FAE7     		b	.L358
 4268              	.LVL412:
 4269              	.L363:
 947:SYS/shell/shell.c ****         break;
 4270              		.loc 1 947 9 view .LVU1157
 947:SYS/shell/shell.c ****         break;
 4271              		.loc 1 947 45 is_stmt 0 view .LVU1158
 4272 0026 8B68     		ldr	r3, [r1, #8]
 947:SYS/shell/shell.c ****         break;
 4273              		.loc 1 947 17 view .LVU1159
 4274 0028 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 4275              	.LVL413:
ARM GAS  /tmp/ccKSSxev.s 			page 123


 948:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_STRING:
 4276              		.loc 1 948 9 is_stmt 1 view .LVU1160
 4277 002a F7E7     		b	.L358
 4278              	.LVL414:
 4279              	.L362:
 951:SYS/shell/shell.c ****         break;
 4280              		.loc 1 951 9 view .LVU1161
 951:SYS/shell/shell.c ****         break;
 4281              		.loc 1 951 40 is_stmt 0 view .LVU1162
 4282 002c 8868     		ldr	r0, [r1, #8]
 4283              	.LVL415:
 952:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_NODE:
 4284              		.loc 1 952 9 is_stmt 1 view .LVU1163
 4285 002e F5E7     		b	.L358
 4286              	.LVL416:
 4287              	.L360:
 954:SYS/shell/shell.c ****                                                                          ->get(((ShellNodeVarAttr *
 4288              		.loc 1 954 9 view .LVU1164
 954:SYS/shell/shell.c ****                                                                          ->get(((ShellNodeVarAttr *
 4289              		.loc 1 954 55 is_stmt 0 view .LVU1165
 4290 0030 8A68     		ldr	r2, [r1, #8]
 954:SYS/shell/shell.c ****                                                                          ->get(((ShellNodeVarAttr *
 4291              		.loc 1 954 62 view .LVU1166
 4292 0032 5368     		ldr	r3, [r2, #4]
 956:SYS/shell/shell.c ****         break;
 4293              		.loc 1 956 68 view .LVU1167
 4294 0034 23B1     		cbz	r3, .L367
 954:SYS/shell/shell.c ****                                                                          ->get(((ShellNodeVarAttr *
 4295              		.loc 1 954 71 view .LVU1168
 4296 0036 1068     		ldr	r0, [r2]
 4297              	.LVL417:
 954:SYS/shell/shell.c ****                                                                          ->get(((ShellNodeVarAttr *
 4298              		.loc 1 954 71 view .LVU1169
 4299 0038 9847     		blx	r3
 4300              	.LVL418:
 954:SYS/shell/shell.c ****                                                                          ->get(((ShellNodeVarAttr *
 4301              		.loc 1 954 71 view .LVU1170
 4302 003a EFE7     		b	.L358
 4303              	.LVL419:
 4304              	.L366:
 937:SYS/shell/shell.c ****     switch (command->attr.attrs.type)
 4305              		.loc 1 937 9 view .LVU1171
 4306 003c 0020     		movs	r0, #0
 4307              	.LVL420:
 937:SYS/shell/shell.c ****     switch (command->attr.attrs.type)
 4308              		.loc 1 937 9 view .LVU1172
 4309 003e EDE7     		b	.L358
 4310              	.LVL421:
 4311              	.L367:
 956:SYS/shell/shell.c ****         break;
 4312              		.loc 1 956 68 view .LVU1173
 4313 0040 0020     		movs	r0, #0
 4314              	.LVL422:
 961:SYS/shell/shell.c **** }
 4315              		.loc 1 961 5 is_stmt 1 view .LVU1174
 961:SYS/shell/shell.c **** }
 4316              		.loc 1 961 12 is_stmt 0 view .LVU1175
ARM GAS  /tmp/ccKSSxev.s 			page 124


 4317 0042 EBE7     		b	.L358
 4318              		.cfi_endproc
 4319              	.LFE155:
 4321              		.section	.text.shellShowVar,"ax",%progbits
 4322              		.align	1
 4323              		.syntax unified
 4324              		.thumb
 4325              		.thumb_func
 4326              		.fpu fpv4-sp-d16
 4328              	shellShowVar:
 4329              	.LVL423:
 4330              	.LFB157:
1026:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
 4331              		.loc 1 1026 1 is_stmt 1 view -0
 4332              		.cfi_startproc
 4333              		@ args = 0, pretend = 0, frame = 16
 4334              		@ frame_needed = 0, uses_anonymous_args = 0
1026:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
 4335              		.loc 1 1026 1 is_stmt 0 view .LVU1177
 4336 0000 70B5     		push	{r4, r5, r6, lr}
 4337              	.LCFI64:
 4338              		.cfi_def_cfa_offset 16
 4339              		.cfi_offset 4, -16
 4340              		.cfi_offset 5, -12
 4341              		.cfi_offset 6, -8
 4342              		.cfi_offset 14, -4
 4343 0002 84B0     		sub	sp, sp, #16
 4344              	.LCFI65:
 4345              		.cfi_def_cfa_offset 32
 4346 0004 0446     		mov	r4, r0
 4347 0006 0E46     		mov	r6, r1
1027:SYS/shell/shell.c ****     int value = shellGetVarValue(shell, command);
 4348              		.loc 1 1027 5 is_stmt 1 view .LVU1178
1027:SYS/shell/shell.c ****     int value = shellGetVarValue(shell, command);
 4349              		.loc 1 1027 10 is_stmt 0 view .LVU1179
 4350 0008 274B     		ldr	r3, .L376
 4351 000a 93E80700 		ldm	r3, {r0, r1, r2}
 4352              	.LVL424:
1027:SYS/shell/shell.c ****     int value = shellGetVarValue(shell, command);
 4353              		.loc 1 1027 10 view .LVU1180
 4354 000e 04AB     		add	r3, sp, #16
 4355 0010 03E90700 		stmdb	r3, {r0, r1, r2}
1028:SYS/shell/shell.c **** 
 4356              		.loc 1 1028 5 is_stmt 1 view .LVU1181
1028:SYS/shell/shell.c **** 
 4357              		.loc 1 1028 17 is_stmt 0 view .LVU1182
 4358 0014 3146     		mov	r1, r6
 4359 0016 2046     		mov	r0, r4
 4360 0018 FFF7FEFF 		bl	shellGetVarValue
 4361              	.LVL425:
 4362 001c 0546     		mov	r5, r0
 4363              	.LVL426:
1030:SYS/shell/shell.c ****     shellWriteString(shell, " = ");
 4364              		.loc 1 1030 5 is_stmt 1 view .LVU1183
 4365 001e 7168     		ldr	r1, [r6, #4]
 4366 0020 2046     		mov	r0, r4
 4367              	.LVL427:
ARM GAS  /tmp/ccKSSxev.s 			page 125


1030:SYS/shell/shell.c ****     shellWriteString(shell, " = ");
 4368              		.loc 1 1030 5 is_stmt 0 view .LVU1184
 4369 0022 FFF7FEFF 		bl	shellWriteString
 4370              	.LVL428:
1031:SYS/shell/shell.c **** 
 4371              		.loc 1 1031 5 is_stmt 1 view .LVU1185
 4372 0026 2149     		ldr	r1, .L376+4
 4373 0028 2046     		mov	r0, r4
 4374 002a FFF7FEFF 		bl	shellWriteString
 4375              	.LVL429:
1033:SYS/shell/shell.c ****     {
 4376              		.loc 1 1033 5 view .LVU1186
1033:SYS/shell/shell.c ****     {
 4377              		.loc 1 1033 32 is_stmt 0 view .LVU1187
 4378 002e 7378     		ldrb	r3, [r6, #1]	@ zero_extendqisi2
 4379 0030 03F00F03 		and	r3, r3, #15
1033:SYS/shell/shell.c ****     {
 4380              		.loc 1 1033 5 view .LVU1188
 4381 0034 052B     		cmp	r3, #5
 4382 0036 10D0     		beq	.L375
1045:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
 4383              		.loc 1 1045 9 is_stmt 1 view .LVU1189
1045:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
 4384              		.loc 1 1045 46 is_stmt 0 view .LVU1190
 4385 0038 01A9     		add	r1, sp, #4
 4386 003a 2846     		mov	r0, r5
 4387 003c FFF7FEFF 		bl	shellToDec
 4388              	.LVL430:
1045:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
 4389              		.loc 1 1045 44 view .LVU1191
 4390 0040 C0F10B01 		rsb	r1, r0, #11
1045:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
 4391              		.loc 1 1045 9 view .LVU1192
 4392 0044 01AB     		add	r3, sp, #4
 4393 0046 1944     		add	r1, r1, r3
 4394 0048 2046     		mov	r0, r4
 4395 004a FFF7FEFF 		bl	shellWriteString
 4396              	.LVL431:
1046:SYS/shell/shell.c ****         for (short i = 0; i < 11; i++)
 4397              		.loc 1 1046 9 is_stmt 1 view .LVU1193
 4398 004e 1849     		ldr	r1, .L376+8
 4399 0050 2046     		mov	r0, r4
 4400 0052 FFF7FEFF 		bl	shellWriteString
 4401              	.LVL432:
1047:SYS/shell/shell.c ****         {
 4402              		.loc 1 1047 9 view .LVU1194
 4403              	.LBB31:
1047:SYS/shell/shell.c ****         {
 4404              		.loc 1 1047 14 view .LVU1195
1047:SYS/shell/shell.c ****         {
 4405              		.loc 1 1047 20 is_stmt 0 view .LVU1196
 4406 0056 0023     		movs	r3, #0
1047:SYS/shell/shell.c ****         {
 4407              		.loc 1 1047 9 view .LVU1197
 4408 0058 14E0     		b	.L372
 4409              	.LVL433:
 4410              	.L375:
ARM GAS  /tmp/ccKSSxev.s 			page 126


1047:SYS/shell/shell.c ****         {
 4411              		.loc 1 1047 9 view .LVU1198
 4412              	.LBE31:
1036:SYS/shell/shell.c ****         shellWriteString(shell, (char *)value);
 4413              		.loc 1 1036 9 is_stmt 1 view .LVU1199
 4414 005a 164E     		ldr	r6, .L376+12
 4415              	.LVL434:
1036:SYS/shell/shell.c ****         shellWriteString(shell, (char *)value);
 4416              		.loc 1 1036 9 is_stmt 0 view .LVU1200
 4417 005c 3146     		mov	r1, r6
 4418 005e 2046     		mov	r0, r4
 4419 0060 FFF7FEFF 		bl	shellWriteString
 4420              	.LVL435:
1037:SYS/shell/shell.c ****         shellWriteString(shell, "\"");
 4421              		.loc 1 1037 9 is_stmt 1 view .LVU1201
 4422 0064 2946     		mov	r1, r5
 4423 0066 2046     		mov	r0, r4
 4424 0068 FFF7FEFF 		bl	shellWriteString
 4425              	.LVL436:
1038:SYS/shell/shell.c ****         break;
 4426              		.loc 1 1038 9 view .LVU1202
 4427 006c 3146     		mov	r1, r6
 4428 006e 2046     		mov	r0, r4
 4429 0070 FFF7FEFF 		bl	shellWriteString
 4430              	.LVL437:
1039:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_INT:
 4431              		.loc 1 1039 9 view .LVU1203
 4432 0074 10E0     		b	.L371
 4433              	.LVL438:
 4434              	.L373:
 4435              	.LBB32:
1049:SYS/shell/shell.c ****         }
 4436              		.loc 1 1049 13 discriminator 3 view .LVU1204
1049:SYS/shell/shell.c ****         }
 4437              		.loc 1 1049 23 is_stmt 0 discriminator 3 view .LVU1205
 4438 0076 04AA     		add	r2, sp, #16
 4439 0078 1A44     		add	r2, r2, r3
 4440 007a 3021     		movs	r1, #48
 4441 007c 02F80C1C 		strb	r1, [r2, #-12]
1047:SYS/shell/shell.c ****         {
 4442              		.loc 1 1047 36 discriminator 3 view .LVU1206
 4443 0080 0133     		adds	r3, r3, #1
 4444              	.LVL439:
1047:SYS/shell/shell.c ****         {
 4445              		.loc 1 1047 36 discriminator 3 view .LVU1207
 4446 0082 1BB2     		sxth	r3, r3
 4447              	.LVL440:
 4448              	.L372:
1047:SYS/shell/shell.c ****         {
 4449              		.loc 1 1047 9 discriminator 1 view .LVU1208
 4450 0084 0A2B     		cmp	r3, #10
 4451 0086 F6DD     		ble	.L373
 4452              	.LBE32:
1051:SYS/shell/shell.c ****         shellWriteString(shell, buffer);
 4453              		.loc 1 1051 9 is_stmt 1 view .LVU1209
 4454 0088 01A9     		add	r1, sp, #4
 4455 008a 2846     		mov	r0, r5
ARM GAS  /tmp/ccKSSxev.s 			page 127


 4456 008c FFF7FEFF 		bl	shellToHex
 4457              	.LVL441:
1052:SYS/shell/shell.c ****         break;
 4458              		.loc 1 1052 9 view .LVU1210
 4459 0090 01A9     		add	r1, sp, #4
 4460 0092 2046     		mov	r0, r4
 4461 0094 FFF7FEFF 		bl	shellWriteString
 4462              	.LVL442:
1053:SYS/shell/shell.c ****     }
 4463              		.loc 1 1053 9 view .LVU1211
 4464              	.L371:
1056:SYS/shell/shell.c ****     return value;
 4465              		.loc 1 1056 5 view .LVU1212
 4466 0098 0749     		ldr	r1, .L376+16
 4467 009a 2046     		mov	r0, r4
 4468 009c FFF7FEFF 		bl	shellWriteString
 4469              	.LVL443:
1057:SYS/shell/shell.c **** }
 4470              		.loc 1 1057 5 view .LVU1213
1058:SYS/shell/shell.c **** 
 4471              		.loc 1 1058 1 is_stmt 0 view .LVU1214
 4472 00a0 2846     		mov	r0, r5
 4473 00a2 04B0     		add	sp, sp, #16
 4474              	.LCFI66:
 4475              		.cfi_def_cfa_offset 16
 4476              		@ sp needed
 4477 00a4 70BD     		pop	{r4, r5, r6, pc}
 4478              	.LVL444:
 4479              	.L377:
1058:SYS/shell/shell.c **** 
 4480              		.loc 1 1058 1 view .LVU1215
 4481 00a6 00BF     		.align	2
 4482              	.L376:
 4483 00a8 14000000 		.word	.LC8
 4484 00ac 00000000 		.word	.LC25
 4485 00b0 0C000000 		.word	.LC10
 4486 00b4 04000000 		.word	.LC26
 4487 00b8 04000000 		.word	.LC3
 4488              		.cfi_endproc
 4489              	.LFE157:
 4491              		.section	.text.shellSetVarValue,"ax",%progbits
 4492              		.align	1
 4493              		.global	shellSetVarValue
 4494              		.syntax unified
 4495              		.thumb
 4496              		.thumb_func
 4497              		.fpu fpv4-sp-d16
 4499              	shellSetVarValue:
 4500              	.LVL445:
 4501              	.LFB156:
 973:SYS/shell/shell.c ****     if (command->attr.attrs.readOnly)
 4502              		.loc 1 973 1 is_stmt 1 view -0
 4503              		.cfi_startproc
 4504              		@ args = 0, pretend = 0, frame = 0
 4505              		@ frame_needed = 0, uses_anonymous_args = 0
 973:SYS/shell/shell.c ****     if (command->attr.attrs.readOnly)
 4506              		.loc 1 973 1 is_stmt 0 view .LVU1217
ARM GAS  /tmp/ccKSSxev.s 			page 128


 4507 0000 70B5     		push	{r4, r5, r6, lr}
 4508              	.LCFI67:
 4509              		.cfi_def_cfa_offset 16
 4510              		.cfi_offset 4, -16
 4511              		.cfi_offset 5, -12
 4512              		.cfi_offset 6, -8
 4513              		.cfi_offset 14, -4
 4514 0002 0546     		mov	r5, r0
 4515 0004 0C46     		mov	r4, r1
 974:SYS/shell/shell.c ****     {
 4516              		.loc 1 974 5 is_stmt 1 view .LVU1218
 974:SYS/shell/shell.c ****     {
 4517              		.loc 1 974 9 is_stmt 0 view .LVU1219
 4518 0006 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 974:SYS/shell/shell.c ****     {
 4519              		.loc 1 974 8 view .LVU1220
 4520 0008 13F0400F 		tst	r3, #64
 4521 000c 0AD1     		bne	.L390
 980:SYS/shell/shell.c ****         {
 4522              		.loc 1 980 9 is_stmt 1 view .LVU1221
 980:SYS/shell/shell.c ****         {
 4523              		.loc 1 980 36 is_stmt 0 view .LVU1222
 4524 000e 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4525 0010 03F00F03 		and	r3, r3, #15
 980:SYS/shell/shell.c ****         {
 4526              		.loc 1 980 9 view .LVU1223
 4527 0014 023B     		subs	r3, r3, #2
 4528 0016 052B     		cmp	r3, #5
 4529 0018 07D8     		bhi	.L380
 4530 001a DFE803F0 		tbb	[pc, r3]
 4531              	.LVL446:
 4532              	.L382:
 4533 001e 0B       		.byte	(.L387-.L382)/2
 4534 001f 0E       		.byte	(.L386-.L382)/2
 4535 0020 11       		.byte	(.L385-.L382)/2
 4536 0021 14       		.byte	(.L384-.L382)/2
 4537 0022 19       		.byte	(.L383-.L382)/2
 4538 0023 1D       		.byte	(.L381-.L382)/2
 4539              		.p2align 1
 4540              	.L390:
 976:SYS/shell/shell.c ****     }
 4541              		.loc 1 976 9 is_stmt 1 view .LVU1224
 4542 0024 1249     		ldr	r1, .L391
 4543              	.LVL447:
 976:SYS/shell/shell.c ****     }
 4544              		.loc 1 976 9 is_stmt 0 view .LVU1225
 4545 0026 FFF7FEFF 		bl	shellWriteString
 4546              	.LVL448:
 4547              	.L380:
1015:SYS/shell/shell.c **** }
 4548              		.loc 1 1015 5 is_stmt 1 view .LVU1226
1015:SYS/shell/shell.c **** }
 4549              		.loc 1 1015 12 is_stmt 0 view .LVU1227
 4550 002a 2146     		mov	r1, r4
 4551 002c 2846     		mov	r0, r5
 4552 002e FFF7FEFF 		bl	shellShowVar
 4553              	.LVL449:
ARM GAS  /tmp/ccKSSxev.s 			page 129


1016:SYS/shell/shell.c **** 
 4554              		.loc 1 1016 1 view .LVU1228
 4555 0032 70BD     		pop	{r4, r5, r6, pc}
 4556              	.LVL450:
 4557              	.L387:
 983:SYS/shell/shell.c ****             break;
 4558              		.loc 1 983 13 is_stmt 1 view .LVU1229
 983:SYS/shell/shell.c ****             break;
 4559              		.loc 1 983 40 is_stmt 0 view .LVU1230
 4560 0034 A368     		ldr	r3, [r4, #8]
 983:SYS/shell/shell.c ****             break;
 4561              		.loc 1 983 49 view .LVU1231
 4562 0036 1A60     		str	r2, [r3]
 984:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_SHORT:
 4563              		.loc 1 984 13 is_stmt 1 view .LVU1232
 4564 0038 F7E7     		b	.L380
 4565              	.L386:
 986:SYS/shell/shell.c ****             break;
 4566              		.loc 1 986 13 view .LVU1233
 986:SYS/shell/shell.c ****             break;
 4567              		.loc 1 986 42 is_stmt 0 view .LVU1234
 4568 003a A368     		ldr	r3, [r4, #8]
 986:SYS/shell/shell.c ****             break;
 4569              		.loc 1 986 51 view .LVU1235
 4570 003c 1A80     		strh	r2, [r3]	@ movhi
 987:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_CHAR:
 4571              		.loc 1 987 13 is_stmt 1 view .LVU1236
 4572 003e F4E7     		b	.L380
 4573              	.L385:
 989:SYS/shell/shell.c ****             break;
 4574              		.loc 1 989 13 view .LVU1237
 989:SYS/shell/shell.c ****             break;
 4575              		.loc 1 989 41 is_stmt 0 view .LVU1238
 4576 0040 A368     		ldr	r3, [r4, #8]
 989:SYS/shell/shell.c ****             break;
 4577              		.loc 1 989 50 view .LVU1239
 4578 0042 1A70     		strb	r2, [r3]
 990:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_STRING:
 4579              		.loc 1 990 13 is_stmt 1 view .LVU1240
 4580 0044 F1E7     		b	.L380
 4581              	.L384:
 992:SYS/shell/shell.c ****             break;
 4582              		.loc 1 992 13 view .LVU1241
 4583 0046 1146     		mov	r1, r2
 4584 0048 A068     		ldr	r0, [r4, #8]
 4585              	.LVL451:
 992:SYS/shell/shell.c ****             break;
 4586              		.loc 1 992 13 is_stmt 0 view .LVU1242
 4587 004a FFF7FEFF 		bl	shellStringCopy
 4588              	.LVL452:
 993:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_POINT:
 4589              		.loc 1 993 13 is_stmt 1 view .LVU1243
 4590 004e ECE7     		b	.L380
 4591              	.LVL453:
 4592              	.L383:
 995:SYS/shell/shell.c ****             break;
 4593              		.loc 1 995 13 view .LVU1244
ARM GAS  /tmp/ccKSSxev.s 			page 130


 4594 0050 0849     		ldr	r1, .L391+4
 4595 0052 FFF7FEFF 		bl	shellWriteString
 4596              	.LVL454:
 996:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_NODE:
 4597              		.loc 1 996 13 view .LVU1245
 4598 0056 E8E7     		b	.L380
 4599              	.LVL455:
 4600              	.L381:
 998:SYS/shell/shell.c ****             {
 4601              		.loc 1 998 13 view .LVU1246
 998:SYS/shell/shell.c ****             {
 4602              		.loc 1 998 55 is_stmt 0 view .LVU1247
 4603 0058 A368     		ldr	r3, [r4, #8]
 998:SYS/shell/shell.c ****             {
 4604              		.loc 1 998 62 view .LVU1248
 4605 005a 9E68     		ldr	r6, [r3, #8]
 998:SYS/shell/shell.c ****             {
 4606              		.loc 1 998 16 view .LVU1249
 4607 005c 002E     		cmp	r6, #0
 4608 005e E4D0     		beq	.L380
1000:SYS/shell/shell.c ****                 {
 4609              		.loc 1 1000 17 is_stmt 1 view .LVU1250
1000:SYS/shell/shell.c ****                 {
 4610              		.loc 1 1000 66 is_stmt 0 view .LVU1251
 4611 0060 1868     		ldr	r0, [r3]
 4612              	.LVL456:
1000:SYS/shell/shell.c ****                 {
 4613              		.loc 1 1000 20 view .LVU1252
 4614 0062 10B1     		cbz	r0, .L388
1002:SYS/shell/shell.c ****                         ->set(((ShellNodeVarAttr *)command->data.var.value)->var, value);
 4615              		.loc 1 1002 21 is_stmt 1 view .LVU1253
1002:SYS/shell/shell.c ****                         ->set(((ShellNodeVarAttr *)command->data.var.value)->var, value);
 4616              		.loc 1 1002 22 is_stmt 0 view .LVU1254
 4617 0064 1146     		mov	r1, r2
 4618 0066 B047     		blx	r6
 4619              	.LVL457:
1002:SYS/shell/shell.c ****                         ->set(((ShellNodeVarAttr *)command->data.var.value)->var, value);
 4620              		.loc 1 1002 22 view .LVU1255
 4621 0068 DFE7     		b	.L380
 4622              	.LVL458:
 4623              	.L388:
1007:SYS/shell/shell.c ****                 }
 4624              		.loc 1 1007 21 is_stmt 1 view .LVU1256
1007:SYS/shell/shell.c ****                 }
 4625              		.loc 1 1007 22 is_stmt 0 view .LVU1257
 4626 006a 1046     		mov	r0, r2
 4627 006c B047     		blx	r6
 4628              	.LVL459:
1007:SYS/shell/shell.c ****                 }
 4629              		.loc 1 1007 22 view .LVU1258
 4630 006e DCE7     		b	.L380
 4631              	.L392:
 4632              		.align	2
 4633              	.L391:
 4634 0070 00000000 		.word	.LC27
 4635 0074 1C000000 		.word	.LC28
 4636              		.cfi_endproc
ARM GAS  /tmp/ccKSSxev.s 			page 131


 4637              	.LFE156:
 4639              		.section	.text.shellSetVar,"ax",%progbits
 4640              		.align	1
 4641              		.global	shellSetVar
 4642              		.syntax unified
 4643              		.thumb
 4644              		.thumb_func
 4645              		.fpu fpv4-sp-d16
 4647              	shellSetVar:
 4648              	.LVL460:
 4649              	.LFB158:
1068:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 4650              		.loc 1 1068 1 is_stmt 1 view -0
 4651              		.cfi_startproc
 4652              		@ args = 0, pretend = 0, frame = 0
 4653              		@ frame_needed = 0, uses_anonymous_args = 0
1068:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 4654              		.loc 1 1068 1 is_stmt 0 view .LVU1260
 4655 0000 70B5     		push	{r4, r5, r6, lr}
 4656              	.LCFI68:
 4657              		.cfi_def_cfa_offset 16
 4658              		.cfi_offset 4, -16
 4659              		.cfi_offset 5, -12
 4660              		.cfi_offset 6, -8
 4661              		.cfi_offset 14, -4
 4662 0002 0546     		mov	r5, r0
 4663 0004 0E46     		mov	r6, r1
1069:SYS/shell/shell.c ****     if (shell == NULL)
 4664              		.loc 1 1069 5 is_stmt 1 view .LVU1261
1069:SYS/shell/shell.c ****     if (shell == NULL)
 4665              		.loc 1 1069 20 is_stmt 0 view .LVU1262
 4666 0006 FFF7FEFF 		bl	shellGetCurrent
 4667              	.LVL461:
1070:SYS/shell/shell.c ****     {
 4668              		.loc 1 1070 5 is_stmt 1 view .LVU1263
1070:SYS/shell/shell.c ****     {
 4669              		.loc 1 1070 8 is_stmt 0 view .LVU1264
 4670 000a 20B3     		cbz	r0, .L397
 4671 000c 0446     		mov	r4, r0
1074:SYS/shell/shell.c ****                                              name,
 4672              		.loc 1 1074 5 is_stmt 1 view .LVU1265
1074:SYS/shell/shell.c ****                                              name,
 4673              		.loc 1 1074 29 is_stmt 0 view .LVU1266
 4674 000e 0023     		movs	r3, #0
 4675 0010 826D     		ldr	r2, [r0, #88]
 4676 0012 2946     		mov	r1, r5
 4677 0014 FFF7FEFF 		bl	shellSeekCommand
 4678              	.LVL462:
1078:SYS/shell/shell.c ****     {
 4679              		.loc 1 1078 5 is_stmt 1 view .LVU1267
1078:SYS/shell/shell.c ****     {
 4680              		.loc 1 1078 8 is_stmt 0 view .LVU1268
 4681 0018 0146     		mov	r1, r0
 4682 001a 60B1     		cbz	r0, .L399
1083:SYS/shell/shell.c ****     {
 4683              		.loc 1 1083 5 is_stmt 1 view .LVU1269
1083:SYS/shell/shell.c ****     {
ARM GAS  /tmp/ccKSSxev.s 			page 132


 4684              		.loc 1 1083 28 is_stmt 0 view .LVU1270
 4685 001c 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 4686 001e 03F00F03 		and	r3, r3, #15
1083:SYS/shell/shell.c ****     {
 4687              		.loc 1 1083 55 view .LVU1271
 4688 0022 0E33     		adds	r3, r3, #14
 4689 0024 03F00F03 		and	r3, r3, #15
1083:SYS/shell/shell.c ****     {
 4690              		.loc 1 1083 8 view .LVU1272
 4691 0028 052B     		cmp	r3, #5
 4692 002a 0AD8     		bhi	.L400
1089:SYS/shell/shell.c **** }
 4693              		.loc 1 1089 5 is_stmt 1 view .LVU1273
1089:SYS/shell/shell.c **** }
 4694              		.loc 1 1089 12 is_stmt 0 view .LVU1274
 4695 002c 3246     		mov	r2, r6
 4696 002e 2046     		mov	r0, r4
 4697              	.LVL463:
1089:SYS/shell/shell.c **** }
 4698              		.loc 1 1089 12 view .LVU1275
 4699 0030 FFF7FEFF 		bl	shellSetVarValue
 4700              	.LVL464:
 4701              	.L393:
1090:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 4702              		.loc 1 1090 1 view .LVU1276
 4703 0034 70BD     		pop	{r4, r5, r6, pc}
 4704              	.LVL465:
 4705              	.L399:
1080:SYS/shell/shell.c ****         return 0;
 4706              		.loc 1 1080 9 is_stmt 1 view .LVU1277
 4707 0036 0949     		ldr	r1, .L401
 4708 0038 2046     		mov	r0, r4
 4709              	.LVL466:
1080:SYS/shell/shell.c ****         return 0;
 4710              		.loc 1 1080 9 is_stmt 0 view .LVU1278
 4711 003a FFF7FEFF 		bl	shellWriteString
 4712              	.LVL467:
1081:SYS/shell/shell.c ****     }
 4713              		.loc 1 1081 9 is_stmt 1 view .LVU1279
1081:SYS/shell/shell.c ****     }
 4714              		.loc 1 1081 16 is_stmt 0 view .LVU1280
 4715 003e 0020     		movs	r0, #0
 4716 0040 F8E7     		b	.L393
 4717              	.LVL468:
 4718              	.L400:
1085:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_NOT_VAR]);
 4719              		.loc 1 1085 9 is_stmt 1 view .LVU1281
 4720 0042 2946     		mov	r1, r5
 4721 0044 2046     		mov	r0, r4
 4722              	.LVL469:
1085:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_NOT_VAR]);
 4723              		.loc 1 1085 9 is_stmt 0 view .LVU1282
 4724 0046 FFF7FEFF 		bl	shellWriteString
 4725              	.LVL470:
1086:SYS/shell/shell.c ****         return 0;
 4726              		.loc 1 1086 9 is_stmt 1 view .LVU1283
 4727 004a 0549     		ldr	r1, .L401+4
ARM GAS  /tmp/ccKSSxev.s 			page 133


 4728 004c 2046     		mov	r0, r4
 4729 004e FFF7FEFF 		bl	shellWriteString
 4730              	.LVL471:
1087:SYS/shell/shell.c ****     }
 4731              		.loc 1 1087 9 view .LVU1284
1087:SYS/shell/shell.c ****     }
 4732              		.loc 1 1087 16 is_stmt 0 view .LVU1285
 4733 0052 0020     		movs	r0, #0
 4734 0054 EEE7     		b	.L393
 4735              	.LVL472:
 4736              	.L397:
1072:SYS/shell/shell.c ****     }
 4737              		.loc 1 1072 16 view .LVU1286
 4738 0056 0020     		movs	r0, #0
 4739              	.LVL473:
1072:SYS/shell/shell.c ****     }
 4740              		.loc 1 1072 16 view .LVU1287
 4741 0058 ECE7     		b	.L393
 4742              	.L402:
 4743 005a 00BF     		.align	2
 4744              	.L401:
 4745 005c 00000000 		.word	.LC29
 4746 0060 10000000 		.word	.LC30
 4747              		.cfi_endproc
 4748              	.LFE158:
 4750              		.section	.text.shellRunCommand,"ax",%progbits
 4751              		.align	1
 4752              		.global	shellRunCommand
 4753              		.syntax unified
 4754              		.thumb
 4755              		.thumb_func
 4756              		.fpu fpv4-sp-d16
 4758              	shellRunCommand:
 4759              	.LVL474:
 4760              	.LFB159:
1104:SYS/shell/shell.c ****     int returnValue = 0;
 4761              		.loc 1 1104 1 is_stmt 1 view -0
 4762              		.cfi_startproc
 4763              		@ args = 0, pretend = 0, frame = 0
 4764              		@ frame_needed = 0, uses_anonymous_args = 0
1104:SYS/shell/shell.c ****     int returnValue = 0;
 4765              		.loc 1 1104 1 is_stmt 0 view .LVU1289
 4766 0000 70B5     		push	{r4, r5, r6, lr}
 4767              	.LCFI69:
 4768              		.cfi_def_cfa_offset 16
 4769              		.cfi_offset 4, -16
 4770              		.cfi_offset 5, -12
 4771              		.cfi_offset 6, -8
 4772              		.cfi_offset 14, -4
 4773 0002 0446     		mov	r4, r0
 4774 0004 0D46     		mov	r5, r1
1105:SYS/shell/shell.c ****     shell->status.isActive = 1;
 4775              		.loc 1 1105 5 is_stmt 1 view .LVU1290
 4776              	.LVL475:
1106:SYS/shell/shell.c ****     if (command->attr.attrs.type == SHELL_TYPE_CMD_MAIN)
 4777              		.loc 1 1106 5 view .LVU1291
1106:SYS/shell/shell.c ****     if (command->attr.attrs.type == SHELL_TYPE_CMD_MAIN)
ARM GAS  /tmp/ccKSSxev.s 			page 134


 4778              		.loc 1 1106 28 is_stmt 0 view .LVU1292
 4779 0006 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
 4780 000a 43F00203 		orr	r3, r3, #2
 4781 000e 80F86030 		strb	r3, [r0, #96]
1107:SYS/shell/shell.c ****     {
 4782              		.loc 1 1107 5 is_stmt 1 view .LVU1293
1107:SYS/shell/shell.c ****     {
 4783              		.loc 1 1107 34 is_stmt 0 view .LVU1294
 4784 0012 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
1107:SYS/shell/shell.c ****     {
 4785              		.loc 1 1107 8 view .LVU1295
 4786 0014 13F00F03 		ands	r3, r3, #15
 4787 0018 14D0     		beq	.L410
1117:SYS/shell/shell.c ****     {
 4788              		.loc 1 1117 10 is_stmt 1 view .LVU1296
1117:SYS/shell/shell.c ****     {
 4789              		.loc 1 1117 13 is_stmt 0 view .LVU1297
 4790 001a 012B     		cmp	r3, #1
 4791 001c 23D0     		beq	.L411
1128:SYS/shell/shell.c ****     {
 4792              		.loc 1 1128 10 is_stmt 1 view .LVU1298
1128:SYS/shell/shell.c ****     {
 4793              		.loc 1 1128 33 is_stmt 0 view .LVU1299
 4794 001e 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 4795 0020 02F00F02 		and	r2, r2, #15
1128:SYS/shell/shell.c ****     {
 4796              		.loc 1 1128 61 view .LVU1300
 4797 0024 0E32     		adds	r2, r2, #14
 4798 0026 02F00F02 		and	r2, r2, #15
1128:SYS/shell/shell.c ****     {
 4799              		.loc 1 1128 13 view .LVU1301
 4800 002a 052A     		cmp	r2, #5
 4801 002c 2AD9     		bls	.L412
1132:SYS/shell/shell.c ****     {
 4802              		.loc 1 1132 10 is_stmt 1 view .LVU1302
1132:SYS/shell/shell.c ****     {
 4803              		.loc 1 1132 13 is_stmt 0 view .LVU1303
 4804 002e 082B     		cmp	r3, #8
 4805 0030 2CD0     		beq	.L413
1105:SYS/shell/shell.c ****     shell->status.isActive = 1;
 4806              		.loc 1 1105 9 view .LVU1304
 4807 0032 0026     		movs	r6, #0
 4808              	.LVL476:
 4809              	.L405:
1136:SYS/shell/shell.c **** 
 4810              		.loc 1 1136 5 is_stmt 1 view .LVU1305
1136:SYS/shell/shell.c **** 
 4811              		.loc 1 1136 28 is_stmt 0 view .LVU1306
 4812 0034 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 4813 0038 6FF34103 		bfc	r3, #1, #1
 4814 003c 84F86030 		strb	r3, [r4, #96]
1138:SYS/shell/shell.c **** }
 4815              		.loc 1 1138 5 is_stmt 1 view .LVU1307
1139:SYS/shell/shell.c **** 
 4816              		.loc 1 1139 1 is_stmt 0 view .LVU1308
 4817 0040 3046     		mov	r0, r6
 4818 0042 70BD     		pop	{r4, r5, r6, pc}
ARM GAS  /tmp/ccKSSxev.s 			page 135


 4819              	.LVL477:
 4820              	.L410:
1109:SYS/shell/shell.c ****         returnValue = command->data.cmd.function(shell->parser.paramCount,
 4821              		.loc 1 1109 9 is_stmt 1 view .LVU1309
 4822 0044 FFF7FEFF 		bl	shellRemoveParamQuotes
 4823              	.LVL478:
1110:SYS/shell/shell.c ****                                                  shell->parser.param);
 4824              		.loc 1 1110 9 view .LVU1310
1110:SYS/shell/shell.c ****                                                  shell->parser.param);
 4825              		.loc 1 1110 40 is_stmt 0 view .LVU1311
 4826 0048 AB68     		ldr	r3, [r5, #8]
1110:SYS/shell/shell.c ****                                                  shell->parser.param);
 4827              		.loc 1 1110 23 view .LVU1312
 4828 004a 04F11401 		add	r1, r4, #20
 4829 004e E08E     		ldrh	r0, [r4, #54]
 4830 0050 9847     		blx	r3
 4831              	.LVL479:
 4832 0052 0646     		mov	r6, r0
 4833              	.LVL480:
1112:SYS/shell/shell.c ****         {
 4834              		.loc 1 1112 9 is_stmt 1 view .LVU1313
1112:SYS/shell/shell.c ****         {
 4835              		.loc 1 1112 13 is_stmt 0 view .LVU1314
 4836 0054 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
1112:SYS/shell/shell.c ****         {
 4837              		.loc 1 1112 12 view .LVU1315
 4838 0056 13F0200F 		tst	r3, #32
 4839 005a EBD1     		bne	.L405
1114:SYS/shell/shell.c ****         }
 4840              		.loc 1 1114 13 is_stmt 1 view .LVU1316
 4841 005c 0146     		mov	r1, r0
 4842 005e 2046     		mov	r0, r4
 4843              	.LVL481:
1114:SYS/shell/shell.c ****         }
 4844              		.loc 1 1114 13 is_stmt 0 view .LVU1317
 4845 0060 FFF7FEFF 		bl	shellWriteReturnValue
 4846              	.LVL482:
1114:SYS/shell/shell.c ****         }
 4847              		.loc 1 1114 13 view .LVU1318
 4848 0064 E6E7     		b	.L405
 4849              	.LVL483:
 4850              	.L411:
1119:SYS/shell/shell.c ****                                   command,
 4851              		.loc 1 1119 9 is_stmt 1 view .LVU1319
1119:SYS/shell/shell.c ****                                   command,
 4852              		.loc 1 1119 23 is_stmt 0 view .LVU1320
 4853 0066 00F11403 		add	r3, r0, #20
 4854 006a C28E     		ldrh	r2, [r0, #54]
 4855 006c FFF7FEFF 		bl	shellExtRun
 4856              	.LVL484:
1119:SYS/shell/shell.c ****                                   command,
 4857              		.loc 1 1119 23 view .LVU1321
 4858 0070 0646     		mov	r6, r0
 4859              	.LVL485:
1123:SYS/shell/shell.c ****         {
 4860              		.loc 1 1123 9 is_stmt 1 view .LVU1322
1123:SYS/shell/shell.c ****         {
ARM GAS  /tmp/ccKSSxev.s 			page 136


 4861              		.loc 1 1123 13 is_stmt 0 view .LVU1323
 4862 0072 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
1123:SYS/shell/shell.c ****         {
 4863              		.loc 1 1123 12 view .LVU1324
 4864 0074 13F0200F 		tst	r3, #32
 4865 0078 DCD1     		bne	.L405
1125:SYS/shell/shell.c ****         }
 4866              		.loc 1 1125 13 is_stmt 1 view .LVU1325
 4867 007a 0146     		mov	r1, r0
 4868 007c 2046     		mov	r0, r4
 4869              	.LVL486:
1125:SYS/shell/shell.c ****         }
 4870              		.loc 1 1125 13 is_stmt 0 view .LVU1326
 4871 007e FFF7FEFF 		bl	shellWriteReturnValue
 4872              	.LVL487:
1125:SYS/shell/shell.c ****         }
 4873              		.loc 1 1125 13 view .LVU1327
 4874 0082 D7E7     		b	.L405
 4875              	.LVL488:
 4876              	.L412:
1130:SYS/shell/shell.c ****     }
 4877              		.loc 1 1130 9 is_stmt 1 view .LVU1328
 4878 0084 FFF7FEFF 		bl	shellShowVar
 4879              	.LVL489:
1105:SYS/shell/shell.c ****     shell->status.isActive = 1;
 4880              		.loc 1 1105 9 is_stmt 0 view .LVU1329
 4881 0088 0026     		movs	r6, #0
 4882 008a D3E7     		b	.L405
 4883              	.LVL490:
 4884              	.L413:
1134:SYS/shell/shell.c ****     }
 4885              		.loc 1 1134 9 is_stmt 1 view .LVU1330
 4886 008c FFF7FEFF 		bl	shellSetUser
 4887              	.LVL491:
1105:SYS/shell/shell.c ****     shell->status.isActive = 1;
 4888              		.loc 1 1105 9 is_stmt 0 view .LVU1331
 4889 0090 0026     		movs	r6, #0
 4890 0092 CFE7     		b	.L405
 4891              		.cfi_endproc
 4892              	.LFE159:
 4894              		.section	.text.shellNormalInput,"ax",%progbits
 4895              		.align	1
 4896              		.global	shellNormalInput
 4897              		.syntax unified
 4898              		.thumb
 4899              		.thumb_func
 4900              		.fpu fpv4-sp-d16
 4902              	shellNormalInput:
 4903              	.LVL492:
 4904              	.LFB165:
1291:SYS/shell/shell.c ****     shell->status.tabFlag = 0;
 4905              		.loc 1 1291 1 is_stmt 1 view -0
 4906              		.cfi_startproc
 4907              		@ args = 0, pretend = 0, frame = 0
 4908              		@ frame_needed = 0, uses_anonymous_args = 0
1291:SYS/shell/shell.c ****     shell->status.tabFlag = 0;
 4909              		.loc 1 1291 1 is_stmt 0 view .LVU1333
ARM GAS  /tmp/ccKSSxev.s 			page 137


 4910 0000 08B5     		push	{r3, lr}
 4911              	.LCFI70:
 4912              		.cfi_def_cfa_offset 8
 4913              		.cfi_offset 3, -8
 4914              		.cfi_offset 14, -4
1292:SYS/shell/shell.c ****     shellInsertByte(shell, data);
 4915              		.loc 1 1292 5 is_stmt 1 view .LVU1334
1292:SYS/shell/shell.c ****     shellInsertByte(shell, data);
 4916              		.loc 1 1292 27 is_stmt 0 view .LVU1335
 4917 0002 90F86020 		ldrb	r2, [r0, #96]	@ zero_extendqisi2
 4918 0006 6FF38202 		bfc	r2, #2, #1
 4919 000a 80F86020 		strb	r2, [r0, #96]
1293:SYS/shell/shell.c **** }
 4920              		.loc 1 1293 5 is_stmt 1 view .LVU1336
 4921 000e FFF7FEFF 		bl	shellInsertByte
 4922              	.LVL493:
1294:SYS/shell/shell.c **** 
 4923              		.loc 1 1294 1 is_stmt 0 view .LVU1337
 4924 0012 08BD     		pop	{r3, pc}
 4925              		.cfi_endproc
 4926              	.LFE165:
 4928              		.section	.text.shellExec,"ax",%progbits
 4929              		.align	1
 4930              		.global	shellExec
 4931              		.syntax unified
 4932              		.thumb
 4933              		.thumb_func
 4934              		.fpu fpv4-sp-d16
 4936              	shellExec:
 4937              	.LVL494:
 4938              	.LFB166:
1302:SYS/shell/shell.c **** 
 4939              		.loc 1 1302 1 is_stmt 1 view -0
 4940              		.cfi_startproc
 4941              		@ args = 0, pretend = 0, frame = 0
 4942              		@ frame_needed = 0, uses_anonymous_args = 0
1304:SYS/shell/shell.c ****     {
 4943              		.loc 1 1304 5 view .LVU1339
1304:SYS/shell/shell.c ****     {
 4944              		.loc 1 1304 22 is_stmt 0 view .LVU1340
 4945 0000 8389     		ldrh	r3, [r0, #12]
1304:SYS/shell/shell.c ****     {
 4946              		.loc 1 1304 8 view .LVU1341
 4947 0002 5BB3     		cbz	r3, .L421
1302:SYS/shell/shell.c **** 
 4948              		.loc 1 1302 1 view .LVU1342
 4949 0004 10B5     		push	{r4, lr}
 4950              	.LCFI71:
 4951              		.cfi_def_cfa_offset 8
 4952              		.cfi_offset 4, -8
 4953              		.cfi_offset 14, -4
 4954 0006 0446     		mov	r4, r0
1309:SYS/shell/shell.c **** 
 4955              		.loc 1 1309 5 is_stmt 1 view .LVU1343
1309:SYS/shell/shell.c **** 
 4956              		.loc 1 1309 18 is_stmt 0 view .LVU1344
 4957 0008 0269     		ldr	r2, [r0, #16]
ARM GAS  /tmp/ccKSSxev.s 			page 138


1309:SYS/shell/shell.c **** 
 4958              		.loc 1 1309 48 view .LVU1345
 4959 000a 0021     		movs	r1, #0
 4960 000c D154     		strb	r1, [r2, r3]
1311:SYS/shell/shell.c ****     {
 4961              		.loc 1 1311 5 is_stmt 1 view .LVU1346
1311:SYS/shell/shell.c ****     {
 4962              		.loc 1 1311 9 is_stmt 0 view .LVU1347
 4963 000e 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
1311:SYS/shell/shell.c ****     {
 4964              		.loc 1 1311 8 view .LVU1348
 4965 0012 13F0010F 		tst	r3, #1
 4966 0016 1ED0     		beq	.L418
 4967              	.LBB33:
1313:SYS/shell/shell.c ****         shellParserParam(shell);
 4968              		.loc 1 1313 9 is_stmt 1 view .LVU1349
 4969 0018 FFF7FEFF 		bl	shellHistoryAdd
 4970              	.LVL495:
1314:SYS/shell/shell.c ****         shell->parser.length = shell->parser.cursor = 0;
 4971              		.loc 1 1314 9 view .LVU1350
 4972 001c 2046     		mov	r0, r4
 4973 001e FFF7FEFF 		bl	shellParserParam
 4974              	.LVL496:
1315:SYS/shell/shell.c ****         if (shell->parser.paramCount == 0)
 4975              		.loc 1 1315 9 view .LVU1351
1315:SYS/shell/shell.c ****         if (shell->parser.paramCount == 0)
 4976              		.loc 1 1315 53 is_stmt 0 view .LVU1352
 4977 0022 0023     		movs	r3, #0
 4978 0024 E381     		strh	r3, [r4, #14]	@ movhi
1315:SYS/shell/shell.c ****         if (shell->parser.paramCount == 0)
 4979              		.loc 1 1315 30 view .LVU1353
 4980 0026 A381     		strh	r3, [r4, #12]	@ movhi
1316:SYS/shell/shell.c ****         {
 4981              		.loc 1 1316 9 is_stmt 1 view .LVU1354
1316:SYS/shell/shell.c ****         {
 4982              		.loc 1 1316 26 is_stmt 0 view .LVU1355
 4983 0028 E38E     		ldrh	r3, [r4, #54]
1316:SYS/shell/shell.c ****         {
 4984              		.loc 1 1316 12 view .LVU1356
 4985 002a B3B1     		cbz	r3, .L416
1320:SYS/shell/shell.c **** 
 4986              		.loc 1 1320 9 is_stmt 1 view .LVU1357
 4987 002c 0C49     		ldr	r1, .L424
 4988 002e 2046     		mov	r0, r4
 4989 0030 FFF7FEFF 		bl	shellWriteString
 4990              	.LVL497:
1322:SYS/shell/shell.c ****                                                  shell->parser.param[0],
 4991              		.loc 1 1322 9 view .LVU1358
1322:SYS/shell/shell.c ****                                                  shell->parser.param[0],
 4992              		.loc 1 1322 33 is_stmt 0 view .LVU1359
 4993 0034 0023     		movs	r3, #0
 4994 0036 A26D     		ldr	r2, [r4, #88]
 4995 0038 6169     		ldr	r1, [r4, #20]
 4996 003a 2046     		mov	r0, r4
 4997 003c FFF7FEFF 		bl	shellSeekCommand
 4998              	.LVL498:
1326:SYS/shell/shell.c ****         {
ARM GAS  /tmp/ccKSSxev.s 			page 139


 4999              		.loc 1 1326 9 is_stmt 1 view .LVU1360
1326:SYS/shell/shell.c ****         {
 5000              		.loc 1 1326 12 is_stmt 0 view .LVU1361
 5001 0040 0146     		mov	r1, r0
 5002 0042 18B1     		cbz	r0, .L419
1328:SYS/shell/shell.c ****         }
 5003              		.loc 1 1328 13 is_stmt 1 view .LVU1362
 5004 0044 2046     		mov	r0, r4
 5005              	.LVL499:
1328:SYS/shell/shell.c ****         }
 5006              		.loc 1 1328 13 is_stmt 0 view .LVU1363
 5007 0046 FFF7FEFF 		bl	shellRunCommand
 5008              	.LVL500:
1328:SYS/shell/shell.c ****         }
 5009              		.loc 1 1328 13 view .LVU1364
 5010 004a 06E0     		b	.L416
 5011              	.LVL501:
 5012              	.L419:
1332:SYS/shell/shell.c ****         }
 5013              		.loc 1 1332 13 is_stmt 1 view .LVU1365
 5014 004c 0549     		ldr	r1, .L424+4
 5015 004e 2046     		mov	r0, r4
 5016              	.LVL502:
1332:SYS/shell/shell.c ****         }
 5017              		.loc 1 1332 13 is_stmt 0 view .LVU1366
 5018 0050 FFF7FEFF 		bl	shellWriteString
 5019              	.LVL503:
 5020 0054 01E0     		b	.L416
 5021              	.LVL504:
 5022              	.L418:
1332:SYS/shell/shell.c ****         }
 5023              		.loc 1 1332 13 view .LVU1367
 5024              	.LBE33:
1337:SYS/shell/shell.c ****     }
 5025              		.loc 1 1337 9 is_stmt 1 view .LVU1368
 5026 0056 FFF7FEFF 		bl	shellCheckPassword
 5027              	.LVL505:
 5028              	.L416:
1339:SYS/shell/shell.c **** 
 5029              		.loc 1 1339 1 is_stmt 0 view .LVU1369
 5030 005a 10BD     		pop	{r4, pc}
 5031              	.LVL506:
 5032              	.L421:
 5033              	.LCFI72:
 5034              		.cfi_def_cfa_offset 0
 5035              		.cfi_restore 4
 5036              		.cfi_restore 14
1339:SYS/shell/shell.c **** 
 5037              		.loc 1 1339 1 view .LVU1370
 5038 005c 7047     		bx	lr
 5039              	.L425:
 5040 005e 00BF     		.align	2
 5041              	.L424:
 5042 0060 04000000 		.word	.LC3
 5043 0064 14000000 		.word	.LC24
 5044              		.cfi_endproc
 5045              	.LFE166:
ARM GAS  /tmp/ccKSSxev.s 			page 140


 5047              		.section	.text.shellEnter,"ax",%progbits
 5048              		.align	1
 5049              		.global	shellEnter
 5050              		.syntax unified
 5051              		.thumb
 5052              		.thumb_func
 5053              		.fpu fpv4-sp-d16
 5055              	shellEnter:
 5056              	.LVL507:
 5057              	.LFB174:
1516:SYS/shell/shell.c ****     shellExec(shell);
 5058              		.loc 1 1516 1 is_stmt 1 view -0
 5059              		.cfi_startproc
 5060              		@ args = 0, pretend = 0, frame = 0
 5061              		@ frame_needed = 0, uses_anonymous_args = 0
1516:SYS/shell/shell.c ****     shellExec(shell);
 5062              		.loc 1 1516 1 is_stmt 0 view .LVU1372
 5063 0000 10B5     		push	{r4, lr}
 5064              	.LCFI73:
 5065              		.cfi_def_cfa_offset 8
 5066              		.cfi_offset 4, -8
 5067              		.cfi_offset 14, -4
 5068 0002 0446     		mov	r4, r0
1517:SYS/shell/shell.c ****     shellWriteCommandLine(shell, 1);
 5069              		.loc 1 1517 5 is_stmt 1 view .LVU1373
 5070 0004 FFF7FEFF 		bl	shellExec
 5071              	.LVL508:
1518:SYS/shell/shell.c **** }
 5072              		.loc 1 1518 5 view .LVU1374
 5073 0008 0121     		movs	r1, #1
 5074 000a 2046     		mov	r0, r4
 5075 000c FFF7FEFF 		bl	shellWriteCommandLine
 5076              	.LVL509:
1519:SYS/shell/shell.c **** #if SHELL_ENTER_LF == 1
 5077              		.loc 1 1519 1 is_stmt 0 view .LVU1375
 5078 0010 10BD     		pop	{r4, pc}
1519:SYS/shell/shell.c **** #if SHELL_ENTER_LF == 1
 5079              		.loc 1 1519 1 view .LVU1376
 5080              		.cfi_endproc
 5081              	.LFE174:
 5083              		.section	.text.shellHandler,"ax",%progbits
 5084              		.align	1
 5085              		.global	shellHandler
 5086              		.syntax unified
 5087              		.thumb
 5088              		.thumb_func
 5089              		.fpu fpv4-sp-d16
 5091              	shellHandler:
 5092              	.LVL510:
 5093              	.LFB176:
1578:SYS/shell/shell.c ****     SHELL_ASSERT(data, return );
 5094              		.loc 1 1578 1 is_stmt 1 view -0
 5095              		.cfi_startproc
 5096              		@ args = 0, pretend = 0, frame = 0
 5097              		@ frame_needed = 0, uses_anonymous_args = 0
1579:SYS/shell/shell.c **** 
 5098              		.loc 1 1579 5 view .LVU1378
ARM GAS  /tmp/ccKSSxev.s 			page 141


 5099 0000 0029     		cmp	r1, #0
 5100 0002 65D0     		beq	.L441
1578:SYS/shell/shell.c ****     SHELL_ASSERT(data, return );
 5101              		.loc 1 1578 1 is_stmt 0 discriminator 2 view .LVU1379
 5102 0004 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5103              	.LCFI74:
 5104              		.cfi_def_cfa_offset 32
 5105              		.cfi_offset 4, -32
 5106              		.cfi_offset 5, -28
 5107              		.cfi_offset 6, -24
 5108              		.cfi_offset 7, -20
 5109              		.cfi_offset 8, -16
 5110              		.cfi_offset 9, -12
 5111              		.cfi_offset 10, -8
 5112              		.cfi_offset 14, -4
 5113 0008 0646     		mov	r6, r0
 5114 000a 8A46     		mov	r10, r1
1579:SYS/shell/shell.c **** 
 5115              		.loc 1 1579 32 is_stmt 1 discriminator 2 view .LVU1380
1592:SYS/shell/shell.c ****     int keyFilter = 0x00000000;
 5116              		.loc 1 1592 5 discriminator 2 view .LVU1381
 5117              	.LVL511:
1593:SYS/shell/shell.c ****     if ((shell->parser.keyValue & 0x0000FF00) != 0x00000000)
 5118              		.loc 1 1593 5 discriminator 2 view .LVU1382
1594:SYS/shell/shell.c ****     {
 5119              		.loc 1 1594 5 discriminator 2 view .LVU1383
1594:SYS/shell/shell.c ****     {
 5120              		.loc 1 1594 23 is_stmt 0 discriminator 2 view .LVU1384
 5121 000c 836B     		ldr	r3, [r0, #56]
1594:SYS/shell/shell.c ****     {
 5122              		.loc 1 1594 8 discriminator 2 view .LVU1385
 5123 000e 13F47F4F 		tst	r3, #65280
 5124 0012 08D1     		bne	.L436
1599:SYS/shell/shell.c ****     {
 5125              		.loc 1 1599 10 is_stmt 1 view .LVU1386
1599:SYS/shell/shell.c ****     {
 5126              		.loc 1 1599 13 is_stmt 0 view .LVU1387
 5127 0014 13F47F09 		ands	r9, r3, #16711680
 5128 0018 0AD1     		bne	.L437
1604:SYS/shell/shell.c ****     {
 5129              		.loc 1 1604 10 is_stmt 1 view .LVU1388
1604:SYS/shell/shell.c ****     {
 5130              		.loc 1 1604 13 is_stmt 0 view .LVU1389
 5131 001a 13F07F4F 		tst	r3, #-16777216
 5132 001e 0ED1     		bne	.L438
1592:SYS/shell/shell.c ****     int keyFilter = 0x00000000;
 5133              		.loc 1 1592 10 view .LVU1390
 5134 0020 4FF01808 		mov	r8, #24
 5135 0024 08E0     		b	.L430
 5136              	.L436:
1597:SYS/shell/shell.c ****     }
 5137              		.loc 1 1597 19 view .LVU1391
 5138 0026 6FF0FF09 		mvn	r9, #255
1596:SYS/shell/shell.c ****         keyFilter = 0xFFFFFF00;
 5139              		.loc 1 1596 23 view .LVU1392
 5140 002a 4FF00008 		mov	r8, #0
 5141 002e 03E0     		b	.L430
ARM GAS  /tmp/ccKSSxev.s 			page 142


 5142              	.L437:
1602:SYS/shell/shell.c ****     }
 5143              		.loc 1 1602 19 view .LVU1393
 5144 0030 DFF8A090 		ldr	r9, .L446
1601:SYS/shell/shell.c ****         keyFilter = 0xFFFF0000;
 5145              		.loc 1 1601 23 view .LVU1394
 5146 0034 4FF00808 		mov	r8, #8
 5147              	.L430:
 5148              	.LVL512:
1611:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 5149              		.loc 1 1611 5 is_stmt 1 view .LVU1395
1611:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 5150              		.loc 1 1611 19 is_stmt 0 view .LVU1396
 5151 0038 B76D     		ldr	r7, [r6, #88]
 5152              	.LVL513:
1612:SYS/shell/shell.c ****     {
 5153              		.loc 1 1612 5 is_stmt 1 view .LVU1397
 5154              	.LBB34:
1612:SYS/shell/shell.c ****     {
 5155              		.loc 1 1612 10 view .LVU1398
1612:SYS/shell/shell.c ****     {
 5156              		.loc 1 1612 16 is_stmt 0 view .LVU1399
 5157 003a 0024     		movs	r4, #0
1612:SYS/shell/shell.c ****     {
 5158              		.loc 1 1612 5 view .LVU1400
 5159 003c 0DE0     		b	.L431
 5160              	.LVL514:
 5161              	.L438:
1612:SYS/shell/shell.c ****     {
 5162              		.loc 1 1612 5 view .LVU1401
 5163              	.LBE34:
1607:SYS/shell/shell.c ****     }
 5164              		.loc 1 1607 19 view .LVU1402
 5165 003e 4FF07F49 		mov	r9, #-16777216
1606:SYS/shell/shell.c ****         keyFilter = 0xFF000000;
 5166              		.loc 1 1606 23 view .LVU1403
 5167 0042 4FF01008 		mov	r8, #16
 5168 0046 F7E7     		b	.L430
 5169              	.LVL515:
 5170              	.L433:
 5171              	.LBB35:
1624:SYS/shell/shell.c ****                     {
 5172              		.loc 1 1624 21 is_stmt 1 view .LVU1404
1624:SYS/shell/shell.c ****                     {
 5173              		.loc 1 1624 41 is_stmt 0 view .LVU1405
 5174 0048 AB68     		ldr	r3, [r5, #8]
1624:SYS/shell/shell.c ****                     {
 5175              		.loc 1 1624 24 view .LVU1406
 5176 004a 0BB1     		cbz	r3, .L434
1626:SYS/shell/shell.c ****                     }
 5177              		.loc 1 1626 25 is_stmt 1 view .LVU1407
 5178 004c 3046     		mov	r0, r6
 5179 004e 9847     		blx	r3
 5180              	.LVL516:
 5181              	.L434:
1628:SYS/shell/shell.c ****                     break;
 5182              		.loc 1 1628 21 view .LVU1408
ARM GAS  /tmp/ccKSSxev.s 			page 143


1628:SYS/shell/shell.c ****                     break;
 5183              		.loc 1 1628 44 is_stmt 0 view .LVU1409
 5184 0050 0023     		movs	r3, #0
 5185 0052 B363     		str	r3, [r6, #56]
1629:SYS/shell/shell.c ****                 }
 5186              		.loc 1 1629 21 is_stmt 1 view .LVU1410
1629:SYS/shell/shell.c ****                 }
 5187              		.loc 1 1629 21 is_stmt 0 view .LVU1411
 5188              	.LBE35:
1635:SYS/shell/shell.c ****     {
 5189              		.loc 1 1635 5 is_stmt 1 view .LVU1412
 5190 0054 33E0     		b	.L428
 5191              	.LVL517:
 5192              	.L432:
 5193              	.LBB36:
1612:SYS/shell/shell.c ****     {
 5194              		.loc 1 1612 54 is_stmt 0 discriminator 2 view .LVU1413
 5195 0056 0134     		adds	r4, r4, #1
 5196              	.LVL518:
1612:SYS/shell/shell.c ****     {
 5197              		.loc 1 1612 54 discriminator 2 view .LVU1414
 5198 0058 24B2     		sxth	r4, r4
 5199              	.LVL519:
 5200              	.L431:
1612:SYS/shell/shell.c ****     {
 5201              		.loc 1 1612 45 discriminator 1 view .LVU1415
 5202 005a B6F85C30 		ldrh	r3, [r6, #92]
1612:SYS/shell/shell.c ****     {
 5203              		.loc 1 1612 5 discriminator 1 view .LVU1416
 5204 005e 9C42     		cmp	r4, r3
 5205 0060 2ADA     		bge	.L444
1615:SYS/shell/shell.c ****         {
 5206              		.loc 1 1615 9 is_stmt 1 view .LVU1417
1615:SYS/shell/shell.c ****         {
 5207              		.loc 1 1615 17 is_stmt 0 view .LVU1418
 5208 0062 07EB0415 		add	r5, r7, r4, lsl #4
1615:SYS/shell/shell.c ****         {
 5209              		.loc 1 1615 37 view .LVU1419
 5210 0066 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 5211 0068 03F00F03 		and	r3, r3, #15
1615:SYS/shell/shell.c ****         {
 5212              		.loc 1 1615 12 view .LVU1420
 5213 006c 092B     		cmp	r3, #9
 5214 006e F2D1     		bne	.L432
1615:SYS/shell/shell.c ****         {
 5215              		.loc 1 1615 58 discriminator 1 view .LVU1421
 5216 0070 2946     		mov	r1, r5
 5217 0072 3046     		mov	r0, r6
 5218 0074 FFF7FEFF 		bl	shellCheckPermission
 5219              	.LVL520:
1615:SYS/shell/shell.c ****         {
 5220              		.loc 1 1615 55 discriminator 1 view .LVU1422
 5221 0078 0028     		cmp	r0, #0
 5222 007a ECD1     		bne	.L432
1618:SYS/shell/shell.c ****             {
 5223              		.loc 1 1618 13 is_stmt 1 view .LVU1423
1618:SYS/shell/shell.c ****             {
ARM GAS  /tmp/ccKSSxev.s 			page 144


 5224              		.loc 1 1618 34 is_stmt 0 view .LVU1424
 5225 007c 6B68     		ldr	r3, [r5, #4]
1618:SYS/shell/shell.c ****             {
 5226              		.loc 1 1618 41 view .LVU1425
 5227 007e 03EA0901 		and	r1, r3, r9
1618:SYS/shell/shell.c ****             {
 5228              		.loc 1 1618 70 view .LVU1426
 5229 0082 B26B     		ldr	r2, [r6, #56]
1618:SYS/shell/shell.c ****             {
 5230              		.loc 1 1618 16 view .LVU1427
 5231 0084 9142     		cmp	r1, r2
 5232 0086 E6D1     		bne	.L432
1618:SYS/shell/shell.c ****             {
 5233              		.loc 1 1618 115 discriminator 1 view .LVU1428
 5234 0088 FF21     		movs	r1, #255
 5235 008a 01FA08F1 		lsl	r1, r1, r8
1618:SYS/shell/shell.c ****             {
 5236              		.loc 1 1618 107 discriminator 1 view .LVU1429
 5237 008e 0B40     		ands	r3, r3, r1
1618:SYS/shell/shell.c ****             {
 5238              		.loc 1 1618 143 discriminator 1 view .LVU1430
 5239 0090 0AFA08F1 		lsl	r1, r10, r8
1618:SYS/shell/shell.c ****             {
 5240              		.loc 1 1618 80 discriminator 1 view .LVU1431
 5241 0094 8B42     		cmp	r3, r1
 5242 0096 DED1     		bne	.L432
1620:SYS/shell/shell.c ****                 data = 0x00;
 5243              		.loc 1 1620 17 is_stmt 1 view .LVU1432
1620:SYS/shell/shell.c ****                 data = 0x00;
 5244              		.loc 1 1620 40 is_stmt 0 view .LVU1433
 5245 0098 0A43     		orrs	r2, r2, r1
 5246 009a B263     		str	r2, [r6, #56]
1621:SYS/shell/shell.c ****                 if (keyByteOffset == 0 || (base[i].data.key.value & (0xFF << (keyByteOffset - 8))) 
 5247              		.loc 1 1621 17 is_stmt 1 view .LVU1434
 5248              	.LVL521:
1622:SYS/shell/shell.c ****                 {
 5249              		.loc 1 1622 17 view .LVU1435
1622:SYS/shell/shell.c ****                 {
 5250              		.loc 1 1622 20 is_stmt 0 view .LVU1436
 5251 009c B8F1000F 		cmp	r8, #0
 5252 00a0 D2D0     		beq	.L433
1622:SYS/shell/shell.c ****                 {
 5253              		.loc 1 1622 60 discriminator 1 view .LVU1437
 5254 00a2 6B68     		ldr	r3, [r5, #4]
1622:SYS/shell/shell.c ****                 {
 5255              		.loc 1 1622 93 discriminator 1 view .LVU1438
 5256 00a4 A8F10800 		sub	r0, r8, #8
1622:SYS/shell/shell.c ****                 {
 5257              		.loc 1 1622 75 discriminator 1 view .LVU1439
 5258 00a8 FF22     		movs	r2, #255
 5259 00aa 02FA00F0 		lsl	r0, r2, r0
1622:SYS/shell/shell.c ****                 {
 5260              		.loc 1 1622 40 discriminator 1 view .LVU1440
 5261 00ae 0342     		tst	r3, r0
 5262 00b0 CAD0     		beq	.L433
1621:SYS/shell/shell.c ****                 if (keyByteOffset == 0 || (base[i].data.key.value & (0xFF << (keyByteOffset - 8))) 
 5263              		.loc 1 1621 22 view .LVU1441
ARM GAS  /tmp/ccKSSxev.s 			page 145


 5264 00b2 4FF0000A 		mov	r10, #0
 5265 00b6 CEE7     		b	.L432
 5266              	.LVL522:
 5267              	.L444:
1621:SYS/shell/shell.c ****                 if (keyByteOffset == 0 || (base[i].data.key.value & (0xFF << (keyByteOffset - 8))) 
 5268              		.loc 1 1621 22 view .LVU1442
 5269              	.LBE36:
1635:SYS/shell/shell.c ****     {
 5270              		.loc 1 1635 5 is_stmt 1 view .LVU1443
1635:SYS/shell/shell.c ****     {
 5271              		.loc 1 1635 8 is_stmt 0 view .LVU1444
 5272 00b8 BAF1000F 		cmp	r10, #0
 5273 00bc 01D1     		bne	.L445
 5274              	.LVL523:
 5275              	.L428:
1645:SYS/shell/shell.c **** 
 5276              		.loc 1 1645 1 view .LVU1445
 5277 00be BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 5278              	.LVL524:
 5279              	.L445:
1637:SYS/shell/shell.c ****         shellNormalInput(shell, data);
 5280              		.loc 1 1637 9 is_stmt 1 view .LVU1446
1637:SYS/shell/shell.c ****         shellNormalInput(shell, data);
 5281              		.loc 1 1637 32 is_stmt 0 view .LVU1447
 5282 00c2 0023     		movs	r3, #0
 5283 00c4 B363     		str	r3, [r6, #56]
1638:SYS/shell/shell.c ****     }
 5284              		.loc 1 1638 9 is_stmt 1 view .LVU1448
 5285 00c6 5146     		mov	r1, r10
 5286 00c8 3046     		mov	r0, r6
 5287 00ca FFF7FEFF 		bl	shellNormalInput
 5288              	.LVL525:
 5289 00ce F6E7     		b	.L428
 5290              	.LVL526:
 5291              	.L441:
 5292              	.LCFI75:
 5293              		.cfi_def_cfa_offset 0
 5294              		.cfi_restore 4
 5295              		.cfi_restore 5
 5296              		.cfi_restore 6
 5297              		.cfi_restore 7
 5298              		.cfi_restore 8
 5299              		.cfi_restore 9
 5300              		.cfi_restore 10
 5301              		.cfi_restore 14
1638:SYS/shell/shell.c ****     }
 5302              		.loc 1 1638 9 is_stmt 0 view .LVU1449
 5303 00d0 7047     		bx	lr
 5304              	.L447:
 5305 00d2 00BF     		.align	2
 5306              	.L446:
 5307 00d4 0000FFFF 		.word	-65536
 5308              		.cfi_endproc
 5309              	.LFE176:
 5311              		.section	.text.shellTask,"ax",%progbits
 5312              		.align	1
 5313              		.global	shellTask
ARM GAS  /tmp/ccKSSxev.s 			page 146


 5314              		.syntax unified
 5315              		.thumb
 5316              		.thumb_func
 5317              		.fpu fpv4-sp-d16
 5319              	shellTask:
 5320              	.LVL527:
 5321              	.LFB177:
1680:SYS/shell/shell.c ****     Shell *shell = (Shell *)param;
 5322              		.loc 1 1680 1 is_stmt 1 view -0
 5323              		.cfi_startproc
 5324              		@ args = 0, pretend = 0, frame = 8
 5325              		@ frame_needed = 0, uses_anonymous_args = 0
1681:SYS/shell/shell.c ****     char data;
 5326              		.loc 1 1681 5 view .LVU1451
1682:SYS/shell/shell.c **** #if SHELL_TASK_WHILE == 1
 5327              		.loc 1 1682 5 view .LVU1452
1687:SYS/shell/shell.c ****         {
 5328              		.loc 1 1687 9 view .LVU1453
1687:SYS/shell/shell.c ****         {
 5329              		.loc 1 1687 18 is_stmt 0 view .LVU1454
 5330 0000 436E     		ldr	r3, [r0, #100]
1687:SYS/shell/shell.c ****         {
 5331              		.loc 1 1687 12 view .LVU1455
 5332 0002 73B1     		cbz	r3, .L451
1680:SYS/shell/shell.c ****     Shell *shell = (Shell *)param;
 5333              		.loc 1 1680 1 discriminator 1 view .LVU1456
 5334 0004 10B5     		push	{r4, lr}
 5335              	.LCFI76:
 5336              		.cfi_def_cfa_offset 8
 5337              		.cfi_offset 4, -8
 5338              		.cfi_offset 14, -4
 5339 0006 82B0     		sub	sp, sp, #8
 5340              	.LCFI77:
 5341              		.cfi_def_cfa_offset 16
 5342 0008 0446     		mov	r4, r0
1687:SYS/shell/shell.c ****         {
 5343              		.loc 1 1687 28 discriminator 1 view .LVU1457
 5344 000a 0DF10700 		add	r0, sp, #7
 5345              	.LVL528:
1687:SYS/shell/shell.c ****         {
 5346              		.loc 1 1687 28 discriminator 1 view .LVU1458
 5347 000e 9847     		blx	r3
 5348              	.LVL529:
1687:SYS/shell/shell.c ****         {
 5349              		.loc 1 1687 25 discriminator 1 view .LVU1459
 5350 0010 08B1     		cbz	r0, .L454
 5351              	.L448:
1694:SYS/shell/shell.c **** 
 5352              		.loc 1 1694 1 view .LVU1460
 5353 0012 02B0     		add	sp, sp, #8
 5354              	.LCFI78:
 5355              		.cfi_remember_state
 5356              		.cfi_def_cfa_offset 8
 5357              		@ sp needed
 5358 0014 10BD     		pop	{r4, pc}
 5359              	.LVL530:
 5360              	.L454:
ARM GAS  /tmp/ccKSSxev.s 			page 147


 5361              	.LCFI79:
 5362              		.cfi_restore_state
1689:SYS/shell/shell.c ****         }
 5363              		.loc 1 1689 13 is_stmt 1 view .LVU1461
 5364 0016 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 5365 001a 2046     		mov	r0, r4
 5366 001c FFF7FEFF 		bl	shellHandler
 5367              	.LVL531:
1694:SYS/shell/shell.c **** 
 5368              		.loc 1 1694 1 is_stmt 0 view .LVU1462
 5369 0020 F7E7     		b	.L448
 5370              	.LVL532:
 5371              	.L451:
 5372              	.LCFI80:
 5373              		.cfi_def_cfa_offset 0
 5374              		.cfi_restore 4
 5375              		.cfi_restore 14
1694:SYS/shell/shell.c **** 
 5376              		.loc 1 1694 1 view .LVU1463
 5377 0022 7047     		bx	lr
 5378              		.cfi_endproc
 5379              	.LFE177:
 5381              		.section	.text.shellRun,"ax",%progbits
 5382              		.align	1
 5383              		.global	shellRun
 5384              		.syntax unified
 5385              		.thumb
 5386              		.thumb_func
 5387              		.fpu fpv4-sp-d16
 5389              	shellRun:
 5390              	.LVL533:
 5391              	.LFB183:
1767:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1768:SYS/shell/shell.c ****     SHELL_CMD_PERMISSION(0) | SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC) | SHELL_CMD_DISABLE_RETURN,
1769:SYS/shell/shell.c ****     clear, shellClear, clear console);
1770:SYS/shell/shell.c **** 
1771:SYS/shell/shell.c **** /**
1772:SYS/shell/shell.c ****  * @brief shell执行命令
1773:SYS/shell/shell.c ****  * 
1774:SYS/shell/shell.c ****  * @param shell shell对象
1775:SYS/shell/shell.c ****  * @param cmd 命令字符串
1776:SYS/shell/shell.c ****  * @return int 返回值
1777:SYS/shell/shell.c ****  */
1778:SYS/shell/shell.c **** int shellRun(Shell *shell, const char *cmd)
1779:SYS/shell/shell.c **** {
 5392              		.loc 1 1779 1 is_stmt 1 view -0
 5393              		.cfi_startproc
 5394              		@ args = 0, pretend = 0, frame = 0
 5395              		@ frame_needed = 0, uses_anonymous_args = 0
1780:SYS/shell/shell.c ****     SHELL_ASSERT(shell && cmd, return -1);
 5396              		.loc 1 1780 5 view .LVU1465
 5397 0000 28B3     		cbz	r0, .L458
1779:SYS/shell/shell.c ****     SHELL_ASSERT(shell && cmd, return -1);
 5398              		.loc 1 1779 1 is_stmt 0 discriminator 2 view .LVU1466
 5399 0002 70B5     		push	{r4, r5, r6, lr}
 5400              	.LCFI81:
 5401              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/ccKSSxev.s 			page 148


 5402              		.cfi_offset 4, -16
 5403              		.cfi_offset 5, -12
 5404              		.cfi_offset 6, -8
 5405              		.cfi_offset 14, -4
 5406 0004 0446     		mov	r4, r0
 5407              		.loc 1 1780 5 discriminator 2 view .LVU1467
 5408 0006 29B3     		cbz	r1, .L459
 5409 0008 0D46     		mov	r5, r1
 5410              		.loc 1 1780 42 is_stmt 1 discriminator 4 view .LVU1468
1781:SYS/shell/shell.c ****     char active = shell->status.isActive;
 5411              		.loc 1 1781 5 discriminator 4 view .LVU1469
 5412              		.loc 1 1781 32 is_stmt 0 discriminator 4 view .LVU1470
 5413 000a 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
 5414 000e C3F34006 		ubfx	r6, r3, #1, #1
 5415              	.LVL534:
1782:SYS/shell/shell.c ****     if (strlen(cmd) > shell->parser.bufferSize - 1)
 5416              		.loc 1 1782 5 is_stmt 1 discriminator 4 view .LVU1471
 5417              		.loc 1 1782 9 is_stmt 0 discriminator 4 view .LVU1472
 5418 0012 0846     		mov	r0, r1
 5419              	.LVL535:
 5420              		.loc 1 1782 9 discriminator 4 view .LVU1473
 5421 0014 FFF7FEFF 		bl	strlen
 5422              	.LVL536:
 5423              		.loc 1 1782 36 discriminator 4 view .LVU1474
 5424 0018 A38E     		ldrh	r3, [r4, #52]
 5425              		.loc 1 1782 48 discriminator 4 view .LVU1475
 5426 001a 013B     		subs	r3, r3, #1
 5427              		.loc 1 1782 8 discriminator 4 view .LVU1476
 5428 001c 9842     		cmp	r0, r3
 5429 001e 0FD8     		bhi	.L464
1783:SYS/shell/shell.c ****     {
1784:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_CMD_TOO_LONG]);
1785:SYS/shell/shell.c ****         return -1;
1786:SYS/shell/shell.c ****     }
1787:SYS/shell/shell.c ****     else
1788:SYS/shell/shell.c ****     {
1789:SYS/shell/shell.c ****         shell->parser.length = shellStringCopy(shell->parser.buffer, (char *)cmd);
 5430              		.loc 1 1789 9 is_stmt 1 view .LVU1477
 5431              		.loc 1 1789 32 is_stmt 0 view .LVU1478
 5432 0020 2946     		mov	r1, r5
 5433 0022 2069     		ldr	r0, [r4, #16]
 5434 0024 FFF7FEFF 		bl	shellStringCopy
 5435              	.LVL537:
 5436              		.loc 1 1789 30 view .LVU1479
 5437 0028 A081     		strh	r0, [r4, #12]	@ movhi
1790:SYS/shell/shell.c ****         shellExec(shell);
 5438              		.loc 1 1790 9 is_stmt 1 view .LVU1480
 5439 002a 2046     		mov	r0, r4
 5440 002c FFF7FEFF 		bl	shellExec
 5441              	.LVL538:
1791:SYS/shell/shell.c ****         shell->status.isActive = active;
 5442              		.loc 1 1791 9 view .LVU1481
 5443              		.loc 1 1791 32 is_stmt 0 view .LVU1482
 5444 0030 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 5445 0034 66F34103 		bfi	r3, r6, #1, #1
 5446 0038 84F86030 		strb	r3, [r4, #96]
1792:SYS/shell/shell.c ****         return 0;
ARM GAS  /tmp/ccKSSxev.s 			page 149


 5447              		.loc 1 1792 9 is_stmt 1 view .LVU1483
 5448              		.loc 1 1792 16 is_stmt 0 view .LVU1484
 5449 003c 0020     		movs	r0, #0
 5450              	.LVL539:
 5451              	.L455:
1793:SYS/shell/shell.c ****     }
1794:SYS/shell/shell.c **** }
 5452              		.loc 1 1794 1 view .LVU1485
 5453 003e 70BD     		pop	{r4, r5, r6, pc}
 5454              	.LVL540:
 5455              	.L464:
1784:SYS/shell/shell.c ****         return -1;
 5456              		.loc 1 1784 9 is_stmt 1 view .LVU1486
 5457 0040 0649     		ldr	r1, .L465
 5458 0042 2046     		mov	r0, r4
 5459 0044 FFF7FEFF 		bl	shellWriteString
 5460              	.LVL541:
1785:SYS/shell/shell.c ****     }
 5461              		.loc 1 1785 9 view .LVU1487
1785:SYS/shell/shell.c ****     }
 5462              		.loc 1 1785 16 is_stmt 0 view .LVU1488
 5463 0048 4FF0FF30 		mov	r0, #-1
 5464 004c F7E7     		b	.L455
 5465              	.LVL542:
 5466              	.L458:
 5467              	.LCFI82:
 5468              		.cfi_def_cfa_offset 0
 5469              		.cfi_restore 4
 5470              		.cfi_restore 5
 5471              		.cfi_restore 6
 5472              		.cfi_restore 14
1780:SYS/shell/shell.c ****     char active = shell->status.isActive;
 5473              		.loc 1 1780 5 view .LVU1489
 5474 004e 4FF0FF30 		mov	r0, #-1
 5475              	.LVL543:
 5476              		.loc 1 1794 1 view .LVU1490
 5477 0052 7047     		bx	lr
 5478              	.LVL544:
 5479              	.L459:
 5480              	.LCFI83:
 5481              		.cfi_def_cfa_offset 16
 5482              		.cfi_offset 4, -16
 5483              		.cfi_offset 5, -12
 5484              		.cfi_offset 6, -8
 5485              		.cfi_offset 14, -4
1780:SYS/shell/shell.c ****     char active = shell->status.isActive;
 5486              		.loc 1 1780 5 view .LVU1491
 5487 0054 4FF0FF30 		mov	r0, #-1
 5488              	.LVL545:
1780:SYS/shell/shell.c ****     char active = shell->status.isActive;
 5489              		.loc 1 1780 5 view .LVU1492
 5490 0058 F1E7     		b	.L455
 5491              	.L466:
 5492 005a 00BF     		.align	2
 5493              	.L465:
 5494 005c 00000000 		.word	.LC21
 5495              		.cfi_endproc
ARM GAS  /tmp/ccKSSxev.s 			page 150


 5496              	.LFE183:
 5498              		.global	shellCommandclear
 5499              		.global	shellDescclear
 5500              		.global	shellCmdclear
 5501              		.global	shellCommandkeys
 5502              		.global	shellDesckeys
 5503              		.global	shellCmdkeys
 5504              		.global	shellCommandvars
 5505              		.global	shellDescvars
 5506              		.global	shellCmdvars
 5507              		.global	shellCommandcmds
 5508              		.global	shellDesccmds
 5509              		.global	shellCmdcmds
 5510              		.global	shellCommandusers
 5511              		.global	shellDescusers
 5512              		.global	shellCmdusers
 5513              		.global	shellCommandhelp
 5514              		.global	shellDeschelp
 5515              		.global	shellCmdhelp
 5516              		.global	shellKey0x0D000000
 5517              		.global	shellDesc0x0D000000
 5518              		.global	shellKey0x0A000000
 5519              		.global	shellDesc0x0A000000
 5520              		.global	shellKey0x1B5B337E
 5521              		.global	shellDesc0x1B5B337E
 5522              		.global	shellKey0x7F000000
 5523              		.global	shellDesc0x7F000000
 5524              		.global	shellKey0x08000000
 5525              		.global	shellDesc0x08000000
 5526              		.global	shellKey0x09000000
 5527              		.global	shellDesc0x09000000
 5528              		.global	shellKey0x1B5B4400
 5529              		.global	shellDesc0x1B5B4400
 5530              		.global	shellKey0x1B5B4300
 5531              		.global	shellDesc0x1B5B4300
 5532              		.global	shellKey0x1B5B4200
 5533              		.global	shellDesc0x1B5B4200
 5534              		.global	shellKey0x1B5B4100
 5535              		.global	shellDesc0x1B5B4100
 5536              		.global	shellCommandsetVar
 5537              		.global	shellDescsetVar
 5538              		.global	shellCmdsetVar
 5539              		.global	shellUserDefault
 5540              		.global	shellDesDefaultUser
 5541              		.global	shellPasswordDefaultUser
 5542              		.global	shellCmdDefaultUser
 5543              		.section	.bss.buffer.10604,"aw",%nobits
 5544              		.align	2
 5545              		.set	.LANCHOR1,. + 0
 5548              	buffer.10604:
 5549 0000 00000000 		.space	9
 5549      00000000 
 5549      00
 5550              		.section	.bss.shellList,"aw",%nobits
 5551              		.align	2
 5552              		.set	.LANCHOR0,. + 0
 5555              	shellList:
ARM GAS  /tmp/ccKSSxev.s 			page 151


 5556 0000 00000000 		.space	20
 5556      00000000 
 5556      00000000 
 5556      00000000 
 5556      00000000 
 5557              		.section	.rodata.shellCheckPassword.str1.4,"aMS",%progbits,1
 5558              		.align	2
 5559              	.LC7:
 5560 0000 0D0A7061 		.ascii	"\015\012password error\015\012\000"
 5560      7373776F 
 5560      72642065 
 5560      72726F72 
 5560      0D0A00
 5561              		.section	.rodata.shellCmdDefaultUser,"a"
 5562              		.align	2
 5565              	shellCmdDefaultUser:
 5566 0000 502E302E 		.ascii	"P.0.Wder Squad\000"
 5566      57646572 
 5566      20537175 
 5566      616400
 5567              		.section	.rodata.shellCmdclear,"a"
 5568              		.align	2
 5571              	shellCmdclear:
 5572 0000 636C6561 		.ascii	"clear\000"
 5572      7200
 5573              		.section	.rodata.shellCmdcmds,"a"
 5574              		.align	2
 5577              	shellCmdcmds:
 5578 0000 636D6473 		.ascii	"cmds\000"
 5578      00
 5579              		.section	.rodata.shellCmdhelp,"a"
 5580              		.align	2
 5583              	shellCmdhelp:
 5584 0000 68656C70 		.ascii	"help\000"
 5584      00
 5585              		.section	.rodata.shellCmdkeys,"a"
 5586              		.align	2
 5589              	shellCmdkeys:
 5590 0000 6B657973 		.ascii	"keys\000"
 5590      00
 5591              		.section	.rodata.shellCmdsetVar,"a"
 5592              		.align	2
 5595              	shellCmdsetVar:
 5596 0000 73657456 		.ascii	"setVar\000"
 5596      617200
 5597              		.section	.rodata.shellCmdusers,"a"
 5598              		.align	2
 5601              	shellCmdusers:
 5602 0000 75736572 		.ascii	"users\000"
 5602      7300
 5603              		.section	.rodata.shellCmdvars,"a"
 5604              		.align	2
 5607              	shellCmdvars:
 5608 0000 76617273 		.ascii	"vars\000"
 5608      00
 5609              		.section	.rodata.shellDeleteCommandLine.str1.4,"aMS",%progbits,1
 5610              		.align	2
ARM GAS  /tmp/ccKSSxev.s 			page 152


 5611              	.LC20:
 5612 0000 08200800 		.ascii	"\010 \010\000"
 5613              		.section	.rodata.shellDesDefaultUser,"a"
 5614              		.align	2
 5617              	shellDesDefaultUser:
 5618 0000 64656661 		.ascii	"default user\000"
 5618      756C7420 
 5618      75736572 
 5618      00
 5619              		.section	.rodata.shellDesc0x08000000,"a"
 5620              		.align	2
 5623              	shellDesc0x08000000:
 5624 0000 6261636B 		.ascii	"backspace\000"
 5624      73706163 
 5624      6500
 5625              		.section	.rodata.shellDesc0x09000000,"a"
 5626              		.align	2
 5629              	shellDesc0x09000000:
 5630 0000 74616200 		.ascii	"tab\000"
 5631              		.section	.rodata.shellDesc0x0A000000,"a"
 5632              		.align	2
 5635              	shellDesc0x0A000000:
 5636 0000 656E7465 		.ascii	"enter\000"
 5636      7200
 5637              		.section	.rodata.shellDesc0x0D000000,"a"
 5638              		.align	2
 5641              	shellDesc0x0D000000:
 5642 0000 656E7465 		.ascii	"enter\000"
 5642      7200
 5643              		.section	.rodata.shellDesc0x1B5B337E,"a"
 5644              		.align	2
 5647              	shellDesc0x1B5B337E:
 5648 0000 64656C65 		.ascii	"delete\000"
 5648      746500
 5649              		.section	.rodata.shellDesc0x1B5B4100,"a"
 5650              		.align	2
 5653              	shellDesc0x1B5B4100:
 5654 0000 757000   		.ascii	"up\000"
 5655              		.section	.rodata.shellDesc0x1B5B4200,"a"
 5656              		.align	2
 5659              	shellDesc0x1B5B4200:
 5660 0000 646F776E 		.ascii	"down\000"
 5660      00
 5661              		.section	.rodata.shellDesc0x1B5B4300,"a"
 5662              		.align	2
 5665              	shellDesc0x1B5B4300:
 5666 0000 72696768 		.ascii	"right\000"
 5666      7400
 5667              		.section	.rodata.shellDesc0x1B5B4400,"a"
 5668              		.align	2
 5671              	shellDesc0x1B5B4400:
 5672 0000 6C656674 		.ascii	"left\000"
 5672      00
 5673              		.section	.rodata.shellDesc0x7F000000,"a"
 5674              		.align	2
 5677              	shellDesc0x7F000000:
 5678 0000 6261636B 		.ascii	"backspace\000"
ARM GAS  /tmp/ccKSSxev.s 			page 153


 5678      73706163 
 5678      6500
 5679              		.section	.rodata.shellDescclear,"a"
 5680              		.align	2
 5683              	shellDescclear:
 5684 0000 636C6561 		.ascii	"clear console\000"
 5684      7220636F 
 5684      6E736F6C 
 5684      6500
 5685              		.section	.rodata.shellDesccmds,"a"
 5686              		.align	2
 5689              	shellDesccmds:
 5690 0000 6C697374 		.ascii	"list all cmd\000"
 5690      20616C6C 
 5690      20636D64 
 5690      00
 5691              		.section	.rodata.shellDeschelp,"a"
 5692              		.align	2
 5695              	shellDeschelp:
 5696 0000 73686F77 		.ascii	"show command info\015\012help[cmd]\000"
 5696      20636F6D 
 5696      6D616E64 
 5696      20696E66 
 5696      6F0D0A68 
 5697              		.section	.rodata.shellDesckeys,"a"
 5698              		.align	2
 5701              	shellDesckeys:
 5702 0000 6C697374 		.ascii	"list all key\000"
 5702      20616C6C 
 5702      206B6579 
 5702      00
 5703              		.section	.rodata.shellDescsetVar,"a"
 5704              		.align	2
 5707              	shellDescsetVar:
 5708 0000 73657420 		.ascii	"set var\000"
 5708      76617200 
 5709              		.section	.rodata.shellDescusers,"a"
 5710              		.align	2
 5713              	shellDescusers:
 5714 0000 6C697374 		.ascii	"list all user\000"
 5714      20616C6C 
 5714      20757365 
 5714      7200
 5715              		.section	.rodata.shellDescvars,"a"
 5716              		.align	2
 5719              	shellDescvars:
 5720 0000 6C697374 		.ascii	"list all var\000"
 5720      20616C6C 
 5720      20766172 
 5720      00
 5721              		.section	.rodata.shellHelp.str1.4,"aMS",%progbits,1
 5722              		.align	2
 5723              	.LC23:
 5724 0000 636F6D6D 		.ascii	"command help of \000"
 5724      616E6420 
 5724      68656C70 
 5724      206F6620 
ARM GAS  /tmp/ccKSSxev.s 			page 154


 5724      00
 5725 0011 000000   		.space	3
 5726              	.LC24:
 5727 0014 436F6D6D 		.ascii	"Command not Found\015\012\000"
 5727      616E6420 
 5727      6E6F7420 
 5727      466F756E 
 5727      640D0A00 
 5728              		.section	.rodata.shellInit.str1.4,"aMS",%progbits,1
 5729              		.align	2
 5730              	.LC22:
 5731 0000 502E302E 		.ascii	"P.0.Wder Squad\000"
 5731      57646572 
 5731      20537175 
 5731      616400
 5732              		.section	.rodata.shellInsertByte.str1.4,"aMS",%progbits,1
 5733              		.align	2
 5734              	.LC21:
 5735 0000 0D0A5761 		.ascii	"\015\012Warning: Command is too long\015\012\000"
 5735      726E696E 
 5735      673A2043 
 5735      6F6D6D61 
 5735      6E642069 
 5736              		.section	.rodata.shellListCommand.str1.4,"aMS",%progbits,1
 5737              		.align	2
 5738              	.LC16:
 5739 0000 0D0A436F 		.ascii	"\015\012Command List:\015\012\000"
 5739      6D6D616E 
 5739      64204C69 
 5739      73743A0D 
 5739      0A00
 5740              		.section	.rodata.shellListItem.str1.4,"aMS",%progbits,1
 5741              		.align	2
 5742              	.LC11:
 5743 0000 434D4420 		.ascii	"CMD \015\012\000"
 5743      0D0A00
 5744 0007 00       		.space	1
 5745              	.LC12:
 5746 0008 56415200 		.ascii	"VAR\000"
 5747              	.LC13:
 5748 000c 55534552 		.ascii	"USER\000"
 5748      00
 5749 0011 000000   		.space	3
 5750              	.LC14:
 5751 0014 4B455900 		.ascii	"KEY\000"
 5752              	.LC15:
 5753 0018 4E4F4E45 		.ascii	"NONE\000"
 5753      00
 5754              		.section	.rodata.shellListKey.str1.4,"aMS",%progbits,1
 5755              		.align	2
 5756              	.LC19:
 5757 0000 0D0A4B65 		.ascii	"\015\012Key List:\015\012\000"
 5757      79204C69 
 5757      73743A0D 
 5757      0A00
 5758              		.section	.rodata.shellListUser.str1.4,"aMS",%progbits,1
 5759              		.align	2
ARM GAS  /tmp/ccKSSxev.s 			page 155


 5760              	.LC18:
 5761 0000 0D0A5573 		.ascii	"\015\012User List:\015\012\000"
 5761      6572204C 
 5761      6973743A 
 5761      0D0A00
 5762              		.section	.rodata.shellListVar.str1.4,"aMS",%progbits,1
 5763              		.align	2
 5764              	.LC17:
 5765 0000 0D0A5661 		.ascii	"\015\012Var List:\015\012\000"
 5765      72204C69 
 5765      73743A0D 
 5765      0A00
 5766              		.section	.rodata.shellPasswordDefaultUser,"a"
 5767              		.align	2
 5770              	shellPasswordDefaultUser:
 5771 0000 00       		.space	1
 5772              		.section	.rodata.shellSetUser.str1.4,"aMS",%progbits,1
 5773              		.align	2
 5774              	.LC0:
 5775 0000 1B5B324A 		.ascii	"\033[2J\033[1H\000"
 5775      1B5B3148 
 5775      00
 5776 0009 000000   		.space	3
 5777              	.LC1:
 5778 000c 0D0A0D0A 		.ascii	"\015\012\015\012/************  BitRtos  ***********"
 5778      2F2A2A2A 
 5778      2A2A2A2A 
 5778      2A2A2A2A 
 5778      2A202042 
 5779 0033 2A5C720A 		.ascii	"*\\r\012\015\012Team Mate:        8_B!T0\015\012   "
 5779      0D0A5465 
 5779      616D204D 
 5779      6174653A 
 5779      20202020 
 5780 0056 20202020 		.ascii	"               WHY\015\012\015\012Build:           "
 5780      20202020 
 5780      20202020 
 5780      20202057 
 5780      48590D0A 
 5781 007d 20446563 		.ascii	" Dec 18 2021 00:31:23\015\012Shell   Version:  3.0."
 5781      20313820 
 5781      32303231 
 5781      2030303A 
 5781      33313A32 
 5782 00aa 360D0A42 		.ascii	"6\015\012BitRtos Version:  1.0.0\015\012\000"
 5782      69745274 
 5782      6F732056 
 5782      65727369 
 5782      6F6E3A20 
 5783              		.section	.rodata.shellSetVar.str1.4,"aMS",%progbits,1
 5784              		.align	2
 5785              	.LC29:
 5786 0000 56617220 		.ascii	"Var not Fount\015\012\000"
 5786      6E6F7420 
 5786      466F756E 
 5786      740D0A00 
 5787              	.LC30:
ARM GAS  /tmp/ccKSSxev.s 			page 156


 5788 0010 20697320 		.ascii	" is not a var\015\012\000"
 5788      6E6F7420 
 5788      61207661 
 5788      720D0A00 
 5789              		.section	.rodata.shellSetVarValue.str1.4,"aMS",%progbits,1
 5790              		.align	2
 5791              	.LC27:
 5792 0000 63616E27 		.ascii	"can't set read only var\015\012\000"
 5792      74207365 
 5792      74207265 
 5792      6164206F 
 5792      6E6C7920 
 5793 001a 0000     		.space	2
 5794              	.LC28:
 5795 001c 63616E27 		.ascii	"can't set pointer\015\012\000"
 5795      74207365 
 5795      7420706F 
 5795      696E7465 
 5795      720D0A00 
 5796              		.section	.rodata.shellShowVar.str1.4,"aMS",%progbits,1
 5797              		.align	2
 5798              	.LC25:
 5799 0000 203D2000 		.ascii	" = \000"
 5800              	.LC26:
 5801 0004 2200     		.ascii	"\"\000"
 5802              		.section	.rodata.shellWriteCommandLine.str1.4,"aMS",%progbits,1
 5803              		.align	2
 5804              	.LC2:
 5805 0000 2F00     		.ascii	"/\000"
 5806 0002 0000     		.space	2
 5807              	.LC3:
 5808 0004 0D0A00   		.ascii	"\015\012\000"
 5809 0007 00       		.space	1
 5810              	.LC4:
 5811 0008 3A00     		.ascii	":\000"
 5812 000a 0000     		.space	2
 5813              	.LC5:
 5814 000c 242000   		.ascii	"$ \000"
 5815 000f 00       		.space	1
 5816              	.LC6:
 5817 0010 0D0A506C 		.ascii	"\015\012Please input password:\000"
 5817      65617365 
 5817      20696E70 
 5817      75742070 
 5817      61737377 
 5818              		.section	.rodata.shellWriteReturnValue.str1.4,"aMS",%progbits,1
 5819              		.align	2
 5820              	.LC9:
 5821 0000 52657475 		.ascii	"Return: \000"
 5821      726E3A20 
 5821      00
 5822 0009 000000   		.space	3
 5823              	.LC10:
 5824 000c 2C203078 		.ascii	", 0x\000"
 5824      00
 5825 0011 000000   		.space	3
 5826              	.LC8:
ARM GAS  /tmp/ccKSSxev.s 			page 157


 5827 0014 30303030 		.ascii	"00000000000\000"
 5827      30303030 
 5827      30303000 
 5828              		.section	shellCommand,"a"
 5829              		.align	2
 5832              	shellCommandclear:
 5833 0000 00210000 		.word	8448
 5834 0004 00000000 		.word	shellCmdclear
 5835 0008 00000000 		.word	shellClear
 5836 000c 00000000 		.word	shellDescclear
 5839              	shellCommandkeys:
 5840 0010 00210000 		.word	8448
 5841 0014 00000000 		.word	shellCmdkeys
 5842 0018 00000000 		.word	shellKeys
 5843 001c 00000000 		.word	shellDesckeys
 5846              	shellCommandvars:
 5847 0020 00210000 		.word	8448
 5848 0024 00000000 		.word	shellCmdvars
 5849 0028 00000000 		.word	shellVars
 5850 002c 00000000 		.word	shellDescvars
 5853              	shellCommandcmds:
 5854 0030 00210000 		.word	8448
 5855 0034 00000000 		.word	shellCmdcmds
 5856 0038 00000000 		.word	shellCmds
 5857 003c 00000000 		.word	shellDesccmds
 5860              	shellCommandusers:
 5861 0040 00210000 		.word	8448
 5862 0044 00000000 		.word	shellCmdusers
 5863 0048 00000000 		.word	shellUsers
 5864 004c 00000000 		.word	shellDescusers
 5867              	shellCommandhelp:
 5868 0050 00200000 		.word	8192
 5869 0054 00000000 		.word	shellCmdhelp
 5870 0058 00000000 		.word	shellHelp
 5871 005c 00000000 		.word	shellDeschelp
 5874              	shellKey0x0D000000:
 5875 0060 00190000 		.word	6400
 5876 0064 0000000D 		.word	218103808
 5877 0068 00000000 		.word	shellEnter
 5878 006c 00000000 		.word	shellDesc0x0D000000
 5881              	shellKey0x0A000000:
 5882 0070 00190000 		.word	6400
 5883 0074 0000000A 		.word	167772160
 5884 0078 00000000 		.word	shellEnter
 5885 007c 00000000 		.word	shellDesc0x0A000000
 5888              	shellKey0x1B5B337E:
 5889 0080 00190000 		.word	6400
 5890 0084 7E335B1B 		.word	458961790
 5891 0088 00000000 		.word	shellDelete
 5892 008c 00000000 		.word	shellDesc0x1B5B337E
 5895              	shellKey0x7F000000:
 5896 0090 00190000 		.word	6400
 5897 0094 0000007F 		.word	2130706432
 5898 0098 00000000 		.word	shellBackspace
 5899 009c 00000000 		.word	shellDesc0x7F000000
 5902              	shellKey0x08000000:
 5903 00a0 00190000 		.word	6400
ARM GAS  /tmp/ccKSSxev.s 			page 158


 5904 00a4 00000008 		.word	134217728
 5905 00a8 00000000 		.word	shellBackspace
 5906 00ac 00000000 		.word	shellDesc0x08000000
 5909              	shellKey0x09000000:
 5910 00b0 00090000 		.word	2304
 5911 00b4 00000009 		.word	150994944
 5912 00b8 00000000 		.word	shellTab
 5913 00bc 00000000 		.word	shellDesc0x09000000
 5916              	shellKey0x1B5B4400:
 5917 00c0 00190000 		.word	6400
 5918 00c4 00445B1B 		.word	458966016
 5919 00c8 00000000 		.word	shellLeft
 5920 00cc 00000000 		.word	shellDesc0x1B5B4400
 5923              	shellKey0x1B5B4300:
 5924 00d0 00190000 		.word	6400
 5925 00d4 00435B1B 		.word	458965760
 5926 00d8 00000000 		.word	shellRight
 5927 00dc 00000000 		.word	shellDesc0x1B5B4300
 5930              	shellKey0x1B5B4200:
 5931 00e0 00090000 		.word	2304
 5932 00e4 00425B1B 		.word	458965504
 5933 00e8 00000000 		.word	shellDown
 5934 00ec 00000000 		.word	shellDesc0x1B5B4200
 5937              	shellKey0x1B5B4100:
 5938 00f0 00090000 		.word	2304
 5939 00f4 00415B1B 		.word	458965248
 5940 00f8 00000000 		.word	shellUp
 5941 00fc 00000000 		.word	shellDesc0x1B5B4100
 5944              	shellCommandsetVar:
 5945 0100 00210000 		.word	8448
 5946 0104 00000000 		.word	shellCmdsetVar
 5947 0108 00000000 		.word	shellSetVar
 5948 010c 00000000 		.word	shellDescsetVar
 5951              	shellUserDefault:
 5952 0110 00080000 		.word	2048
 5953 0114 00000000 		.word	shellCmdDefaultUser
 5954 0118 00000000 		.word	shellPasswordDefaultUser
 5955 011c 00000000 		.word	shellDesDefaultUser
 5956              		.text
 5957              	.Letext0:
 5958              		.file 2 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 5959              		.file 3 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 5960              		.file 4 "SYS/shell/shell.h"
 5961              		.file 5 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 5962              		.file 6 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 5963              		.file 7 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 5964              		.file 8 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 5965              		.file 9 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 5966              		.file 10 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8
 5967              		.file 11 "F4_CORE/core_cm4.h"
 5968              		.file 12 "USER/system_stm32f4xx.h"
 5969              		.file 13 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8
 5970              		.file 14 "SYS/shell/shell_ext.h"
 5971              		.file 15 "<built-in>"
ARM GAS  /tmp/ccKSSxev.s 			page 159


DEFINED SYMBOLS
                            *ABS*:0000000000000000 shell.c
     /tmp/ccKSSxev.s:18     .text.shellAdd:0000000000000000 $t
     /tmp/ccKSSxev.s:25     .text.shellAdd:0000000000000000 shellAdd
     /tmp/ccKSSxev.s:77     .text.shellAdd:0000000000000020 $d
     /tmp/ccKSSxev.s:82     .text.shellStringCopy:0000000000000000 $t
     /tmp/ccKSSxev.s:88     .text.shellStringCopy:0000000000000000 shellStringCopy
     /tmp/ccKSSxev.s:142    .text.shellStringCompare:0000000000000000 $t
     /tmp/ccKSSxev.s:148    .text.shellStringCompare:0000000000000000 shellStringCompare
     /tmp/ccKSSxev.s:216    .text.shellGetCommandDesc:0000000000000000 $t
     /tmp/ccKSSxev.s:222    .text.shellGetCommandDesc:0000000000000000 shellGetCommandDesc
     /tmp/ccKSSxev.s:279    .text.shellParserParam:0000000000000000 $t
     /tmp/ccKSSxev.s:285    .text.shellParserParam:0000000000000000 shellParserParam
     /tmp/ccKSSxev.s:476    .text.shellHistoryAdd:0000000000000000 $t
     /tmp/ccKSSxev.s:482    .text.shellHistoryAdd:0000000000000000 shellHistoryAdd
     /tmp/ccKSSxev.s:581    .text.shellRemoveParamQuotes:0000000000000000 $t
     /tmp/ccKSSxev.s:587    .text.shellRemoveParamQuotes:0000000000000000 shellRemoveParamQuotes
     /tmp/ccKSSxev.s:690    .text.shellGetCurrent:0000000000000000 $t
     /tmp/ccKSSxev.s:697    .text.shellGetCurrent:0000000000000000 shellGetCurrent
     /tmp/ccKSSxev.s:746    .text.shellGetCurrent:0000000000000028 $d
     /tmp/ccKSSxev.s:751    .text.shellWriteByte:0000000000000000 $t
     /tmp/ccKSSxev.s:758    .text.shellWriteByte:0000000000000000 shellWriteByte
     /tmp/ccKSSxev.s:796    .text.shellRight:0000000000000000 $t
     /tmp/ccKSSxev.s:803    .text.shellRight:0000000000000000 shellRight
     /tmp/ccKSSxev.s:846    .text.shellLeft:0000000000000000 $t
     /tmp/ccKSSxev.s:853    .text.shellLeft:0000000000000000 shellLeft
     /tmp/ccKSSxev.s:891    .text.shellWriteString:0000000000000000 $t
     /tmp/ccKSSxev.s:898    .text.shellWriteString:0000000000000000 shellWriteString
     /tmp/ccKSSxev.s:941    .text.shellSetUser:0000000000000000 $t
     /tmp/ccKSSxev.s:947    .text.shellSetUser:0000000000000000 shellSetUser
     /tmp/ccKSSxev.s:1038   .text.shellSetUser:0000000000000058 $d
     /tmp/ccKSSxev.s:1044   .text.shellWriteCommandLine:0000000000000000 $t
     /tmp/ccKSSxev.s:1050   .text.shellWriteCommandLine:0000000000000000 shellWriteCommandLine
     /tmp/ccKSSxev.s:1133   .text.shellWriteCommandLine:000000000000004c $d
     /tmp/ccKSSxev.s:1142   .text.shellCheckPassword:0000000000000000 $t
     /tmp/ccKSSxev.s:1148   .text.shellCheckPassword:0000000000000000 shellCheckPassword
     /tmp/ccKSSxev.s:1205   .text.shellCheckPassword:0000000000000038 $d
     /tmp/ccKSSxev.s:1211   .text.shellClear:0000000000000000 $t
     /tmp/ccKSSxev.s:1218   .text.shellClear:0000000000000000 shellClear
     /tmp/ccKSSxev.s:1246   .text.shellClear:0000000000000010 $d
     /tmp/ccKSSxev.s:1251   .text.shellPrint:0000000000000000 $t
     /tmp/ccKSSxev.s:1258   .text.shellPrint:0000000000000000 shellPrint
     /tmp/ccKSSxev.s:1330   .text.shellScan:0000000000000000 $t
     /tmp/ccKSSxev.s:1337   .text.shellScan:0000000000000000 shellScan
     /tmp/ccKSSxev.s:1478   .text.shellScan:0000000000000074 $d
     /tmp/ccKSSxev.s:1483   .text.shellCheckPermission:0000000000000000 $t
     /tmp/ccKSSxev.s:1490   .text.shellCheckPermission:0000000000000000 shellCheckPermission
     /tmp/ccKSSxev.s:1556   .text.shellToHex:0000000000000000 $t
     /tmp/ccKSSxev.s:1563   .text.shellToHex:0000000000000000 shellToHex
     /tmp/ccKSSxev.s:1629   .text.shellGetCommandName:0000000000000000 $t
     /tmp/ccKSSxev.s:1635   .text.shellGetCommandName:0000000000000000 shellGetCommandName
     /tmp/ccKSSxev.s:1731   .text.shellGetCommandName:0000000000000040 $d
     /tmp/ccKSSxev.s:1736   .text.shellToDec:0000000000000000 $t
     /tmp/ccKSSxev.s:1743   .text.shellToDec:0000000000000000 shellToDec
     /tmp/ccKSSxev.s:1870   .text.shellToDec:0000000000000058 $d
     /tmp/ccKSSxev.s:1875   .text.shellWriteReturnValue:0000000000000000 $t
     /tmp/ccKSSxev.s:1881   .text.shellWriteReturnValue:0000000000000000 shellWriteReturnValue
ARM GAS  /tmp/ccKSSxev.s 			page 160


     /tmp/ccKSSxev.s:1984   .text.shellWriteReturnValue:000000000000006c $d
     /tmp/ccKSSxev.s:1992   .text.shellListItem:0000000000000000 $t
     /tmp/ccKSSxev.s:1999   .text.shellListItem:0000000000000000 shellListItem
     /tmp/ccKSSxev.s:2122   .text.shellListItem:000000000000007c $d
     /tmp/ccKSSxev.s:2131   .text.shellListCommand:0000000000000000 $t
     /tmp/ccKSSxev.s:2138   .text.shellListCommand:0000000000000000 shellListCommand
     /tmp/ccKSSxev.s:2219   .text.shellListCommand:0000000000000044 $d
     /tmp/ccKSSxev.s:2224   .text.shellCmds:0000000000000000 $t
     /tmp/ccKSSxev.s:2231   .text.shellCmds:0000000000000000 shellCmds
     /tmp/ccKSSxev.s:2259   .text.shellListVar:0000000000000000 $t
     /tmp/ccKSSxev.s:2266   .text.shellListVar:0000000000000000 shellListVar
     /tmp/ccKSSxev.s:2350   .text.shellListVar:0000000000000048 $d
     /tmp/ccKSSxev.s:2355   .text.shellVars:0000000000000000 $t
     /tmp/ccKSSxev.s:2362   .text.shellVars:0000000000000000 shellVars
     /tmp/ccKSSxev.s:2390   .text.shellListUser:0000000000000000 $t
     /tmp/ccKSSxev.s:2397   .text.shellListUser:0000000000000000 shellListUser
     /tmp/ccKSSxev.s:2478   .text.shellListUser:0000000000000044 $d
     /tmp/ccKSSxev.s:2483   .text.shellUsers:0000000000000000 $t
     /tmp/ccKSSxev.s:2490   .text.shellUsers:0000000000000000 shellUsers
     /tmp/ccKSSxev.s:2518   .text.shellListKey:0000000000000000 $t
     /tmp/ccKSSxev.s:2525   .text.shellListKey:0000000000000000 shellListKey
     /tmp/ccKSSxev.s:2606   .text.shellListKey:0000000000000044 $d
     /tmp/ccKSSxev.s:2611   .text.shellKeys:0000000000000000 $t
     /tmp/ccKSSxev.s:2618   .text.shellKeys:0000000000000000 shellKeys
     /tmp/ccKSSxev.s:2646   .text.shellListAll:0000000000000000 $t
     /tmp/ccKSSxev.s:2653   .text.shellListAll:0000000000000000 shellListAll
     /tmp/ccKSSxev.s:2675   .text.shellDeleteCommandLine:0000000000000000 $t
     /tmp/ccKSSxev.s:2682   .text.shellDeleteCommandLine:0000000000000000 shellDeleteCommandLine
     /tmp/ccKSSxev.s:2723   .text.shellDeleteCommandLine:0000000000000018 $d
     /tmp/ccKSSxev.s:2728   .text.shellClearCommandLine:0000000000000000 $t
     /tmp/ccKSSxev.s:2735   .text.shellClearCommandLine:0000000000000000 shellClearCommandLine
     /tmp/ccKSSxev.s:2795   .text.shellHistory:0000000000000000 $t
     /tmp/ccKSSxev.s:2801   .text.shellHistory:0000000000000000 shellHistory
     /tmp/ccKSSxev.s:2938   .text.shellHistory:0000000000000094 $d
     /tmp/ccKSSxev.s:2943   .text.shellUp:0000000000000000 $t
     /tmp/ccKSSxev.s:2950   .text.shellUp:0000000000000000 shellUp
     /tmp/ccKSSxev.s:2973   .text.shellDown:0000000000000000 $t
     /tmp/ccKSSxev.s:2980   .text.shellDown:0000000000000000 shellDown
     /tmp/ccKSSxev.s:3003   .text.shellTab:0000000000000000 $t
     /tmp/ccKSSxev.s:3010   .text.shellTab:0000000000000000 shellTab
     /tmp/ccKSSxev.s:3267   .text.shellTab:0000000000000110 $d
     /tmp/ccKSSxev.s:3273   .text.shellInsertByte:0000000000000000 $t
     /tmp/ccKSSxev.s:3280   .text.shellInsertByte:0000000000000000 shellInsertByte
     /tmp/ccKSSxev.s:3497   .text.shellInsertByte:00000000000000b8 $d
     /tmp/ccKSSxev.s:3503   .text.shellDeleteByte:0000000000000000 $t
     /tmp/ccKSSxev.s:3510   .text.shellDeleteByte:0000000000000000 shellDeleteByte
     /tmp/ccKSSxev.s:3739   .text.shellBackspace:0000000000000000 $t
     /tmp/ccKSSxev.s:3746   .text.shellBackspace:0000000000000000 shellBackspace
     /tmp/ccKSSxev.s:3769   .text.shellDelete:0000000000000000 $t
     /tmp/ccKSSxev.s:3776   .text.shellDelete:0000000000000000 shellDelete
     /tmp/ccKSSxev.s:3799   .text.shellSeekCommand:0000000000000000 $t
     /tmp/ccKSSxev.s:3806   .text.shellSeekCommand:0000000000000000 shellSeekCommand
     /tmp/ccKSSxev.s:3930   .text.shellInit:0000000000000000 $t
     /tmp/ccKSSxev.s:3937   .text.shellInit:0000000000000000 shellInit
     /tmp/ccKSSxev.s:4075   .text.shellInit:0000000000000080 $d
     /tmp/ccKSSxev.s:4083   .text.shellHelp:0000000000000000 $t
     /tmp/ccKSSxev.s:4090   .text.shellHelp:0000000000000000 shellHelp
ARM GAS  /tmp/ccKSSxev.s 			page 161


     /tmp/ccKSSxev.s:4200   .text.shellHelp:0000000000000070 $d
     /tmp/ccKSSxev.s:4208   .text.shellGetVarValue:0000000000000000 $t
     /tmp/ccKSSxev.s:4215   .text.shellGetVarValue:0000000000000000 shellGetVarValue
     /tmp/ccKSSxev.s:4240   .text.shellGetVarValue:0000000000000012 $d
     /tmp/ccKSSxev.s:4246   .text.shellGetVarValue:0000000000000018 $t
     /tmp/ccKSSxev.s:4322   .text.shellShowVar:0000000000000000 $t
     /tmp/ccKSSxev.s:4328   .text.shellShowVar:0000000000000000 shellShowVar
     /tmp/ccKSSxev.s:4483   .text.shellShowVar:00000000000000a8 $d
     /tmp/ccKSSxev.s:4492   .text.shellSetVarValue:0000000000000000 $t
     /tmp/ccKSSxev.s:4499   .text.shellSetVarValue:0000000000000000 shellSetVarValue
     /tmp/ccKSSxev.s:4533   .text.shellSetVarValue:000000000000001e $d
     /tmp/ccKSSxev.s:4539   .text.shellSetVarValue:0000000000000024 $t
     /tmp/ccKSSxev.s:4634   .text.shellSetVarValue:0000000000000070 $d
     /tmp/ccKSSxev.s:4640   .text.shellSetVar:0000000000000000 $t
     /tmp/ccKSSxev.s:4647   .text.shellSetVar:0000000000000000 shellSetVar
     /tmp/ccKSSxev.s:4745   .text.shellSetVar:000000000000005c $d
     /tmp/ccKSSxev.s:4751   .text.shellRunCommand:0000000000000000 $t
     /tmp/ccKSSxev.s:4758   .text.shellRunCommand:0000000000000000 shellRunCommand
     /tmp/ccKSSxev.s:4895   .text.shellNormalInput:0000000000000000 $t
     /tmp/ccKSSxev.s:4902   .text.shellNormalInput:0000000000000000 shellNormalInput
     /tmp/ccKSSxev.s:4929   .text.shellExec:0000000000000000 $t
     /tmp/ccKSSxev.s:4936   .text.shellExec:0000000000000000 shellExec
     /tmp/ccKSSxev.s:5042   .text.shellExec:0000000000000060 $d
     /tmp/ccKSSxev.s:5048   .text.shellEnter:0000000000000000 $t
     /tmp/ccKSSxev.s:5055   .text.shellEnter:0000000000000000 shellEnter
     /tmp/ccKSSxev.s:5084   .text.shellHandler:0000000000000000 $t
     /tmp/ccKSSxev.s:5091   .text.shellHandler:0000000000000000 shellHandler
     /tmp/ccKSSxev.s:5307   .text.shellHandler:00000000000000d4 $d
     /tmp/ccKSSxev.s:5312   .text.shellTask:0000000000000000 $t
     /tmp/ccKSSxev.s:5319   .text.shellTask:0000000000000000 shellTask
     /tmp/ccKSSxev.s:5382   .text.shellRun:0000000000000000 $t
     /tmp/ccKSSxev.s:5389   .text.shellRun:0000000000000000 shellRun
     /tmp/ccKSSxev.s:5494   .text.shellRun:000000000000005c $d
     /tmp/ccKSSxev.s:5832   shellCommand:0000000000000000 shellCommandclear
     /tmp/ccKSSxev.s:5683   .rodata.shellDescclear:0000000000000000 shellDescclear
     /tmp/ccKSSxev.s:5571   .rodata.shellCmdclear:0000000000000000 shellCmdclear
     /tmp/ccKSSxev.s:5839   shellCommand:0000000000000010 shellCommandkeys
     /tmp/ccKSSxev.s:5701   .rodata.shellDesckeys:0000000000000000 shellDesckeys
     /tmp/ccKSSxev.s:5589   .rodata.shellCmdkeys:0000000000000000 shellCmdkeys
     /tmp/ccKSSxev.s:5846   shellCommand:0000000000000020 shellCommandvars
     /tmp/ccKSSxev.s:5719   .rodata.shellDescvars:0000000000000000 shellDescvars
     /tmp/ccKSSxev.s:5607   .rodata.shellCmdvars:0000000000000000 shellCmdvars
     /tmp/ccKSSxev.s:5853   shellCommand:0000000000000030 shellCommandcmds
     /tmp/ccKSSxev.s:5689   .rodata.shellDesccmds:0000000000000000 shellDesccmds
     /tmp/ccKSSxev.s:5577   .rodata.shellCmdcmds:0000000000000000 shellCmdcmds
     /tmp/ccKSSxev.s:5860   shellCommand:0000000000000040 shellCommandusers
     /tmp/ccKSSxev.s:5713   .rodata.shellDescusers:0000000000000000 shellDescusers
     /tmp/ccKSSxev.s:5601   .rodata.shellCmdusers:0000000000000000 shellCmdusers
     /tmp/ccKSSxev.s:5867   shellCommand:0000000000000050 shellCommandhelp
     /tmp/ccKSSxev.s:5695   .rodata.shellDeschelp:0000000000000000 shellDeschelp
     /tmp/ccKSSxev.s:5583   .rodata.shellCmdhelp:0000000000000000 shellCmdhelp
     /tmp/ccKSSxev.s:5874   shellCommand:0000000000000060 shellKey0x0D000000
     /tmp/ccKSSxev.s:5641   .rodata.shellDesc0x0D000000:0000000000000000 shellDesc0x0D000000
     /tmp/ccKSSxev.s:5881   shellCommand:0000000000000070 shellKey0x0A000000
     /tmp/ccKSSxev.s:5635   .rodata.shellDesc0x0A000000:0000000000000000 shellDesc0x0A000000
     /tmp/ccKSSxev.s:5888   shellCommand:0000000000000080 shellKey0x1B5B337E
     /tmp/ccKSSxev.s:5647   .rodata.shellDesc0x1B5B337E:0000000000000000 shellDesc0x1B5B337E
ARM GAS  /tmp/ccKSSxev.s 			page 162


     /tmp/ccKSSxev.s:5895   shellCommand:0000000000000090 shellKey0x7F000000
     /tmp/ccKSSxev.s:5677   .rodata.shellDesc0x7F000000:0000000000000000 shellDesc0x7F000000
     /tmp/ccKSSxev.s:5902   shellCommand:00000000000000a0 shellKey0x08000000
     /tmp/ccKSSxev.s:5623   .rodata.shellDesc0x08000000:0000000000000000 shellDesc0x08000000
     /tmp/ccKSSxev.s:5909   shellCommand:00000000000000b0 shellKey0x09000000
     /tmp/ccKSSxev.s:5629   .rodata.shellDesc0x09000000:0000000000000000 shellDesc0x09000000
     /tmp/ccKSSxev.s:5916   shellCommand:00000000000000c0 shellKey0x1B5B4400
     /tmp/ccKSSxev.s:5671   .rodata.shellDesc0x1B5B4400:0000000000000000 shellDesc0x1B5B4400
     /tmp/ccKSSxev.s:5923   shellCommand:00000000000000d0 shellKey0x1B5B4300
     /tmp/ccKSSxev.s:5665   .rodata.shellDesc0x1B5B4300:0000000000000000 shellDesc0x1B5B4300
     /tmp/ccKSSxev.s:5930   shellCommand:00000000000000e0 shellKey0x1B5B4200
     /tmp/ccKSSxev.s:5659   .rodata.shellDesc0x1B5B4200:0000000000000000 shellDesc0x1B5B4200
     /tmp/ccKSSxev.s:5937   shellCommand:00000000000000f0 shellKey0x1B5B4100
     /tmp/ccKSSxev.s:5653   .rodata.shellDesc0x1B5B4100:0000000000000000 shellDesc0x1B5B4100
     /tmp/ccKSSxev.s:5944   shellCommand:0000000000000100 shellCommandsetVar
     /tmp/ccKSSxev.s:5707   .rodata.shellDescsetVar:0000000000000000 shellDescsetVar
     /tmp/ccKSSxev.s:5595   .rodata.shellCmdsetVar:0000000000000000 shellCmdsetVar
     /tmp/ccKSSxev.s:5951   shellCommand:0000000000000110 shellUserDefault
     /tmp/ccKSSxev.s:5617   .rodata.shellDesDefaultUser:0000000000000000 shellDesDefaultUser
     /tmp/ccKSSxev.s:5770   .rodata.shellPasswordDefaultUser:0000000000000000 shellPasswordDefaultUser
     /tmp/ccKSSxev.s:5565   .rodata.shellCmdDefaultUser:0000000000000000 shellCmdDefaultUser
     /tmp/ccKSSxev.s:5544   .bss.buffer.10604:0000000000000000 $d
     /tmp/ccKSSxev.s:5548   .bss.buffer.10604:0000000000000000 buffer.10604
     /tmp/ccKSSxev.s:5551   .bss.shellList:0000000000000000 $d
     /tmp/ccKSSxev.s:5555   .bss.shellList:0000000000000000 shellList
     /tmp/ccKSSxev.s:5558   .rodata.shellCheckPassword.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5562   .rodata.shellCmdDefaultUser:0000000000000000 $d
     /tmp/ccKSSxev.s:5568   .rodata.shellCmdclear:0000000000000000 $d
     /tmp/ccKSSxev.s:5574   .rodata.shellCmdcmds:0000000000000000 $d
     /tmp/ccKSSxev.s:5580   .rodata.shellCmdhelp:0000000000000000 $d
     /tmp/ccKSSxev.s:5586   .rodata.shellCmdkeys:0000000000000000 $d
     /tmp/ccKSSxev.s:5592   .rodata.shellCmdsetVar:0000000000000000 $d
     /tmp/ccKSSxev.s:5598   .rodata.shellCmdusers:0000000000000000 $d
     /tmp/ccKSSxev.s:5604   .rodata.shellCmdvars:0000000000000000 $d
     /tmp/ccKSSxev.s:5610   .rodata.shellDeleteCommandLine.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5614   .rodata.shellDesDefaultUser:0000000000000000 $d
     /tmp/ccKSSxev.s:5620   .rodata.shellDesc0x08000000:0000000000000000 $d
     /tmp/ccKSSxev.s:5626   .rodata.shellDesc0x09000000:0000000000000000 $d
     /tmp/ccKSSxev.s:5632   .rodata.shellDesc0x0A000000:0000000000000000 $d
     /tmp/ccKSSxev.s:5638   .rodata.shellDesc0x0D000000:0000000000000000 $d
     /tmp/ccKSSxev.s:5644   .rodata.shellDesc0x1B5B337E:0000000000000000 $d
     /tmp/ccKSSxev.s:5650   .rodata.shellDesc0x1B5B4100:0000000000000000 $d
     /tmp/ccKSSxev.s:5656   .rodata.shellDesc0x1B5B4200:0000000000000000 $d
     /tmp/ccKSSxev.s:5662   .rodata.shellDesc0x1B5B4300:0000000000000000 $d
     /tmp/ccKSSxev.s:5668   .rodata.shellDesc0x1B5B4400:0000000000000000 $d
     /tmp/ccKSSxev.s:5674   .rodata.shellDesc0x7F000000:0000000000000000 $d
     /tmp/ccKSSxev.s:5680   .rodata.shellDescclear:0000000000000000 $d
     /tmp/ccKSSxev.s:5686   .rodata.shellDesccmds:0000000000000000 $d
     /tmp/ccKSSxev.s:5692   .rodata.shellDeschelp:0000000000000000 $d
     /tmp/ccKSSxev.s:5698   .rodata.shellDesckeys:0000000000000000 $d
     /tmp/ccKSSxev.s:5704   .rodata.shellDescsetVar:0000000000000000 $d
     /tmp/ccKSSxev.s:5710   .rodata.shellDescusers:0000000000000000 $d
     /tmp/ccKSSxev.s:5716   .rodata.shellDescvars:0000000000000000 $d
     /tmp/ccKSSxev.s:5722   .rodata.shellHelp.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5729   .rodata.shellInit.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5733   .rodata.shellInsertByte.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5737   .rodata.shellListCommand.str1.4:0000000000000000 $d
ARM GAS  /tmp/ccKSSxev.s 			page 163


     /tmp/ccKSSxev.s:5741   .rodata.shellListItem.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5755   .rodata.shellListKey.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5759   .rodata.shellListUser.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5763   .rodata.shellListVar.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5767   .rodata.shellPasswordDefaultUser:0000000000000000 $d
     /tmp/ccKSSxev.s:5773   .rodata.shellSetUser.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5784   .rodata.shellSetVar.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5790   .rodata.shellSetVarValue.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5797   .rodata.shellShowVar.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5803   .rodata.shellWriteCommandLine.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5819   .rodata.shellWriteReturnValue.str1.4:0000000000000000 $d
     /tmp/ccKSSxev.s:5829   shellCommand:0000000000000000 $d

UNDEFINED SYMBOLS
strcmp
strlen
vsnprintf
vsscanf
strncmp
_shell_command_start
_shell_command_end
shellExtRun
