ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"shell.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.shellAdd,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	shellAdd:
  26              	.LVL0:
  27              	.LFB127:
  28              		.file 1 "SYS/shell/shell.c"
   1:SYS/shell/shell.c **** /**
   2:SYS/shell/shell.c ****  * @file shell.c
   3:SYS/shell/shell.c ****  * @author Letter (NevermindZZT@gmail.com)
   4:SYS/shell/shell.c ****  * @version 3.0.0
   5:SYS/shell/shell.c ****  * @date 2019-12-30
   6:SYS/shell/shell.c ****  * 
   7:SYS/shell/shell.c ****  * @copyright (c) 2020 Letter
   8:SYS/shell/shell.c ****  * 
   9:SYS/shell/shell.c ****  */
  10:SYS/shell/shell.c **** 
  11:SYS/shell/shell.c **** #include "shell.h"
  12:SYS/shell/shell.c **** #include "string.h"
  13:SYS/shell/shell.c **** #include "stdio.h"
  14:SYS/shell/shell.c **** #include "stdarg.h"
  15:SYS/shell/shell.c **** #include "shell_ext.h"
  16:SYS/shell/shell.c **** #include "delay.h"
  17:SYS/shell/shell.c **** #include "stm32f4xx_usart.h"
  18:SYS/shell/shell.c **** 
  19:SYS/shell/shell.c **** 
  20:SYS/shell/shell.c **** #if SHELL_USING_CMD_EXPORT == 1
  21:SYS/shell/shell.c **** /**
  22:SYS/shell/shell.c ****  * @brief 默认用户
  23:SYS/shell/shell.c ****  */
  24:SYS/shell/shell.c **** const char shellCmdDefaultUser[] = SHELL_DEFAULT_USER;
  25:SYS/shell/shell.c **** const char shellPasswordDefaultUser[] = SHELL_DEFAULT_USER_PASSWORD;
  26:SYS/shell/shell.c **** const char shellDesDefaultUser[] = "default user";
  27:SYS/shell/shell.c **** const ShellCommand shellUserDefault SECTION("shellCommand") =
  28:SYS/shell/shell.c **** {
  29:SYS/shell/shell.c ****     .attr.value = SHELL_CMD_PERMISSION(0)|SHELL_CMD_TYPE(SHELL_TYPE_USER),
  30:SYS/shell/shell.c ****     .data.user.name = shellCmdDefaultUser,
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 2


  31:SYS/shell/shell.c ****     .data.user.password = shellPasswordDefaultUser,
  32:SYS/shell/shell.c ****     .data.user.desc = shellDesDefaultUser
  33:SYS/shell/shell.c **** };
  34:SYS/shell/shell.c **** #endif
  35:SYS/shell/shell.c **** 
  36:SYS/shell/shell.c **** #if SHELL_USING_CMD_EXPORT == 1
  37:SYS/shell/shell.c ****     #if defined(__CC_ARM) || (defined(__ARMCC_VERSION) && __ARMCC_VERSION >= 6000000)
  38:SYS/shell/shell.c ****         extern const unsigned int shellCommand$$Base;
  39:SYS/shell/shell.c ****         extern const unsigned int shellCommand$$Limit;
  40:SYS/shell/shell.c ****     #elif defined(__ICCARM__) || defined(__ICCRX__)
  41:SYS/shell/shell.c ****         #pragma section="shellCommand"
  42:SYS/shell/shell.c ****     #elif defined(__GNUC__)
  43:SYS/shell/shell.c ****         extern const unsigned int _shell_command_start;
  44:SYS/shell/shell.c ****         extern const unsigned int _shell_command_end;
  45:SYS/shell/shell.c ****     #endif
  46:SYS/shell/shell.c **** #else
  47:SYS/shell/shell.c ****     extern const ShellCommand shellCommandList[];
  48:SYS/shell/shell.c ****     extern const unsigned short shellCommandCount;
  49:SYS/shell/shell.c **** #endif
  50:SYS/shell/shell.c **** 
  51:SYS/shell/shell.c **** 
  52:SYS/shell/shell.c **** /**
  53:SYS/shell/shell.c ****  * @brief shell 常量文本索引
  54:SYS/shell/shell.c ****  */
  55:SYS/shell/shell.c **** enum
  56:SYS/shell/shell.c **** {
  57:SYS/shell/shell.c **** #if SHELL_SHOW_INFO == 1
  58:SYS/shell/shell.c ****     SHELL_TEXT_INFO,                                    /**< shell信息 */
  59:SYS/shell/shell.c **** #endif
  60:SYS/shell/shell.c ****     SHELL_TEXT_CMD_TOO_LONG,                            /**< 命令过长 */
  61:SYS/shell/shell.c ****     SHELL_TEXT_CMD_LIST,                                /**< 可执行命令列表标题 */
  62:SYS/shell/shell.c ****     SHELL_TEXT_VAR_LIST,                                /**< 变量列表标题 */
  63:SYS/shell/shell.c ****     SHELL_TEXT_USER_LIST,                               /**< 用户列表标题 */
  64:SYS/shell/shell.c ****     SHELL_TEXT_KEY_LIST,                                /**< 按键列表标题 */
  65:SYS/shell/shell.c ****     SHELL_TEXT_CMD_NOT_FOUND,                           /**< 命令未找到 */
  66:SYS/shell/shell.c ****     SHELL_TEXT_POINT_CANNOT_MODIFY,                     /**< 指针变量不允许修改 */
  67:SYS/shell/shell.c ****     SHELL_TEXT_VAR_READ_ONLY_CANNOT_MODIFY,             /**< 只读变量不允许修改 */
  68:SYS/shell/shell.c ****     SHELL_TEXT_NOT_VAR,                                 /**< 命令不是变量 */
  69:SYS/shell/shell.c ****     SHELL_TEXT_VAR_NOT_FOUND,                           /**< 变量未找到 */
  70:SYS/shell/shell.c ****     SHELL_TEXT_HELP_HEADER,                             /**< help头 */
  71:SYS/shell/shell.c ****     SHELL_TEXT_PASSWORD_HINT,                           /**< 密码输入提示 */
  72:SYS/shell/shell.c ****     SHELL_TEXT_PASSWORD_ERROR,                          /**< 密码错误 */
  73:SYS/shell/shell.c ****     SHELL_TEXT_CLEAR_CONSOLE,                           /**< 清空控制台 */
  74:SYS/shell/shell.c ****     SHELL_TEXT_CLEAR_LINE,                              /**< 清空当前行 */
  75:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_CMD,                                /**< 命令类型 */
  76:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_VAR,                                /**< 变量类型 */
  77:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_USER,                               /**< 用户类型 */
  78:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_KEY,                                /**< 按键类型 */
  79:SYS/shell/shell.c ****     SHELL_TEXT_TYPE_NONE,                               /**< 非法类型 */
  80:SYS/shell/shell.c **** #if SHELL_EXEC_UNDEF_FUNC == 1
  81:SYS/shell/shell.c ****     SHELL_TEXT_PARAM_ERROR,                             /**< 参数错误 */
  82:SYS/shell/shell.c **** #endif
  83:SYS/shell/shell.c **** };
  84:SYS/shell/shell.c **** 
  85:SYS/shell/shell.c **** 
  86:SYS/shell/shell.c **** 
  87:SYS/shell/shell.c **** 
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 3


  88:SYS/shell/shell.c **** static const char *shellText[] =
  89:SYS/shell/shell.c **** {
  90:SYS/shell/shell.c **** #if SHELL_SHOW_INFO == 1
  91:SYS/shell/shell.c ****     [SHELL_TEXT_INFO] =
  92:SYS/shell/shell.c ****         "\r\n"
  93:SYS/shell/shell.c **** 		"  ____    _      _       ___      _                   \r\n"
  94:SYS/shell/shell.c **** 		" |    \\  /_\\    | |     | _ \\   | |              ___ \r\n"
  95:SYS/shell/shell.c **** 		" |    |   _   __| |__   ||_|/ __| |__   ___    //    \r\n"
  96:SYS/shell/shell.c **** 		" |----/  | | |__   __|  |  \\ |__   __|  //   \\  \\__    \r\n"
  97:SYS/shell/shell.c **** 		" |    |  | |    | |_    | |\\    | |_   ||   ||      \\  \r\n"
  98:SYS/shell/shell.c **** 		" \\____/  |_|    |___/   |_| \\   |___/   \\___//   ___//  \r\n"
  99:SYS/shell/shell.c ****         "\r\n"
 100:SYS/shell/shell.c ****         "Build:       "__DATE__" "__TIME__"\r\n"
 101:SYS/shell/shell.c ****         "Version:     "SHELL_VERSION"\r\n",
 102:SYS/shell/shell.c **** #endif
 103:SYS/shell/shell.c ****     [SHELL_TEXT_CMD_TOO_LONG] = 
 104:SYS/shell/shell.c ****         "\r\nWarning: Command is too long\r\n",
 105:SYS/shell/shell.c ****     [SHELL_TEXT_CMD_LIST] = 
 106:SYS/shell/shell.c ****         "\r\nCommand List:\r\n",
 107:SYS/shell/shell.c ****     [SHELL_TEXT_VAR_LIST] = 
 108:SYS/shell/shell.c ****         "\r\nVar List:\r\n",
 109:SYS/shell/shell.c ****     [SHELL_TEXT_USER_LIST] = 
 110:SYS/shell/shell.c ****         "\r\nUser List:\r\n",
 111:SYS/shell/shell.c ****     [SHELL_TEXT_KEY_LIST] =
 112:SYS/shell/shell.c ****         "\r\nKey List:\r\n",
 113:SYS/shell/shell.c ****     [SHELL_TEXT_CMD_NOT_FOUND] = 
 114:SYS/shell/shell.c ****         "Command not Found\r\n",
 115:SYS/shell/shell.c ****     [SHELL_TEXT_POINT_CANNOT_MODIFY] = 
 116:SYS/shell/shell.c ****         "can't set pointer\r\n",
 117:SYS/shell/shell.c ****     [SHELL_TEXT_VAR_READ_ONLY_CANNOT_MODIFY] = 
 118:SYS/shell/shell.c ****         "can't set read only var\r\n",
 119:SYS/shell/shell.c ****     [SHELL_TEXT_NOT_VAR] =
 120:SYS/shell/shell.c ****         " is not a var\r\n",
 121:SYS/shell/shell.c ****     [SHELL_TEXT_VAR_NOT_FOUND] = 
 122:SYS/shell/shell.c ****         "Var not Fount\r\n",
 123:SYS/shell/shell.c ****     [SHELL_TEXT_HELP_HEADER] =
 124:SYS/shell/shell.c ****         "command help of ",
 125:SYS/shell/shell.c ****     [SHELL_TEXT_PASSWORD_HINT] = 
 126:SYS/shell/shell.c ****         "\r\nPlease input password:",
 127:SYS/shell/shell.c ****     [SHELL_TEXT_PASSWORD_ERROR] = 
 128:SYS/shell/shell.c ****         "\r\npassword error\r\n",
 129:SYS/shell/shell.c ****     [SHELL_TEXT_CLEAR_CONSOLE] = 
 130:SYS/shell/shell.c ****         "\033[2J\033[1H",
 131:SYS/shell/shell.c ****     [SHELL_TEXT_CLEAR_LINE] = 
 132:SYS/shell/shell.c ****         "\033[2K\r",
 133:SYS/shell/shell.c ****     [SHELL_TEXT_TYPE_CMD] = 
 134:SYS/shell/shell.c ****         "CMD \r\n",
 135:SYS/shell/shell.c ****     [SHELL_TEXT_TYPE_VAR] = 
 136:SYS/shell/shell.c ****         "VAR",
 137:SYS/shell/shell.c ****     [SHELL_TEXT_TYPE_USER] = 
 138:SYS/shell/shell.c ****         "USER",
 139:SYS/shell/shell.c ****     [SHELL_TEXT_TYPE_KEY] = 
 140:SYS/shell/shell.c ****         "KEY",
 141:SYS/shell/shell.c ****     [SHELL_TEXT_TYPE_NONE] = 
 142:SYS/shell/shell.c ****         "NONE",
 143:SYS/shell/shell.c **** #if SHELL_EXEC_UNDEF_FUNC == 1
 144:SYS/shell/shell.c ****     [SHELL_TEXT_PARAM_ERROR] = 
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 4


 145:SYS/shell/shell.c ****         "Parameter error\r\n",
 146:SYS/shell/shell.c **** #endif
 147:SYS/shell/shell.c **** };
 148:SYS/shell/shell.c **** 
 149:SYS/shell/shell.c **** 
 150:SYS/shell/shell.c **** /**
 151:SYS/shell/shell.c ****  * @brief shell对象表
 152:SYS/shell/shell.c ****  */
 153:SYS/shell/shell.c **** static Shell *shellList[SHELL_MAX_NUMBER] = {NULL};
 154:SYS/shell/shell.c **** 
 155:SYS/shell/shell.c **** 
 156:SYS/shell/shell.c **** static void shellAdd(Shell *shell);
 157:SYS/shell/shell.c **** static void shellWriteCommandLine(Shell *shell, unsigned char newline);
 158:SYS/shell/shell.c **** static void shellWriteReturnValue(Shell *shell, int value);
 159:SYS/shell/shell.c **** static int shellShowVar(Shell *shell, ShellCommand *command);
 160:SYS/shell/shell.c **** static void shellSetUser(Shell *shell, const ShellCommand *user);
 161:SYS/shell/shell.c **** ShellCommand* shellSeekCommand(Shell *shell,
 162:SYS/shell/shell.c ****                                const char *cmd,
 163:SYS/shell/shell.c ****                                ShellCommand *base,
 164:SYS/shell/shell.c ****                                unsigned short compareLength);
 165:SYS/shell/shell.c **** 
 166:SYS/shell/shell.c **** /**
 167:SYS/shell/shell.c ****  * @brief shell 初始化
 168:SYS/shell/shell.c ****  * 
 169:SYS/shell/shell.c ****  * @param shell shell对象
 170:SYS/shell/shell.c ****  */
 171:SYS/shell/shell.c **** void shellInit(Shell *shell, char *buffer, unsigned short size)
 172:SYS/shell/shell.c **** {
 173:SYS/shell/shell.c ****     shell->parser.length = 0;
 174:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 175:SYS/shell/shell.c ****     shell->history.offset = 0;
 176:SYS/shell/shell.c ****     shell->history.number = 0;
 177:SYS/shell/shell.c ****     shell->history.record = 0;
 178:SYS/shell/shell.c ****     shell->info.user = NULL;
 179:SYS/shell/shell.c ****     shell->status.isChecked = 1;
 180:SYS/shell/shell.c **** 
 181:SYS/shell/shell.c ****     shell->parser.buffer = buffer;
 182:SYS/shell/shell.c ****     shell->parser.bufferSize = size / (SHELL_HISTORY_MAX_NUMBER + 1);
 183:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_HISTORY_MAX_NUMBER; i++)
 184:SYS/shell/shell.c ****     {
 185:SYS/shell/shell.c ****         shell->history.item[i] = buffer + shell->parser.bufferSize * (i + 1);
 186:SYS/shell/shell.c ****     }
 187:SYS/shell/shell.c **** 
 188:SYS/shell/shell.c **** #if SHELL_USING_CMD_EXPORT == 1
 189:SYS/shell/shell.c ****     #if defined(__CC_ARM) || (defined(__ARMCC_VERSION) && __ARMCC_VERSION >= 6000000)
 190:SYS/shell/shell.c ****         shell->commandList.base = (ShellCommand *)(&shellCommand$$Base);
 191:SYS/shell/shell.c ****         shell->commandList.count = ((unsigned int)(&shellCommand$$Limit)
 192:SYS/shell/shell.c ****                                 - (unsigned int)(&shellCommand$$Base))
 193:SYS/shell/shell.c ****                                 / sizeof(ShellCommand);
 194:SYS/shell/shell.c **** 
 195:SYS/shell/shell.c ****     #elif defined(__ICCARM__) || defined(__ICCRX__)
 196:SYS/shell/shell.c ****         shell->commandList.base = (ShellCommand *)(__section_begin("shellCommand"));
 197:SYS/shell/shell.c ****         shell->commandList.count = ((unsigned int)(__section_end("shellCommand"))
 198:SYS/shell/shell.c ****                                 - (unsigned int)(__section_begin("shellCommand")))
 199:SYS/shell/shell.c ****                                 / sizeof(ShellCommand);
 200:SYS/shell/shell.c ****     #elif defined(__GNUC__)
 201:SYS/shell/shell.c ****         shell->commandList.base = (ShellCommand *)(&_shell_command_start);
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 5


 202:SYS/shell/shell.c ****         shell->commandList.count = ((unsigned int)(&_shell_command_end)
 203:SYS/shell/shell.c ****                                 - (unsigned int)(&_shell_command_start))
 204:SYS/shell/shell.c ****                                 / sizeof(ShellCommand);
 205:SYS/shell/shell.c ****     #else
 206:SYS/shell/shell.c ****         #error not supported compiler, please use command table mode
 207:SYS/shell/shell.c ****     #endif
 208:SYS/shell/shell.c **** #else
 209:SYS/shell/shell.c ****     shell->commandList.base = (ShellCommand *)shellCommandList;
 210:SYS/shell/shell.c ****     shell->commandList.count = shellCommandCount;
 211:SYS/shell/shell.c **** #endif
 212:SYS/shell/shell.c **** 
 213:SYS/shell/shell.c ****     shellAdd(shell);
 214:SYS/shell/shell.c **** 
 215:SYS/shell/shell.c ****     shellSetUser(shell, shellSeekCommand(shell,
 216:SYS/shell/shell.c ****                                          SHELL_DEFAULT_USER,
 217:SYS/shell/shell.c ****                                          shell->commandList.base,
 218:SYS/shell/shell.c ****                                          0));
 219:SYS/shell/shell.c ****     shellWriteCommandLine(shell, 1);
 220:SYS/shell/shell.c **** }
 221:SYS/shell/shell.c **** 
 222:SYS/shell/shell.c **** 
 223:SYS/shell/shell.c **** /**
 224:SYS/shell/shell.c ****  * @brief 添加shell
 225:SYS/shell/shell.c ****  * 
 226:SYS/shell/shell.c ****  * @param shell shell对象
 227:SYS/shell/shell.c ****  */
 228:SYS/shell/shell.c **** static void shellAdd(Shell *shell)
 229:SYS/shell/shell.c **** {
  29              		.loc 1 229 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 230:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
  34              		.loc 1 230 5 view .LVU1
  35              	.LBB2:
  36              		.loc 1 230 10 view .LVU2
  37              		.loc 1 230 16 is_stmt 0 view .LVU3
  38 0000 0023     		movs	r3, #0
  39              	.LVL1:
  40              	.L2:
  41              		.loc 1 230 23 is_stmt 1 discriminator 1 view .LVU4
  42              		.loc 1 230 5 is_stmt 0 discriminator 1 view .LVU5
  43 0002 042B     		cmp	r3, #4
  44 0004 0BDC     		bgt	.L6
 231:SYS/shell/shell.c ****     {
 232:SYS/shell/shell.c ****         if (shellList[i] == NULL)
  45              		.loc 1 232 9 is_stmt 1 view .LVU6
  46              		.loc 1 232 22 is_stmt 0 view .LVU7
  47 0006 1946     		mov	r1, r3
  48 0008 054A     		ldr	r2, .L8
  49 000a 52F82320 		ldr	r2, [r2, r3, lsl #2]
  50              		.loc 1 232 12 view .LVU8
  51 000e 12B1     		cbz	r2, .L7
 230:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
  52              		.loc 1 230 45 is_stmt 1 discriminator 2 view .LVU9
 230:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 6


  53              		.loc 1 230 46 is_stmt 0 discriminator 2 view .LVU10
  54 0010 0133     		adds	r3, r3, #1
  55              	.LVL2:
 230:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
  56              		.loc 1 230 46 discriminator 2 view .LVU11
  57 0012 1BB2     		sxth	r3, r3
  58              	.LVL3:
 230:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
  59              		.loc 1 230 46 discriminator 2 view .LVU12
  60 0014 F5E7     		b	.L2
  61              	.L7:
 233:SYS/shell/shell.c ****         {
 234:SYS/shell/shell.c ****             shellList[i] = shell;
  62              		.loc 1 234 13 is_stmt 1 view .LVU13
  63              		.loc 1 234 26 is_stmt 0 view .LVU14
  64 0016 024B     		ldr	r3, .L8
  65              	.LVL4:
  66              		.loc 1 234 26 view .LVU15
  67 0018 43F82100 		str	r0, [r3, r1, lsl #2]
 235:SYS/shell/shell.c ****             return;
  68              		.loc 1 235 13 is_stmt 1 view .LVU16
  69 001c 7047     		bx	lr
  70              	.LVL5:
  71              	.L6:
  72              		.loc 1 235 13 is_stmt 0 view .LVU17
  73              	.LBE2:
 236:SYS/shell/shell.c ****         }
 237:SYS/shell/shell.c ****     }
 238:SYS/shell/shell.c **** }
  74              		.loc 1 238 1 view .LVU18
  75 001e 7047     		bx	lr
  76              	.L9:
  77              		.align	2
  78              	.L8:
  79 0020 00000000 		.word	.LANCHOR0
  80              		.cfi_endproc
  81              	.LFE127:
  83              		.section	.text.shellStringCopy,"ax",%progbits
  84              		.align	1
  85              		.syntax unified
  86              		.thumb
  87              		.thumb_func
  88              		.fpu fpv4-sp-d16
  90              	shellStringCopy:
  91              	.LVL6:
  92              	.LFB138:
 239:SYS/shell/shell.c **** 
 240:SYS/shell/shell.c **** 
 241:SYS/shell/shell.c **** /**
 242:SYS/shell/shell.c ****  * @brief 获取当前活动shell
 243:SYS/shell/shell.c ****  * 
 244:SYS/shell/shell.c ****  * @return Shell* 当前活动shell对象
 245:SYS/shell/shell.c ****  */
 246:SYS/shell/shell.c **** Shell* shellGetCurrent(void)
 247:SYS/shell/shell.c **** {
 248:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
 249:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 7


 250:SYS/shell/shell.c ****         if (shellList[i] && shellList[i]->status.isActive)
 251:SYS/shell/shell.c ****         {
 252:SYS/shell/shell.c ****             return shellList[i];
 253:SYS/shell/shell.c ****         }
 254:SYS/shell/shell.c ****     }
 255:SYS/shell/shell.c ****     return NULL;
 256:SYS/shell/shell.c **** }
 257:SYS/shell/shell.c **** 
 258:SYS/shell/shell.c **** 
 259:SYS/shell/shell.c **** /**
 260:SYS/shell/shell.c ****  * @brief shell写字符
 261:SYS/shell/shell.c ****  * 
 262:SYS/shell/shell.c ****  * @param shell shell对象
 263:SYS/shell/shell.c ****  * @param data 字符数据
 264:SYS/shell/shell.c ****  */
 265:SYS/shell/shell.c **** void shellWriteByte(Shell *shell, const char data)
 266:SYS/shell/shell.c **** {
 267:SYS/shell/shell.c ****     shell->write(data);
 268:SYS/shell/shell.c ****     delay_us(50);
 269:SYS/shell/shell.c **** }
 270:SYS/shell/shell.c **** 
 271:SYS/shell/shell.c **** 
 272:SYS/shell/shell.c **** /**
 273:SYS/shell/shell.c ****  * @brief shell 写字符串
 274:SYS/shell/shell.c ****  * 
 275:SYS/shell/shell.c ****  * @param shell shell对象
 276:SYS/shell/shell.c ****  * @param string 字符串数据
 277:SYS/shell/shell.c ****  * 
 278:SYS/shell/shell.c ****  * @return unsigned short 写入字符的数量
 279:SYS/shell/shell.c ****  */
 280:SYS/shell/shell.c **** unsigned short shellWriteString(Shell *shell, const char *string)
 281:SYS/shell/shell.c **** {
 282:SYS/shell/shell.c ****     unsigned short count = 0;
 283:SYS/shell/shell.c ****     SHELL_ASSERT(shell->write, return 0);
 284:SYS/shell/shell.c ****     while(*string)
 285:SYS/shell/shell.c ****     {
 286:SYS/shell/shell.c ****         shell->write(*string ++);
 287:SYS/shell/shell.c ****         count ++;
 288:SYS/shell/shell.c ****         delay_us(100);
 289:SYS/shell/shell.c ****     }
 290:SYS/shell/shell.c ****     return count;
 291:SYS/shell/shell.c **** }
 292:SYS/shell/shell.c **** 
 293:SYS/shell/shell.c **** 
 294:SYS/shell/shell.c **** /**
 295:SYS/shell/shell.c ****  * @brief shell 写命令描述字符串
 296:SYS/shell/shell.c ****  * 
 297:SYS/shell/shell.c ****  * @param shell shell对象
 298:SYS/shell/shell.c ****  * @param string 字符串数据
 299:SYS/shell/shell.c ****  * 
 300:SYS/shell/shell.c ****  * @return unsigned short 写入字符的数量
 301:SYS/shell/shell.c ****  */
 302:SYS/shell/shell.c **** static unsigned short shellWriteCommandDesc(Shell *shell, const char *string)
 303:SYS/shell/shell.c **** {
 304:SYS/shell/shell.c ****     unsigned short count = 0;
 305:SYS/shell/shell.c ****     SHELL_ASSERT(shell->write, return 0);
 306:SYS/shell/shell.c ****     while(*string
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 8


 307:SYS/shell/shell.c ****         && *string != '\r'
 308:SYS/shell/shell.c ****         && *string != '\n'
 309:SYS/shell/shell.c ****         && count < 36)
 310:SYS/shell/shell.c ****     {
 311:SYS/shell/shell.c ****         shell->write(*string ++);
 312:SYS/shell/shell.c ****         delay_us(10);
 313:SYS/shell/shell.c ****         count ++;
 314:SYS/shell/shell.c ****         if (count >= 36 && *(string + 1))
 315:SYS/shell/shell.c ****         {
 316:SYS/shell/shell.c ****             shell->write('.');
 317:SYS/shell/shell.c ****             shell->write('.');
 318:SYS/shell/shell.c ****             shell->write('.');
 319:SYS/shell/shell.c ****         }
 320:SYS/shell/shell.c ****     }
 321:SYS/shell/shell.c ****     return count;
 322:SYS/shell/shell.c **** }
 323:SYS/shell/shell.c **** 
 324:SYS/shell/shell.c **** 
 325:SYS/shell/shell.c **** /**
 326:SYS/shell/shell.c ****  * @brief shell写命令提示符
 327:SYS/shell/shell.c ****  * 
 328:SYS/shell/shell.c ****  * @param shell shell对象
 329:SYS/shell/shell.c ****  * @param newline 新行
 330:SYS/shell/shell.c ****  * 
 331:SYS/shell/shell.c ****  */
 332:SYS/shell/shell.c **** static void shellWriteCommandLine(Shell *shell, unsigned char newline)
 333:SYS/shell/shell.c **** {
 334:SYS/shell/shell.c ****     if (shell->status.isChecked)
 335:SYS/shell/shell.c ****     {
 336:SYS/shell/shell.c ****         if (newline)
 337:SYS/shell/shell.c ****         {
 338:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
 339:SYS/shell/shell.c ****         }
 340:SYS/shell/shell.c ****         shellWriteString(shell, shell->info.user->data.user.name);
 341:SYS/shell/shell.c ****         shellWriteString(shell, ":");
 342:SYS/shell/shell.c ****         shellWriteString(shell, shell->info.path ? shell->info.path : "/");
 343:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 344:SYS/shell/shell.c ****     }
 345:SYS/shell/shell.c ****     else
 346:SYS/shell/shell.c ****     {
 347:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_PASSWORD_HINT]);
 348:SYS/shell/shell.c ****     }
 349:SYS/shell/shell.c **** }
 350:SYS/shell/shell.c **** 
 351:SYS/shell/shell.c **** 
 352:SYS/shell/shell.c **** #if SHELL_PRINT_BUFFER > 0
 353:SYS/shell/shell.c **** /**
 354:SYS/shell/shell.c ****  * @brief shell格式化输出
 355:SYS/shell/shell.c ****  * 
 356:SYS/shell/shell.c ****  * @param shell shell对象
 357:SYS/shell/shell.c ****  * @param fmt 格式化字符串
 358:SYS/shell/shell.c ****  * @param ... 参数
 359:SYS/shell/shell.c ****  */
 360:SYS/shell/shell.c **** void shellPrint(Shell *shell, char *fmt, ...)
 361:SYS/shell/shell.c **** {
 362:SYS/shell/shell.c ****     char buffer[SHELL_PRINT_BUFFER];
 363:SYS/shell/shell.c ****     va_list vargs;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 9


 364:SYS/shell/shell.c **** 
 365:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return);
 366:SYS/shell/shell.c **** 
 367:SYS/shell/shell.c ****     va_start(vargs, fmt);
 368:SYS/shell/shell.c ****     vsnprintf(buffer, SHELL_PRINT_BUFFER - 1, fmt, vargs);
 369:SYS/shell/shell.c ****     va_end(vargs);
 370:SYS/shell/shell.c ****     
 371:SYS/shell/shell.c ****     shellWriteString(shell, buffer);
 372:SYS/shell/shell.c **** }
 373:SYS/shell/shell.c **** #endif
 374:SYS/shell/shell.c **** 
 375:SYS/shell/shell.c **** 
 376:SYS/shell/shell.c **** #if SHELL_SCAN_BUFFER > 0
 377:SYS/shell/shell.c **** /**
 378:SYS/shell/shell.c ****  * @brief shell格式化输入
 379:SYS/shell/shell.c ****  * 
 380:SYS/shell/shell.c ****  * @param shell shell对象
 381:SYS/shell/shell.c ****  * @param fmt 格式化字符串
 382:SYS/shell/shell.c ****  * @param ... 参数
 383:SYS/shell/shell.c ****  */
 384:SYS/shell/shell.c **** void shellScan(Shell *shell, char *fmt, ...)
 385:SYS/shell/shell.c **** {
 386:SYS/shell/shell.c ****     char buffer[SHELL_SCAN_BUFFER];
 387:SYS/shell/shell.c ****     va_list vargs;
 388:SYS/shell/shell.c ****     short index = 0;
 389:SYS/shell/shell.c **** 
 390:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return);
 391:SYS/shell/shell.c **** 
 392:SYS/shell/shell.c ****     if (shell->read)
 393:SYS/shell/shell.c ****     {
 394:SYS/shell/shell.c ****         do {
 395:SYS/shell/shell.c ****             if (shell->read(&buffer[index]) == 0)
 396:SYS/shell/shell.c ****             {
 397:SYS/shell/shell.c ****                 shell->write(buffer[index]);
 398:SYS/shell/shell.c ****                 index++;
 399:SYS/shell/shell.c ****             }
 400:SYS/shell/shell.c ****         } while (buffer[index -1] != '\r' && buffer[index -1] != '\n' && index < SHELL_SCAN_BUFFER)
 401:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 402:SYS/shell/shell.c ****         buffer[index] = '\0';
 403:SYS/shell/shell.c ****     }
 404:SYS/shell/shell.c **** 
 405:SYS/shell/shell.c ****     va_start(vargs, fmt);
 406:SYS/shell/shell.c ****     vsscanf(buffer, fmt, vargs);
 407:SYS/shell/shell.c ****     va_end(vargs);
 408:SYS/shell/shell.c **** }
 409:SYS/shell/shell.c **** #endif
 410:SYS/shell/shell.c **** 
 411:SYS/shell/shell.c **** 
 412:SYS/shell/shell.c **** /**
 413:SYS/shell/shell.c ****  * @brief shell 检查命令权限
 414:SYS/shell/shell.c ****  * 
 415:SYS/shell/shell.c ****  * @param shell shell对象
 416:SYS/shell/shell.c ****  * @param command ShellCommand
 417:SYS/shell/shell.c ****  * 
 418:SYS/shell/shell.c ****  * @return signed char 0 当前用户具有该命令权限
 419:SYS/shell/shell.c ****  * @return signec char -1 当前用户不具有该命令权限
 420:SYS/shell/shell.c ****  */
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 10


 421:SYS/shell/shell.c **** signed char shellCheckPermission(Shell *shell, ShellCommand *command)
 422:SYS/shell/shell.c **** {
 423:SYS/shell/shell.c ****     return ((!command->attr.attrs.permission
 424:SYS/shell/shell.c ****                 || command->attr.attrs.type == SHELL_TYPE_USER
 425:SYS/shell/shell.c ****                 || (command->attr.attrs.permission 
 426:SYS/shell/shell.c ****                     & shell->info.user->attr.attrs.permission))
 427:SYS/shell/shell.c ****             && (shell->status.isChecked
 428:SYS/shell/shell.c ****                 || command->attr.attrs.enableUnchecked))
 429:SYS/shell/shell.c ****             ? 0 : -1;
 430:SYS/shell/shell.c **** }
 431:SYS/shell/shell.c **** 
 432:SYS/shell/shell.c **** 
 433:SYS/shell/shell.c **** /**
 434:SYS/shell/shell.c ****  * @brief int转16进制字符串
 435:SYS/shell/shell.c ****  * 
 436:SYS/shell/shell.c ****  * @param value 数值
 437:SYS/shell/shell.c ****  * @param buffer 缓冲
 438:SYS/shell/shell.c ****  * 
 439:SYS/shell/shell.c ****  * @return signed char 转换后有效数据长度
 440:SYS/shell/shell.c ****  */
 441:SYS/shell/shell.c **** signed char shellToHex(unsigned int value, char *buffer)
 442:SYS/shell/shell.c **** {
 443:SYS/shell/shell.c ****     char byte;
 444:SYS/shell/shell.c ****     unsigned char i = 8;
 445:SYS/shell/shell.c ****     buffer[8] = 0;
 446:SYS/shell/shell.c ****     while (value)
 447:SYS/shell/shell.c ****     {
 448:SYS/shell/shell.c ****         byte = value & 0x0000000F;
 449:SYS/shell/shell.c ****         buffer[--i] = (byte > 9) ? (byte + 87) : (byte + 48);
 450:SYS/shell/shell.c ****         value >>= 4;
 451:SYS/shell/shell.c ****     }
 452:SYS/shell/shell.c ****     return 8 - i;
 453:SYS/shell/shell.c **** }
 454:SYS/shell/shell.c **** 
 455:SYS/shell/shell.c **** 
 456:SYS/shell/shell.c **** /**
 457:SYS/shell/shell.c **** * @brief int转10进制字符串
 458:SYS/shell/shell.c ****  * 
 459:SYS/shell/shell.c ****  * @param value 数值
 460:SYS/shell/shell.c ****  * @param buffer 缓冲
 461:SYS/shell/shell.c ****  * 
 462:SYS/shell/shell.c ****  * @return signed char 转换后有效数据长度
 463:SYS/shell/shell.c ****  */
 464:SYS/shell/shell.c **** signed char shellToDec(int value, char *buffer)
 465:SYS/shell/shell.c **** {
 466:SYS/shell/shell.c ****     unsigned char i = 11;
 467:SYS/shell/shell.c ****     int v = value;
 468:SYS/shell/shell.c ****     if (value < 0)
 469:SYS/shell/shell.c ****     {
 470:SYS/shell/shell.c ****         v = -value;
 471:SYS/shell/shell.c ****     }
 472:SYS/shell/shell.c ****     buffer[11] = 0;
 473:SYS/shell/shell.c ****     while (v)
 474:SYS/shell/shell.c ****     {
 475:SYS/shell/shell.c ****         buffer[--i] = v % 10 + 48;
 476:SYS/shell/shell.c ****         v /= 10;
 477:SYS/shell/shell.c ****     }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 11


 478:SYS/shell/shell.c ****     if (value < 0)
 479:SYS/shell/shell.c ****     {
 480:SYS/shell/shell.c ****         buffer[--i] = '-';
 481:SYS/shell/shell.c ****     }
 482:SYS/shell/shell.c ****     if (value == 0) {
 483:SYS/shell/shell.c ****         buffer[--i] = '0';
 484:SYS/shell/shell.c ****     }
 485:SYS/shell/shell.c ****     return 11 - i;
 486:SYS/shell/shell.c **** }
 487:SYS/shell/shell.c **** 
 488:SYS/shell/shell.c **** 
 489:SYS/shell/shell.c **** /**
 490:SYS/shell/shell.c ****  * @brief shell字符串复制
 491:SYS/shell/shell.c ****  * 
 492:SYS/shell/shell.c ****  * @param dest 目标字符串
 493:SYS/shell/shell.c ****  * @param src 源字符串
 494:SYS/shell/shell.c ****  * @return unsigned short 字符串长度
 495:SYS/shell/shell.c ****  */
 496:SYS/shell/shell.c **** static unsigned short shellStringCopy(char *dest, char* src)
 497:SYS/shell/shell.c **** {
  93              		.loc 1 497 1 is_stmt 1 view -0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 0
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97              		@ link register save eliminated.
  98              		.loc 1 497 1 is_stmt 0 view .LVU20
  99 0000 0246     		mov	r2, r0
 498:SYS/shell/shell.c ****     unsigned short count = 0;
 100              		.loc 1 498 5 is_stmt 1 view .LVU21
 101              	.LVL7:
 499:SYS/shell/shell.c ****     while (*(src + count))
 102              		.loc 1 499 5 view .LVU22
 498:SYS/shell/shell.c ****     unsigned short count = 0;
 103              		.loc 1 498 20 is_stmt 0 view .LVU23
 104 0002 0020     		movs	r0, #0
 105              	.LVL8:
 106              		.loc 1 499 11 view .LVU24
 107 0004 02E0     		b	.L11
 108              	.LVL9:
 109              	.L12:
 500:SYS/shell/shell.c ****     {
 501:SYS/shell/shell.c ****         *(dest + count) = *(src + count);
 110              		.loc 1 501 9 is_stmt 1 view .LVU25
 111              		.loc 1 501 25 is_stmt 0 view .LVU26
 112 0006 1354     		strb	r3, [r2, r0]
 502:SYS/shell/shell.c ****         count++;
 113              		.loc 1 502 9 is_stmt 1 view .LVU27
 114              		.loc 1 502 14 is_stmt 0 view .LVU28
 115 0008 0130     		adds	r0, r0, #1
 116              	.LVL10:
 117              		.loc 1 502 14 view .LVU29
 118 000a 80B2     		uxth	r0, r0
 119              	.LVL11:
 120              	.L11:
 499:SYS/shell/shell.c ****     while (*(src + count))
 121              		.loc 1 499 11 is_stmt 1 view .LVU30
 499:SYS/shell/shell.c ****     while (*(src + count))
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 12


 122              		.loc 1 499 12 is_stmt 0 view .LVU31
 123 000c 0B5C     		ldrb	r3, [r1, r0]	@ zero_extendqisi2
 499:SYS/shell/shell.c ****     while (*(src + count))
 124              		.loc 1 499 11 view .LVU32
 125 000e 002B     		cmp	r3, #0
 126 0010 F9D1     		bne	.L12
 503:SYS/shell/shell.c ****     }
 504:SYS/shell/shell.c ****     *(dest + count) = 0;
 127              		.loc 1 504 5 is_stmt 1 view .LVU33
 128              		.loc 1 504 21 is_stmt 0 view .LVU34
 129 0012 1354     		strb	r3, [r2, r0]
 505:SYS/shell/shell.c ****     return count;
 130              		.loc 1 505 5 is_stmt 1 view .LVU35
 506:SYS/shell/shell.c **** }
 131              		.loc 1 506 1 is_stmt 0 view .LVU36
 132 0014 7047     		bx	lr
 133              		.cfi_endproc
 134              	.LFE138:
 136              		.section	.text.shellStringCompare,"ax",%progbits
 137              		.align	1
 138              		.syntax unified
 139              		.thumb
 140              		.thumb_func
 141              		.fpu fpv4-sp-d16
 143              	shellStringCompare:
 144              	.LVL12:
 145              	.LFB139:
 507:SYS/shell/shell.c **** 
 508:SYS/shell/shell.c **** 
 509:SYS/shell/shell.c **** /**
 510:SYS/shell/shell.c ****  * @brief shell字符串比较
 511:SYS/shell/shell.c ****  * 
 512:SYS/shell/shell.c ****  * @param dest 目标字符串
 513:SYS/shell/shell.c ****  * @param src 源字符串
 514:SYS/shell/shell.c ****  * @return unsigned short 匹配长度
 515:SYS/shell/shell.c ****  */
 516:SYS/shell/shell.c **** static unsigned short shellStringCompare(char* dest, char *src)
 517:SYS/shell/shell.c **** {
 146              		.loc 1 517 1 is_stmt 1 view -0
 147              		.cfi_startproc
 148              		@ args = 0, pretend = 0, frame = 0
 149              		@ frame_needed = 0, uses_anonymous_args = 0
 150              		@ link register save eliminated.
 151              		.loc 1 517 1 is_stmt 0 view .LVU38
 152 0000 8446     		mov	ip, r0
 518:SYS/shell/shell.c ****     unsigned short match = 0;
 153              		.loc 1 518 5 is_stmt 1 view .LVU39
 154              	.LVL13:
 519:SYS/shell/shell.c ****     unsigned short i = 0;
 155              		.loc 1 519 5 view .LVU40
 520:SYS/shell/shell.c **** 
 521:SYS/shell/shell.c ****     while (*(dest +i) && *(src + i))
 156              		.loc 1 521 5 view .LVU41
 519:SYS/shell/shell.c ****     unsigned short i = 0;
 157              		.loc 1 519 20 is_stmt 0 view .LVU42
 158 0002 0023     		movs	r3, #0
 518:SYS/shell/shell.c ****     unsigned short i = 0;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 13


 159              		.loc 1 518 20 view .LVU43
 160 0004 1846     		mov	r0, r3
 161              	.LVL14:
 162              		.loc 1 521 11 is_stmt 1 view .LVU44
 163              		.loc 1 521 12 is_stmt 0 view .LVU45
 164 0006 1CF80320 		ldrb	r2, [ip, r3]	@ zero_extendqisi2
 165              		.loc 1 521 11 view .LVU46
 166 000a 7AB1     		cbz	r2, .L22
 517:SYS/shell/shell.c ****     unsigned short match = 0;
 167              		.loc 1 517 1 view .LVU47
 168 000c 10B4     		push	{r4}
 169              	.LCFI0:
 170              		.cfi_def_cfa_offset 4
 171              		.cfi_offset 4, -4
 172              	.LVL15:
 173              	.L19:
 174              		.loc 1 521 26 discriminator 1 view .LVU48
 175 000e CC5C     		ldrb	r4, [r1, r3]	@ zero_extendqisi2
 176              		.loc 1 521 23 discriminator 1 view .LVU49
 177 0010 4CB1     		cbz	r4, .L15
 522:SYS/shell/shell.c ****     {
 523:SYS/shell/shell.c ****         if (*(dest + i) != *(src +i))
 178              		.loc 1 523 9 is_stmt 1 view .LVU50
 179              		.loc 1 523 12 is_stmt 0 view .LVU51
 180 0012 A242     		cmp	r2, r4
 181 0014 07D1     		bne	.L15
 524:SYS/shell/shell.c ****         {
 525:SYS/shell/shell.c ****             break;
 526:SYS/shell/shell.c ****         }
 527:SYS/shell/shell.c ****         match ++;
 182              		.loc 1 527 9 is_stmt 1 view .LVU52
 183              		.loc 1 527 15 is_stmt 0 view .LVU53
 184 0016 0130     		adds	r0, r0, #1
 185 0018 80B2     		uxth	r0, r0
 186              	.LVL16:
 528:SYS/shell/shell.c ****         i++;
 187              		.loc 1 528 9 is_stmt 1 view .LVU54
 188              		.loc 1 528 10 is_stmt 0 view .LVU55
 189 001a 0133     		adds	r3, r3, #1
 190              	.LVL17:
 191              		.loc 1 528 10 view .LVU56
 192 001c 9BB2     		uxth	r3, r3
 193              	.LVL18:
 521:SYS/shell/shell.c ****     {
 194              		.loc 1 521 11 is_stmt 1 view .LVU57
 521:SYS/shell/shell.c ****     {
 195              		.loc 1 521 12 is_stmt 0 view .LVU58
 196 001e 1CF80320 		ldrb	r2, [ip, r3]	@ zero_extendqisi2
 521:SYS/shell/shell.c ****     {
 197              		.loc 1 521 11 view .LVU59
 198 0022 002A     		cmp	r2, #0
 199 0024 F3D1     		bne	.L19
 200              	.LVL19:
 201              	.L15:
 529:SYS/shell/shell.c ****     }
 530:SYS/shell/shell.c ****     return match;
 202              		.loc 1 530 5 is_stmt 1 view .LVU60
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 14


 531:SYS/shell/shell.c **** }
 203              		.loc 1 531 1 is_stmt 0 view .LVU61
 204 0026 5DF8044B 		ldr	r4, [sp], #4
 205              	.LCFI1:
 206              		.cfi_restore 4
 207              		.cfi_def_cfa_offset 0
 208 002a 7047     		bx	lr
 209              	.LVL20:
 210              	.L22:
 530:SYS/shell/shell.c **** }
 211              		.loc 1 530 5 is_stmt 1 view .LVU62
 212              		.loc 1 531 1 is_stmt 0 view .LVU63
 213 002c 7047     		bx	lr
 214              		.cfi_endproc
 215              	.LFE139:
 217              		.section	.text.shellGetCommandDesc,"ax",%progbits
 218              		.align	1
 219              		.syntax unified
 220              		.thumb
 221              		.thumb_func
 222              		.fpu fpv4-sp-d16
 224              	shellGetCommandDesc:
 225              	.LVL21:
 226              	.LFB141:
 532:SYS/shell/shell.c **** 
 533:SYS/shell/shell.c **** 
 534:SYS/shell/shell.c **** /**
 535:SYS/shell/shell.c ****  * @brief shell获取命令名
 536:SYS/shell/shell.c ****  * 
 537:SYS/shell/shell.c ****  * @param command 命令
 538:SYS/shell/shell.c ****  * @return const char* 命令名
 539:SYS/shell/shell.c ****  */
 540:SYS/shell/shell.c **** static const char* shellGetCommandName(ShellCommand *command)
 541:SYS/shell/shell.c **** {
 542:SYS/shell/shell.c ****     static char buffer[9];
 543:SYS/shell/shell.c ****     for (unsigned char i = 0; i < 9; i++)
 544:SYS/shell/shell.c ****     {
 545:SYS/shell/shell.c ****         buffer[i] = '0';
 546:SYS/shell/shell.c ****     }
 547:SYS/shell/shell.c ****     if (command->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 548:SYS/shell/shell.c ****     {
 549:SYS/shell/shell.c ****         return command->data.cmd.name;
 550:SYS/shell/shell.c ****     }
 551:SYS/shell/shell.c ****     else if (command->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
 552:SYS/shell/shell.c ****     {
 553:SYS/shell/shell.c ****         return command->data.var.name;
 554:SYS/shell/shell.c ****     }
 555:SYS/shell/shell.c ****     else if (command->attr.attrs.type <= SHELL_TYPE_USER)
 556:SYS/shell/shell.c ****     {
 557:SYS/shell/shell.c ****         return command->data.user.name;
 558:SYS/shell/shell.c ****     }
 559:SYS/shell/shell.c ****     else
 560:SYS/shell/shell.c ****     {
 561:SYS/shell/shell.c ****         shellToHex(command->data.key.value, buffer);
 562:SYS/shell/shell.c ****         return buffer;
 563:SYS/shell/shell.c ****     }
 564:SYS/shell/shell.c **** }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 15


 565:SYS/shell/shell.c **** 
 566:SYS/shell/shell.c **** 
 567:SYS/shell/shell.c **** /**
 568:SYS/shell/shell.c ****  * @brief shell获取命令描述
 569:SYS/shell/shell.c ****  * 
 570:SYS/shell/shell.c ****  * @param command 命令
 571:SYS/shell/shell.c ****  * @return const char* 命令描述
 572:SYS/shell/shell.c ****  */
 573:SYS/shell/shell.c **** static const char* shellGetCommandDesc(ShellCommand *command)
 574:SYS/shell/shell.c **** {
 227              		.loc 1 574 1 is_stmt 1 view -0
 228              		.cfi_startproc
 229              		@ args = 0, pretend = 0, frame = 0
 230              		@ frame_needed = 0, uses_anonymous_args = 0
 231              		@ link register save eliminated.
 575:SYS/shell/shell.c ****     if (command->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 232              		.loc 1 575 5 view .LVU65
 233              		.loc 1 575 28 is_stmt 0 view .LVU66
 234 0000 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 235 0002 03F00F03 		and	r3, r3, #15
 236              		.loc 1 575 8 view .LVU67
 237 0006 012B     		cmp	r3, #1
 238 0008 05D9     		bls	.L28
 576:SYS/shell/shell.c ****     {
 577:SYS/shell/shell.c ****         return command->data.cmd.desc;
 578:SYS/shell/shell.c ****     }
 579:SYS/shell/shell.c ****     else if (command->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
 239              		.loc 1 579 10 is_stmt 1 view .LVU68
 240              		.loc 1 579 13 is_stmt 0 view .LVU69
 241 000a 072B     		cmp	r3, #7
 242 000c 05D9     		bls	.L29
 580:SYS/shell/shell.c ****     {
 581:SYS/shell/shell.c ****         return command->data.var.desc;
 582:SYS/shell/shell.c ****     }
 583:SYS/shell/shell.c ****     else if (command->attr.attrs.type <= SHELL_TYPE_USER)
 243              		.loc 1 583 10 is_stmt 1 view .LVU70
 244              		.loc 1 583 13 is_stmt 0 view .LVU71
 245 000e 082B     		cmp	r3, #8
 246 0010 05D8     		bhi	.L27
 584:SYS/shell/shell.c ****     {
 585:SYS/shell/shell.c ****         return command->data.user.desc;
 247              		.loc 1 585 9 is_stmt 1 view .LVU72
 248              		.loc 1 585 34 is_stmt 0 view .LVU73
 249 0012 C068     		ldr	r0, [r0, #12]
 250              	.LVL22:
 251              		.loc 1 585 34 view .LVU74
 252 0014 7047     		bx	lr
 253              	.LVL23:
 254              	.L28:
 577:SYS/shell/shell.c ****     }
 255              		.loc 1 577 9 is_stmt 1 view .LVU75
 577:SYS/shell/shell.c ****     }
 256              		.loc 1 577 33 is_stmt 0 view .LVU76
 257 0016 C068     		ldr	r0, [r0, #12]
 258              	.LVL24:
 577:SYS/shell/shell.c ****     }
 259              		.loc 1 577 33 view .LVU77
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 16


 260 0018 7047     		bx	lr
 261              	.LVL25:
 262              	.L29:
 581:SYS/shell/shell.c ****     }
 263              		.loc 1 581 9 is_stmt 1 view .LVU78
 581:SYS/shell/shell.c ****     }
 264              		.loc 1 581 33 is_stmt 0 view .LVU79
 265 001a C068     		ldr	r0, [r0, #12]
 266              	.LVL26:
 581:SYS/shell/shell.c ****     }
 267              		.loc 1 581 33 view .LVU80
 268 001c 7047     		bx	lr
 269              	.LVL27:
 270              	.L27:
 586:SYS/shell/shell.c ****     }
 587:SYS/shell/shell.c ****     else
 588:SYS/shell/shell.c ****     {
 589:SYS/shell/shell.c ****         return command->data.key.desc;
 271              		.loc 1 589 9 is_stmt 1 view .LVU81
 272              		.loc 1 589 33 is_stmt 0 view .LVU82
 273 001e C068     		ldr	r0, [r0, #12]
 274              	.LVL28:
 590:SYS/shell/shell.c ****     }
 591:SYS/shell/shell.c **** }
 275              		.loc 1 591 1 view .LVU83
 276 0020 7047     		bx	lr
 277              		.cfi_endproc
 278              	.LFE141:
 280              		.section	.text.shellParserParam,"ax",%progbits
 281              		.align	1
 282              		.syntax unified
 283              		.thumb
 284              		.thumb_func
 285              		.fpu fpv4-sp-d16
 287              	shellParserParam:
 288              	.LVL29:
 289              	.LFB152:
 592:SYS/shell/shell.c **** 
 593:SYS/shell/shell.c **** /**
 594:SYS/shell/shell.c ****  * @brief shell 列出命令条目
 595:SYS/shell/shell.c ****  * 
 596:SYS/shell/shell.c ****  * @param shell shell对象
 597:SYS/shell/shell.c ****  * @param item 命令条目
 598:SYS/shell/shell.c ****  */
 599:SYS/shell/shell.c **** void shellListItem(Shell *shell, ShellCommand *item)
 600:SYS/shell/shell.c **** {
 601:SYS/shell/shell.c ****     short spaceLength;
 602:SYS/shell/shell.c **** 
 603:SYS/shell/shell.c ****     spaceLength = 22 - shellWriteString(shell, shellGetCommandName(item));
 604:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 605:SYS/shell/shell.c ****     do {
 606:SYS/shell/shell.c ****         shellWriteByte(shell, '-');
 607:SYS/shell/shell.c ****     } while (--spaceLength);
 608:SYS/shell/shell.c ****     if (item->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 609:SYS/shell/shell.c ****     {
 610:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_CMD]);
 611:SYS/shell/shell.c ****     }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 17


 612:SYS/shell/shell.c ****     else if (item->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
 613:SYS/shell/shell.c ****     {
 614:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_VAR]);
 615:SYS/shell/shell.c ****     }
 616:SYS/shell/shell.c ****     else if (item->attr.attrs.type <= SHELL_TYPE_USER)
 617:SYS/shell/shell.c ****     {
 618:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_USER]);
 619:SYS/shell/shell.c ****     }
 620:SYS/shell/shell.c ****     else if (item->attr.attrs.type <= SHELL_TYPE_KEY)
 621:SYS/shell/shell.c ****     {
 622:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_KEY]);
 623:SYS/shell/shell.c ****     }
 624:SYS/shell/shell.c ****     else
 625:SYS/shell/shell.c ****     {
 626:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_TYPE_NONE]);
 627:SYS/shell/shell.c ****     }
 628:SYS/shell/shell.c **** #if SHELL_HELP_SHOW_PERMISSION == 1
 629:SYS/shell/shell.c ****     shellWriteString(shell, " ");
 630:SYS/shell/shell.c ****     for (signed char i = 7; i >= 0; i--)
 631:SYS/shell/shell.c ****     {
 632:SYS/shell/shell.c ****         shellWriteByte(shell, item->attr.attrs.permission & (1 << i) ? 'x' : '-');
 633:SYS/shell/shell.c ****     }
 634:SYS/shell/shell.c **** #endif
 635:SYS/shell/shell.c ****     // shellWriteString(shell, " ");
 636:SYS/shell/shell.c ****     // shellWriteCommandDesc(shell, shellGetCommandDesc(item));
 637:SYS/shell/shell.c ****     // shellWriteString(shell, "\r\n");
 638:SYS/shell/shell.c **** }
 639:SYS/shell/shell.c **** 
 640:SYS/shell/shell.c **** 
 641:SYS/shell/shell.c **** /**
 642:SYS/shell/shell.c ****  * @brief shell列出可执行命令
 643:SYS/shell/shell.c ****  * 
 644:SYS/shell/shell.c ****  * @param shell shell对象
 645:SYS/shell/shell.c ****  */
 646:SYS/shell/shell.c **** void shellListCommand(Shell *shell)
 647:SYS/shell/shell.c **** {
 648:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 649:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_CMD_LIST]);
 650:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 651:SYS/shell/shell.c ****     {
 652:SYS/shell/shell.c ****         if (base[i].attr.attrs.type <= SHELL_TYPE_CMD_FUNC
 653:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 654:SYS/shell/shell.c ****         {
 655:SYS/shell/shell.c ****             shellListItem(shell, &base[i]);
 656:SYS/shell/shell.c ****         }
 657:SYS/shell/shell.c ****     }
 658:SYS/shell/shell.c **** }
 659:SYS/shell/shell.c **** 
 660:SYS/shell/shell.c **** 
 661:SYS/shell/shell.c **** /**
 662:SYS/shell/shell.c ****  * @brief shell列出变量
 663:SYS/shell/shell.c ****  * 
 664:SYS/shell/shell.c ****  * @param shell shell对象
 665:SYS/shell/shell.c ****  */
 666:SYS/shell/shell.c **** void shellListVar(Shell *shell)
 667:SYS/shell/shell.c **** {
 668:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 18


 669:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_VAR_LIST]);
 670:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 671:SYS/shell/shell.c ****     {
 672:SYS/shell/shell.c ****         if (base[i].attr.attrs.type > SHELL_TYPE_CMD_FUNC
 673:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_VAR_NODE
 674:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 675:SYS/shell/shell.c ****         {
 676:SYS/shell/shell.c ****             shellListItem(shell, &base[i]);
 677:SYS/shell/shell.c ****         }
 678:SYS/shell/shell.c ****     }
 679:SYS/shell/shell.c **** }
 680:SYS/shell/shell.c **** 
 681:SYS/shell/shell.c **** 
 682:SYS/shell/shell.c **** /**
 683:SYS/shell/shell.c ****  * @brief shell列出用户
 684:SYS/shell/shell.c ****  * 
 685:SYS/shell/shell.c ****  * @param shell shell对象
 686:SYS/shell/shell.c ****  */
 687:SYS/shell/shell.c **** void shellListUser(Shell *shell)
 688:SYS/shell/shell.c **** {
 689:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 690:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_USER_LIST]);
 691:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 692:SYS/shell/shell.c ****     {
 693:SYS/shell/shell.c ****         if (base[i].attr.attrs.type > SHELL_TYPE_VAR_NODE
 694:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_USER
 695:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 696:SYS/shell/shell.c ****         {
 697:SYS/shell/shell.c ****             shellListItem(shell, &base[i]);
 698:SYS/shell/shell.c ****         }
 699:SYS/shell/shell.c ****     }
 700:SYS/shell/shell.c **** }
 701:SYS/shell/shell.c **** 
 702:SYS/shell/shell.c **** 
 703:SYS/shell/shell.c **** /**
 704:SYS/shell/shell.c ****  * @brief shell列出按键
 705:SYS/shell/shell.c ****  * 
 706:SYS/shell/shell.c ****  * @param shell shell对象
 707:SYS/shell/shell.c ****  */
 708:SYS/shell/shell.c **** void shellListKey(Shell *shell)
 709:SYS/shell/shell.c **** {
 710:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 711:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_KEY_LIST]);
 712:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 713:SYS/shell/shell.c ****     {
 714:SYS/shell/shell.c ****         if (base[i].attr.attrs.type > SHELL_TYPE_USER
 715:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_KEY
 716:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 717:SYS/shell/shell.c ****         {
 718:SYS/shell/shell.c ****             shellListItem(shell, &base[i]);
 719:SYS/shell/shell.c ****         }
 720:SYS/shell/shell.c ****     }
 721:SYS/shell/shell.c **** }
 722:SYS/shell/shell.c **** 
 723:SYS/shell/shell.c **** 
 724:SYS/shell/shell.c **** /**
 725:SYS/shell/shell.c ****  * @brief shell列出所有命令
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 19


 726:SYS/shell/shell.c ****  * 
 727:SYS/shell/shell.c ****  * @param shell shell对象
 728:SYS/shell/shell.c ****  */
 729:SYS/shell/shell.c **** void shellListAll(Shell *shell)
 730:SYS/shell/shell.c **** {
 731:SYS/shell/shell.c **** #if SHELL_HELP_LIST_USER == 1
 732:SYS/shell/shell.c ****     shellListUser(shell);
 733:SYS/shell/shell.c **** #endif
 734:SYS/shell/shell.c ****     shellListCommand(shell);
 735:SYS/shell/shell.c **** #if SHELL_HELP_LIST_VAR == 1
 736:SYS/shell/shell.c ****     shellListVar(shell);
 737:SYS/shell/shell.c **** #endif
 738:SYS/shell/shell.c **** #if SHELL_HELP_LIST_KEY == 1
 739:SYS/shell/shell.c ****     shellListKey(shell);
 740:SYS/shell/shell.c **** #endif
 741:SYS/shell/shell.c **** }
 742:SYS/shell/shell.c **** 
 743:SYS/shell/shell.c **** 
 744:SYS/shell/shell.c **** /**
 745:SYS/shell/shell.c ****  * @brief shell删除命令行数据
 746:SYS/shell/shell.c ****  * 
 747:SYS/shell/shell.c ****  * @param shell shell对象
 748:SYS/shell/shell.c ****  * @param length 删除长度
 749:SYS/shell/shell.c ****  */
 750:SYS/shell/shell.c **** void shellDeleteCommandLine(Shell *shell, unsigned char length)
 751:SYS/shell/shell.c **** {
 752:SYS/shell/shell.c ****     while (length--)
 753:SYS/shell/shell.c ****     {
 754:SYS/shell/shell.c ****         shellWriteString(shell, "\b \b");
 755:SYS/shell/shell.c ****     }
 756:SYS/shell/shell.c **** }
 757:SYS/shell/shell.c **** 
 758:SYS/shell/shell.c **** 
 759:SYS/shell/shell.c **** /**
 760:SYS/shell/shell.c ****  * @brief shell 清空命令行输入
 761:SYS/shell/shell.c ****  * 
 762:SYS/shell/shell.c ****  * @param shell shell对象
 763:SYS/shell/shell.c ****  */
 764:SYS/shell/shell.c **** void shellClearCommandLine(Shell *shell)
 765:SYS/shell/shell.c **** {
 766:SYS/shell/shell.c ****     for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 767:SYS/shell/shell.c ****     {
 768:SYS/shell/shell.c ****         shellWriteByte(shell, ' ');
 769:SYS/shell/shell.c ****     }
 770:SYS/shell/shell.c ****     shellDeleteCommandLine(shell, shell->parser.length);
 771:SYS/shell/shell.c **** }
 772:SYS/shell/shell.c **** 
 773:SYS/shell/shell.c **** 
 774:SYS/shell/shell.c **** /**
 775:SYS/shell/shell.c ****  * @brief shell插入一个字符到光标位置
 776:SYS/shell/shell.c ****  * 
 777:SYS/shell/shell.c ****  * @param shell shell对象
 778:SYS/shell/shell.c ****  * @param data 字符数据
 779:SYS/shell/shell.c ****  */
 780:SYS/shell/shell.c **** void shellInsertByte(Shell *shell, char data)
 781:SYS/shell/shell.c **** {
 782:SYS/shell/shell.c ****     /* 判断输入数据是否过长 */
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 20


 783:SYS/shell/shell.c ****     if (shell->parser.length >= shell->parser.bufferSize - 1)
 784:SYS/shell/shell.c ****     {
 785:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_CMD_TOO_LONG]);
 786:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
 787:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 788:SYS/shell/shell.c ****         return;
 789:SYS/shell/shell.c ****     }
 790:SYS/shell/shell.c **** 
 791:SYS/shell/shell.c ****     /* 插入数据 */
 792:SYS/shell/shell.c ****     if (shell->parser.cursor == shell->parser.length)
 793:SYS/shell/shell.c ****     {
 794:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length++] = data;
 795:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 796:SYS/shell/shell.c ****         shell->parser.cursor++;
 797:SYS/shell/shell.c ****         shellWriteByte(shell, data);
 798:SYS/shell/shell.c ****     }
 799:SYS/shell/shell.c ****     else if (shell->parser.cursor < shell->parser.length)
 800:SYS/shell/shell.c ****     {
 801:SYS/shell/shell.c ****         for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 802:SYS/shell/shell.c ****         {
 803:SYS/shell/shell.c ****             shell->parser.buffer[shell->parser.cursor + i] = 
 804:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i - 1];
 805:SYS/shell/shell.c ****         }
 806:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.cursor++] = data;
 807:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 808:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 809:SYS/shell/shell.c ****         {
 810:SYS/shell/shell.c ****             shellWriteByte(shell, shell->parser.buffer[i]);
 811:SYS/shell/shell.c ****         }
 812:SYS/shell/shell.c ****         for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 813:SYS/shell/shell.c ****         {
 814:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 815:SYS/shell/shell.c ****         }
 816:SYS/shell/shell.c ****     }
 817:SYS/shell/shell.c **** }
 818:SYS/shell/shell.c **** 
 819:SYS/shell/shell.c **** 
 820:SYS/shell/shell.c **** /**
 821:SYS/shell/shell.c ****  * @brief shell 删除字节
 822:SYS/shell/shell.c ****  * 
 823:SYS/shell/shell.c ****  * @param shell shell对象
 824:SYS/shell/shell.c ****  * @param direction 删除方向 {@code 1}删除光标前字符 {@code -1}删除光标处字符
 825:SYS/shell/shell.c ****  */
 826:SYS/shell/shell.c **** void shellDeleteByte(Shell *shell, signed char direction)
 827:SYS/shell/shell.c **** {
 828:SYS/shell/shell.c ****     char offset = (direction == -1) ? 1 : 0;
 829:SYS/shell/shell.c **** 
 830:SYS/shell/shell.c ****     if ((shell->parser.cursor == 0 && direction == 1)
 831:SYS/shell/shell.c ****         || (shell->parser.cursor == shell->parser.length && direction == -1))
 832:SYS/shell/shell.c ****     {
 833:SYS/shell/shell.c ****         return;
 834:SYS/shell/shell.c ****     }
 835:SYS/shell/shell.c ****     if (shell->parser.cursor == shell->parser.length && direction == 1)
 836:SYS/shell/shell.c ****     {
 837:SYS/shell/shell.c ****         shell->parser.cursor--;
 838:SYS/shell/shell.c ****         shell->parser.length--;
 839:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 21


 840:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 841:SYS/shell/shell.c ****     }
 842:SYS/shell/shell.c ****     else
 843:SYS/shell/shell.c ****     {
 844:SYS/shell/shell.c ****         for (short i = offset; i < shell->parser.length - shell->parser.cursor; i++)
 845:SYS/shell/shell.c ****         {
 846:SYS/shell/shell.c ****             shell->parser.buffer[shell->parser.cursor + i - 1] = 
 847:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i];
 848:SYS/shell/shell.c ****         }
 849:SYS/shell/shell.c ****         shell->parser.length--;
 850:SYS/shell/shell.c ****         if (!offset)
 851:SYS/shell/shell.c ****         {
 852:SYS/shell/shell.c ****             shell->parser.cursor--;
 853:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 854:SYS/shell/shell.c ****         }
 855:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 856:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
 857:SYS/shell/shell.c ****         {
 858:SYS/shell/shell.c ****             shellWriteByte(shell, shell->parser.buffer[i]);
 859:SYS/shell/shell.c ****         }
 860:SYS/shell/shell.c ****         shellWriteByte(shell, ' ');
 861:SYS/shell/shell.c ****         for (short i = shell->parser.length - shell->parser.cursor + 1; i > 0; i--)
 862:SYS/shell/shell.c ****         {
 863:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 864:SYS/shell/shell.c ****         }
 865:SYS/shell/shell.c ****     }
 866:SYS/shell/shell.c **** }
 867:SYS/shell/shell.c **** 
 868:SYS/shell/shell.c **** 
 869:SYS/shell/shell.c **** /**
 870:SYS/shell/shell.c ****  * @brief shell 解析参数
 871:SYS/shell/shell.c ****  * 
 872:SYS/shell/shell.c ****  * @param shell shell对象
 873:SYS/shell/shell.c ****  */
 874:SYS/shell/shell.c **** static void shellParserParam(Shell *shell)
 875:SYS/shell/shell.c **** {
 290              		.loc 1 875 1 is_stmt 1 view -0
 291              		.cfi_startproc
 292              		@ args = 0, pretend = 0, frame = 0
 293              		@ frame_needed = 0, uses_anonymous_args = 0
 294              		.loc 1 875 1 is_stmt 0 view .LVU85
 295 0000 30B5     		push	{r4, r5, lr}
 296              	.LCFI2:
 297              		.cfi_def_cfa_offset 12
 298              		.cfi_offset 4, -12
 299              		.cfi_offset 5, -8
 300              		.cfi_offset 14, -4
 876:SYS/shell/shell.c ****     unsigned char quotes = 0;
 301              		.loc 1 876 5 is_stmt 1 view .LVU86
 302              	.LVL30:
 877:SYS/shell/shell.c ****     unsigned char record = 1;
 303              		.loc 1 877 5 view .LVU87
 878:SYS/shell/shell.c **** 
 879:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_PARAMETER_MAX_NUMBER; i++)
 304              		.loc 1 879 5 view .LVU88
 305              	.LBB3:
 306              		.loc 1 879 10 view .LVU89
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 22


 307              		.loc 1 879 16 is_stmt 0 view .LVU90
 308 0002 0023     		movs	r3, #0
 309              		.loc 1 879 5 view .LVU91
 310 0004 06E0     		b	.L31
 311              	.LVL31:
 312              	.L32:
 880:SYS/shell/shell.c ****     {
 881:SYS/shell/shell.c ****         shell->parser.param[i] = NULL;
 313              		.loc 1 881 9 is_stmt 1 discriminator 3 view .LVU92
 314              		.loc 1 881 32 is_stmt 0 discriminator 3 view .LVU93
 315 0006 1A1D     		adds	r2, r3, #4
 316 0008 00EB8202 		add	r2, r0, r2, lsl #2
 317 000c 0021     		movs	r1, #0
 318 000e 5160     		str	r1, [r2, #4]
 879:SYS/shell/shell.c ****     {
 319              		.loc 1 879 55 is_stmt 1 discriminator 3 view .LVU94
 879:SYS/shell/shell.c ****     {
 320              		.loc 1 879 56 is_stmt 0 discriminator 3 view .LVU95
 321 0010 0133     		adds	r3, r3, #1
 322              	.LVL32:
 879:SYS/shell/shell.c ****     {
 323              		.loc 1 879 56 discriminator 3 view .LVU96
 324 0012 1BB2     		sxth	r3, r3
 325              	.LVL33:
 326              	.L31:
 879:SYS/shell/shell.c ****     {
 327              		.loc 1 879 23 is_stmt 1 discriminator 1 view .LVU97
 879:SYS/shell/shell.c ****     {
 328              		.loc 1 879 5 is_stmt 0 discriminator 1 view .LVU98
 329 0014 072B     		cmp	r3, #7
 330 0016 F6DD     		ble	.L32
 331              	.LBE3:
 882:SYS/shell/shell.c ****     }
 883:SYS/shell/shell.c **** 
 884:SYS/shell/shell.c ****     shell->parser.paramCount = 0;
 332              		.loc 1 884 5 is_stmt 1 view .LVU99
 333              		.loc 1 884 30 is_stmt 0 view .LVU100
 334 0018 0021     		movs	r1, #0
 335 001a C186     		strh	r1, [r0, #54]	@ movhi
 885:SYS/shell/shell.c ****     for (unsigned short i = 0; i < shell->parser.length; i++)
 336              		.loc 1 885 5 is_stmt 1 view .LVU101
 337              	.LBB4:
 338              		.loc 1 885 10 view .LVU102
 339              	.LVL34:
 340              		.loc 1 885 25 is_stmt 0 view .LVU103
 341 001c 0B46     		mov	r3, r1
 342              	.LVL35:
 343              		.loc 1 885 25 view .LVU104
 344              	.LBE4:
 877:SYS/shell/shell.c **** 
 345              		.loc 1 877 19 view .LVU105
 346 001e 0125     		movs	r5, #1
 347              	.LBB5:
 348              		.loc 1 885 5 view .LVU106
 349 0020 0DE0     		b	.L33
 350              	.LVL36:
 351              	.L34:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 23


 886:SYS/shell/shell.c ****     {
 887:SYS/shell/shell.c ****         if (quotes != 0
 888:SYS/shell/shell.c ****             || (shell->parser.buffer[i] != ' '
 889:SYS/shell/shell.c ****                 && shell->parser.buffer[i] != 0))
 890:SYS/shell/shell.c ****         {
 891:SYS/shell/shell.c ****             if (shell->parser.buffer[i] == '\"')
 352              		.loc 1 891 13 is_stmt 1 view .LVU107
 353              		.loc 1 891 30 is_stmt 0 view .LVU108
 354 0022 0269     		ldr	r2, [r0, #16]
 355              		.loc 1 891 37 view .LVU109
 356 0024 9E46     		mov	lr, r3
 357 0026 D418     		adds	r4, r2, r3
 358 0028 12F803C0 		ldrb	ip, [r2, r3]	@ zero_extendqisi2
 359              		.loc 1 891 16 view .LVU110
 360 002c BCF1220F 		cmp	ip, #34
 361 0030 15D0     		beq	.L42
 362              	.L36:
 892:SYS/shell/shell.c ****             {
 893:SYS/shell/shell.c ****                 quotes = quotes ? 0 : 1;
 894:SYS/shell/shell.c ****             }
 895:SYS/shell/shell.c ****             if (record == 1)
 363              		.loc 1 895 13 is_stmt 1 view .LVU111
 364              		.loc 1 895 16 is_stmt 0 view .LVU112
 365 0032 BDB9     		cbnz	r5, .L43
 366              	.LVL37:
 367              	.L37:
 896:SYS/shell/shell.c ****             {
 897:SYS/shell/shell.c ****                 if (shell->parser.paramCount < SHELL_PARAMETER_MAX_NUMBER)
 898:SYS/shell/shell.c ****                 {
 899:SYS/shell/shell.c ****                     shell->parser.param[shell->parser.paramCount++] =
 900:SYS/shell/shell.c ****                         &(shell->parser.buffer[i]);
 901:SYS/shell/shell.c ****                 }
 902:SYS/shell/shell.c ****                 record = 0;
 903:SYS/shell/shell.c ****             }
 904:SYS/shell/shell.c ****             if (shell->parser.buffer[i] == '\\'
 368              		.loc 1 904 13 is_stmt 1 view .LVU113
 369              		.loc 1 904 37 is_stmt 0 view .LVU114
 370 0034 2478     		ldrb	r4, [r4]	@ zero_extendqisi2
 371              		.loc 1 904 16 view .LVU115
 372 0036 5C2C     		cmp	r4, #92
 373 0038 23D0     		beq	.L44
 374              	.LVL38:
 375              	.L38:
 885:SYS/shell/shell.c ****     {
 376              		.loc 1 885 58 is_stmt 1 discriminator 2 view .LVU116
 885:SYS/shell/shell.c ****     {
 377              		.loc 1 885 59 is_stmt 0 discriminator 2 view .LVU117
 378 003a 0133     		adds	r3, r3, #1
 379              	.LVL39:
 885:SYS/shell/shell.c ****     {
 380              		.loc 1 885 59 discriminator 2 view .LVU118
 381 003c 9BB2     		uxth	r3, r3
 382              	.LVL40:
 383              	.L33:
 885:SYS/shell/shell.c ****     {
 384              		.loc 1 885 32 is_stmt 1 discriminator 1 view .LVU119
 885:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 24


 385              		.loc 1 885 49 is_stmt 0 discriminator 1 view .LVU120
 386 003e 8289     		ldrh	r2, [r0, #12]
 885:SYS/shell/shell.c ****     {
 387              		.loc 1 885 5 discriminator 1 view .LVU121
 388 0040 9A42     		cmp	r2, r3
 389 0042 25D9     		bls	.L45
 887:SYS/shell/shell.c ****             || (shell->parser.buffer[i] != ' '
 390              		.loc 1 887 9 is_stmt 1 view .LVU122
 887:SYS/shell/shell.c ****             || (shell->parser.buffer[i] != ' '
 391              		.loc 1 887 12 is_stmt 0 view .LVU123
 392 0044 0029     		cmp	r1, #0
 393 0046 ECD1     		bne	.L34
 888:SYS/shell/shell.c ****                 && shell->parser.buffer[i] != 0))
 394              		.loc 1 888 30 view .LVU124
 395 0048 0269     		ldr	r2, [r0, #16]
 888:SYS/shell/shell.c ****                 && shell->parser.buffer[i] != 0))
 396              		.loc 1 888 37 view .LVU125
 397 004a D418     		adds	r4, r2, r3
 398 004c D25C     		ldrb	r2, [r2, r3]	@ zero_extendqisi2
 888:SYS/shell/shell.c ****                 && shell->parser.buffer[i] != 0))
 399              		.loc 1 888 13 view .LVU126
 400 004e 202A     		cmp	r2, #32
 401 0050 01D0     		beq	.L35
 889:SYS/shell/shell.c ****         {
 402              		.loc 1 889 17 view .LVU127
 403 0052 002A     		cmp	r2, #0
 404 0054 E5D1     		bne	.L34
 405              	.L35:
 905:SYS/shell/shell.c ****                 && shell->parser.buffer[i + 1] != 0)
 906:SYS/shell/shell.c ****             {
 907:SYS/shell/shell.c ****                 i++;
 908:SYS/shell/shell.c ****             }
 909:SYS/shell/shell.c ****         }
 910:SYS/shell/shell.c ****         else
 911:SYS/shell/shell.c ****         {
 912:SYS/shell/shell.c ****             shell->parser.buffer[i] = 0;
 406              		.loc 1 912 13 is_stmt 1 view .LVU128
 407              		.loc 1 912 37 is_stmt 0 view .LVU129
 408 0056 0022     		movs	r2, #0
 409 0058 2270     		strb	r2, [r4]
 913:SYS/shell/shell.c ****             record = 1;
 410              		.loc 1 913 13 is_stmt 1 view .LVU130
 411              	.LVL41:
 412              		.loc 1 913 20 is_stmt 0 view .LVU131
 413 005a 0125     		movs	r5, #1
 414 005c EDE7     		b	.L38
 415              	.LVL42:
 416              	.L42:
 893:SYS/shell/shell.c ****             }
 417              		.loc 1 893 17 is_stmt 1 view .LVU132
 893:SYS/shell/shell.c ****             }
 418              		.loc 1 893 37 is_stmt 0 view .LVU133
 419 005e 81F00101 		eor	r1, r1, #1
 420              	.LVL43:
 893:SYS/shell/shell.c ****             }
 421              		.loc 1 893 37 view .LVU134
 422 0062 E6E7     		b	.L36
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 25


 423              	.L43:
 897:SYS/shell/shell.c ****                 {
 424              		.loc 1 897 17 is_stmt 1 view .LVU135
 897:SYS/shell/shell.c ****                 {
 425              		.loc 1 897 34 is_stmt 0 view .LVU136
 426 0064 C58E     		ldrh	r5, [r0, #54]
 427              	.LVL44:
 897:SYS/shell/shell.c ****                 {
 428              		.loc 1 897 20 view .LVU137
 429 0066 072D     		cmp	r5, #7
 430 0068 09D8     		bhi	.L40
 899:SYS/shell/shell.c ****                         &(shell->parser.buffer[i]);
 431              		.loc 1 899 21 is_stmt 1 view .LVU138
 899:SYS/shell/shell.c ****                         &(shell->parser.buffer[i]);
 432              		.loc 1 899 65 is_stmt 0 view .LVU139
 433 006a 05F1010C 		add	ip, r5, #1
 434 006e A0F836C0 		strh	ip, [r0, #54]	@ movhi
 899:SYS/shell/shell.c ****                         &(shell->parser.buffer[i]);
 435              		.loc 1 899 69 view .LVU140
 436 0072 0435     		adds	r5, r5, #4
 437 0074 00EB8505 		add	r5, r0, r5, lsl #2
 438 0078 6C60     		str	r4, [r5, #4]
 902:SYS/shell/shell.c ****             }
 439              		.loc 1 902 24 view .LVU141
 440 007a 0025     		movs	r5, #0
 441 007c DAE7     		b	.L37
 442              	.L40:
 443 007e 0025     		movs	r5, #0
 444 0080 D8E7     		b	.L37
 445              	.LVL45:
 446              	.L44:
 905:SYS/shell/shell.c ****             {
 447              		.loc 1 905 40 view .LVU142
 448 0082 7244     		add	r2, r2, lr
 449 0084 5278     		ldrb	r2, [r2, #1]	@ zero_extendqisi2
 905:SYS/shell/shell.c ****             {
 450              		.loc 1 905 17 view .LVU143
 451 0086 002A     		cmp	r2, #0
 452 0088 D7D0     		beq	.L38
 907:SYS/shell/shell.c ****             }
 453              		.loc 1 907 17 is_stmt 1 view .LVU144
 907:SYS/shell/shell.c ****             }
 454              		.loc 1 907 18 is_stmt 0 view .LVU145
 455 008a 0133     		adds	r3, r3, #1
 456              	.LVL46:
 907:SYS/shell/shell.c ****             }
 457              		.loc 1 907 18 view .LVU146
 458 008c 9BB2     		uxth	r3, r3
 459              	.LVL47:
 907:SYS/shell/shell.c ****             }
 460              		.loc 1 907 18 view .LVU147
 461 008e D4E7     		b	.L38
 462              	.L45:
 907:SYS/shell/shell.c ****             }
 463              		.loc 1 907 18 view .LVU148
 464              	.LBE5:
 914:SYS/shell/shell.c ****         }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 26


 915:SYS/shell/shell.c ****     }
 916:SYS/shell/shell.c **** }
 465              		.loc 1 916 1 view .LVU149
 466 0090 30BD     		pop	{r4, r5, pc}
 467              		.loc 1 916 1 view .LVU150
 468              		.cfi_endproc
 469              	.LFE152:
 471              		.section	.text.shellHistoryAdd,"ax",%progbits
 472              		.align	1
 473              		.syntax unified
 474              		.thumb
 475              		.thumb_func
 476              		.fpu fpv4-sp-d16
 478              	shellHistoryAdd:
 479              	.LVL48:
 480              	.LFB163:
 917:SYS/shell/shell.c **** 
 918:SYS/shell/shell.c **** 
 919:SYS/shell/shell.c **** /**
 920:SYS/shell/shell.c ****  * @brief shell去除字符串参数头尾的双引号
 921:SYS/shell/shell.c ****  * 
 922:SYS/shell/shell.c ****  * @param shell shell对象
 923:SYS/shell/shell.c ****  */
 924:SYS/shell/shell.c **** static void shellRemoveParamQuotes(Shell *shell)
 925:SYS/shell/shell.c **** {
 926:SYS/shell/shell.c ****     unsigned short paramLength;
 927:SYS/shell/shell.c ****     for (unsigned short i = 0; i < shell->parser.paramCount; i++)
 928:SYS/shell/shell.c ****     {
 929:SYS/shell/shell.c ****         if (shell->parser.param[i][0] == '\"')
 930:SYS/shell/shell.c ****         {
 931:SYS/shell/shell.c ****             shell->parser.param[i][0] = 0;
 932:SYS/shell/shell.c ****             shell->parser.param[i] = &shell->parser.param[i][1];
 933:SYS/shell/shell.c ****         }
 934:SYS/shell/shell.c ****         paramLength = strlen(shell->parser.param[i]);
 935:SYS/shell/shell.c ****         if (shell->parser.param[i][paramLength - 1] == '\"')
 936:SYS/shell/shell.c ****         {
 937:SYS/shell/shell.c ****             shell->parser.param[i][paramLength - 1] = 0;
 938:SYS/shell/shell.c ****         }
 939:SYS/shell/shell.c ****     }
 940:SYS/shell/shell.c **** }
 941:SYS/shell/shell.c **** 
 942:SYS/shell/shell.c **** 
 943:SYS/shell/shell.c **** /**
 944:SYS/shell/shell.c ****  * @brief shell匹配命令
 945:SYS/shell/shell.c ****  * 
 946:SYS/shell/shell.c ****  * @param shell shell对象
 947:SYS/shell/shell.c ****  * @param cmd 命令
 948:SYS/shell/shell.c ****  * @param base 匹配命令表基址
 949:SYS/shell/shell.c ****  * @param compareLength 匹配字符串长度
 950:SYS/shell/shell.c ****  * @return ShellCommand* 匹配到的命令
 951:SYS/shell/shell.c ****  */
 952:SYS/shell/shell.c **** ShellCommand* shellSeekCommand(Shell *shell,
 953:SYS/shell/shell.c ****                                const char *cmd,
 954:SYS/shell/shell.c ****                                ShellCommand *base,
 955:SYS/shell/shell.c ****                                unsigned short compareLength)
 956:SYS/shell/shell.c **** {
 957:SYS/shell/shell.c ****     const char *name;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 27


 958:SYS/shell/shell.c ****     int ret;
 959:SYS/shell/shell.c ****     unsigned short count = shell->commandList.count -
 960:SYS/shell/shell.c ****         ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 961:SYS/shell/shell.c ****     for (unsigned short i = 0; i < count; i++)
 962:SYS/shell/shell.c ****     {
 963:SYS/shell/shell.c ****         if (base[i].attr.attrs.type == SHELL_TYPE_KEY
 964:SYS/shell/shell.c ****             || shellCheckPermission(shell, &base[i]) != 0)
 965:SYS/shell/shell.c ****         {
 966:SYS/shell/shell.c ****             continue;
 967:SYS/shell/shell.c ****         }
 968:SYS/shell/shell.c ****         name = shellGetCommandName(&base[i]);
 969:SYS/shell/shell.c ****         if (!compareLength)
 970:SYS/shell/shell.c ****         {
 971:SYS/shell/shell.c ****             ret = strcmp(cmd, name);
 972:SYS/shell/shell.c ****             if (strcmp(cmd, name) == 0)
 973:SYS/shell/shell.c ****             {
 974:SYS/shell/shell.c ****                 return &base[i];
 975:SYS/shell/shell.c ****             }
 976:SYS/shell/shell.c ****         }
 977:SYS/shell/shell.c ****         else
 978:SYS/shell/shell.c ****         {
 979:SYS/shell/shell.c ****             if (strncmp(cmd, name, compareLength) == 0)
 980:SYS/shell/shell.c ****             {
 981:SYS/shell/shell.c ****                 return &base[i];
 982:SYS/shell/shell.c ****             }
 983:SYS/shell/shell.c ****         }
 984:SYS/shell/shell.c ****     }
 985:SYS/shell/shell.c ****     return NULL;
 986:SYS/shell/shell.c **** }
 987:SYS/shell/shell.c **** 
 988:SYS/shell/shell.c **** 
 989:SYS/shell/shell.c **** /**
 990:SYS/shell/shell.c ****  * @brief shell 获取变量值
 991:SYS/shell/shell.c ****  * 
 992:SYS/shell/shell.c ****  * @param shell shell对象
 993:SYS/shell/shell.c ****  * @param command 命令
 994:SYS/shell/shell.c ****  * @return int 变量值
 995:SYS/shell/shell.c ****  */
 996:SYS/shell/shell.c **** int shellGetVarValue(Shell *shell, ShellCommand *command)
 997:SYS/shell/shell.c **** {
 998:SYS/shell/shell.c ****     int value = 0;
 999:SYS/shell/shell.c ****     switch (command->attr.attrs.type)
1000:SYS/shell/shell.c ****     {
1001:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_INT:
1002:SYS/shell/shell.c ****         value = *((int *)(command->data.var.value));
1003:SYS/shell/shell.c ****         break;
1004:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_SHORT:
1005:SYS/shell/shell.c ****         value = *((short *)(command->data.var.value));
1006:SYS/shell/shell.c ****         break;
1007:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_CHAR:
1008:SYS/shell/shell.c ****         value = *((char *)(command->data.var.value));
1009:SYS/shell/shell.c ****         break;
1010:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_STRING:
1011:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_POINT:
1012:SYS/shell/shell.c ****         value = (int)(command->data.var.value);
1013:SYS/shell/shell.c ****         break;
1014:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_NODE:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 28


1015:SYS/shell/shell.c ****         value = ((ShellNodeVarAttr *)command->data.var.value)->get ?
1016:SYS/shell/shell.c ****                     ((ShellNodeVarAttr *)command->data.var.value)
1017:SYS/shell/shell.c ****                         ->get(((ShellNodeVarAttr *)command->data.var.value)->var) : 0;
1018:SYS/shell/shell.c ****         break;
1019:SYS/shell/shell.c ****     default:
1020:SYS/shell/shell.c ****         break;
1021:SYS/shell/shell.c ****     }
1022:SYS/shell/shell.c ****     return value;
1023:SYS/shell/shell.c **** }
1024:SYS/shell/shell.c **** 
1025:SYS/shell/shell.c **** 
1026:SYS/shell/shell.c **** /**
1027:SYS/shell/shell.c ****  * @brief shell设置变量值
1028:SYS/shell/shell.c ****  * 
1029:SYS/shell/shell.c ****  * @param shell shell对象
1030:SYS/shell/shell.c ****  * @param command 命令
1031:SYS/shell/shell.c ****  * @param value 值
1032:SYS/shell/shell.c ****  * @return int 返回变量值
1033:SYS/shell/shell.c ****  */
1034:SYS/shell/shell.c **** int shellSetVarValue(Shell *shell, ShellCommand *command, int value)
1035:SYS/shell/shell.c **** {
1036:SYS/shell/shell.c ****     if (command->attr.attrs.readOnly)
1037:SYS/shell/shell.c ****     {
1038:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_VAR_READ_ONLY_CANNOT_MODIFY]);
1039:SYS/shell/shell.c ****     }
1040:SYS/shell/shell.c ****     else
1041:SYS/shell/shell.c ****     {
1042:SYS/shell/shell.c ****         switch (command->attr.attrs.type)
1043:SYS/shell/shell.c ****         {
1044:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_INT:
1045:SYS/shell/shell.c ****             *((int *)(command->data.var.value)) = value;
1046:SYS/shell/shell.c ****             break;
1047:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_SHORT:
1048:SYS/shell/shell.c ****             *((short *)(command->data.var.value)) = value;
1049:SYS/shell/shell.c ****             break;
1050:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_CHAR:
1051:SYS/shell/shell.c ****             *((char *)(command->data.var.value)) = value;
1052:SYS/shell/shell.c ****             break;
1053:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_STRING:
1054:SYS/shell/shell.c ****             shellStringCopy(((char *)(command->data.var.value)), (char *)value);
1055:SYS/shell/shell.c ****             break;
1056:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_POINT:
1057:SYS/shell/shell.c ****             shellWriteString(shell, shellText[SHELL_TEXT_POINT_CANNOT_MODIFY]);
1058:SYS/shell/shell.c ****             break;
1059:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_NODE:
1060:SYS/shell/shell.c ****             if (((ShellNodeVarAttr *)command->data.var.value)->set)
1061:SYS/shell/shell.c ****             {
1062:SYS/shell/shell.c ****                 if (((ShellNodeVarAttr *)command->data.var.value)->var)
1063:SYS/shell/shell.c ****                 {
1064:SYS/shell/shell.c ****                     ((ShellNodeVarAttr *)command->data.var.value)
1065:SYS/shell/shell.c ****                         ->set(((ShellNodeVarAttr *)command->data.var.value)->var, value);
1066:SYS/shell/shell.c ****                 }
1067:SYS/shell/shell.c ****                 else
1068:SYS/shell/shell.c ****                 {
1069:SYS/shell/shell.c ****                     ((ShellNodeVarAttr *)command->data.var.value)->set(value);
1070:SYS/shell/shell.c ****                 }
1071:SYS/shell/shell.c ****             }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 29


1072:SYS/shell/shell.c ****             break;
1073:SYS/shell/shell.c ****         default:
1074:SYS/shell/shell.c ****             break;
1075:SYS/shell/shell.c ****         }
1076:SYS/shell/shell.c ****     }
1077:SYS/shell/shell.c ****     return shellShowVar(shell, command);
1078:SYS/shell/shell.c **** }
1079:SYS/shell/shell.c **** 
1080:SYS/shell/shell.c **** 
1081:SYS/shell/shell.c **** /**
1082:SYS/shell/shell.c ****  * @brief shell变量输出
1083:SYS/shell/shell.c ****  * 
1084:SYS/shell/shell.c ****  * @param shell shell对象
1085:SYS/shell/shell.c ****  * @param command 命令
1086:SYS/shell/shell.c ****  * @return int 返回变量值
1087:SYS/shell/shell.c ****  */
1088:SYS/shell/shell.c **** static int shellShowVar(Shell *shell, ShellCommand *command)
1089:SYS/shell/shell.c **** {
1090:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
1091:SYS/shell/shell.c ****     int value = shellGetVarValue(shell, command);
1092:SYS/shell/shell.c ****     
1093:SYS/shell/shell.c ****     shellWriteString(shell, command->data.var.name);
1094:SYS/shell/shell.c ****     shellWriteString(shell, " = ");
1095:SYS/shell/shell.c **** 
1096:SYS/shell/shell.c ****     switch (command->attr.attrs.type)
1097:SYS/shell/shell.c ****     {
1098:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_STRING:
1099:SYS/shell/shell.c ****         shellWriteString(shell, "\"");
1100:SYS/shell/shell.c ****         shellWriteString(shell, (char *)value);
1101:SYS/shell/shell.c ****         shellWriteString(shell, "\"");
1102:SYS/shell/shell.c ****         break;
1103:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_INT:
1104:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_SHORT:
1105:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_CHAR:
1106:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_POINT:
1107:SYS/shell/shell.c ****     default:
1108:SYS/shell/shell.c ****         shellWriteString(shell, &buffer[11 - shellToDec(value, buffer)]);
1109:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
1110:SYS/shell/shell.c ****         for (short i = 0; i < 11; i++)
1111:SYS/shell/shell.c ****         {
1112:SYS/shell/shell.c ****             buffer[i] = '0';
1113:SYS/shell/shell.c ****         }
1114:SYS/shell/shell.c ****         shellToHex(value, buffer);
1115:SYS/shell/shell.c ****         shellWriteString(shell, buffer);
1116:SYS/shell/shell.c ****         break;
1117:SYS/shell/shell.c ****     }
1118:SYS/shell/shell.c **** 
1119:SYS/shell/shell.c ****     shellWriteString(shell, "\r\n");
1120:SYS/shell/shell.c ****     return value;
1121:SYS/shell/shell.c **** }
1122:SYS/shell/shell.c **** 
1123:SYS/shell/shell.c **** 
1124:SYS/shell/shell.c **** /**
1125:SYS/shell/shell.c ****  * @brief shell设置变量
1126:SYS/shell/shell.c ****  * 
1127:SYS/shell/shell.c ****  * @param name 变量名
1128:SYS/shell/shell.c ****  * @param value 变量值
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 30


1129:SYS/shell/shell.c ****  * @return int 返回变量值
1130:SYS/shell/shell.c ****  */
1131:SYS/shell/shell.c **** int shellSetVar(char *name, int value)
1132:SYS/shell/shell.c **** {
1133:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1134:SYS/shell/shell.c ****     if (shell == NULL)
1135:SYS/shell/shell.c ****     {
1136:SYS/shell/shell.c ****         return 0;
1137:SYS/shell/shell.c ****     }
1138:SYS/shell/shell.c ****     ShellCommand *command = shellSeekCommand(shell,
1139:SYS/shell/shell.c ****                                              name,
1140:SYS/shell/shell.c ****                                              shell->commandList.base,
1141:SYS/shell/shell.c ****                                              0);
1142:SYS/shell/shell.c ****     if (!command)
1143:SYS/shell/shell.c ****     {
1144:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_VAR_NOT_FOUND]);
1145:SYS/shell/shell.c ****         return 0;
1146:SYS/shell/shell.c ****     }
1147:SYS/shell/shell.c ****     if (command->attr.attrs.type < SHELL_TYPE_VAR_INT
1148:SYS/shell/shell.c ****         || command->attr.attrs.type > SHELL_TYPE_VAR_NODE)
1149:SYS/shell/shell.c ****     {
1150:SYS/shell/shell.c ****         shellWriteString(shell, name);
1151:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_NOT_VAR]);
1152:SYS/shell/shell.c ****         return 0;
1153:SYS/shell/shell.c ****     }
1154:SYS/shell/shell.c ****     return shellSetVarValue(shell, command, value);
1155:SYS/shell/shell.c **** }
1156:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1157:SYS/shell/shell.c **** SHELL_CMD_PERMISSION(0)|SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC)|SHELL_CMD_DISABLE_RETURN,
1158:SYS/shell/shell.c **** setVar, shellSetVar, set var);
1159:SYS/shell/shell.c **** 
1160:SYS/shell/shell.c **** 
1161:SYS/shell/shell.c **** /**
1162:SYS/shell/shell.c ****  * @brief shell运行命令
1163:SYS/shell/shell.c ****  * 
1164:SYS/shell/shell.c ****  * @param shell shell对象
1165:SYS/shell/shell.c ****  * @param command 命令
1166:SYS/shell/shell.c ****  * 
1167:SYS/shell/shell.c ****  * @return unsigned int 命令返回值
1168:SYS/shell/shell.c ****  */
1169:SYS/shell/shell.c **** unsigned int shellRunCommand(Shell *shell, ShellCommand *command)
1170:SYS/shell/shell.c **** {
1171:SYS/shell/shell.c ****     int returnValue = 0;
1172:SYS/shell/shell.c ****     shell->status.isActive = 1;
1173:SYS/shell/shell.c ****     if (command->attr.attrs.type == SHELL_TYPE_CMD_MAIN)
1174:SYS/shell/shell.c ****     {
1175:SYS/shell/shell.c ****         shellRemoveParamQuotes(shell);
1176:SYS/shell/shell.c ****         returnValue = command->data.cmd.function(shell->parser.paramCount,
1177:SYS/shell/shell.c ****                                                  shell->parser.param);
1178:SYS/shell/shell.c ****         if (!command->attr.attrs.disableReturn)
1179:SYS/shell/shell.c ****         {
1180:SYS/shell/shell.c ****             shellWriteReturnValue(shell, returnValue);
1181:SYS/shell/shell.c ****         }
1182:SYS/shell/shell.c ****     }
1183:SYS/shell/shell.c ****     else if (command->attr.attrs.type == SHELL_TYPE_CMD_FUNC)
1184:SYS/shell/shell.c ****     {
1185:SYS/shell/shell.c ****         returnValue = shellExtRun(shell,
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 31


1186:SYS/shell/shell.c ****                                   command,
1187:SYS/shell/shell.c ****                                   shell->parser.paramCount,
1188:SYS/shell/shell.c ****                                   shell->parser.param);
1189:SYS/shell/shell.c ****         if (!command->attr.attrs.disableReturn)
1190:SYS/shell/shell.c ****         {
1191:SYS/shell/shell.c ****             shellWriteReturnValue(shell, returnValue);
1192:SYS/shell/shell.c ****         }
1193:SYS/shell/shell.c ****     }
1194:SYS/shell/shell.c ****     else if (command->attr.attrs.type >= SHELL_TYPE_VAR_INT
1195:SYS/shell/shell.c ****         && command->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
1196:SYS/shell/shell.c ****     {
1197:SYS/shell/shell.c ****         shellShowVar(shell, command);
1198:SYS/shell/shell.c ****     }
1199:SYS/shell/shell.c ****     else if (command->attr.attrs.type == SHELL_TYPE_USER)
1200:SYS/shell/shell.c ****     {
1201:SYS/shell/shell.c ****         shellSetUser(shell, command);
1202:SYS/shell/shell.c ****     }
1203:SYS/shell/shell.c ****     shell->status.isActive = 0;
1204:SYS/shell/shell.c **** 
1205:SYS/shell/shell.c ****     return returnValue;
1206:SYS/shell/shell.c **** }
1207:SYS/shell/shell.c **** 
1208:SYS/shell/shell.c **** 
1209:SYS/shell/shell.c **** /**
1210:SYS/shell/shell.c ****  * @brief shell校验密码
1211:SYS/shell/shell.c ****  * 
1212:SYS/shell/shell.c ****  * @param shell shell对象
1213:SYS/shell/shell.c ****  */
1214:SYS/shell/shell.c **** static void shellCheckPassword(Shell *shell)
1215:SYS/shell/shell.c **** {
1216:SYS/shell/shell.c ****     if (strcmp(shell->parser.buffer, shell->info.user->data.user.password) == 0)
1217:SYS/shell/shell.c ****     {
1218:SYS/shell/shell.c ****         shell->status.isChecked = 1;
1219:SYS/shell/shell.c ****     #if SHELL_SHOW_INFO == 1
1220:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_INFO]);
1221:SYS/shell/shell.c ****     #endif
1222:SYS/shell/shell.c ****     }
1223:SYS/shell/shell.c ****     else
1224:SYS/shell/shell.c ****     {
1225:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_PASSWORD_ERROR]);
1226:SYS/shell/shell.c ****     }
1227:SYS/shell/shell.c ****     shell->parser.length = 0;
1228:SYS/shell/shell.c ****     shell->parser.cursor = 0;
1229:SYS/shell/shell.c **** }
1230:SYS/shell/shell.c **** 
1231:SYS/shell/shell.c **** 
1232:SYS/shell/shell.c **** /**
1233:SYS/shell/shell.c ****  * @brief shell设置用户
1234:SYS/shell/shell.c ****  * 
1235:SYS/shell/shell.c ****  * @param shell shell对象
1236:SYS/shell/shell.c ****  * @param user 用户
1237:SYS/shell/shell.c ****  */
1238:SYS/shell/shell.c **** static void shellSetUser(Shell *shell, const ShellCommand *user)
1239:SYS/shell/shell.c **** {
1240:SYS/shell/shell.c ****     shell->info.user = user;
1241:SYS/shell/shell.c ****     shell->status.isChecked = 
1242:SYS/shell/shell.c ****         ((user->data.user.password && strlen(user->data.user.password) != 0)
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 32


1243:SYS/shell/shell.c ****             && (shell->parser.paramCount < 2
1244:SYS/shell/shell.c ****                 || strcmp(user->data.user.password, shell->parser.param[1]) != 0))
1245:SYS/shell/shell.c ****          ? 0 : 1;
1246:SYS/shell/shell.c ****         
1247:SYS/shell/shell.c **** #if SHELL_CLS_WHEN_LOGIN == 1
1248:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_CLEAR_CONSOLE]);
1249:SYS/shell/shell.c **** #endif
1250:SYS/shell/shell.c **** #if SHELL_SHOW_INFO == 1
1251:SYS/shell/shell.c ****     if (shell->status.isChecked)
1252:SYS/shell/shell.c ****     {
1253:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_INFO]);
1254:SYS/shell/shell.c ****     }
1255:SYS/shell/shell.c **** #endif
1256:SYS/shell/shell.c **** }
1257:SYS/shell/shell.c **** 
1258:SYS/shell/shell.c **** 
1259:SYS/shell/shell.c **** /**
1260:SYS/shell/shell.c ****  * @brief shell写返回值
1261:SYS/shell/shell.c ****  * 
1262:SYS/shell/shell.c ****  * @param shell shell对象
1263:SYS/shell/shell.c ****  * @param value 返回值
1264:SYS/shell/shell.c ****  */
1265:SYS/shell/shell.c **** static void shellWriteReturnValue(Shell *shell, int value)
1266:SYS/shell/shell.c **** {
1267:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
1268:SYS/shell/shell.c ****     shellWriteString(shell, "Return: ");
1269:SYS/shell/shell.c ****     shellWriteString(shell, &buffer[11 - shellToDec(value, buffer)]);
1270:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
1271:SYS/shell/shell.c ****     for (short i = 0; i < 11; i++)
1272:SYS/shell/shell.c ****     {
1273:SYS/shell/shell.c ****         buffer[i] = '0';
1274:SYS/shell/shell.c ****     }
1275:SYS/shell/shell.c ****     shellToHex(value, buffer);
1276:SYS/shell/shell.c ****     shellWriteString(shell, buffer);
1277:SYS/shell/shell.c ****     shellWriteString(shell, "\r\n");
1278:SYS/shell/shell.c **** }
1279:SYS/shell/shell.c **** 
1280:SYS/shell/shell.c **** 
1281:SYS/shell/shell.c **** /**
1282:SYS/shell/shell.c ****  * @brief shell历史记录添加
1283:SYS/shell/shell.c ****  * 
1284:SYS/shell/shell.c ****  * @param shell shell对象
1285:SYS/shell/shell.c ****  */
1286:SYS/shell/shell.c **** static void shellHistoryAdd(Shell *shell)
1287:SYS/shell/shell.c **** {
 481              		.loc 1 1287 1 is_stmt 1 view -0
 482              		.cfi_startproc
 483              		@ args = 0, pretend = 0, frame = 0
 484              		@ frame_needed = 0, uses_anonymous_args = 0
 485              		.loc 1 1287 1 is_stmt 0 view .LVU152
 486 0000 10B5     		push	{r4, lr}
 487              	.LCFI3:
 488              		.cfi_def_cfa_offset 8
 489              		.cfi_offset 4, -8
 490              		.cfi_offset 14, -4
 491 0002 0446     		mov	r4, r0
1288:SYS/shell/shell.c ****     shell->history.offset = 0;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 33


 492              		.loc 1 1288 5 is_stmt 1 view .LVU153
 493              		.loc 1 1288 27 is_stmt 0 view .LVU154
 494 0004 0023     		movs	r3, #0
 495 0006 A0F85430 		strh	r3, [r0, #84]	@ movhi
1289:SYS/shell/shell.c ****     if (shell->history.number > 0
 496              		.loc 1 1289 5 is_stmt 1 view .LVU155
 497              		.loc 1 1289 23 is_stmt 0 view .LVU156
 498 000a B0F85030 		ldrh	r3, [r0, #80]
 499              		.loc 1 1289 8 view .LVU157
 500 000e 5BB1     		cbz	r3, .L47
1290:SYS/shell/shell.c ****         && strcmp(shell->history.item[(shell->history.record == 0 ? 
 501              		.loc 1 1290 54 view .LVU158
 502 0010 B0F85230 		ldrh	r3, [r0, #82]
1291:SYS/shell/shell.c ****                 SHELL_HISTORY_MAX_NUMBER : shell->history.record) - 1],
 503              		.loc 1 1291 67 view .LVU159
 504 0014 53B3     		cbz	r3, .L52
 505              		.loc 1 1291 67 discriminator 1 view .LVU160
 506 0016 013B     		subs	r3, r3, #1
 507              	.L48:
1290:SYS/shell/shell.c ****         && strcmp(shell->history.item[(shell->history.record == 0 ? 
 508              		.loc 1 1290 38 view .LVU161
 509 0018 0E33     		adds	r3, r3, #14
 510 001a 04EB8303 		add	r3, r4, r3, lsl #2
1290:SYS/shell/shell.c ****         && strcmp(shell->history.item[(shell->history.record == 0 ? 
 511              		.loc 1 1290 12 view .LVU162
 512 001e 2169     		ldr	r1, [r4, #16]
 513 0020 5868     		ldr	r0, [r3, #4]
 514              	.LVL49:
1290:SYS/shell/shell.c ****         && strcmp(shell->history.item[(shell->history.record == 0 ? 
 515              		.loc 1 1290 12 view .LVU163
 516 0022 FFF7FEFF 		bl	strcmp
 517              	.LVL50:
1290:SYS/shell/shell.c ****         && strcmp(shell->history.item[(shell->history.record == 0 ? 
 518              		.loc 1 1290 9 view .LVU164
 519 0026 00B3     		cbz	r0, .L46
 520              	.L47:
1292:SYS/shell/shell.c ****                 shell->parser.buffer) == 0)
1293:SYS/shell/shell.c ****     {
1294:SYS/shell/shell.c ****         return;
1295:SYS/shell/shell.c ****     }
1296:SYS/shell/shell.c ****     if (shellStringCopy(shell->history.item[shell->history.record],
 521              		.loc 1 1296 5 is_stmt 1 view .LVU165
 522              		.loc 1 1296 59 is_stmt 0 view .LVU166
 523 0028 B4F85230 		ldrh	r3, [r4, #82]
 524              		.loc 1 1296 9 view .LVU167
 525 002c 0E33     		adds	r3, r3, #14
 526 002e 04EB8303 		add	r3, r4, r3, lsl #2
 527 0032 2169     		ldr	r1, [r4, #16]
 528 0034 5868     		ldr	r0, [r3, #4]
 529 0036 FFF7FEFF 		bl	shellStringCopy
 530              	.LVL51:
 531              		.loc 1 1296 8 view .LVU168
 532 003a 20B1     		cbz	r0, .L50
1297:SYS/shell/shell.c ****                         shell->parser.buffer) != 0)
1298:SYS/shell/shell.c ****     {
1299:SYS/shell/shell.c ****         shell->history.record++;
 533              		.loc 1 1299 9 is_stmt 1 view .LVU169
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 34


 534              		.loc 1 1299 23 is_stmt 0 view .LVU170
 535 003c B4F85230 		ldrh	r3, [r4, #82]
 536              		.loc 1 1299 30 view .LVU171
 537 0040 0133     		adds	r3, r3, #1
 538 0042 A4F85230 		strh	r3, [r4, #82]	@ movhi
 539              	.L50:
1300:SYS/shell/shell.c ****     }
1301:SYS/shell/shell.c ****     if (++shell->history.number > SHELL_HISTORY_MAX_NUMBER)
 540              		.loc 1 1301 5 is_stmt 1 view .LVU172
 541              		.loc 1 1301 25 is_stmt 0 view .LVU173
 542 0046 B4F85030 		ldrh	r3, [r4, #80]
 543              		.loc 1 1301 9 view .LVU174
 544 004a 0133     		adds	r3, r3, #1
 545 004c 9BB2     		uxth	r3, r3
 546              		.loc 1 1301 8 view .LVU175
 547 004e A4F85030 		strh	r3, [r4, #80]	@ movhi
 548 0052 052B     		cmp	r3, #5
 549 0054 02D9     		bls	.L51
1302:SYS/shell/shell.c ****     {
1303:SYS/shell/shell.c ****         shell->history.number = SHELL_HISTORY_MAX_NUMBER;
 550              		.loc 1 1303 9 is_stmt 1 view .LVU176
 551              		.loc 1 1303 31 is_stmt 0 view .LVU177
 552 0056 0523     		movs	r3, #5
 553 0058 A4F85030 		strh	r3, [r4, #80]	@ movhi
 554              	.L51:
1304:SYS/shell/shell.c ****     }
1305:SYS/shell/shell.c ****     if (shell->history.record >= SHELL_HISTORY_MAX_NUMBER)
 555              		.loc 1 1305 5 is_stmt 1 view .LVU178
 556              		.loc 1 1305 23 is_stmt 0 view .LVU179
 557 005c B4F85230 		ldrh	r3, [r4, #82]
 558              		.loc 1 1305 8 view .LVU180
 559 0060 042B     		cmp	r3, #4
 560 0062 02D9     		bls	.L46
1306:SYS/shell/shell.c ****     {
1307:SYS/shell/shell.c ****         shell->history.record = 0;
 561              		.loc 1 1307 9 is_stmt 1 view .LVU181
 562              		.loc 1 1307 31 is_stmt 0 view .LVU182
 563 0064 0023     		movs	r3, #0
 564 0066 A4F85230 		strh	r3, [r4, #82]	@ movhi
 565              	.L46:
1308:SYS/shell/shell.c ****     }
1309:SYS/shell/shell.c **** }
 566              		.loc 1 1309 1 view .LVU183
 567 006a 10BD     		pop	{r4, pc}
 568              	.LVL52:
 569              	.L52:
1291:SYS/shell/shell.c ****                 shell->parser.buffer) == 0)
 570              		.loc 1 1291 67 view .LVU184
 571 006c 0423     		movs	r3, #4
 572 006e D3E7     		b	.L48
 573              		.cfi_endproc
 574              	.LFE163:
 576              		.section	.text.shellRemoveParamQuotes,"ax",%progbits
 577              		.align	1
 578              		.syntax unified
 579              		.thumb
 580              		.thumb_func
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 35


 581              		.fpu fpv4-sp-d16
 583              	shellRemoveParamQuotes:
 584              	.LVL53:
 585              	.LFB153:
 925:SYS/shell/shell.c ****     unsigned short paramLength;
 586              		.loc 1 925 1 is_stmt 1 view -0
 587              		.cfi_startproc
 588              		@ args = 0, pretend = 0, frame = 0
 589              		@ frame_needed = 0, uses_anonymous_args = 0
 925:SYS/shell/shell.c ****     unsigned short paramLength;
 590              		.loc 1 925 1 is_stmt 0 view .LVU186
 591 0000 70B5     		push	{r4, r5, r6, lr}
 592              	.LCFI4:
 593              		.cfi_def_cfa_offset 16
 594              		.cfi_offset 4, -16
 595              		.cfi_offset 5, -12
 596              		.cfi_offset 6, -8
 597              		.cfi_offset 14, -4
 598 0002 0546     		mov	r5, r0
 926:SYS/shell/shell.c ****     for (unsigned short i = 0; i < shell->parser.paramCount; i++)
 599              		.loc 1 926 5 is_stmt 1 view .LVU187
 927:SYS/shell/shell.c ****     {
 600              		.loc 1 927 5 view .LVU188
 601              	.LBB6:
 927:SYS/shell/shell.c ****     {
 602              		.loc 1 927 10 view .LVU189
 603              	.LVL54:
 927:SYS/shell/shell.c ****     {
 604              		.loc 1 927 25 is_stmt 0 view .LVU190
 605 0004 0024     		movs	r4, #0
 927:SYS/shell/shell.c ****     {
 606              		.loc 1 927 5 view .LVU191
 607 0006 0AE0     		b	.L55
 608              	.LVL55:
 609              	.L61:
 931:SYS/shell/shell.c ****             shell->parser.param[i] = &shell->parser.param[i][1];
 610              		.loc 1 931 13 is_stmt 1 view .LVU192
 931:SYS/shell/shell.c ****             shell->parser.param[i] = &shell->parser.param[i][1];
 611              		.loc 1 931 39 is_stmt 0 view .LVU193
 612 0008 0021     		movs	r1, #0
 613 000a 1170     		strb	r1, [r2]
 932:SYS/shell/shell.c ****         }
 614              		.loc 1 932 13 is_stmt 1 view .LVU194
 932:SYS/shell/shell.c ****         }
 615              		.loc 1 932 58 is_stmt 0 view .LVU195
 616 000c 221D     		adds	r2, r4, #4
 617 000e 05EB8202 		add	r2, r5, r2, lsl #2
 618 0012 5168     		ldr	r1, [r2, #4]
 932:SYS/shell/shell.c ****         }
 619              		.loc 1 932 38 view .LVU196
 620 0014 0131     		adds	r1, r1, #1
 932:SYS/shell/shell.c ****         }
 621              		.loc 1 932 36 view .LVU197
 622 0016 5160     		str	r1, [r2, #4]
 623 0018 0CE0     		b	.L56
 624              	.LVL56:
 625              	.L57:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 36


 927:SYS/shell/shell.c ****     {
 626              		.loc 1 927 62 is_stmt 1 discriminator 2 view .LVU198
 927:SYS/shell/shell.c ****     {
 627              		.loc 1 927 63 is_stmt 0 discriminator 2 view .LVU199
 628 001a 0134     		adds	r4, r4, #1
 629              	.LVL57:
 927:SYS/shell/shell.c ****     {
 630              		.loc 1 927 63 discriminator 2 view .LVU200
 631 001c A4B2     		uxth	r4, r4
 632              	.LVL58:
 633              	.L55:
 927:SYS/shell/shell.c ****     {
 634              		.loc 1 927 32 is_stmt 1 discriminator 1 view .LVU201
 927:SYS/shell/shell.c ****     {
 635              		.loc 1 927 49 is_stmt 0 discriminator 1 view .LVU202
 636 001e EB8E     		ldrh	r3, [r5, #54]
 927:SYS/shell/shell.c ****     {
 637              		.loc 1 927 5 discriminator 1 view .LVU203
 638 0020 A342     		cmp	r3, r4
 639 0022 16D9     		bls	.L60
 929:SYS/shell/shell.c ****         {
 640              		.loc 1 929 9 is_stmt 1 view .LVU204
 929:SYS/shell/shell.c ****         {
 641              		.loc 1 929 32 is_stmt 0 view .LVU205
 642 0024 2346     		mov	r3, r4
 643 0026 221D     		adds	r2, r4, #4
 644 0028 05EB8202 		add	r2, r5, r2, lsl #2
 645 002c 5268     		ldr	r2, [r2, #4]
 929:SYS/shell/shell.c ****         {
 646              		.loc 1 929 35 view .LVU206
 647 002e 1178     		ldrb	r1, [r2]	@ zero_extendqisi2
 929:SYS/shell/shell.c ****         {
 648              		.loc 1 929 12 view .LVU207
 649 0030 2229     		cmp	r1, #34
 650 0032 E9D0     		beq	.L61
 651              	.L56:
 934:SYS/shell/shell.c ****         if (shell->parser.param[i][paramLength - 1] == '\"')
 652              		.loc 1 934 9 is_stmt 1 view .LVU208
 934:SYS/shell/shell.c ****         if (shell->parser.param[i][paramLength - 1] == '\"')
 653              		.loc 1 934 49 is_stmt 0 view .LVU209
 654 0034 0433     		adds	r3, r3, #4
 655 0036 05EB8303 		add	r3, r5, r3, lsl #2
 656 003a 5E68     		ldr	r6, [r3, #4]
 934:SYS/shell/shell.c ****         if (shell->parser.param[i][paramLength - 1] == '\"')
 657              		.loc 1 934 23 view .LVU210
 658 003c 3046     		mov	r0, r6
 659 003e FFF7FEFF 		bl	strlen
 660              	.LVL59:
 935:SYS/shell/shell.c ****         {
 661              		.loc 1 935 9 is_stmt 1 view .LVU211
 935:SYS/shell/shell.c ****         {
 662              		.loc 1 935 35 is_stmt 0 view .LVU212
 663 0042 83B2     		uxth	r3, r0
 664 0044 013B     		subs	r3, r3, #1
 665 0046 F25C     		ldrb	r2, [r6, r3]	@ zero_extendqisi2
 935:SYS/shell/shell.c ****         {
 666              		.loc 1 935 12 view .LVU213
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 37


 667 0048 222A     		cmp	r2, #34
 668 004a E6D1     		bne	.L57
 937:SYS/shell/shell.c ****         }
 669              		.loc 1 937 13 is_stmt 1 view .LVU214
 937:SYS/shell/shell.c ****         }
 670              		.loc 1 937 53 is_stmt 0 view .LVU215
 671 004c 0022     		movs	r2, #0
 672 004e F254     		strb	r2, [r6, r3]
 673 0050 E3E7     		b	.L57
 674              	.LVL60:
 675              	.L60:
 937:SYS/shell/shell.c ****         }
 676              		.loc 1 937 53 view .LVU216
 677              	.LBE6:
 940:SYS/shell/shell.c **** 
 678              		.loc 1 940 1 view .LVU217
 679 0052 70BD     		pop	{r4, r5, r6, pc}
 940:SYS/shell/shell.c **** 
 680              		.loc 1 940 1 view .LVU218
 681              		.cfi_endproc
 682              	.LFE153:
 684              		.section	.text.shellGetCurrent,"ax",%progbits
 685              		.align	1
 686              		.global	shellGetCurrent
 687              		.syntax unified
 688              		.thumb
 689              		.thumb_func
 690              		.fpu fpv4-sp-d16
 692              	shellGetCurrent:
 693              	.LFB128:
 247:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_MAX_NUMBER; i++)
 694              		.loc 1 247 1 is_stmt 1 view -0
 695              		.cfi_startproc
 696              		@ args = 0, pretend = 0, frame = 0
 697              		@ frame_needed = 0, uses_anonymous_args = 0
 698              		@ link register save eliminated.
 248:SYS/shell/shell.c ****     {
 699              		.loc 1 248 5 view .LVU220
 700              	.LBB7:
 248:SYS/shell/shell.c ****     {
 701              		.loc 1 248 10 view .LVU221
 702              	.LVL61:
 248:SYS/shell/shell.c ****     {
 703              		.loc 1 248 16 is_stmt 0 view .LVU222
 704 0000 0023     		movs	r3, #0
 248:SYS/shell/shell.c ****     {
 705              		.loc 1 248 5 view .LVU223
 706 0002 01E0     		b	.L63
 707              	.LVL62:
 708              	.L64:
 248:SYS/shell/shell.c ****     {
 709              		.loc 1 248 45 is_stmt 1 discriminator 2 view .LVU224
 248:SYS/shell/shell.c ****     {
 710              		.loc 1 248 46 is_stmt 0 discriminator 2 view .LVU225
 711 0004 0133     		adds	r3, r3, #1
 712              	.LVL63:
 248:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 38


 713              		.loc 1 248 46 discriminator 2 view .LVU226
 714 0006 1BB2     		sxth	r3, r3
 715              	.LVL64:
 716              	.L63:
 248:SYS/shell/shell.c ****     {
 717              		.loc 1 248 23 is_stmt 1 discriminator 1 view .LVU227
 248:SYS/shell/shell.c ****     {
 718              		.loc 1 248 5 is_stmt 0 discriminator 1 view .LVU228
 719 0008 042B     		cmp	r3, #4
 720 000a 0ADC     		bgt	.L67
 250:SYS/shell/shell.c ****         {
 721              		.loc 1 250 9 is_stmt 1 view .LVU229
 250:SYS/shell/shell.c ****         {
 722              		.loc 1 250 22 is_stmt 0 view .LVU230
 723 000c 064A     		ldr	r2, .L68
 724 000e 52F82300 		ldr	r0, [r2, r3, lsl #2]
 250:SYS/shell/shell.c ****         {
 725              		.loc 1 250 12 view .LVU231
 726 0012 0028     		cmp	r0, #0
 727 0014 F6D0     		beq	.L64
 250:SYS/shell/shell.c ****         {
 728              		.loc 1 250 26 discriminator 1 view .LVU232
 729 0016 90F86020 		ldrb	r2, [r0, #96]	@ zero_extendqisi2
 730 001a 12F0020F 		tst	r2, #2
 731 001e F1D0     		beq	.L64
 732 0020 00E0     		b	.L62
 733              	.L67:
 734              	.LBE7:
 255:SYS/shell/shell.c **** }
 735              		.loc 1 255 12 view .LVU233
 736 0022 0020     		movs	r0, #0
 737              	.L62:
 256:SYS/shell/shell.c **** 
 738              		.loc 1 256 1 view .LVU234
 739 0024 7047     		bx	lr
 740              	.L69:
 741 0026 00BF     		.align	2
 742              	.L68:
 743 0028 00000000 		.word	.LANCHOR0
 744              		.cfi_endproc
 745              	.LFE128:
 747              		.section	.text.shellWriteByte,"ax",%progbits
 748              		.align	1
 749              		.global	shellWriteByte
 750              		.syntax unified
 751              		.thumb
 752              		.thumb_func
 753              		.fpu fpv4-sp-d16
 755              	shellWriteByte:
 756              	.LVL65:
 757              	.LFB129:
 266:SYS/shell/shell.c ****     shell->write(data);
 758              		.loc 1 266 1 is_stmt 1 view -0
 759              		.cfi_startproc
 760              		@ args = 0, pretend = 0, frame = 0
 761              		@ frame_needed = 0, uses_anonymous_args = 0
 266:SYS/shell/shell.c ****     shell->write(data);
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 39


 762              		.loc 1 266 1 is_stmt 0 view .LVU236
 763 0000 08B5     		push	{r3, lr}
 764              	.LCFI5:
 765              		.cfi_def_cfa_offset 8
 766              		.cfi_offset 3, -8
 767              		.cfi_offset 14, -4
 267:SYS/shell/shell.c ****     delay_us(50);
 768              		.loc 1 267 5 is_stmt 1 view .LVU237
 267:SYS/shell/shell.c ****     delay_us(50);
 769              		.loc 1 267 10 is_stmt 0 view .LVU238
 770 0002 836E     		ldr	r3, [r0, #104]
 267:SYS/shell/shell.c ****     delay_us(50);
 771              		.loc 1 267 5 view .LVU239
 772 0004 0846     		mov	r0, r1
 773              	.LVL66:
 267:SYS/shell/shell.c ****     delay_us(50);
 774              		.loc 1 267 5 view .LVU240
 775 0006 9847     		blx	r3
 776              	.LVL67:
 268:SYS/shell/shell.c **** }
 777              		.loc 1 268 5 is_stmt 1 view .LVU241
 778 0008 3220     		movs	r0, #50
 779 000a FFF7FEFF 		bl	delay_us
 780              	.LVL68:
 269:SYS/shell/shell.c **** 
 781              		.loc 1 269 1 is_stmt 0 view .LVU242
 782 000e 08BD     		pop	{r3, pc}
 783              		.cfi_endproc
 784              	.LFE129:
 786              		.section	.text.shellRight,"ax",%progbits
 787              		.align	1
 788              		.global	shellRight
 789              		.syntax unified
 790              		.thumb
 791              		.thumb_func
 792              		.fpu fpv4-sp-d16
 794              	shellRight:
 795              	.LVL69:
 796              	.LFB169:
1310:SYS/shell/shell.c **** 
1311:SYS/shell/shell.c **** 
1312:SYS/shell/shell.c **** /**
1313:SYS/shell/shell.c ****  * @brief shell历史记录查找
1314:SYS/shell/shell.c ****  * 
1315:SYS/shell/shell.c ****  * @param shell shell对象
1316:SYS/shell/shell.c ****  * @param dir 方向 {@code <0}往上查找 {@code >0}往下查找
1317:SYS/shell/shell.c ****  */
1318:SYS/shell/shell.c **** static void shellHistory(Shell *shell, signed char dir)
1319:SYS/shell/shell.c **** {
1320:SYS/shell/shell.c ****     if (dir > 0)
1321:SYS/shell/shell.c ****     {
1322:SYS/shell/shell.c ****         if (shell->history.offset-- <= 
1323:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ?
1324:SYS/shell/shell.c ****                 shell->history.number : shell->history.record))
1325:SYS/shell/shell.c ****         {
1326:SYS/shell/shell.c ****             shell->history.offset = -((shell->history.number > shell->history.record)
1327:SYS/shell/shell.c ****                                     ? shell->history.number : shell->history.record);
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 40


1328:SYS/shell/shell.c ****         }
1329:SYS/shell/shell.c ****     }
1330:SYS/shell/shell.c ****     else if (dir < 0)
1331:SYS/shell/shell.c ****     {
1332:SYS/shell/shell.c ****         if (++shell->history.offset > 0)
1333:SYS/shell/shell.c ****         {
1334:SYS/shell/shell.c ****             shell->history.offset = 0;
1335:SYS/shell/shell.c ****             return;
1336:SYS/shell/shell.c ****         }
1337:SYS/shell/shell.c ****     }
1338:SYS/shell/shell.c ****     else
1339:SYS/shell/shell.c ****     {
1340:SYS/shell/shell.c ****         return;
1341:SYS/shell/shell.c ****     }
1342:SYS/shell/shell.c ****     shellClearCommandLine(shell);
1343:SYS/shell/shell.c ****     if (shell->history.offset == 0)
1344:SYS/shell/shell.c ****     {
1345:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length = 0;
1346:SYS/shell/shell.c ****     }
1347:SYS/shell/shell.c ****     else
1348:SYS/shell/shell.c ****     {
1349:SYS/shell/shell.c ****         if ((shell->parser.length = shellStringCopy(shell->parser.buffer,
1350:SYS/shell/shell.c ****                 shell->history.item[(shell->history.record + SHELL_HISTORY_MAX_NUMBER
1351:SYS/shell/shell.c ****                     + shell->history.offset) % SHELL_HISTORY_MAX_NUMBER])) == 0)
1352:SYS/shell/shell.c ****         {
1353:SYS/shell/shell.c ****             return;
1354:SYS/shell/shell.c ****         }
1355:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
1356:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
1357:SYS/shell/shell.c ****     }
1358:SYS/shell/shell.c ****     
1359:SYS/shell/shell.c **** }
1360:SYS/shell/shell.c **** 
1361:SYS/shell/shell.c **** 
1362:SYS/shell/shell.c **** /**
1363:SYS/shell/shell.c ****  * @brief shell 常规输入
1364:SYS/shell/shell.c ****  * 
1365:SYS/shell/shell.c ****  * @param shell shell 对象
1366:SYS/shell/shell.c ****  * @param data 输入字符
1367:SYS/shell/shell.c ****  */
1368:SYS/shell/shell.c **** void shellNormalInput(Shell *shell, char data)
1369:SYS/shell/shell.c **** {
1370:SYS/shell/shell.c ****     shell->status.tabFlag = 0;
1371:SYS/shell/shell.c ****     shellInsertByte(shell, data);
1372:SYS/shell/shell.c **** }
1373:SYS/shell/shell.c **** 
1374:SYS/shell/shell.c **** 
1375:SYS/shell/shell.c **** /**
1376:SYS/shell/shell.c ****  * @brief shell运行命令
1377:SYS/shell/shell.c ****  * 
1378:SYS/shell/shell.c ****  * @param shell shell对象
1379:SYS/shell/shell.c ****  */
1380:SYS/shell/shell.c **** void shellExec(Shell *shell)
1381:SYS/shell/shell.c **** {
1382:SYS/shell/shell.c ****     
1383:SYS/shell/shell.c ****     if (shell->parser.length == 0)
1384:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 41


1385:SYS/shell/shell.c ****         return;
1386:SYS/shell/shell.c ****     }
1387:SYS/shell/shell.c **** 
1388:SYS/shell/shell.c ****     shell->parser.buffer[shell->parser.length] = 0;
1389:SYS/shell/shell.c **** 
1390:SYS/shell/shell.c ****     if (shell->status.isChecked)
1391:SYS/shell/shell.c ****     {
1392:SYS/shell/shell.c ****         shellHistoryAdd(shell);
1393:SYS/shell/shell.c ****         shellParserParam(shell);
1394:SYS/shell/shell.c ****         shell->parser.length = shell->parser.cursor = 0;
1395:SYS/shell/shell.c ****         if (shell->parser.paramCount == 0)
1396:SYS/shell/shell.c ****         {
1397:SYS/shell/shell.c ****             return;
1398:SYS/shell/shell.c ****         }
1399:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
1400:SYS/shell/shell.c **** 
1401:SYS/shell/shell.c ****         ShellCommand *command = shellSeekCommand(shell,
1402:SYS/shell/shell.c ****                                                  shell->parser.param[0],
1403:SYS/shell/shell.c ****                                                  shell->commandList.base,
1404:SYS/shell/shell.c ****                                                  0);
1405:SYS/shell/shell.c ****         if (command != NULL)
1406:SYS/shell/shell.c ****         {
1407:SYS/shell/shell.c ****             shellRunCommand(shell, command);
1408:SYS/shell/shell.c ****         }
1409:SYS/shell/shell.c ****         else
1410:SYS/shell/shell.c ****         {
1411:SYS/shell/shell.c ****             shellWriteString(shell, shellText[SHELL_TEXT_CMD_NOT_FOUND]);
1412:SYS/shell/shell.c ****         }
1413:SYS/shell/shell.c ****     }
1414:SYS/shell/shell.c ****     else
1415:SYS/shell/shell.c ****     {
1416:SYS/shell/shell.c ****         shellCheckPassword(shell);
1417:SYS/shell/shell.c ****     }
1418:SYS/shell/shell.c **** }
1419:SYS/shell/shell.c **** 
1420:SYS/shell/shell.c **** 
1421:SYS/shell/shell.c **** /**
1422:SYS/shell/shell.c ****  * @brief shell上方向键输入
1423:SYS/shell/shell.c ****  * 
1424:SYS/shell/shell.c ****  * @param shell shell对象
1425:SYS/shell/shell.c ****  */
1426:SYS/shell/shell.c **** void shellUp(Shell *shell)
1427:SYS/shell/shell.c **** {
1428:SYS/shell/shell.c ****     shellHistory(shell, 1);
1429:SYS/shell/shell.c **** }
1430:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x1B5B4100, shellUp, up);
1431:SYS/shell/shell.c **** 
1432:SYS/shell/shell.c **** 
1433:SYS/shell/shell.c **** /**
1434:SYS/shell/shell.c ****  * @brief shell下方向键输入
1435:SYS/shell/shell.c ****  * 
1436:SYS/shell/shell.c ****  * @param shell shell对象
1437:SYS/shell/shell.c ****  */
1438:SYS/shell/shell.c **** void shellDown(Shell *shell)
1439:SYS/shell/shell.c **** {
1440:SYS/shell/shell.c ****     shellHistory(shell, -1);
1441:SYS/shell/shell.c **** }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 42


1442:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x1B5B4200, shellDown, down);
1443:SYS/shell/shell.c **** 
1444:SYS/shell/shell.c **** 
1445:SYS/shell/shell.c **** /**
1446:SYS/shell/shell.c ****  * @brief shell右方向键输入
1447:SYS/shell/shell.c ****  * 
1448:SYS/shell/shell.c ****  * @param shell shell对象
1449:SYS/shell/shell.c ****  */
1450:SYS/shell/shell.c **** void shellRight(Shell *shell)
1451:SYS/shell/shell.c **** {
 797              		.loc 1 1451 1 is_stmt 1 view -0
 798              		.cfi_startproc
 799              		@ args = 0, pretend = 0, frame = 0
 800              		@ frame_needed = 0, uses_anonymous_args = 0
 801              		.loc 1 1451 1 is_stmt 0 view .LVU244
 802 0000 08B5     		push	{r3, lr}
 803              	.LCFI6:
 804              		.cfi_def_cfa_offset 8
 805              		.cfi_offset 3, -8
 806              		.cfi_offset 14, -4
1452:SYS/shell/shell.c ****     if (shell->parser.cursor < shell->parser.length)
 807              		.loc 1 1452 5 is_stmt 1 view .LVU245
 808              		.loc 1 1452 22 is_stmt 0 view .LVU246
 809 0002 C389     		ldrh	r3, [r0, #14]
 810              		.loc 1 1452 45 view .LVU247
 811 0004 8289     		ldrh	r2, [r0, #12]
 812              		.loc 1 1452 8 view .LVU248
 813 0006 9342     		cmp	r3, r2
 814 0008 00D3     		bcc	.L75
 815              	.LVL70:
 816              	.L72:
1453:SYS/shell/shell.c ****     {
1454:SYS/shell/shell.c ****         shellWriteByte(shell, shell->parser.buffer[shell->parser.cursor++]);
1455:SYS/shell/shell.c ****     }
1456:SYS/shell/shell.c **** }
 817              		.loc 1 1456 1 view .LVU249
 818 000a 08BD     		pop	{r3, pc}
 819              	.LVL71:
 820              	.L75:
1454:SYS/shell/shell.c ****     }
 821              		.loc 1 1454 9 is_stmt 1 view .LVU250
1454:SYS/shell/shell.c ****     }
 822              		.loc 1 1454 44 is_stmt 0 view .LVU251
 823 000c 0269     		ldr	r2, [r0, #16]
1454:SYS/shell/shell.c ****     }
 824              		.loc 1 1454 72 view .LVU252
 825 000e 591C     		adds	r1, r3, #1
 826 0010 C181     		strh	r1, [r0, #14]	@ movhi
1454:SYS/shell/shell.c ****     }
 827              		.loc 1 1454 9 view .LVU253
 828 0012 D15C     		ldrb	r1, [r2, r3]	@ zero_extendqisi2
 829 0014 FFF7FEFF 		bl	shellWriteByte
 830              	.LVL72:
 831              		.loc 1 1456 1 view .LVU254
 832 0018 F7E7     		b	.L72
 833              		.cfi_endproc
 834              	.LFE169:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 43


 836              		.section	.text.shellLeft,"ax",%progbits
 837              		.align	1
 838              		.global	shellLeft
 839              		.syntax unified
 840              		.thumb
 841              		.thumb_func
 842              		.fpu fpv4-sp-d16
 844              	shellLeft:
 845              	.LVL73:
 846              	.LFB170:
1457:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
1458:SYS/shell/shell.c **** 0x1B5B4300, shellRight, right);
1459:SYS/shell/shell.c **** 
1460:SYS/shell/shell.c **** 
1461:SYS/shell/shell.c **** /**
1462:SYS/shell/shell.c ****  * @brief shell左方向键输入
1463:SYS/shell/shell.c ****  * 
1464:SYS/shell/shell.c ****  * @param shell shell对象
1465:SYS/shell/shell.c ****  */
1466:SYS/shell/shell.c **** void shellLeft(Shell *shell)
1467:SYS/shell/shell.c **** {
 847              		.loc 1 1467 1 is_stmt 1 view -0
 848              		.cfi_startproc
 849              		@ args = 0, pretend = 0, frame = 0
 850              		@ frame_needed = 0, uses_anonymous_args = 0
1468:SYS/shell/shell.c ****     if (shell->parser.cursor > 0)
 851              		.loc 1 1468 5 view .LVU256
 852              		.loc 1 1468 22 is_stmt 0 view .LVU257
 853 0000 C389     		ldrh	r3, [r0, #14]
 854              		.loc 1 1468 8 view .LVU258
 855 0002 03B9     		cbnz	r3, .L82
 856 0004 7047     		bx	lr
 857              	.L82:
1467:SYS/shell/shell.c ****     if (shell->parser.cursor > 0)
 858              		.loc 1 1467 1 view .LVU259
 859 0006 10B5     		push	{r4, lr}
 860              	.LCFI7:
 861              		.cfi_def_cfa_offset 8
 862              		.cfi_offset 4, -8
 863              		.cfi_offset 14, -4
 864 0008 0446     		mov	r4, r0
1469:SYS/shell/shell.c ****     {
1470:SYS/shell/shell.c ****         shellWriteByte(shell, '\b');
 865              		.loc 1 1470 9 is_stmt 1 view .LVU260
 866 000a 0821     		movs	r1, #8
 867 000c FFF7FEFF 		bl	shellWriteByte
 868              	.LVL74:
1471:SYS/shell/shell.c ****         shell->parser.cursor--;
 869              		.loc 1 1471 9 view .LVU261
 870              		.loc 1 1471 22 is_stmt 0 view .LVU262
 871 0010 E389     		ldrh	r3, [r4, #14]
 872              		.loc 1 1471 29 view .LVU263
 873 0012 013B     		subs	r3, r3, #1
 874 0014 E381     		strh	r3, [r4, #14]	@ movhi
1472:SYS/shell/shell.c ****     }
1473:SYS/shell/shell.c **** }
 875              		.loc 1 1473 1 view .LVU264
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 44


 876 0016 10BD     		pop	{r4, pc}
 877              		.loc 1 1473 1 view .LVU265
 878              		.cfi_endproc
 879              	.LFE170:
 881              		.section	.text.shellWriteString,"ax",%progbits
 882              		.align	1
 883              		.global	shellWriteString
 884              		.syntax unified
 885              		.thumb
 886              		.thumb_func
 887              		.fpu fpv4-sp-d16
 889              	shellWriteString:
 890              	.LVL75:
 891              	.LFB130:
 281:SYS/shell/shell.c ****     unsigned short count = 0;
 892              		.loc 1 281 1 is_stmt 1 view -0
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 0
 895              		@ frame_needed = 0, uses_anonymous_args = 0
 281:SYS/shell/shell.c ****     unsigned short count = 0;
 896              		.loc 1 281 1 is_stmt 0 view .LVU267
 897 0000 70B5     		push	{r4, r5, r6, lr}
 898              	.LCFI8:
 899              		.cfi_def_cfa_offset 16
 900              		.cfi_offset 4, -16
 901              		.cfi_offset 5, -12
 902              		.cfi_offset 6, -8
 903              		.cfi_offset 14, -4
 282:SYS/shell/shell.c ****     SHELL_ASSERT(shell->write, return 0);
 904              		.loc 1 282 5 is_stmt 1 view .LVU268
 905              	.LVL76:
 283:SYS/shell/shell.c ****     while(*string)
 906              		.loc 1 283 5 view .LVU269
 907 0002 836E     		ldr	r3, [r0, #104]
 908 0004 83B1     		cbz	r3, .L87
 909 0006 0646     		mov	r6, r0
 910 0008 0D46     		mov	r5, r1
 282:SYS/shell/shell.c ****     SHELL_ASSERT(shell->write, return 0);
 911              		.loc 1 282 20 is_stmt 0 view .LVU270
 912 000a 0024     		movs	r4, #0
 913 000c 07E0     		b	.L85
 914              	.LVL77:
 915              	.L86:
 286:SYS/shell/shell.c ****         count ++;
 916              		.loc 1 286 9 is_stmt 1 view .LVU271
 286:SYS/shell/shell.c ****         count ++;
 917              		.loc 1 286 14 is_stmt 0 view .LVU272
 918 000e B36E     		ldr	r3, [r6, #104]
 286:SYS/shell/shell.c ****         count ++;
 919              		.loc 1 286 30 view .LVU273
 920 0010 0135     		adds	r5, r5, #1
 921              	.LVL78:
 286:SYS/shell/shell.c ****         count ++;
 922              		.loc 1 286 9 view .LVU274
 923 0012 9847     		blx	r3
 924              	.LVL79:
 287:SYS/shell/shell.c ****         delay_us(100);
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 45


 925              		.loc 1 287 9 is_stmt 1 view .LVU275
 287:SYS/shell/shell.c ****         delay_us(100);
 926              		.loc 1 287 15 is_stmt 0 view .LVU276
 927 0014 0134     		adds	r4, r4, #1
 928              	.LVL80:
 287:SYS/shell/shell.c ****         delay_us(100);
 929              		.loc 1 287 15 view .LVU277
 930 0016 A4B2     		uxth	r4, r4
 931              	.LVL81:
 288:SYS/shell/shell.c ****     }
 932              		.loc 1 288 9 is_stmt 1 view .LVU278
 933 0018 6420     		movs	r0, #100
 934 001a FFF7FEFF 		bl	delay_us
 935              	.LVL82:
 936              	.L85:
 284:SYS/shell/shell.c ****     {
 937              		.loc 1 284 10 view .LVU279
 284:SYS/shell/shell.c ****     {
 938              		.loc 1 284 11 is_stmt 0 view .LVU280
 939 001e 2878     		ldrb	r0, [r5]	@ zero_extendqisi2
 284:SYS/shell/shell.c ****     {
 940              		.loc 1 284 10 view .LVU281
 941 0020 0028     		cmp	r0, #0
 942 0022 F4D1     		bne	.L86
 943              	.LVL83:
 944              	.L84:
 291:SYS/shell/shell.c **** 
 945              		.loc 1 291 1 view .LVU282
 946 0024 2046     		mov	r0, r4
 947 0026 70BD     		pop	{r4, r5, r6, pc}
 948              	.LVL84:
 949              	.L87:
 283:SYS/shell/shell.c ****     while(*string)
 950              		.loc 1 283 5 view .LVU283
 951 0028 0024     		movs	r4, #0
 952 002a FBE7     		b	.L84
 953              		.cfi_endproc
 954              	.LFE130:
 956              		.section	.rodata.shellSetUser.str1.4,"aMS",%progbits,1
 957              		.align	2
 958              	.LC0:
 959 0000 1B5B324A 		.ascii	"\033[2J\033[1H\000"
 959      1B5B3148 
 959      00
 960 0009 000000   		.align	2
 961              	.LC1:
 962 000c 0D0A2020 		.ascii	"\015\012  ____    _      _       ___      _        "
 962      5F5F5F5F 
 962      20202020 
 962      5F202020 
 962      2020205F 
 963 0039 20202020 		.ascii	"           \015\012 |    \\  /_\\    | |     | _ \\"
 963      20202020 
 963      2020200D 
 963      0A207C20 
 963      2020205C 
 964 0063 2020207C 		.ascii	"   | |              ___ \015\012 |    |   _   __| |"
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 46


 964      207C2020 
 964      20202020 
 964      20202020 
 964      20202020 
 965 0090 5F5F2020 		.ascii	"__   ||_|/ __| |__   ___    //    \015\012 |----/  "
 965      207C7C5F 
 965      7C2F205F 
 965      5F7C207C 
 965      5F5F2020 
 966 00bd 7C207C20 		.ascii	"| | |__   __|  |  \\ |__   __|  //   \\  \\__    \015"
 966      7C5F5F20 
 966      20205F5F 
 966      7C20207C 
 966      20205C20 
 967 00ec 0A207C20 		.ascii	"\012 |    |  | |    | |_    | |\\    | |_   ||   ||"
 967      2020207C 
 967      20207C20 
 967      7C202020 
 967      207C207C 
 968 011b 20202020 		.ascii	"      \\  \015\012 \\____/  |_|    |___/   |_| \\  "
 968      20205C20 
 968      200D0A20 
 968      5C5F5F5F 
 968      5F2F2020 
 969 0145 207C5F5F 		.ascii	" |___/   \\___//   ___//  \015\012\015\012Build:   "
 969      5F2F2020 
 969      205C5F5F 
 969      5F2F2F20 
 969      20205F5F 
 970 016b 20202020 		.ascii	"    Nov 25 2021 18:51:07\015\012Version:     3.0.6\015"
 970      4E6F7620 
 970      32352032 
 970      30323120 
 970      31383A35 
 971 0198 0A00     		.ascii	"\012\000"
 972              		.section	.text.shellSetUser,"ax",%progbits
 973              		.align	1
 974              		.syntax unified
 975              		.thumb
 976              		.thumb_func
 977              		.fpu fpv4-sp-d16
 979              	shellSetUser:
 980              	.LVL85:
 981              	.LFB161:
1239:SYS/shell/shell.c ****     shell->info.user = user;
 982              		.loc 1 1239 1 is_stmt 1 view -0
 983              		.cfi_startproc
 984              		@ args = 0, pretend = 0, frame = 0
 985              		@ frame_needed = 0, uses_anonymous_args = 0
1239:SYS/shell/shell.c ****     shell->info.user = user;
 986              		.loc 1 1239 1 is_stmt 0 view .LVU285
 987 0000 10B5     		push	{r4, lr}
 988              	.LCFI9:
 989              		.cfi_def_cfa_offset 8
 990              		.cfi_offset 4, -8
 991              		.cfi_offset 14, -4
 992 0002 0446     		mov	r4, r0
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 47


1240:SYS/shell/shell.c ****     shell->status.isChecked = 
 993              		.loc 1 1240 5 is_stmt 1 view .LVU286
1240:SYS/shell/shell.c ****     shell->status.isChecked = 
 994              		.loc 1 1240 22 is_stmt 0 view .LVU287
 995 0004 0160     		str	r1, [r0]
1241:SYS/shell/shell.c ****         ((user->data.user.password && strlen(user->data.user.password) != 0)
 996              		.loc 1 1241 5 is_stmt 1 view .LVU288
1242:SYS/shell/shell.c ****             && (shell->parser.paramCount < 2
 997              		.loc 1 1242 26 is_stmt 0 view .LVU289
 998 0006 8868     		ldr	r0, [r1, #8]
 999              	.LVL86:
1245:SYS/shell/shell.c ****         
 1000              		.loc 1 1245 14 view .LVU290
 1001 0008 50B1     		cbz	r0, .L92
1242:SYS/shell/shell.c ****             && (shell->parser.paramCount < 2
 1002              		.loc 1 1242 72 view .LVU291
 1003 000a 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
1242:SYS/shell/shell.c ****             && (shell->parser.paramCount < 2
 1004              		.loc 1 1242 36 view .LVU292
 1005 000c 53B1     		cbz	r3, .L93
1243:SYS/shell/shell.c ****                 || strcmp(user->data.user.password, shell->parser.param[1]) != 0))
 1006              		.loc 1 1243 30 view .LVU293
 1007 000e E38E     		ldrh	r3, [r4, #54]
1245:SYS/shell/shell.c ****         
 1008              		.loc 1 1245 14 view .LVU294
 1009 0010 012B     		cmp	r3, #1
 1010 0012 18D9     		bls	.L94
1244:SYS/shell/shell.c ****          ? 0 : 1;
 1011              		.loc 1 1244 20 view .LVU295
 1012 0014 A169     		ldr	r1, [r4, #24]
 1013              	.LVL87:
1244:SYS/shell/shell.c ****          ? 0 : 1;
 1014              		.loc 1 1244 20 view .LVU296
 1015 0016 FFF7FEFF 		bl	strcmp
 1016              	.LVL88:
1244:SYS/shell/shell.c ****          ? 0 : 1;
 1017              		.loc 1 1244 17 view .LVU297
 1018 001a B0B1     		cbz	r0, .L95
1245:SYS/shell/shell.c ****         
 1019              		.loc 1 1245 14 view .LVU298
 1020 001c 0022     		movs	r2, #0
 1021 001e 02E0     		b	.L90
 1022              	.LVL89:
 1023              	.L92:
1245:SYS/shell/shell.c ****         
 1024              		.loc 1 1245 14 view .LVU299
 1025 0020 0122     		movs	r2, #1
 1026 0022 00E0     		b	.L90
 1027              	.L93:
 1028 0024 0122     		movs	r2, #1
 1029              	.LVL90:
 1030              	.L90:
1241:SYS/shell/shell.c ****         ((user->data.user.password && strlen(user->data.user.password) != 0)
 1031              		.loc 1 1241 29 discriminator 4 view .LVU300
 1032 0026 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 1033 002a 62F30003 		bfi	r3, r2, #0, #1
 1034 002e 84F86030 		strb	r3, [r4, #96]
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 48


1248:SYS/shell/shell.c **** #endif
 1035              		.loc 1 1248 5 is_stmt 1 discriminator 4 view .LVU301
 1036 0032 0949     		ldr	r1, .L98
 1037 0034 2046     		mov	r0, r4
 1038 0036 FFF7FEFF 		bl	shellWriteString
 1039              	.LVL91:
1251:SYS/shell/shell.c ****     {
 1040              		.loc 1 1251 5 discriminator 4 view .LVU302
1251:SYS/shell/shell.c ****     {
 1041              		.loc 1 1251 9 is_stmt 0 discriminator 4 view .LVU303
 1042 003a 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
1251:SYS/shell/shell.c ****     {
 1043              		.loc 1 1251 8 discriminator 4 view .LVU304
 1044 003e 13F0010F 		tst	r3, #1
 1045 0042 04D1     		bne	.L97
 1046              	.L89:
1256:SYS/shell/shell.c **** 
 1047              		.loc 1 1256 1 view .LVU305
 1048 0044 10BD     		pop	{r4, pc}
 1049              	.LVL92:
 1050              	.L94:
1245:SYS/shell/shell.c ****         
 1051              		.loc 1 1245 14 view .LVU306
 1052 0046 0022     		movs	r2, #0
 1053 0048 EDE7     		b	.L90
 1054              	.LVL93:
 1055              	.L95:
1245:SYS/shell/shell.c ****         
 1056              		.loc 1 1245 14 view .LVU307
 1057 004a 0122     		movs	r2, #1
 1058 004c EBE7     		b	.L90
 1059              	.L97:
1253:SYS/shell/shell.c ****     }
 1060              		.loc 1 1253 9 is_stmt 1 view .LVU308
 1061 004e 0349     		ldr	r1, .L98+4
 1062 0050 2046     		mov	r0, r4
 1063 0052 FFF7FEFF 		bl	shellWriteString
 1064              	.LVL94:
1256:SYS/shell/shell.c **** 
 1065              		.loc 1 1256 1 is_stmt 0 view .LVU309
 1066 0056 F5E7     		b	.L89
 1067              	.L99:
 1068              		.align	2
 1069              	.L98:
 1070 0058 00000000 		.word	.LC0
 1071 005c 0C000000 		.word	.LC1
 1072              		.cfi_endproc
 1073              	.LFE161:
 1075              		.section	.rodata.shellWriteCommandLine.str1.4,"aMS",%progbits,1
 1076              		.align	2
 1077              	.LC2:
 1078 0000 2F00     		.ascii	"/\000"
 1079 0002 0000     		.align	2
 1080              	.LC3:
 1081 0004 0D0A00   		.ascii	"\015\012\000"
 1082 0007 00       		.align	2
 1083              	.LC4:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 49


 1084 0008 3A00     		.ascii	":\000"
 1085 000a 0000     		.align	2
 1086              	.LC5:
 1087 000c 242000   		.ascii	"$ \000"
 1088 000f 00       		.align	2
 1089              	.LC6:
 1090 0010 0D0A506C 		.ascii	"\015\012Please input password:\000"
 1090      65617365 
 1090      20696E70 
 1090      75742070 
 1090      61737377 
 1091              		.section	.text.shellWriteCommandLine,"ax",%progbits
 1092              		.align	1
 1093              		.syntax unified
 1094              		.thumb
 1095              		.thumb_func
 1096              		.fpu fpv4-sp-d16
 1098              	shellWriteCommandLine:
 1099              	.LVL95:
 1100              	.LFB132:
 333:SYS/shell/shell.c ****     if (shell->status.isChecked)
 1101              		.loc 1 333 1 is_stmt 1 view -0
 1102              		.cfi_startproc
 1103              		@ args = 0, pretend = 0, frame = 0
 1104              		@ frame_needed = 0, uses_anonymous_args = 0
 333:SYS/shell/shell.c ****     if (shell->status.isChecked)
 1105              		.loc 1 333 1 is_stmt 0 view .LVU311
 1106 0000 10B5     		push	{r4, lr}
 1107              	.LCFI10:
 1108              		.cfi_def_cfa_offset 8
 1109              		.cfi_offset 4, -8
 1110              		.cfi_offset 14, -4
 1111 0002 0446     		mov	r4, r0
 334:SYS/shell/shell.c ****     {
 1112              		.loc 1 334 5 is_stmt 1 view .LVU312
 334:SYS/shell/shell.c ****     {
 1113              		.loc 1 334 9 is_stmt 0 view .LVU313
 1114 0004 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
 334:SYS/shell/shell.c ****     {
 1115              		.loc 1 334 8 view .LVU314
 1116 0008 13F0010F 		tst	r3, #1
 1117 000c 19D0     		beq	.L101
 336:SYS/shell/shell.c ****         {
 1118              		.loc 1 336 9 is_stmt 1 view .LVU315
 336:SYS/shell/shell.c ****         {
 1119              		.loc 1 336 12 is_stmt 0 view .LVU316
 1120 000e 91B9     		cbnz	r1, .L106
 1121              	.LVL96:
 1122              	.L102:
 340:SYS/shell/shell.c ****         shellWriteString(shell, ":");
 1123              		.loc 1 340 9 is_stmt 1 view .LVU317
 340:SYS/shell/shell.c ****         shellWriteString(shell, ":");
 1124              		.loc 1 340 44 is_stmt 0 view .LVU318
 1125 0010 2368     		ldr	r3, [r4]
 340:SYS/shell/shell.c ****         shellWriteString(shell, ":");
 1126              		.loc 1 340 9 view .LVU319
 1127 0012 5968     		ldr	r1, [r3, #4]
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 50


 1128 0014 2046     		mov	r0, r4
 1129 0016 FFF7FEFF 		bl	shellWriteString
 1130              	.LVL97:
 341:SYS/shell/shell.c ****         shellWriteString(shell, shell->info.path ? shell->info.path : "/");
 1131              		.loc 1 341 9 is_stmt 1 view .LVU320
 1132 001a 0C49     		ldr	r1, .L108
 1133 001c 2046     		mov	r0, r4
 1134 001e FFF7FEFF 		bl	shellWriteString
 1135              	.LVL98:
 342:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1136              		.loc 1 342 9 view .LVU321
 342:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1137              		.loc 1 342 44 is_stmt 0 view .LVU322
 1138 0022 A168     		ldr	r1, [r4, #8]
 342:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1139              		.loc 1 342 9 view .LVU323
 1140 0024 59B1     		cbz	r1, .L107
 1141              	.L103:
 342:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1142              		.loc 1 342 9 discriminator 4 view .LVU324
 1143 0026 2046     		mov	r0, r4
 1144 0028 FFF7FEFF 		bl	shellWriteString
 1145              	.LVL99:
 343:SYS/shell/shell.c ****     }
 1146              		.loc 1 343 9 is_stmt 1 discriminator 4 view .LVU325
 1147 002c 0849     		ldr	r1, .L108+4
 1148 002e 2046     		mov	r0, r4
 1149 0030 FFF7FEFF 		bl	shellWriteString
 1150              	.LVL100:
 1151              	.L100:
 349:SYS/shell/shell.c **** 
 1152              		.loc 1 349 1 is_stmt 0 view .LVU326
 1153 0034 10BD     		pop	{r4, pc}
 1154              	.LVL101:
 1155              	.L106:
 338:SYS/shell/shell.c ****         }
 1156              		.loc 1 338 13 is_stmt 1 view .LVU327
 1157 0036 0749     		ldr	r1, .L108+8
 1158              	.LVL102:
 338:SYS/shell/shell.c ****         }
 1159              		.loc 1 338 13 is_stmt 0 view .LVU328
 1160 0038 FFF7FEFF 		bl	shellWriteString
 1161              	.LVL103:
 338:SYS/shell/shell.c ****         }
 1162              		.loc 1 338 13 view .LVU329
 1163 003c E8E7     		b	.L102
 1164              	.L107:
 342:SYS/shell/shell.c ****         shellWriteString(shell, "$ ");
 1165              		.loc 1 342 9 view .LVU330
 1166 003e 0649     		ldr	r1, .L108+12
 1167 0040 F1E7     		b	.L103
 1168              	.LVL104:
 1169              	.L101:
 347:SYS/shell/shell.c ****     }
 1170              		.loc 1 347 9 is_stmt 1 view .LVU331
 1171 0042 0649     		ldr	r1, .L108+16
 1172              	.LVL105:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 51


 347:SYS/shell/shell.c ****     }
 1173              		.loc 1 347 9 is_stmt 0 view .LVU332
 1174 0044 FFF7FEFF 		bl	shellWriteString
 1175              	.LVL106:
 349:SYS/shell/shell.c **** 
 1176              		.loc 1 349 1 view .LVU333
 1177 0048 F4E7     		b	.L100
 1178              	.L109:
 1179 004a 00BF     		.align	2
 1180              	.L108:
 1181 004c 08000000 		.word	.LC4
 1182 0050 0C000000 		.word	.LC5
 1183 0054 04000000 		.word	.LC3
 1184 0058 00000000 		.word	.LC2
 1185 005c 10000000 		.word	.LC6
 1186              		.cfi_endproc
 1187              	.LFE132:
 1189              		.section	.rodata.shellCheckPassword.str1.4,"aMS",%progbits,1
 1190              		.align	2
 1191              	.LC7:
 1192 0000 0D0A7061 		.ascii	"\015\012password error\015\012\000"
 1192      7373776F 
 1192      72642065 
 1192      72726F72 
 1192      0D0A00
 1193              		.section	.text.shellCheckPassword,"ax",%progbits
 1194              		.align	1
 1195              		.syntax unified
 1196              		.thumb
 1197              		.thumb_func
 1198              		.fpu fpv4-sp-d16
 1200              	shellCheckPassword:
 1201              	.LVL107:
 1202              	.LFB160:
1215:SYS/shell/shell.c ****     if (strcmp(shell->parser.buffer, shell->info.user->data.user.password) == 0)
 1203              		.loc 1 1215 1 is_stmt 1 view -0
 1204              		.cfi_startproc
 1205              		@ args = 0, pretend = 0, frame = 0
 1206              		@ frame_needed = 0, uses_anonymous_args = 0
1215:SYS/shell/shell.c ****     if (strcmp(shell->parser.buffer, shell->info.user->data.user.password) == 0)
 1207              		.loc 1 1215 1 is_stmt 0 view .LVU335
 1208 0000 10B5     		push	{r4, lr}
 1209              	.LCFI11:
 1210              		.cfi_def_cfa_offset 8
 1211              		.cfi_offset 4, -8
 1212              		.cfi_offset 14, -4
 1213 0002 0446     		mov	r4, r0
1216:SYS/shell/shell.c ****     {
 1214              		.loc 1 1216 5 is_stmt 1 view .LVU336
1216:SYS/shell/shell.c ****     {
 1215              		.loc 1 1216 49 is_stmt 0 view .LVU337
 1216 0004 0368     		ldr	r3, [r0]
1216:SYS/shell/shell.c ****     {
 1217              		.loc 1 1216 9 view .LVU338
 1218 0006 9968     		ldr	r1, [r3, #8]
 1219 0008 0069     		ldr	r0, [r0, #16]
 1220              	.LVL108:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 52


1216:SYS/shell/shell.c ****     {
 1221              		.loc 1 1216 9 view .LVU339
 1222 000a FFF7FEFF 		bl	strcmp
 1223              	.LVL109:
1216:SYS/shell/shell.c ****     {
 1224              		.loc 1 1216 8 view .LVU340
 1225 000e 68B9     		cbnz	r0, .L111
1218:SYS/shell/shell.c ****     #if SHELL_SHOW_INFO == 1
 1226              		.loc 1 1218 9 is_stmt 1 view .LVU341
1218:SYS/shell/shell.c ****     #if SHELL_SHOW_INFO == 1
 1227              		.loc 1 1218 33 is_stmt 0 view .LVU342
 1228 0010 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 1229 0014 43F00103 		orr	r3, r3, #1
 1230 0018 84F86030 		strb	r3, [r4, #96]
1220:SYS/shell/shell.c ****     #endif
 1231              		.loc 1 1220 9 is_stmt 1 view .LVU343
 1232 001c 0649     		ldr	r1, .L114
 1233 001e 2046     		mov	r0, r4
 1234 0020 FFF7FEFF 		bl	shellWriteString
 1235              	.LVL110:
 1236              	.L112:
1227:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 1237              		.loc 1 1227 5 view .LVU344
1227:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 1238              		.loc 1 1227 26 is_stmt 0 view .LVU345
 1239 0024 0023     		movs	r3, #0
 1240 0026 A381     		strh	r3, [r4, #12]	@ movhi
1228:SYS/shell/shell.c **** }
 1241              		.loc 1 1228 5 is_stmt 1 view .LVU346
1228:SYS/shell/shell.c **** }
 1242              		.loc 1 1228 26 is_stmt 0 view .LVU347
 1243 0028 E381     		strh	r3, [r4, #14]	@ movhi
1229:SYS/shell/shell.c **** 
 1244              		.loc 1 1229 1 view .LVU348
 1245 002a 10BD     		pop	{r4, pc}
 1246              	.LVL111:
 1247              	.L111:
1225:SYS/shell/shell.c ****     }
 1248              		.loc 1 1225 9 is_stmt 1 view .LVU349
 1249 002c 0349     		ldr	r1, .L114+4
 1250 002e 2046     		mov	r0, r4
 1251 0030 FFF7FEFF 		bl	shellWriteString
 1252              	.LVL112:
 1253 0034 F6E7     		b	.L112
 1254              	.L115:
 1255 0036 00BF     		.align	2
 1256              	.L114:
 1257 0038 0C000000 		.word	.LC1
 1258 003c 00000000 		.word	.LC7
 1259              		.cfi_endproc
 1260              	.LFE160:
 1262              		.section	.text.shellClear,"ax",%progbits
 1263              		.align	1
 1264              		.global	shellClear
 1265              		.syntax unified
 1266              		.thumb
 1267              		.thumb_func
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 53


 1268              		.fpu fpv4-sp-d16
 1270              	shellClear:
 1271              	.LFB182:
1474:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
1475:SYS/shell/shell.c **** 0x1B5B4400, shellLeft, left);
1476:SYS/shell/shell.c **** 
1477:SYS/shell/shell.c **** 
1478:SYS/shell/shell.c **** /**
1479:SYS/shell/shell.c ****  * @brief shell Tab按键处理
1480:SYS/shell/shell.c ****  * 
1481:SYS/shell/shell.c ****  * @param shell shell对象
1482:SYS/shell/shell.c ****  */
1483:SYS/shell/shell.c **** void shellTab(Shell *shell)
1484:SYS/shell/shell.c **** {
1485:SYS/shell/shell.c ****     unsigned short maxMatch = shell->parser.bufferSize;
1486:SYS/shell/shell.c ****     unsigned short lastMatchIndex = 0;
1487:SYS/shell/shell.c ****     unsigned short matchNum = 0;
1488:SYS/shell/shell.c ****     unsigned short length;
1489:SYS/shell/shell.c **** 
1490:SYS/shell/shell.c ****     if (shell->parser.length == 0)
1491:SYS/shell/shell.c ****     {
1492:SYS/shell/shell.c ****         shellListAll(shell);
1493:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
1494:SYS/shell/shell.c ****     }
1495:SYS/shell/shell.c ****     else if (shell->parser.length > 0)
1496:SYS/shell/shell.c ****     {
1497:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
1498:SYS/shell/shell.c ****         ShellCommand *base = (ShellCommand *)shell->commandList.base;
1499:SYS/shell/shell.c ****         for (short i = 0; i < shell->commandList.count; i++)
1500:SYS/shell/shell.c ****         {
1501:SYS/shell/shell.c ****             if (shellCheckPermission(shell, &base[i]) == 0
1502:SYS/shell/shell.c ****                 && shellStringCompare(shell->parser.buffer,
1503:SYS/shell/shell.c ****                                    (char *)shellGetCommandName(&base[i]))
1504:SYS/shell/shell.c ****                         == shell->parser.length)
1505:SYS/shell/shell.c ****             {
1506:SYS/shell/shell.c ****                 if (matchNum != 0)
1507:SYS/shell/shell.c ****                 {
1508:SYS/shell/shell.c ****                     if (matchNum == 1)
1509:SYS/shell/shell.c ****                     {
1510:SYS/shell/shell.c ****                         shellWriteString(shell, "\r\n");
1511:SYS/shell/shell.c ****                     }
1512:SYS/shell/shell.c ****                     shellListItem(shell, &base[lastMatchIndex]);
1513:SYS/shell/shell.c ****                     length = 
1514:SYS/shell/shell.c ****                         shellStringCompare((char *)shellGetCommandName(&base[lastMatchIndex]),
1515:SYS/shell/shell.c ****                                            (char *)shellGetCommandName(&base[i]));
1516:SYS/shell/shell.c ****                     maxMatch = (maxMatch > length) ? length : maxMatch;
1517:SYS/shell/shell.c ****                 }
1518:SYS/shell/shell.c ****                 lastMatchIndex = i;
1519:SYS/shell/shell.c ****                 matchNum++;
1520:SYS/shell/shell.c ****             }
1521:SYS/shell/shell.c ****         }
1522:SYS/shell/shell.c ****         if (matchNum == 0)
1523:SYS/shell/shell.c ****         {
1524:SYS/shell/shell.c ****             return;
1525:SYS/shell/shell.c ****         }
1526:SYS/shell/shell.c ****         if (matchNum == 1)
1527:SYS/shell/shell.c ****         {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 54


1528:SYS/shell/shell.c ****             shellClearCommandLine(shell);
1529:SYS/shell/shell.c ****         }
1530:SYS/shell/shell.c ****         if (matchNum != 0)
1531:SYS/shell/shell.c ****         {
1532:SYS/shell/shell.c ****             shell->parser.length = 
1533:SYS/shell/shell.c ****                 shellStringCopy(shell->parser.buffer,
1534:SYS/shell/shell.c ****                                 (char *)shellGetCommandName(&base[lastMatchIndex]));
1535:SYS/shell/shell.c ****         }
1536:SYS/shell/shell.c ****         if (matchNum > 1)
1537:SYS/shell/shell.c ****         {
1538:SYS/shell/shell.c ****             shellListItem(shell, &base[lastMatchIndex]);
1539:SYS/shell/shell.c ****             shellWriteCommandLine(shell, 1);
1540:SYS/shell/shell.c ****             shell->parser.length = maxMatch;
1541:SYS/shell/shell.c ****         }
1542:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
1543:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
1544:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
1545:SYS/shell/shell.c ****     }
1546:SYS/shell/shell.c **** 
1547:SYS/shell/shell.c ****     if (SHELL_GET_TICK())
1548:SYS/shell/shell.c ****     {
1549:SYS/shell/shell.c ****         if (matchNum == 1
1550:SYS/shell/shell.c ****             && shell->status.tabFlag
1551:SYS/shell/shell.c ****             && SHELL_GET_TICK() - shell->info.activeTime < SHELL_DOUBLE_CLICK_TIME)
1552:SYS/shell/shell.c ****         {
1553:SYS/shell/shell.c ****             shellClearCommandLine(shell);
1554:SYS/shell/shell.c ****             for (short i = shell->parser.length; i >= 0; i--)
1555:SYS/shell/shell.c ****             {
1556:SYS/shell/shell.c ****                 shell->parser.buffer[i + 5] = shell->parser.buffer[i];
1557:SYS/shell/shell.c ****             }
1558:SYS/shell/shell.c ****             shellStringCopy(shell->parser.buffer, "help");
1559:SYS/shell/shell.c ****             shell->parser.buffer[4] = ' ';
1560:SYS/shell/shell.c ****             shell->parser.length += 5;
1561:SYS/shell/shell.c ****             shell->parser.cursor = shell->parser.length;
1562:SYS/shell/shell.c ****             shellWriteString(shell, shell->parser.buffer);
1563:SYS/shell/shell.c ****         }
1564:SYS/shell/shell.c ****         else
1565:SYS/shell/shell.c ****         {
1566:SYS/shell/shell.c ****             shell->status.tabFlag = 1;
1567:SYS/shell/shell.c ****         }
1568:SYS/shell/shell.c ****     }
1569:SYS/shell/shell.c **** }
1570:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x09000000, shellTab, tab);
1571:SYS/shell/shell.c **** 
1572:SYS/shell/shell.c **** 
1573:SYS/shell/shell.c **** /**
1574:SYS/shell/shell.c ****  * @brief shell 退格
1575:SYS/shell/shell.c ****  * 
1576:SYS/shell/shell.c ****  * @param shell shell对象
1577:SYS/shell/shell.c ****  */
1578:SYS/shell/shell.c **** void shellBackspace(Shell *shell)
1579:SYS/shell/shell.c **** {
1580:SYS/shell/shell.c ****     shellDeleteByte(shell, 1);
1581:SYS/shell/shell.c **** }
1582:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
1583:SYS/shell/shell.c **** 0x08000000, shellBackspace, backspace);
1584:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 55


1585:SYS/shell/shell.c **** 0x7F000000, shellBackspace, backspace);
1586:SYS/shell/shell.c **** 
1587:SYS/shell/shell.c **** 
1588:SYS/shell/shell.c **** /**
1589:SYS/shell/shell.c ****  * @brief shell 删除
1590:SYS/shell/shell.c ****  * 
1591:SYS/shell/shell.c ****  * @param shell shell对象
1592:SYS/shell/shell.c ****  */
1593:SYS/shell/shell.c **** void shellDelete(Shell *shell)
1594:SYS/shell/shell.c **** {
1595:SYS/shell/shell.c ****     shellDeleteByte(shell, -1);
1596:SYS/shell/shell.c **** }
1597:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
1598:SYS/shell/shell.c **** 0x1B5B337E, shellDelete, delete);
1599:SYS/shell/shell.c **** 
1600:SYS/shell/shell.c **** 
1601:SYS/shell/shell.c **** /**
1602:SYS/shell/shell.c ****  * @brief shell 回车处理
1603:SYS/shell/shell.c ****  * 
1604:SYS/shell/shell.c ****  * @param shell shell对象
1605:SYS/shell/shell.c ****  */
1606:SYS/shell/shell.c **** void shellEnter(Shell *shell)
1607:SYS/shell/shell.c **** {
1608:SYS/shell/shell.c ****     shellExec(shell);
1609:SYS/shell/shell.c ****     shellWriteCommandLine(shell, 1);
1610:SYS/shell/shell.c **** }
1611:SYS/shell/shell.c **** #if SHELL_ENTER_LF == 1
1612:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
1613:SYS/shell/shell.c **** 0x0A000000, shellEnter, enter);
1614:SYS/shell/shell.c **** #endif
1615:SYS/shell/shell.c **** #if SHELL_ENTER_CR == 1
1616:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
1617:SYS/shell/shell.c **** 0x0D000000, shellEnter, enter);
1618:SYS/shell/shell.c **** #endif
1619:SYS/shell/shell.c **** #if SHELL_ENTER_CRLF == 1
1620:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
1621:SYS/shell/shell.c **** 0x0D0A0000, shellEnter, enter);
1622:SYS/shell/shell.c **** #endif
1623:SYS/shell/shell.c **** 
1624:SYS/shell/shell.c **** 
1625:SYS/shell/shell.c **** /**
1626:SYS/shell/shell.c ****  * @brief shell help
1627:SYS/shell/shell.c ****  * 
1628:SYS/shell/shell.c ****  * @param argc 参数个数
1629:SYS/shell/shell.c ****  * @param argv 参数
1630:SYS/shell/shell.c ****  */
1631:SYS/shell/shell.c **** void shellHelp(int argc, char *argv[])
1632:SYS/shell/shell.c **** {
1633:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1634:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return);
1635:SYS/shell/shell.c ****     if (argc == 1)
1636:SYS/shell/shell.c ****     {
1637:SYS/shell/shell.c ****         shellListAll(shell);
1638:SYS/shell/shell.c ****     }
1639:SYS/shell/shell.c ****     else if (argc > 1)
1640:SYS/shell/shell.c ****     {
1641:SYS/shell/shell.c ****         ShellCommand *command = shellSeekCommand(shell,
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 56


1642:SYS/shell/shell.c ****                                                  argv[1],
1643:SYS/shell/shell.c ****                                                  shell->commandList.base,
1644:SYS/shell/shell.c ****                                                  0);
1645:SYS/shell/shell.c ****         if (command)
1646:SYS/shell/shell.c ****         {
1647:SYS/shell/shell.c ****             shellWriteString(shell, shellText[SHELL_TEXT_HELP_HEADER]);
1648:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandName(command));
1649:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
1650:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandDesc(command));
1651:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
1652:SYS/shell/shell.c ****         }
1653:SYS/shell/shell.c ****         else
1654:SYS/shell/shell.c ****         {
1655:SYS/shell/shell.c ****             shellWriteString(shell, shellText[SHELL_TEXT_CMD_NOT_FOUND]);
1656:SYS/shell/shell.c ****         }
1657:SYS/shell/shell.c ****     }
1658:SYS/shell/shell.c **** }
1659:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1660:SYS/shell/shell.c **** SHELL_CMD_PERMISSION(0)|SHELL_CMD_TYPE(SHELL_TYPE_CMD_MAIN)|SHELL_CMD_DISABLE_RETURN,
1661:SYS/shell/shell.c **** help, shellHelp, show command info\r\nhelp [cmd]);
1662:SYS/shell/shell.c **** 
1663:SYS/shell/shell.c **** /**
1664:SYS/shell/shell.c ****  * @brief shell 输入处理
1665:SYS/shell/shell.c ****  * 
1666:SYS/shell/shell.c ****  * @param shell shell对象
1667:SYS/shell/shell.c ****  * @param data 输入数据
1668:SYS/shell/shell.c ****  */
1669:SYS/shell/shell.c **** void shellHandler(Shell *shell, char data)
1670:SYS/shell/shell.c **** {
1671:SYS/shell/shell.c ****     SHELL_ASSERT(data, return);
1672:SYS/shell/shell.c **** 
1673:SYS/shell/shell.c **** #if SHELL_LOCK_TIMEOUT > 0
1674:SYS/shell/shell.c ****     if (shell->info.user->data.user.password
1675:SYS/shell/shell.c ****         && strlen(shell->info.user->data.user.password) != 0
1676:SYS/shell/shell.c ****         && SHELL_GET_TICK())
1677:SYS/shell/shell.c ****     {
1678:SYS/shell/shell.c ****         if (SHELL_GET_TICK() - shell->info.activeTime > SHELL_LOCK_TIMEOUT)
1679:SYS/shell/shell.c ****         {
1680:SYS/shell/shell.c ****             shell->status.isChecked = 0;
1681:SYS/shell/shell.c ****         }
1682:SYS/shell/shell.c ****     }
1683:SYS/shell/shell.c **** #endif
1684:SYS/shell/shell.c **** 
1685:SYS/shell/shell.c ****     /* 根据记录的按键键值计算当前字节在按键键值中的偏移 */
1686:SYS/shell/shell.c ****     char keyByteOffset = 24;
1687:SYS/shell/shell.c ****     int keyFilter = 0x00000000;
1688:SYS/shell/shell.c ****     if ((shell->parser.keyValue & 0x0000FF00) != 0x00000000)
1689:SYS/shell/shell.c ****     {
1690:SYS/shell/shell.c ****         keyByteOffset = 0;
1691:SYS/shell/shell.c ****         keyFilter = 0xFFFFFF00;
1692:SYS/shell/shell.c ****     }
1693:SYS/shell/shell.c ****     else if ((shell->parser.keyValue & 0x00FF0000) != 0x00000000)
1694:SYS/shell/shell.c ****     {
1695:SYS/shell/shell.c ****         keyByteOffset = 8;
1696:SYS/shell/shell.c ****         keyFilter = 0xFFFF0000;
1697:SYS/shell/shell.c ****     }
1698:SYS/shell/shell.c ****     else if ((shell->parser.keyValue & 0xFF000000) != 0x00000000)
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 57


1699:SYS/shell/shell.c ****     {
1700:SYS/shell/shell.c ****         keyByteOffset = 16;
1701:SYS/shell/shell.c ****         keyFilter = 0xFF000000;
1702:SYS/shell/shell.c ****     }
1703:SYS/shell/shell.c **** 
1704:SYS/shell/shell.c ****     /* 遍历ShellCommand列表，尝试进行按键键值匹配 */
1705:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
1706:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
1707:SYS/shell/shell.c ****     {
1708:SYS/shell/shell.c ****         /* 判断是否是按键定义并验证权限 */
1709:SYS/shell/shell.c ****         if (base[i].attr.attrs.type == SHELL_TYPE_KEY
1710:SYS/shell/shell.c ****             && shellCheckPermission(shell, &(base[i])) == 0)
1711:SYS/shell/shell.c ****         {
1712:SYS/shell/shell.c ****             /* 对输入的字节同按键键值进行匹配 */
1713:SYS/shell/shell.c ****             if ((base[i].data.key.value & keyFilter) == shell->parser.keyValue
1714:SYS/shell/shell.c ****                 && (base[i].data.key.value & (0xFF << keyByteOffset))
1715:SYS/shell/shell.c ****                     == (data << keyByteOffset))
1716:SYS/shell/shell.c ****             {
1717:SYS/shell/shell.c ****                 shell->parser.keyValue |= data << keyByteOffset;
1718:SYS/shell/shell.c ****                 data = 0x00;
1719:SYS/shell/shell.c ****                 if (keyByteOffset == 0 
1720:SYS/shell/shell.c ****                     || (base[i].data.key.value & (0xFF << (keyByteOffset - 8)))
1721:SYS/shell/shell.c ****                         == 0x00000000)
1722:SYS/shell/shell.c ****                 {
1723:SYS/shell/shell.c ****                     if (base[i].data.key.function)
1724:SYS/shell/shell.c ****                     {
1725:SYS/shell/shell.c ****                         base[i].data.key.function(shell);
1726:SYS/shell/shell.c ****                     }
1727:SYS/shell/shell.c ****                     shell->parser.keyValue = 0x00000000;
1728:SYS/shell/shell.c ****                     break;
1729:SYS/shell/shell.c ****                 }
1730:SYS/shell/shell.c ****             }
1731:SYS/shell/shell.c ****         }
1732:SYS/shell/shell.c ****     }
1733:SYS/shell/shell.c **** 
1734:SYS/shell/shell.c ****     if (data != 0x00)
1735:SYS/shell/shell.c ****     {
1736:SYS/shell/shell.c ****         shell->parser.keyValue = 0x00000000;
1737:SYS/shell/shell.c ****         shellNormalInput(shell, data);
1738:SYS/shell/shell.c ****     }
1739:SYS/shell/shell.c **** 
1740:SYS/shell/shell.c ****     if (SHELL_GET_TICK())
1741:SYS/shell/shell.c ****     {
1742:SYS/shell/shell.c ****         shell->info.activeTime = SHELL_GET_TICK();
1743:SYS/shell/shell.c ****     }
1744:SYS/shell/shell.c **** }
1745:SYS/shell/shell.c **** 
1746:SYS/shell/shell.c **** 
1747:SYS/shell/shell.c **** #if SHELL_SUPPORT_END_LINE == 1
1748:SYS/shell/shell.c **** void shellWriteEndLine(Shell *shell, char *buffer, int len)
1749:SYS/shell/shell.c **** {
1750:SYS/shell/shell.c ****     if (!shell->status.isActive)
1751:SYS/shell/shell.c ****     {
1752:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_CLEAR_LINE]);
1753:SYS/shell/shell.c ****     }
1754:SYS/shell/shell.c ****     while (len --)
1755:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 58


1756:SYS/shell/shell.c ****         shell->write(*buffer++);
1757:SYS/shell/shell.c ****     }
1758:SYS/shell/shell.c ****     if (!shell->status.isActive)
1759:SYS/shell/shell.c ****     {
1760:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 0);
1761:SYS/shell/shell.c ****         if (shell->parser.length > 0)
1762:SYS/shell/shell.c ****         {
1763:SYS/shell/shell.c ****             shellWriteString(shell, shell->parser.buffer);
1764:SYS/shell/shell.c ****             for (short i = 0; i < shell->parser.length - shell->parser.cursor; i++)
1765:SYS/shell/shell.c ****             {
1766:SYS/shell/shell.c ****                 shell->write('\b');
1767:SYS/shell/shell.c ****             }
1768:SYS/shell/shell.c ****         }
1769:SYS/shell/shell.c ****     }
1770:SYS/shell/shell.c **** }
1771:SYS/shell/shell.c **** #endif /** SHELL_SUPPORT_END_LINE == 1 */
1772:SYS/shell/shell.c **** 
1773:SYS/shell/shell.c **** 
1774:SYS/shell/shell.c **** /**
1775:SYS/shell/shell.c ****  * @brief shell 任务
1776:SYS/shell/shell.c ****  * 
1777:SYS/shell/shell.c ****  * @param param 参数(shell对象)
1778:SYS/shell/shell.c ****  * 
1779:SYS/shell/shell.c ****  */
1780:SYS/shell/shell.c **** void shellTask(void *param)
1781:SYS/shell/shell.c **** {
1782:SYS/shell/shell.c ****     Shell *shell = (Shell *)param;
1783:SYS/shell/shell.c ****     char data;
1784:SYS/shell/shell.c **** #if SHELL_TASK_WHILE == 1
1785:SYS/shell/shell.c ****     while(1)
1786:SYS/shell/shell.c ****     {
1787:SYS/shell/shell.c **** #endif
1788:SYS/shell/shell.c ****         if (shell->read && shell->read(&data) == 0)
1789:SYS/shell/shell.c ****         {
1790:SYS/shell/shell.c ****             shellHandler(shell, data);
1791:SYS/shell/shell.c ****         }
1792:SYS/shell/shell.c **** #if SHELL_TASK_WHILE == 1
1793:SYS/shell/shell.c ****     }
1794:SYS/shell/shell.c **** #endif
1795:SYS/shell/shell.c **** }
1796:SYS/shell/shell.c **** 
1797:SYS/shell/shell.c **** 
1798:SYS/shell/shell.c **** /**
1799:SYS/shell/shell.c ****  * @brief shell 输出用户列表(shell调用)
1800:SYS/shell/shell.c ****  */
1801:SYS/shell/shell.c **** void shellUsers(void)
1802:SYS/shell/shell.c **** {
1803:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1804:SYS/shell/shell.c ****     if (shell)
1805:SYS/shell/shell.c ****     {
1806:SYS/shell/shell.c ****         shellListUser(shell);
1807:SYS/shell/shell.c ****     }
1808:SYS/shell/shell.c **** }
1809:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1810:SYS/shell/shell.c **** SHELL_CMD_PERMISSION(0)|SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC)|SHELL_CMD_DISABLE_RETURN,
1811:SYS/shell/shell.c **** users, shellUsers, list all user);
1812:SYS/shell/shell.c **** 
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 59


1813:SYS/shell/shell.c **** 
1814:SYS/shell/shell.c **** /**
1815:SYS/shell/shell.c ****  * @brief shell 输出命令列表(shell调用)
1816:SYS/shell/shell.c ****  */
1817:SYS/shell/shell.c **** void shellCmds(void)
1818:SYS/shell/shell.c **** {
1819:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1820:SYS/shell/shell.c ****     if (shell)
1821:SYS/shell/shell.c ****     {
1822:SYS/shell/shell.c ****         shellListCommand(shell);
1823:SYS/shell/shell.c ****     }
1824:SYS/shell/shell.c **** }
1825:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1826:SYS/shell/shell.c **** SHELL_CMD_PERMISSION(0)|SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC)|SHELL_CMD_DISABLE_RETURN,
1827:SYS/shell/shell.c **** cmds, shellCmds, list all cmd);
1828:SYS/shell/shell.c **** 
1829:SYS/shell/shell.c **** 
1830:SYS/shell/shell.c **** /**
1831:SYS/shell/shell.c ****  * @brief shell 输出变量列表(shell调用)
1832:SYS/shell/shell.c ****  */
1833:SYS/shell/shell.c **** void shellVars(void)
1834:SYS/shell/shell.c **** {
1835:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1836:SYS/shell/shell.c ****     if (shell)
1837:SYS/shell/shell.c ****     {
1838:SYS/shell/shell.c ****         shellListVar(shell);
1839:SYS/shell/shell.c ****     }
1840:SYS/shell/shell.c **** }
1841:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1842:SYS/shell/shell.c **** SHELL_CMD_PERMISSION(0)|SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC)|SHELL_CMD_DISABLE_RETURN,
1843:SYS/shell/shell.c **** vars, shellVars, list all var);
1844:SYS/shell/shell.c **** 
1845:SYS/shell/shell.c **** 
1846:SYS/shell/shell.c **** /**
1847:SYS/shell/shell.c ****  * @brief shell 输出按键列表(shell调用)
1848:SYS/shell/shell.c ****  */
1849:SYS/shell/shell.c **** void shellKeys(void)
1850:SYS/shell/shell.c **** {
1851:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
1852:SYS/shell/shell.c ****     if (shell)
1853:SYS/shell/shell.c ****     {
1854:SYS/shell/shell.c ****         shellListKey(shell);
1855:SYS/shell/shell.c ****     }
1856:SYS/shell/shell.c **** }
1857:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1858:SYS/shell/shell.c **** SHELL_CMD_PERMISSION(0)|SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC)|SHELL_CMD_DISABLE_RETURN,
1859:SYS/shell/shell.c **** keys, shellKeys, list all key);
1860:SYS/shell/shell.c **** 
1861:SYS/shell/shell.c **** 
1862:SYS/shell/shell.c **** /**
1863:SYS/shell/shell.c ****  * @brief shell 清空控制台(shell调用)
1864:SYS/shell/shell.c ****  */
1865:SYS/shell/shell.c **** void shellClear(void)
1866:SYS/shell/shell.c **** {
 1272              		.loc 1 1866 1 view -0
 1273              		.cfi_startproc
 1274              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 60


 1275              		@ frame_needed = 0, uses_anonymous_args = 0
 1276 0000 08B5     		push	{r3, lr}
 1277              	.LCFI12:
 1278              		.cfi_def_cfa_offset 8
 1279              		.cfi_offset 3, -8
 1280              		.cfi_offset 14, -4
1867:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 1281              		.loc 1 1867 5 view .LVU351
 1282              		.loc 1 1867 20 is_stmt 0 view .LVU352
 1283 0002 FFF7FEFF 		bl	shellGetCurrent
 1284              	.LVL113:
1868:SYS/shell/shell.c ****     if (shell)
 1285              		.loc 1 1868 5 is_stmt 1 view .LVU353
 1286              		.loc 1 1868 8 is_stmt 0 view .LVU354
 1287 0006 10B1     		cbz	r0, .L116
1869:SYS/shell/shell.c ****     {
1870:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_CLEAR_CONSOLE]);
 1288              		.loc 1 1870 9 is_stmt 1 view .LVU355
 1289 0008 0149     		ldr	r1, .L119
 1290 000a FFF7FEFF 		bl	shellWriteString
 1291              	.LVL114:
 1292              	.L116:
1871:SYS/shell/shell.c ****     }
1872:SYS/shell/shell.c **** }
 1293              		.loc 1 1872 1 is_stmt 0 view .LVU356
 1294 000e 08BD     		pop	{r3, pc}
 1295              	.L120:
 1296              		.align	2
 1297              	.L119:
 1298 0010 00000000 		.word	.LC0
 1299              		.cfi_endproc
 1300              	.LFE182:
 1302              		.section	.text.shellPrint,"ax",%progbits
 1303              		.align	1
 1304              		.global	shellPrint
 1305              		.syntax unified
 1306              		.thumb
 1307              		.thumb_func
 1308              		.fpu fpv4-sp-d16
 1310              	shellPrint:
 1311              	.LVL115:
 1312              	.LFB133:
 361:SYS/shell/shell.c ****     char buffer[SHELL_PRINT_BUFFER];
 1313              		.loc 1 361 1 is_stmt 1 view -0
 1314              		.cfi_startproc
 1315              		@ args = 4, pretend = 12, frame = 136
 1316              		@ frame_needed = 0, uses_anonymous_args = 1
 362:SYS/shell/shell.c ****     va_list vargs;
 1317              		.loc 1 362 5 view .LVU358
 363:SYS/shell/shell.c **** 
 1318              		.loc 1 363 5 view .LVU359
 365:SYS/shell/shell.c **** 
 1319              		.loc 1 365 5 view .LVU360
 1320 0000 98B1     		cbz	r0, .L125
 361:SYS/shell/shell.c ****     char buffer[SHELL_PRINT_BUFFER];
 1321              		.loc 1 361 1 is_stmt 0 discriminator 2 view .LVU361
 1322 0002 0EB4     		push	{r1, r2, r3}
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 61


 1323              	.LCFI13:
 1324              		.cfi_def_cfa_offset 12
 1325              		.cfi_offset 1, -12
 1326              		.cfi_offset 2, -8
 1327              		.cfi_offset 3, -4
 1328 0004 10B5     		push	{r4, lr}
 1329              	.LCFI14:
 1330              		.cfi_def_cfa_offset 20
 1331              		.cfi_offset 4, -20
 1332              		.cfi_offset 14, -16
 1333 0006 A3B0     		sub	sp, sp, #140
 1334              	.LCFI15:
 1335              		.cfi_def_cfa_offset 160
 1336 0008 0446     		mov	r4, r0
 365:SYS/shell/shell.c **** 
 1337              		.loc 1 365 32 is_stmt 1 discriminator 2 view .LVU362
 367:SYS/shell/shell.c ****     vsnprintf(buffer, SHELL_PRINT_BUFFER - 1, fmt, vargs);
 1338              		.loc 1 367 5 discriminator 2 view .LVU363
 1339 000a 26AB     		add	r3, sp, #152
 1340 000c 0193     		str	r3, [sp, #4]
 368:SYS/shell/shell.c ****     va_end(vargs);
 1341              		.loc 1 368 5 discriminator 2 view .LVU364
 1342 000e 259A     		ldr	r2, [sp, #148]
 1343 0010 7F21     		movs	r1, #127
 1344 0012 02A8     		add	r0, sp, #8
 1345 0014 FFF7FEFF 		bl	vsnprintf
 1346              	.LVL116:
 369:SYS/shell/shell.c ****     
 1347              		.loc 1 369 5 discriminator 2 view .LVU365
 371:SYS/shell/shell.c **** }
 1348              		.loc 1 371 5 discriminator 2 view .LVU366
 1349 0018 02A9     		add	r1, sp, #8
 1350 001a 2046     		mov	r0, r4
 1351 001c FFF7FEFF 		bl	shellWriteString
 1352              	.LVL117:
 372:SYS/shell/shell.c **** #endif
 1353              		.loc 1 372 1 is_stmt 0 discriminator 2 view .LVU367
 1354 0020 23B0     		add	sp, sp, #140
 1355              	.LCFI16:
 1356              		.cfi_def_cfa_offset 20
 1357              		@ sp needed
 1358 0022 BDE81040 		pop	{r4, lr}
 1359              	.LCFI17:
 1360              		.cfi_restore 14
 1361              		.cfi_restore 4
 1362              		.cfi_def_cfa_offset 12
 1363              	.LVL118:
 372:SYS/shell/shell.c **** #endif
 1364              		.loc 1 372 1 discriminator 2 view .LVU368
 1365 0026 03B0     		add	sp, sp, #12
 1366              	.LCFI18:
 1367              		.cfi_restore 3
 1368              		.cfi_restore 2
 1369              		.cfi_restore 1
 1370              		.cfi_def_cfa_offset 0
 1371 0028 7047     		bx	lr
 1372              	.LVL119:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 62


 1373              	.L125:
 372:SYS/shell/shell.c **** #endif
 1374              		.loc 1 372 1 discriminator 2 view .LVU369
 1375 002a 7047     		bx	lr
 1376              		.cfi_endproc
 1377              	.LFE133:
 1379              		.section	.text.shellScan,"ax",%progbits
 1380              		.align	1
 1381              		.global	shellScan
 1382              		.syntax unified
 1383              		.thumb
 1384              		.thumb_func
 1385              		.fpu fpv4-sp-d16
 1387              	shellScan:
 1388              	.LVL120:
 1389              	.LFB134:
 385:SYS/shell/shell.c ****     char buffer[SHELL_SCAN_BUFFER];
 1390              		.loc 1 385 1 is_stmt 1 view -0
 1391              		.cfi_startproc
 1392              		@ args = 4, pretend = 12, frame = 8
 1393              		@ frame_needed = 0, uses_anonymous_args = 1
 386:SYS/shell/shell.c ****     va_list vargs;
 1394              		.loc 1 386 5 view .LVU371
 387:SYS/shell/shell.c ****     short index = 0;
 1395              		.loc 1 387 5 view .LVU372
 388:SYS/shell/shell.c **** 
 1396              		.loc 1 388 5 view .LVU373
 390:SYS/shell/shell.c **** 
 1397              		.loc 1 390 5 view .LVU374
 1398 0000 0028     		cmp	r0, #0
 1399 0002 36D0     		beq	.L136
 385:SYS/shell/shell.c ****     char buffer[SHELL_SCAN_BUFFER];
 1400              		.loc 1 385 1 is_stmt 0 discriminator 2 view .LVU375
 1401 0004 0EB4     		push	{r1, r2, r3}
 1402              	.LCFI19:
 1403              		.cfi_def_cfa_offset 12
 1404              		.cfi_offset 1, -12
 1405              		.cfi_offset 2, -8
 1406              		.cfi_offset 3, -4
 1407 0006 70B5     		push	{r4, r5, r6, lr}
 1408              	.LCFI20:
 1409              		.cfi_def_cfa_offset 28
 1410              		.cfi_offset 4, -28
 1411              		.cfi_offset 5, -24
 1412              		.cfi_offset 6, -20
 1413              		.cfi_offset 14, -16
 1414 0008 83B0     		sub	sp, sp, #12
 1415              	.LCFI21:
 1416              		.cfi_def_cfa_offset 40
 1417 000a 0546     		mov	r5, r0
 390:SYS/shell/shell.c **** 
 1418              		.loc 1 390 32 is_stmt 1 discriminator 2 view .LVU376
 392:SYS/shell/shell.c ****     {
 1419              		.loc 1 392 5 discriminator 2 view .LVU377
 392:SYS/shell/shell.c ****     {
 1420              		.loc 1 392 14 is_stmt 0 discriminator 2 view .LVU378
 1421 000c 436E     		ldr	r3, [r0, #100]
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 63


 392:SYS/shell/shell.c ****     {
 1422              		.loc 1 392 8 discriminator 2 view .LVU379
 1423 000e 2BB3     		cbz	r3, .L131
 388:SYS/shell/shell.c **** 
 1424              		.loc 1 388 11 view .LVU380
 1425 0010 0024     		movs	r4, #0
 1426 0012 13E0     		b	.L134
 1427              	.LVL121:
 1428              	.L139:
 397:SYS/shell/shell.c ****                 index++;
 1429              		.loc 1 397 17 is_stmt 1 view .LVU381
 397:SYS/shell/shell.c ****                 index++;
 1430              		.loc 1 397 22 is_stmt 0 view .LVU382
 1431 0014 AB6E     		ldr	r3, [r5, #104]
 397:SYS/shell/shell.c ****                 index++;
 1432              		.loc 1 397 17 view .LVU383
 1433 0016 02AA     		add	r2, sp, #8
 1434 0018 2244     		add	r2, r2, r4
 1435 001a 12F8040C 		ldrb	r0, [r2, #-4]	@ zero_extendqisi2
 1436 001e 9847     		blx	r3
 1437              	.LVL122:
 398:SYS/shell/shell.c ****             }
 1438              		.loc 1 398 17 is_stmt 1 view .LVU384
 398:SYS/shell/shell.c ****             }
 1439              		.loc 1 398 22 is_stmt 0 view .LVU385
 1440 0020 0134     		adds	r4, r4, #1
 1441              	.LVL123:
 398:SYS/shell/shell.c ****             }
 1442              		.loc 1 398 22 view .LVU386
 1443 0022 24B2     		sxth	r4, r4
 1444              	.LVL124:
 1445              	.L132:
 400:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1446              		.loc 1 400 17 is_stmt 1 view .LVU387
 400:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1447              		.loc 1 400 31 is_stmt 0 view .LVU388
 1448 0024 2646     		mov	r6, r4
 1449 0026 631E     		subs	r3, r4, #1
 400:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1450              		.loc 1 400 24 view .LVU389
 1451 0028 02AA     		add	r2, sp, #8
 1452 002a 1344     		add	r3, r3, r2
 1453 002c 13F8043C 		ldrb	r3, [r3, #-4]	@ zero_extendqisi2
 400:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1454              		.loc 1 400 9 view .LVU390
 1455 0030 0D2B     		cmp	r3, #13
 1456 0032 0AD0     		beq	.L133
 400:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1457              		.loc 1 400 43 discriminator 1 view .LVU391
 1458 0034 0A2B     		cmp	r3, #10
 1459 0036 08D0     		beq	.L133
 400:SYS/shell/shell.c ****         shellWriteString(shell, "\r\n");
 1460              		.loc 1 400 71 discriminator 2 view .LVU392
 1461 0038 002C     		cmp	r4, #0
 1462 003a 06DC     		bgt	.L133
 1463              	.LVL125:
 1464              	.L134:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 64


 394:SYS/shell/shell.c ****             if (shell->read(&buffer[index]) == 0)
 1465              		.loc 1 394 9 is_stmt 1 view .LVU393
 395:SYS/shell/shell.c ****             {
 1466              		.loc 1 395 13 view .LVU394
 395:SYS/shell/shell.c ****             {
 1467              		.loc 1 395 22 is_stmt 0 view .LVU395
 1468 003c 6B6E     		ldr	r3, [r5, #100]
 395:SYS/shell/shell.c ****             {
 1469              		.loc 1 395 17 view .LVU396
 1470 003e 01AA     		add	r2, sp, #4
 1471 0040 1019     		adds	r0, r2, r4
 1472 0042 9847     		blx	r3
 1473              	.LVL126:
 395:SYS/shell/shell.c ****             {
 1474              		.loc 1 395 16 view .LVU397
 1475 0044 0028     		cmp	r0, #0
 1476 0046 EDD1     		bne	.L132
 1477 0048 E4E7     		b	.L139
 1478              	.L133:
 401:SYS/shell/shell.c ****         buffer[index] = '\0';
 1479              		.loc 1 401 9 is_stmt 1 view .LVU398
 1480 004a 0A49     		ldr	r1, .L140
 1481 004c 2846     		mov	r0, r5
 1482 004e FFF7FEFF 		bl	shellWriteString
 1483              	.LVL127:
 402:SYS/shell/shell.c ****     }
 1484              		.loc 1 402 9 view .LVU399
 402:SYS/shell/shell.c ****     }
 1485              		.loc 1 402 23 is_stmt 0 view .LVU400
 1486 0052 02AB     		add	r3, sp, #8
 1487 0054 1E44     		add	r6, r6, r3
 1488 0056 0023     		movs	r3, #0
 1489 0058 06F8043C 		strb	r3, [r6, #-4]
 1490              	.LVL128:
 1491              	.L131:
 405:SYS/shell/shell.c ****     vsscanf(buffer, fmt, vargs);
 1492              		.loc 1 405 5 is_stmt 1 view .LVU401
 1493 005c 08AA     		add	r2, sp, #32
 1494 005e 0092     		str	r2, [sp]
 406:SYS/shell/shell.c ****     va_end(vargs);
 1495              		.loc 1 406 5 view .LVU402
 1496 0060 0799     		ldr	r1, [sp, #28]
 1497 0062 01A8     		add	r0, sp, #4
 1498 0064 FFF7FEFF 		bl	vsscanf
 1499              	.LVL129:
 407:SYS/shell/shell.c **** }
 1500              		.loc 1 407 5 view .LVU403
 408:SYS/shell/shell.c **** #endif
 1501              		.loc 1 408 1 is_stmt 0 view .LVU404
 1502 0068 03B0     		add	sp, sp, #12
 1503              	.LCFI22:
 1504              		.cfi_def_cfa_offset 28
 1505              		@ sp needed
 1506 006a BDE87040 		pop	{r4, r5, r6, lr}
 1507              	.LCFI23:
 1508              		.cfi_restore 14
 1509              		.cfi_restore 6
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 65


 1510              		.cfi_restore 5
 1511              		.cfi_restore 4
 1512              		.cfi_def_cfa_offset 12
 1513              	.LVL130:
 408:SYS/shell/shell.c **** #endif
 1514              		.loc 1 408 1 view .LVU405
 1515 006e 03B0     		add	sp, sp, #12
 1516              	.LCFI24:
 1517              		.cfi_restore 3
 1518              		.cfi_restore 2
 1519              		.cfi_restore 1
 1520              		.cfi_def_cfa_offset 0
 1521 0070 7047     		bx	lr
 1522              	.LVL131:
 1523              	.L136:
 408:SYS/shell/shell.c **** #endif
 1524              		.loc 1 408 1 view .LVU406
 1525 0072 7047     		bx	lr
 1526              	.L141:
 1527              		.align	2
 1528              	.L140:
 1529 0074 04000000 		.word	.LC3
 1530              		.cfi_endproc
 1531              	.LFE134:
 1533              		.section	.text.shellCheckPermission,"ax",%progbits
 1534              		.align	1
 1535              		.global	shellCheckPermission
 1536              		.syntax unified
 1537              		.thumb
 1538              		.thumb_func
 1539              		.fpu fpv4-sp-d16
 1541              	shellCheckPermission:
 1542              	.LVL132:
 1543              	.LFB135:
 422:SYS/shell/shell.c ****     return ((!command->attr.attrs.permission
 1544              		.loc 1 422 1 is_stmt 1 view -0
 1545              		.cfi_startproc
 1546              		@ args = 0, pretend = 0, frame = 0
 1547              		@ frame_needed = 0, uses_anonymous_args = 0
 1548              		@ link register save eliminated.
 423:SYS/shell/shell.c ****                 || command->attr.attrs.type == SHELL_TYPE_USER
 1549              		.loc 1 423 5 view .LVU408
 423:SYS/shell/shell.c ****                 || command->attr.attrs.type == SHELL_TYPE_USER
 1550              		.loc 1 423 34 is_stmt 0 view .LVU409
 1551 0000 0B78     		ldrb	r3, [r1]	@ zero_extendqisi2
 429:SYS/shell/shell.c **** }
 1552              		.loc 1 429 17 view .LVU410
 1553 0002 43B1     		cbz	r3, .L143
 424:SYS/shell/shell.c ****                 || (command->attr.attrs.permission 
 1554              		.loc 1 424 45 view .LVU411
 1555 0004 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 1556 0006 02F00F02 		and	r2, r2, #15
 424:SYS/shell/shell.c ****                 || (command->attr.attrs.permission 
 1557              		.loc 1 424 17 view .LVU412
 1558 000a 082A     		cmp	r2, #8
 1559 000c 03D0     		beq	.L143
 426:SYS/shell/shell.c ****             && (shell->status.isChecked
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 66


 1560              		.loc 1 426 34 view .LVU413
 1561 000e 0268     		ldr	r2, [r0]
 426:SYS/shell/shell.c ****             && (shell->status.isChecked
 1562              		.loc 1 426 51 view .LVU414
 1563 0010 1278     		ldrb	r2, [r2]	@ zero_extendqisi2
 425:SYS/shell/shell.c ****                     & shell->info.user->attr.attrs.permission))
 1564              		.loc 1 425 17 view .LVU415
 1565 0012 1342     		tst	r3, r2
 1566 0014 0DD0     		beq	.L145
 1567              	.L143:
 427:SYS/shell/shell.c ****                 || command->attr.attrs.enableUnchecked))
 1568              		.loc 1 427 17 view .LVU416
 1569 0016 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
 427:SYS/shell/shell.c ****                 || command->attr.attrs.enableUnchecked))
 1570              		.loc 1 427 13 view .LVU417
 1571 001a 13F0010F 		tst	r3, #1
 1572 001e 0BD1     		bne	.L146
 428:SYS/shell/shell.c ****             ? 0 : -1;
 1573              		.loc 1 428 17 view .LVU418
 1574 0020 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1575 0022 13F0100F 		tst	r3, #16
 1576 0026 01D0     		beq	.L148
 429:SYS/shell/shell.c **** }
 1577              		.loc 1 429 17 view .LVU419
 1578 0028 0020     		movs	r0, #0
 1579              	.LVL133:
 430:SYS/shell/shell.c **** 
 1580              		.loc 1 430 1 view .LVU420
 1581 002a 7047     		bx	lr
 1582              	.LVL134:
 1583              	.L148:
 429:SYS/shell/shell.c **** }
 1584              		.loc 1 429 17 view .LVU421
 1585 002c 4FF0FF30 		mov	r0, #-1
 1586              	.LVL135:
 429:SYS/shell/shell.c **** }
 1587              		.loc 1 429 17 view .LVU422
 1588 0030 7047     		bx	lr
 1589              	.LVL136:
 1590              	.L145:
 429:SYS/shell/shell.c **** }
 1591              		.loc 1 429 17 view .LVU423
 1592 0032 4FF0FF30 		mov	r0, #-1
 1593              	.LVL137:
 429:SYS/shell/shell.c **** }
 1594              		.loc 1 429 17 view .LVU424
 1595 0036 7047     		bx	lr
 1596              	.LVL138:
 1597              	.L146:
 429:SYS/shell/shell.c **** }
 1598              		.loc 1 429 17 view .LVU425
 1599 0038 0020     		movs	r0, #0
 1600              	.LVL139:
 429:SYS/shell/shell.c **** }
 1601              		.loc 1 429 17 view .LVU426
 1602 003a 7047     		bx	lr
 1603              		.cfi_endproc
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 67


 1604              	.LFE135:
 1606              		.section	.text.shellToHex,"ax",%progbits
 1607              		.align	1
 1608              		.global	shellToHex
 1609              		.syntax unified
 1610              		.thumb
 1611              		.thumb_func
 1612              		.fpu fpv4-sp-d16
 1614              	shellToHex:
 1615              	.LVL140:
 1616              	.LFB136:
 442:SYS/shell/shell.c ****     char byte;
 1617              		.loc 1 442 1 is_stmt 1 view -0
 1618              		.cfi_startproc
 1619              		@ args = 0, pretend = 0, frame = 0
 1620              		@ frame_needed = 0, uses_anonymous_args = 0
 1621              		@ link register save eliminated.
 443:SYS/shell/shell.c ****     unsigned char i = 8;
 1622              		.loc 1 443 5 view .LVU428
 444:SYS/shell/shell.c ****     buffer[8] = 0;
 1623              		.loc 1 444 5 view .LVU429
 445:SYS/shell/shell.c ****     while (value)
 1624              		.loc 1 445 5 view .LVU430
 445:SYS/shell/shell.c ****     while (value)
 1625              		.loc 1 445 15 is_stmt 0 view .LVU431
 1626 0000 0023     		movs	r3, #0
 1627 0002 0B72     		strb	r3, [r1, #8]
 446:SYS/shell/shell.c ****     {
 1628              		.loc 1 446 5 is_stmt 1 view .LVU432
 444:SYS/shell/shell.c ****     buffer[8] = 0;
 1629              		.loc 1 444 19 is_stmt 0 view .LVU433
 1630 0004 0823     		movs	r3, #8
 446:SYS/shell/shell.c ****     {
 1631              		.loc 1 446 11 view .LVU434
 1632 0006 04E0     		b	.L150
 1633              	.LVL141:
 1634              	.L151:
 449:SYS/shell/shell.c ****         value >>= 4;
 1635              		.loc 1 449 21 discriminator 2 view .LVU435
 1636 0008 3032     		adds	r2, r2, #48
 1637              	.LVL142:
 1638              	.L152:
 449:SYS/shell/shell.c ****         value >>= 4;
 1639              		.loc 1 449 21 discriminator 4 view .LVU436
 1640 000a 013B     		subs	r3, r3, #1
 1641              	.LVL143:
 449:SYS/shell/shell.c ****         value >>= 4;
 1642              		.loc 1 449 21 discriminator 4 view .LVU437
 1643 000c DBB2     		uxtb	r3, r3
 1644              	.LVL144:
 449:SYS/shell/shell.c ****         value >>= 4;
 1645              		.loc 1 449 21 discriminator 4 view .LVU438
 1646 000e CA54     		strb	r2, [r1, r3]
 450:SYS/shell/shell.c ****     }
 1647              		.loc 1 450 9 is_stmt 1 discriminator 4 view .LVU439
 450:SYS/shell/shell.c ****     }
 1648              		.loc 1 450 15 is_stmt 0 discriminator 4 view .LVU440
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 68


 1649 0010 0009     		lsrs	r0, r0, #4
 1650              	.LVL145:
 1651              	.L150:
 446:SYS/shell/shell.c ****     {
 1652              		.loc 1 446 11 is_stmt 1 view .LVU441
 1653 0012 28B1     		cbz	r0, .L154
 448:SYS/shell/shell.c ****         buffer[--i] = (byte > 9) ? (byte + 87) : (byte + 48);
 1654              		.loc 1 448 9 view .LVU442
 448:SYS/shell/shell.c ****         buffer[--i] = (byte > 9) ? (byte + 87) : (byte + 48);
 1655              		.loc 1 448 14 is_stmt 0 view .LVU443
 1656 0014 00F00F02 		and	r2, r0, #15
 1657              	.LVL146:
 449:SYS/shell/shell.c ****         value >>= 4;
 1658              		.loc 1 449 9 is_stmt 1 view .LVU444
 449:SYS/shell/shell.c ****         value >>= 4;
 1659              		.loc 1 449 21 is_stmt 0 view .LVU445
 1660 0018 092A     		cmp	r2, #9
 1661 001a F5D9     		bls	.L151
 449:SYS/shell/shell.c ****         value >>= 4;
 1662              		.loc 1 449 21 discriminator 1 view .LVU446
 1663 001c 5732     		adds	r2, r2, #87
 1664              	.LVL147:
 449:SYS/shell/shell.c ****         value >>= 4;
 1665              		.loc 1 449 21 discriminator 1 view .LVU447
 1666 001e F4E7     		b	.L152
 1667              	.LVL148:
 1668              	.L154:
 452:SYS/shell/shell.c **** }
 1669              		.loc 1 452 5 is_stmt 1 view .LVU448
 452:SYS/shell/shell.c **** }
 1670              		.loc 1 452 14 is_stmt 0 view .LVU449
 1671 0020 C3F10800 		rsb	r0, r3, #8
 1672              	.LVL149:
 453:SYS/shell/shell.c **** 
 1673              		.loc 1 453 1 view .LVU450
 1674 0024 40B2     		sxtb	r0, r0
 1675 0026 7047     		bx	lr
 1676              		.cfi_endproc
 1677              	.LFE136:
 1679              		.section	.text.shellGetCommandName,"ax",%progbits
 1680              		.align	1
 1681              		.syntax unified
 1682              		.thumb
 1683              		.thumb_func
 1684              		.fpu fpv4-sp-d16
 1686              	shellGetCommandName:
 1687              	.LVL150:
 1688              	.LFB140:
 541:SYS/shell/shell.c ****     static char buffer[9];
 1689              		.loc 1 541 1 is_stmt 1 view -0
 1690              		.cfi_startproc
 1691              		@ args = 0, pretend = 0, frame = 0
 1692              		@ frame_needed = 0, uses_anonymous_args = 0
 542:SYS/shell/shell.c ****     for (unsigned char i = 0; i < 9; i++)
 1693              		.loc 1 542 5 view .LVU452
 543:SYS/shell/shell.c ****     {
 1694              		.loc 1 543 5 view .LVU453
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 69


 1695              	.LBB8:
 543:SYS/shell/shell.c ****     {
 1696              		.loc 1 543 10 view .LVU454
 543:SYS/shell/shell.c ****     {
 1697              		.loc 1 543 24 is_stmt 0 view .LVU455
 1698 0000 0023     		movs	r3, #0
 543:SYS/shell/shell.c ****     {
 1699              		.loc 1 543 5 view .LVU456
 1700 0002 04E0     		b	.L156
 1701              	.LVL151:
 1702              	.L157:
 545:SYS/shell/shell.c ****     }
 1703              		.loc 1 545 9 is_stmt 1 discriminator 3 view .LVU457
 545:SYS/shell/shell.c ****     }
 1704              		.loc 1 545 19 is_stmt 0 discriminator 3 view .LVU458
 1705 0004 0E4A     		ldr	r2, .L167
 1706 0006 3021     		movs	r1, #48
 1707 0008 D154     		strb	r1, [r2, r3]
 543:SYS/shell/shell.c ****     {
 1708              		.loc 1 543 38 is_stmt 1 discriminator 3 view .LVU459
 543:SYS/shell/shell.c ****     {
 1709              		.loc 1 543 39 is_stmt 0 discriminator 3 view .LVU460
 1710 000a 0133     		adds	r3, r3, #1
 1711              	.LVL152:
 543:SYS/shell/shell.c ****     {
 1712              		.loc 1 543 39 discriminator 3 view .LVU461
 1713 000c DBB2     		uxtb	r3, r3
 1714              	.LVL153:
 1715              	.L156:
 543:SYS/shell/shell.c ****     {
 1716              		.loc 1 543 31 is_stmt 1 discriminator 1 view .LVU462
 543:SYS/shell/shell.c ****     {
 1717              		.loc 1 543 5 is_stmt 0 discriminator 1 view .LVU463
 1718 000e 082B     		cmp	r3, #8
 1719 0010 F8D9     		bls	.L157
 1720              	.LBE8:
 547:SYS/shell/shell.c ****     {
 1721              		.loc 1 547 5 is_stmt 1 view .LVU464
 547:SYS/shell/shell.c ****     {
 1722              		.loc 1 547 28 is_stmt 0 view .LVU465
 1723 0012 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 1724              	.LVL154:
 547:SYS/shell/shell.c ****     {
 1725              		.loc 1 547 28 view .LVU466
 1726 0014 03F00F03 		and	r3, r3, #15
 547:SYS/shell/shell.c ****     {
 1727              		.loc 1 547 8 view .LVU467
 1728 0018 012B     		cmp	r3, #1
 1729 001a 05D9     		bls	.L165
 551:SYS/shell/shell.c ****     {
 1730              		.loc 1 551 10 is_stmt 1 view .LVU468
 551:SYS/shell/shell.c ****     {
 1731              		.loc 1 551 13 is_stmt 0 view .LVU469
 1732 001c 072B     		cmp	r3, #7
 1733 001e 05D9     		bls	.L166
 555:SYS/shell/shell.c ****     {
 1734              		.loc 1 555 10 is_stmt 1 view .LVU470
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 70


 555:SYS/shell/shell.c ****     {
 1735              		.loc 1 555 13 is_stmt 0 view .LVU471
 1736 0020 082B     		cmp	r3, #8
 1737 0022 05D8     		bhi	.L161
 557:SYS/shell/shell.c ****     }
 1738              		.loc 1 557 9 is_stmt 1 view .LVU472
 557:SYS/shell/shell.c ****     }
 1739              		.loc 1 557 34 is_stmt 0 view .LVU473
 1740 0024 4068     		ldr	r0, [r0, #4]
 1741              	.LVL155:
 564:SYS/shell/shell.c **** 
 1742              		.loc 1 564 1 view .LVU474
 1743 0026 7047     		bx	lr
 1744              	.LVL156:
 1745              	.L165:
 549:SYS/shell/shell.c ****     }
 1746              		.loc 1 549 9 is_stmt 1 view .LVU475
 549:SYS/shell/shell.c ****     }
 1747              		.loc 1 549 33 is_stmt 0 view .LVU476
 1748 0028 4068     		ldr	r0, [r0, #4]
 1749              	.LVL157:
 549:SYS/shell/shell.c ****     }
 1750              		.loc 1 549 33 view .LVU477
 1751 002a 7047     		bx	lr
 1752              	.LVL158:
 1753              	.L166:
 553:SYS/shell/shell.c ****     }
 1754              		.loc 1 553 9 is_stmt 1 view .LVU478
 553:SYS/shell/shell.c ****     }
 1755              		.loc 1 553 33 is_stmt 0 view .LVU479
 1756 002c 4068     		ldr	r0, [r0, #4]
 1757              	.LVL159:
 553:SYS/shell/shell.c ****     }
 1758              		.loc 1 553 33 view .LVU480
 1759 002e 7047     		bx	lr
 1760              	.LVL160:
 1761              	.L161:
 541:SYS/shell/shell.c ****     static char buffer[9];
 1762              		.loc 1 541 1 view .LVU481
 1763 0030 10B5     		push	{r4, lr}
 1764              	.LCFI25:
 1765              		.cfi_def_cfa_offset 8
 1766              		.cfi_offset 4, -8
 1767              		.cfi_offset 14, -4
 561:SYS/shell/shell.c ****         return buffer;
 1768              		.loc 1 561 9 is_stmt 1 view .LVU482
 1769 0032 034C     		ldr	r4, .L167
 1770 0034 2146     		mov	r1, r4
 1771 0036 4068     		ldr	r0, [r0, #4]
 1772              	.LVL161:
 561:SYS/shell/shell.c ****         return buffer;
 1773              		.loc 1 561 9 is_stmt 0 view .LVU483
 1774 0038 FFF7FEFF 		bl	shellToHex
 1775              	.LVL162:
 562:SYS/shell/shell.c ****     }
 1776              		.loc 1 562 9 is_stmt 1 view .LVU484
 562:SYS/shell/shell.c ****     }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 71


 1777              		.loc 1 562 16 is_stmt 0 view .LVU485
 1778 003c 2046     		mov	r0, r4
 564:SYS/shell/shell.c **** 
 1779              		.loc 1 564 1 view .LVU486
 1780 003e 10BD     		pop	{r4, pc}
 1781              	.L168:
 1782              		.align	2
 1783              	.L167:
 1784 0040 00000000 		.word	.LANCHOR1
 1785              		.cfi_endproc
 1786              	.LFE140:
 1788              		.section	.text.shellToDec,"ax",%progbits
 1789              		.align	1
 1790              		.global	shellToDec
 1791              		.syntax unified
 1792              		.thumb
 1793              		.thumb_func
 1794              		.fpu fpv4-sp-d16
 1796              	shellToDec:
 1797              	.LVL163:
 1798              	.LFB137:
 465:SYS/shell/shell.c ****     unsigned char i = 11;
 1799              		.loc 1 465 1 is_stmt 1 view -0
 1800              		.cfi_startproc
 1801              		@ args = 0, pretend = 0, frame = 0
 1802              		@ frame_needed = 0, uses_anonymous_args = 0
 1803              		@ link register save eliminated.
 465:SYS/shell/shell.c ****     unsigned char i = 11;
 1804              		.loc 1 465 1 is_stmt 0 view .LVU488
 1805 0000 10B4     		push	{r4}
 1806              	.LCFI26:
 1807              		.cfi_def_cfa_offset 4
 1808              		.cfi_offset 4, -4
 466:SYS/shell/shell.c ****     int v = value;
 1809              		.loc 1 466 5 is_stmt 1 view .LVU489
 1810              	.LVL164:
 467:SYS/shell/shell.c ****     if (value < 0)
 1811              		.loc 1 467 5 view .LVU490
 468:SYS/shell/shell.c ****     {
 1812              		.loc 1 468 5 view .LVU491
 468:SYS/shell/shell.c ****     {
 1813              		.loc 1 468 8 is_stmt 0 view .LVU492
 1814 0002 041E     		subs	r4, r0, #0
 1815 0004 04DB     		blt	.L177
 467:SYS/shell/shell.c ****     if (value < 0)
 1816              		.loc 1 467 9 view .LVU493
 1817 0006 2246     		mov	r2, r4
 1818              	.LVL165:
 1819              	.L170:
 472:SYS/shell/shell.c ****     while (v)
 1820              		.loc 1 472 5 is_stmt 1 view .LVU494
 472:SYS/shell/shell.c ****     while (v)
 1821              		.loc 1 472 16 is_stmt 0 view .LVU495
 1822 0008 0023     		movs	r3, #0
 1823 000a CB72     		strb	r3, [r1, #11]
 473:SYS/shell/shell.c ****     {
 1824              		.loc 1 473 5 is_stmt 1 view .LVU496
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 72


 466:SYS/shell/shell.c ****     int v = value;
 1825              		.loc 1 466 19 is_stmt 0 view .LVU497
 1826 000c 0B20     		movs	r0, #11
 1827              	.LVL166:
 473:SYS/shell/shell.c ****     {
 1828              		.loc 1 473 11 view .LVU498
 1829 000e 11E0     		b	.L171
 1830              	.LVL167:
 1831              	.L177:
 470:SYS/shell/shell.c ****     }
 1832              		.loc 1 470 9 is_stmt 1 view .LVU499
 470:SYS/shell/shell.c ****     }
 1833              		.loc 1 470 11 is_stmt 0 view .LVU500
 1834 0010 6242     		rsbs	r2, r4, #0
 1835              	.LVL168:
 470:SYS/shell/shell.c ****     }
 1836              		.loc 1 470 11 view .LVU501
 1837 0012 F9E7     		b	.L170
 1838              	.LVL169:
 1839              	.L172:
 475:SYS/shell/shell.c ****         v /= 10;
 1840              		.loc 1 475 9 is_stmt 1 view .LVU502
 475:SYS/shell/shell.c ****         v /= 10;
 1841              		.loc 1 475 25 is_stmt 0 view .LVU503
 1842 0014 114B     		ldr	r3, .L179
 1843 0016 83FB023C 		smull	r3, ip, r3, r2
 1844 001a D317     		asrs	r3, r2, #31
 1845 001c C3EBAC03 		rsb	r3, r3, ip, asr #2
 1846 0020 9C46     		mov	ip, r3
 1847 0022 03EB8303 		add	r3, r3, r3, lsl #2
 1848 0026 A2EB4303 		sub	r3, r2, r3, lsl #1
 475:SYS/shell/shell.c ****         v /= 10;
 1849              		.loc 1 475 21 view .LVU504
 1850 002a 0138     		subs	r0, r0, #1
 1851              	.LVL170:
 475:SYS/shell/shell.c ****         v /= 10;
 1852              		.loc 1 475 21 view .LVU505
 1853 002c C0B2     		uxtb	r0, r0
 1854              	.LVL171:
 475:SYS/shell/shell.c ****         v /= 10;
 1855              		.loc 1 475 30 view .LVU506
 1856 002e 3033     		adds	r3, r3, #48
 475:SYS/shell/shell.c ****         v /= 10;
 1857              		.loc 1 475 21 view .LVU507
 1858 0030 0B54     		strb	r3, [r1, r0]
 476:SYS/shell/shell.c ****     }
 1859              		.loc 1 476 9 is_stmt 1 view .LVU508
 476:SYS/shell/shell.c ****     }
 1860              		.loc 1 476 11 is_stmt 0 view .LVU509
 1861 0032 6246     		mov	r2, ip
 1862              	.LVL172:
 1863              	.L171:
 473:SYS/shell/shell.c ****     {
 1864              		.loc 1 473 11 is_stmt 1 view .LVU510
 1865 0034 002A     		cmp	r2, #0
 1866 0036 EDD1     		bne	.L172
 478:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 73


 1867              		.loc 1 478 5 view .LVU511
 478:SYS/shell/shell.c ****     {
 1868              		.loc 1 478 8 is_stmt 0 view .LVU512
 1869 0038 002C     		cmp	r4, #0
 1870 003a 0ADB     		blt	.L178
 1871              	.L173:
 482:SYS/shell/shell.c ****         buffer[--i] = '0';
 1872              		.loc 1 482 5 is_stmt 1 view .LVU513
 482:SYS/shell/shell.c ****         buffer[--i] = '0';
 1873              		.loc 1 482 8 is_stmt 0 view .LVU514
 1874 003c 1CB9     		cbnz	r4, .L174
 483:SYS/shell/shell.c ****     }
 1875              		.loc 1 483 9 is_stmt 1 view .LVU515
 483:SYS/shell/shell.c ****     }
 1876              		.loc 1 483 21 is_stmt 0 view .LVU516
 1877 003e 0138     		subs	r0, r0, #1
 1878              	.LVL173:
 483:SYS/shell/shell.c ****     }
 1879              		.loc 1 483 21 view .LVU517
 1880 0040 C0B2     		uxtb	r0, r0
 1881              	.LVL174:
 483:SYS/shell/shell.c ****     }
 1882              		.loc 1 483 21 view .LVU518
 1883 0042 3023     		movs	r3, #48
 1884 0044 0B54     		strb	r3, [r1, r0]
 1885              	.L174:
 485:SYS/shell/shell.c **** }
 1886              		.loc 1 485 5 is_stmt 1 view .LVU519
 485:SYS/shell/shell.c **** }
 1887              		.loc 1 485 15 is_stmt 0 view .LVU520
 1888 0046 C0F10B00 		rsb	r0, r0, #11
 1889              	.LVL175:
 486:SYS/shell/shell.c **** 
 1890              		.loc 1 486 1 view .LVU521
 1891 004a 40B2     		sxtb	r0, r0
 1892 004c 5DF8044B 		ldr	r4, [sp], #4
 1893              	.LCFI27:
 1894              		.cfi_remember_state
 1895              		.cfi_restore 4
 1896              		.cfi_def_cfa_offset 0
 1897              	.LVL176:
 486:SYS/shell/shell.c **** 
 1898              		.loc 1 486 1 view .LVU522
 1899 0050 7047     		bx	lr
 1900              	.LVL177:
 1901              	.L178:
 1902              	.LCFI28:
 1903              		.cfi_restore_state
 480:SYS/shell/shell.c ****     }
 1904              		.loc 1 480 9 is_stmt 1 view .LVU523
 480:SYS/shell/shell.c ****     }
 1905              		.loc 1 480 21 is_stmt 0 view .LVU524
 1906 0052 0138     		subs	r0, r0, #1
 1907              	.LVL178:
 480:SYS/shell/shell.c ****     }
 1908              		.loc 1 480 21 view .LVU525
 1909 0054 C0B2     		uxtb	r0, r0
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 74


 1910              	.LVL179:
 480:SYS/shell/shell.c ****     }
 1911              		.loc 1 480 21 view .LVU526
 1912 0056 2D23     		movs	r3, #45
 1913 0058 0B54     		strb	r3, [r1, r0]
 1914 005a EFE7     		b	.L173
 1915              	.L180:
 1916              		.align	2
 1917              	.L179:
 1918 005c 67666666 		.word	1717986919
 1919              		.cfi_endproc
 1920              	.LFE137:
 1922              		.section	.rodata.shellWriteReturnValue.str1.4,"aMS",%progbits,1
 1923              		.align	2
 1924              	.LC9:
 1925 0000 52657475 		.ascii	"Return: \000"
 1925      726E3A20 
 1925      00
 1926 0009 000000   		.align	2
 1927              	.LC10:
 1928 000c 2C203078 		.ascii	", 0x\000"
 1928      00
 1929 0011 000000   		.align	2
 1930              	.LC8:
 1931 0014 30303030 		.ascii	"00000000000\000"
 1931      30303030 
 1931      30303000 
 1932              		.section	.text.shellWriteReturnValue,"ax",%progbits
 1933              		.align	1
 1934              		.syntax unified
 1935              		.thumb
 1936              		.thumb_func
 1937              		.fpu fpv4-sp-d16
 1939              	shellWriteReturnValue:
 1940              	.LVL180:
 1941              	.LFB162:
1266:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
 1942              		.loc 1 1266 1 is_stmt 1 view -0
 1943              		.cfi_startproc
 1944              		@ args = 0, pretend = 0, frame = 16
 1945              		@ frame_needed = 0, uses_anonymous_args = 0
1266:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
 1946              		.loc 1 1266 1 is_stmt 0 view .LVU528
 1947 0000 70B5     		push	{r4, r5, r6, lr}
 1948              	.LCFI29:
 1949              		.cfi_def_cfa_offset 16
 1950              		.cfi_offset 4, -16
 1951              		.cfi_offset 5, -12
 1952              		.cfi_offset 6, -8
 1953              		.cfi_offset 14, -4
 1954 0002 84B0     		sub	sp, sp, #16
 1955              	.LCFI30:
 1956              		.cfi_def_cfa_offset 32
 1957 0004 0446     		mov	r4, r0
 1958 0006 0E46     		mov	r6, r1
1267:SYS/shell/shell.c ****     shellWriteString(shell, "Return: ");
 1959              		.loc 1 1267 5 is_stmt 1 view .LVU529
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 75


1267:SYS/shell/shell.c ****     shellWriteString(shell, "Return: ");
 1960              		.loc 1 1267 10 is_stmt 0 view .LVU530
 1961 0008 184B     		ldr	r3, .L185
 1962 000a 01AD     		add	r5, sp, #4
 1963 000c 93E80700 		ldm	r3, {r0, r1, r2}
 1964              	.LVL181:
1267:SYS/shell/shell.c ****     shellWriteString(shell, "Return: ");
 1965              		.loc 1 1267 10 view .LVU531
 1966 0010 85E80700 		stm	r5, {r0, r1, r2}
1268:SYS/shell/shell.c ****     shellWriteString(shell, &buffer[11 - shellToDec(value, buffer)]);
 1967              		.loc 1 1268 5 is_stmt 1 view .LVU532
 1968 0014 1649     		ldr	r1, .L185+4
 1969 0016 2046     		mov	r0, r4
 1970 0018 FFF7FEFF 		bl	shellWriteString
 1971              	.LVL182:
1269:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
 1972              		.loc 1 1269 5 view .LVU533
1269:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
 1973              		.loc 1 1269 42 is_stmt 0 view .LVU534
 1974 001c 2946     		mov	r1, r5
 1975 001e 3046     		mov	r0, r6
 1976 0020 FFF7FEFF 		bl	shellToDec
 1977              	.LVL183:
1269:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
 1978              		.loc 1 1269 40 view .LVU535
 1979 0024 C0F10B01 		rsb	r1, r0, #11
1269:SYS/shell/shell.c ****     shellWriteString(shell, ", 0x");
 1980              		.loc 1 1269 5 view .LVU536
 1981 0028 2944     		add	r1, r1, r5
 1982 002a 2046     		mov	r0, r4
 1983 002c FFF7FEFF 		bl	shellWriteString
 1984              	.LVL184:
1270:SYS/shell/shell.c ****     for (short i = 0; i < 11; i++)
 1985              		.loc 1 1270 5 is_stmt 1 view .LVU537
 1986 0030 1049     		ldr	r1, .L185+8
 1987 0032 2046     		mov	r0, r4
 1988 0034 FFF7FEFF 		bl	shellWriteString
 1989              	.LVL185:
1271:SYS/shell/shell.c ****     {
 1990              		.loc 1 1271 5 view .LVU538
 1991              	.LBB9:
1271:SYS/shell/shell.c ****     {
 1992              		.loc 1 1271 10 view .LVU539
1271:SYS/shell/shell.c ****     {
 1993              		.loc 1 1271 16 is_stmt 0 view .LVU540
 1994 0038 0023     		movs	r3, #0
1271:SYS/shell/shell.c ****     {
 1995              		.loc 1 1271 5 view .LVU541
 1996 003a 07E0     		b	.L182
 1997              	.LVL186:
 1998              	.L183:
1273:SYS/shell/shell.c ****     }
 1999              		.loc 1 1273 9 is_stmt 1 discriminator 3 view .LVU542
1273:SYS/shell/shell.c ****     }
 2000              		.loc 1 1273 19 is_stmt 0 discriminator 3 view .LVU543
 2001 003c 04AA     		add	r2, sp, #16
 2002 003e 1A44     		add	r2, r2, r3
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 76


 2003 0040 4FF0300C 		mov	ip, #48
 2004 0044 02F80CCC 		strb	ip, [r2, #-12]
1271:SYS/shell/shell.c ****     {
 2005              		.loc 1 1271 31 is_stmt 1 discriminator 3 view .LVU544
1271:SYS/shell/shell.c ****     {
 2006              		.loc 1 1271 32 is_stmt 0 discriminator 3 view .LVU545
 2007 0048 0133     		adds	r3, r3, #1
 2008              	.LVL187:
1271:SYS/shell/shell.c ****     {
 2009              		.loc 1 1271 32 discriminator 3 view .LVU546
 2010 004a 1BB2     		sxth	r3, r3
 2011              	.LVL188:
 2012              	.L182:
1271:SYS/shell/shell.c ****     {
 2013              		.loc 1 1271 23 is_stmt 1 discriminator 1 view .LVU547
1271:SYS/shell/shell.c ****     {
 2014              		.loc 1 1271 5 is_stmt 0 discriminator 1 view .LVU548
 2015 004c 0A2B     		cmp	r3, #10
 2016 004e F5DD     		ble	.L183
 2017              	.LBE9:
1275:SYS/shell/shell.c ****     shellWriteString(shell, buffer);
 2018              		.loc 1 1275 5 is_stmt 1 view .LVU549
 2019 0050 01A9     		add	r1, sp, #4
 2020 0052 3046     		mov	r0, r6
 2021 0054 FFF7FEFF 		bl	shellToHex
 2022              	.LVL189:
1276:SYS/shell/shell.c ****     shellWriteString(shell, "\r\n");
 2023              		.loc 1 1276 5 view .LVU550
 2024 0058 01A9     		add	r1, sp, #4
 2025 005a 2046     		mov	r0, r4
 2026 005c FFF7FEFF 		bl	shellWriteString
 2027              	.LVL190:
1277:SYS/shell/shell.c **** }
 2028              		.loc 1 1277 5 view .LVU551
 2029 0060 0549     		ldr	r1, .L185+12
 2030 0062 2046     		mov	r0, r4
 2031 0064 FFF7FEFF 		bl	shellWriteString
 2032              	.LVL191:
1278:SYS/shell/shell.c **** 
 2033              		.loc 1 1278 1 is_stmt 0 view .LVU552
 2034 0068 04B0     		add	sp, sp, #16
 2035              	.LCFI31:
 2036              		.cfi_def_cfa_offset 16
 2037              		@ sp needed
 2038 006a 70BD     		pop	{r4, r5, r6, pc}
 2039              	.LVL192:
 2040              	.L186:
1278:SYS/shell/shell.c **** 
 2041              		.loc 1 1278 1 view .LVU553
 2042              		.align	2
 2043              	.L185:
 2044 006c 14000000 		.word	.LC8
 2045 0070 00000000 		.word	.LC9
 2046 0074 0C000000 		.word	.LC10
 2047 0078 04000000 		.word	.LC3
 2048              		.cfi_endproc
 2049              	.LFE162:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 77


 2051              		.section	.rodata.shellListItem.str1.4,"aMS",%progbits,1
 2052              		.align	2
 2053              	.LC11:
 2054 0000 434D4420 		.ascii	"CMD \015\012\000"
 2054      0D0A00
 2055 0007 00       		.align	2
 2056              	.LC12:
 2057 0008 56415200 		.ascii	"VAR\000"
 2058              		.align	2
 2059              	.LC13:
 2060 000c 55534552 		.ascii	"USER\000"
 2060      00
 2061 0011 000000   		.align	2
 2062              	.LC14:
 2063 0014 4B455900 		.ascii	"KEY\000"
 2064              		.align	2
 2065              	.LC15:
 2066 0018 4E4F4E45 		.ascii	"NONE\000"
 2066      00
 2067              		.section	.text.shellListItem,"ax",%progbits
 2068              		.align	1
 2069              		.global	shellListItem
 2070              		.syntax unified
 2071              		.thumb
 2072              		.thumb_func
 2073              		.fpu fpv4-sp-d16
 2075              	shellListItem:
 2076              	.LVL193:
 2077              	.LFB142:
 600:SYS/shell/shell.c ****     short spaceLength;
 2078              		.loc 1 600 1 is_stmt 1 view -0
 2079              		.cfi_startproc
 2080              		@ args = 0, pretend = 0, frame = 0
 2081              		@ frame_needed = 0, uses_anonymous_args = 0
 600:SYS/shell/shell.c ****     short spaceLength;
 2082              		.loc 1 600 1 is_stmt 0 view .LVU555
 2083 0000 70B5     		push	{r4, r5, r6, lr}
 2084              	.LCFI32:
 2085              		.cfi_def_cfa_offset 16
 2086              		.cfi_offset 4, -16
 2087              		.cfi_offset 5, -12
 2088              		.cfi_offset 6, -8
 2089              		.cfi_offset 14, -4
 2090 0002 0546     		mov	r5, r0
 2091 0004 0E46     		mov	r6, r1
 601:SYS/shell/shell.c **** 
 2092              		.loc 1 601 5 is_stmt 1 view .LVU556
 603:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2093              		.loc 1 603 5 view .LVU557
 603:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2094              		.loc 1 603 24 is_stmt 0 view .LVU558
 2095 0006 0846     		mov	r0, r1
 2096              	.LVL194:
 603:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2097              		.loc 1 603 24 view .LVU559
 2098 0008 FFF7FEFF 		bl	shellGetCommandName
 2099              	.LVL195:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 78


 603:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2100              		.loc 1 603 24 view .LVU560
 2101 000c 0146     		mov	r1, r0
 2102 000e 2846     		mov	r0, r5
 2103 0010 FFF7FEFF 		bl	shellWriteString
 2104              	.LVL196:
 603:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2105              		.loc 1 603 22 view .LVU561
 2106 0014 C0F11604 		rsb	r4, r0, #22
 603:SYS/shell/shell.c ****     spaceLength = (spaceLength > 0) ? spaceLength : 4;
 2107              		.loc 1 603 17 view .LVU562
 2108 0018 24B2     		sxth	r4, r4
 2109              	.LVL197:
 604:SYS/shell/shell.c ****     do {
 2110              		.loc 1 604 5 is_stmt 1 view .LVU563
 604:SYS/shell/shell.c ****     do {
 2111              		.loc 1 604 17 is_stmt 0 view .LVU564
 2112 001a 002C     		cmp	r4, #0
 2113 001c 17DD     		ble	.L197
 2114              	.LVL198:
 2115              	.L189:
 605:SYS/shell/shell.c ****         shellWriteByte(shell, '-');
 2116              		.loc 1 605 5 is_stmt 1 discriminator 1 view .LVU565
 606:SYS/shell/shell.c ****     } while (--spaceLength);
 2117              		.loc 1 606 9 discriminator 1 view .LVU566
 2118 001e 2D21     		movs	r1, #45
 2119 0020 2846     		mov	r0, r5
 2120 0022 FFF7FEFF 		bl	shellWriteByte
 2121              	.LVL199:
 607:SYS/shell/shell.c ****     if (item->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 2122              		.loc 1 607 13 discriminator 1 view .LVU567
 607:SYS/shell/shell.c ****     if (item->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 2123              		.loc 1 607 14 is_stmt 0 discriminator 1 view .LVU568
 2124 0026 013C     		subs	r4, r4, #1
 2125              	.LVL200:
 607:SYS/shell/shell.c ****     if (item->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 2126              		.loc 1 607 5 discriminator 1 view .LVU569
 2127 0028 24B2     		sxth	r4, r4
 2128              	.LVL201:
 607:SYS/shell/shell.c ****     if (item->attr.attrs.type <= SHELL_TYPE_CMD_FUNC)
 2129              		.loc 1 607 5 discriminator 1 view .LVU570
 2130 002a 002C     		cmp	r4, #0
 2131 002c F7D1     		bne	.L189
 608:SYS/shell/shell.c ****     {
 2132              		.loc 1 608 5 is_stmt 1 view .LVU571
 608:SYS/shell/shell.c ****     {
 2133              		.loc 1 608 25 is_stmt 0 view .LVU572
 2134 002e 7378     		ldrb	r3, [r6, #1]	@ zero_extendqisi2
 2135 0030 03F00F03 		and	r3, r3, #15
 608:SYS/shell/shell.c ****     {
 2136              		.loc 1 608 8 view .LVU573
 2137 0034 012B     		cmp	r3, #1
 2138 0036 0CD9     		bls	.L198
 612:SYS/shell/shell.c ****     {
 2139              		.loc 1 612 10 is_stmt 1 view .LVU574
 612:SYS/shell/shell.c ****     {
 2140              		.loc 1 612 13 is_stmt 0 view .LVU575
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 79


 2141 0038 072B     		cmp	r3, #7
 2142 003a 0FD9     		bls	.L199
 616:SYS/shell/shell.c ****     {
 2143              		.loc 1 616 10 is_stmt 1 view .LVU576
 616:SYS/shell/shell.c ****     {
 2144              		.loc 1 616 13 is_stmt 0 view .LVU577
 2145 003c 082B     		cmp	r3, #8
 2146 003e 12D9     		bls	.L200
 620:SYS/shell/shell.c ****     {
 2147              		.loc 1 620 10 is_stmt 1 view .LVU578
 620:SYS/shell/shell.c ****     {
 2148              		.loc 1 620 13 is_stmt 0 view .LVU579
 2149 0040 092B     		cmp	r3, #9
 2150 0042 15D8     		bhi	.L194
 622:SYS/shell/shell.c ****     }
 2151              		.loc 1 622 9 is_stmt 1 view .LVU580
 2152 0044 0D49     		ldr	r1, .L201
 2153 0046 2846     		mov	r0, r5
 2154 0048 FFF7FEFF 		bl	shellWriteString
 2155              	.LVL202:
 2156 004c 05E0     		b	.L187
 2157              	.L197:
 604:SYS/shell/shell.c ****     do {
 2158              		.loc 1 604 17 is_stmt 0 view .LVU581
 2159 004e 0424     		movs	r4, #4
 2160              	.LVL203:
 604:SYS/shell/shell.c ****     do {
 2161              		.loc 1 604 17 view .LVU582
 2162 0050 E5E7     		b	.L189
 2163              	.LVL204:
 2164              	.L198:
 610:SYS/shell/shell.c ****     }
 2165              		.loc 1 610 9 is_stmt 1 view .LVU583
 2166 0052 0B49     		ldr	r1, .L201+4
 2167 0054 2846     		mov	r0, r5
 2168 0056 FFF7FEFF 		bl	shellWriteString
 2169              	.LVL205:
 2170              	.L187:
 638:SYS/shell/shell.c **** 
 2171              		.loc 1 638 1 is_stmt 0 view .LVU584
 2172 005a 70BD     		pop	{r4, r5, r6, pc}
 2173              	.LVL206:
 2174              	.L199:
 614:SYS/shell/shell.c ****     }
 2175              		.loc 1 614 9 is_stmt 1 view .LVU585
 2176 005c 0949     		ldr	r1, .L201+8
 2177 005e 2846     		mov	r0, r5
 2178 0060 FFF7FEFF 		bl	shellWriteString
 2179              	.LVL207:
 2180 0064 F9E7     		b	.L187
 2181              	.L200:
 618:SYS/shell/shell.c ****     }
 2182              		.loc 1 618 9 view .LVU586
 2183 0066 0849     		ldr	r1, .L201+12
 2184 0068 2846     		mov	r0, r5
 2185 006a FFF7FEFF 		bl	shellWriteString
 2186              	.LVL208:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 80


 2187 006e F4E7     		b	.L187
 2188              	.L194:
 626:SYS/shell/shell.c ****     }
 2189              		.loc 1 626 9 view .LVU587
 2190 0070 0649     		ldr	r1, .L201+16
 2191 0072 2846     		mov	r0, r5
 2192 0074 FFF7FEFF 		bl	shellWriteString
 2193              	.LVL209:
 638:SYS/shell/shell.c **** 
 2194              		.loc 1 638 1 is_stmt 0 view .LVU588
 2195 0078 EFE7     		b	.L187
 2196              	.L202:
 2197 007a 00BF     		.align	2
 2198              	.L201:
 2199 007c 14000000 		.word	.LC14
 2200 0080 00000000 		.word	.LC11
 2201 0084 08000000 		.word	.LC12
 2202 0088 0C000000 		.word	.LC13
 2203 008c 18000000 		.word	.LC15
 2204              		.cfi_endproc
 2205              	.LFE142:
 2207              		.section	.rodata.shellListCommand.str1.4,"aMS",%progbits,1
 2208              		.align	2
 2209              	.LC16:
 2210 0000 0D0A436F 		.ascii	"\015\012Command List:\015\012\000"
 2210      6D6D616E 
 2210      64204C69 
 2210      73743A0D 
 2210      0A00
 2211              		.section	.text.shellListCommand,"ax",%progbits
 2212              		.align	1
 2213              		.global	shellListCommand
 2214              		.syntax unified
 2215              		.thumb
 2216              		.thumb_func
 2217              		.fpu fpv4-sp-d16
 2219              	shellListCommand:
 2220              	.LVL210:
 2221              	.LFB143:
 647:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2222              		.loc 1 647 1 is_stmt 1 view -0
 2223              		.cfi_startproc
 2224              		@ args = 0, pretend = 0, frame = 0
 2225              		@ frame_needed = 0, uses_anonymous_args = 0
 647:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2226              		.loc 1 647 1 is_stmt 0 view .LVU590
 2227 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2228              	.LCFI33:
 2229              		.cfi_def_cfa_offset 24
 2230              		.cfi_offset 3, -24
 2231              		.cfi_offset 4, -20
 2232              		.cfi_offset 5, -16
 2233              		.cfi_offset 6, -12
 2234              		.cfi_offset 7, -8
 2235              		.cfi_offset 14, -4
 2236 0002 0646     		mov	r6, r0
 648:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_CMD_LIST]);
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 81


 2237              		.loc 1 648 5 is_stmt 1 view .LVU591
 648:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_CMD_LIST]);
 2238              		.loc 1 648 19 is_stmt 0 view .LVU592
 2239 0004 876D     		ldr	r7, [r0, #88]
 2240              	.LVL211:
 649:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 2241              		.loc 1 649 5 is_stmt 1 view .LVU593
 2242 0006 0F49     		ldr	r1, .L209
 2243 0008 FFF7FEFF 		bl	shellWriteString
 2244              	.LVL212:
 650:SYS/shell/shell.c ****     {
 2245              		.loc 1 650 5 view .LVU594
 2246              	.LBB10:
 650:SYS/shell/shell.c ****     {
 2247              		.loc 1 650 10 view .LVU595
 650:SYS/shell/shell.c ****     {
 2248              		.loc 1 650 16 is_stmt 0 view .LVU596
 2249 000c 0024     		movs	r4, #0
 650:SYS/shell/shell.c ****     {
 2250              		.loc 1 650 5 view .LVU597
 2251 000e 01E0     		b	.L204
 2252              	.LVL213:
 2253              	.L205:
 650:SYS/shell/shell.c ****     {
 2254              		.loc 1 650 53 is_stmt 1 discriminator 2 view .LVU598
 650:SYS/shell/shell.c ****     {
 2255              		.loc 1 650 54 is_stmt 0 discriminator 2 view .LVU599
 2256 0010 0134     		adds	r4, r4, #1
 2257              	.LVL214:
 650:SYS/shell/shell.c ****     {
 2258              		.loc 1 650 54 discriminator 2 view .LVU600
 2259 0012 24B2     		sxth	r4, r4
 2260              	.LVL215:
 2261              	.L204:
 650:SYS/shell/shell.c ****     {
 2262              		.loc 1 650 23 is_stmt 1 discriminator 1 view .LVU601
 650:SYS/shell/shell.c ****     {
 2263              		.loc 1 650 45 is_stmt 0 discriminator 1 view .LVU602
 2264 0014 B6F85C30 		ldrh	r3, [r6, #92]
 650:SYS/shell/shell.c ****     {
 2265              		.loc 1 650 5 discriminator 1 view .LVU603
 2266 0018 9C42     		cmp	r4, r3
 2267 001a 11DA     		bge	.L208
 652:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 2268              		.loc 1 652 9 is_stmt 1 view .LVU604
 652:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 2269              		.loc 1 652 17 is_stmt 0 view .LVU605
 2270 001c 07EB0415 		add	r5, r7, r4, lsl #4
 652:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 2271              		.loc 1 652 31 view .LVU606
 2272 0020 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2273 0022 03F00F03 		and	r3, r3, #15
 652:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 2274              		.loc 1 652 12 view .LVU607
 2275 0026 012B     		cmp	r3, #1
 2276 0028 F2D8     		bhi	.L205
 653:SYS/shell/shell.c ****         {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 82


 2277              		.loc 1 653 16 view .LVU608
 2278 002a 2946     		mov	r1, r5
 2279 002c 3046     		mov	r0, r6
 2280 002e FFF7FEFF 		bl	shellCheckPermission
 2281              	.LVL216:
 653:SYS/shell/shell.c ****         {
 2282              		.loc 1 653 13 view .LVU609
 2283 0032 0028     		cmp	r0, #0
 2284 0034 ECD1     		bne	.L205
 655:SYS/shell/shell.c ****         }
 2285              		.loc 1 655 13 is_stmt 1 view .LVU610
 2286 0036 2946     		mov	r1, r5
 2287 0038 3046     		mov	r0, r6
 2288 003a FFF7FEFF 		bl	shellListItem
 2289              	.LVL217:
 2290 003e E7E7     		b	.L205
 2291              	.L208:
 655:SYS/shell/shell.c ****         }
 2292              		.loc 1 655 13 is_stmt 0 view .LVU611
 2293              	.LBE10:
 658:SYS/shell/shell.c **** 
 2294              		.loc 1 658 1 view .LVU612
 2295 0040 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2296              	.LVL218:
 2297              	.L210:
 658:SYS/shell/shell.c **** 
 2298              		.loc 1 658 1 view .LVU613
 2299 0042 00BF     		.align	2
 2300              	.L209:
 2301 0044 00000000 		.word	.LC16
 2302              		.cfi_endproc
 2303              	.LFE143:
 2305              		.section	.text.shellCmds,"ax",%progbits
 2306              		.align	1
 2307              		.global	shellCmds
 2308              		.syntax unified
 2309              		.thumb
 2310              		.thumb_func
 2311              		.fpu fpv4-sp-d16
 2313              	shellCmds:
 2314              	.LFB179:
1818:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 2315              		.loc 1 1818 1 is_stmt 1 view -0
 2316              		.cfi_startproc
 2317              		@ args = 0, pretend = 0, frame = 0
 2318              		@ frame_needed = 0, uses_anonymous_args = 0
 2319 0000 08B5     		push	{r3, lr}
 2320              	.LCFI34:
 2321              		.cfi_def_cfa_offset 8
 2322              		.cfi_offset 3, -8
 2323              		.cfi_offset 14, -4
1819:SYS/shell/shell.c ****     if (shell)
 2324              		.loc 1 1819 5 view .LVU615
1819:SYS/shell/shell.c ****     if (shell)
 2325              		.loc 1 1819 20 is_stmt 0 view .LVU616
 2326 0002 FFF7FEFF 		bl	shellGetCurrent
 2327              	.LVL219:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 83


1820:SYS/shell/shell.c ****     {
 2328              		.loc 1 1820 5 is_stmt 1 view .LVU617
1820:SYS/shell/shell.c ****     {
 2329              		.loc 1 1820 8 is_stmt 0 view .LVU618
 2330 0006 08B1     		cbz	r0, .L211
1822:SYS/shell/shell.c ****     }
 2331              		.loc 1 1822 9 is_stmt 1 view .LVU619
 2332 0008 FFF7FEFF 		bl	shellListCommand
 2333              	.LVL220:
 2334              	.L211:
1824:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 2335              		.loc 1 1824 1 is_stmt 0 view .LVU620
 2336 000c 08BD     		pop	{r3, pc}
 2337              		.cfi_endproc
 2338              	.LFE179:
 2340              		.section	.rodata.shellListVar.str1.4,"aMS",%progbits,1
 2341              		.align	2
 2342              	.LC17:
 2343 0000 0D0A5661 		.ascii	"\015\012Var List:\015\012\000"
 2343      72204C69 
 2343      73743A0D 
 2343      0A00
 2344              		.section	.text.shellListVar,"ax",%progbits
 2345              		.align	1
 2346              		.global	shellListVar
 2347              		.syntax unified
 2348              		.thumb
 2349              		.thumb_func
 2350              		.fpu fpv4-sp-d16
 2352              	shellListVar:
 2353              	.LVL221:
 2354              	.LFB144:
 667:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2355              		.loc 1 667 1 is_stmt 1 view -0
 2356              		.cfi_startproc
 2357              		@ args = 0, pretend = 0, frame = 0
 2358              		@ frame_needed = 0, uses_anonymous_args = 0
 667:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2359              		.loc 1 667 1 is_stmt 0 view .LVU622
 2360 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2361              	.LCFI35:
 2362              		.cfi_def_cfa_offset 24
 2363              		.cfi_offset 3, -24
 2364              		.cfi_offset 4, -20
 2365              		.cfi_offset 5, -16
 2366              		.cfi_offset 6, -12
 2367              		.cfi_offset 7, -8
 2368              		.cfi_offset 14, -4
 2369 0002 0646     		mov	r6, r0
 668:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_VAR_LIST]);
 2370              		.loc 1 668 5 is_stmt 1 view .LVU623
 668:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_VAR_LIST]);
 2371              		.loc 1 668 19 is_stmt 0 view .LVU624
 2372 0004 876D     		ldr	r7, [r0, #88]
 2373              	.LVL222:
 669:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 2374              		.loc 1 669 5 is_stmt 1 view .LVU625
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 84


 2375 0006 1049     		ldr	r1, .L220
 2376 0008 FFF7FEFF 		bl	shellWriteString
 2377              	.LVL223:
 670:SYS/shell/shell.c ****     {
 2378              		.loc 1 670 5 view .LVU626
 2379              	.LBB11:
 670:SYS/shell/shell.c ****     {
 2380              		.loc 1 670 10 view .LVU627
 670:SYS/shell/shell.c ****     {
 2381              		.loc 1 670 16 is_stmt 0 view .LVU628
 2382 000c 0024     		movs	r4, #0
 670:SYS/shell/shell.c ****     {
 2383              		.loc 1 670 5 view .LVU629
 2384 000e 01E0     		b	.L215
 2385              	.LVL224:
 2386              	.L216:
 670:SYS/shell/shell.c ****     {
 2387              		.loc 1 670 53 is_stmt 1 discriminator 2 view .LVU630
 670:SYS/shell/shell.c ****     {
 2388              		.loc 1 670 54 is_stmt 0 discriminator 2 view .LVU631
 2389 0010 0134     		adds	r4, r4, #1
 2390              	.LVL225:
 670:SYS/shell/shell.c ****     {
 2391              		.loc 1 670 54 discriminator 2 view .LVU632
 2392 0012 24B2     		sxth	r4, r4
 2393              	.LVL226:
 2394              	.L215:
 670:SYS/shell/shell.c ****     {
 2395              		.loc 1 670 23 is_stmt 1 discriminator 1 view .LVU633
 670:SYS/shell/shell.c ****     {
 2396              		.loc 1 670 45 is_stmt 0 discriminator 1 view .LVU634
 2397 0014 B6F85C30 		ldrh	r3, [r6, #92]
 670:SYS/shell/shell.c ****     {
 2398              		.loc 1 670 5 discriminator 1 view .LVU635
 2399 0018 9C42     		cmp	r4, r3
 2400 001a 14DA     		bge	.L219
 672:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_VAR_NODE
 2401              		.loc 1 672 9 is_stmt 1 view .LVU636
 672:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_VAR_NODE
 2402              		.loc 1 672 17 is_stmt 0 view .LVU637
 2403 001c 07EB0415 		add	r5, r7, r4, lsl #4
 672:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_VAR_NODE
 2404              		.loc 1 672 31 view .LVU638
 2405 0020 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2406 0022 03F00F03 		and	r3, r3, #15
 673:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 2407              		.loc 1 673 13 view .LVU639
 2408 0026 0E33     		adds	r3, r3, #14
 2409 0028 03F00F03 		and	r3, r3, #15
 672:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_VAR_NODE
 2410              		.loc 1 672 12 view .LVU640
 2411 002c 052B     		cmp	r3, #5
 2412 002e EFD8     		bhi	.L216
 674:SYS/shell/shell.c ****         {
 2413              		.loc 1 674 16 view .LVU641
 2414 0030 2946     		mov	r1, r5
 2415 0032 3046     		mov	r0, r6
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 85


 2416 0034 FFF7FEFF 		bl	shellCheckPermission
 2417              	.LVL227:
 674:SYS/shell/shell.c ****         {
 2418              		.loc 1 674 13 view .LVU642
 2419 0038 0028     		cmp	r0, #0
 2420 003a E9D1     		bne	.L216
 676:SYS/shell/shell.c ****         }
 2421              		.loc 1 676 13 is_stmt 1 view .LVU643
 2422 003c 2946     		mov	r1, r5
 2423 003e 3046     		mov	r0, r6
 2424 0040 FFF7FEFF 		bl	shellListItem
 2425              	.LVL228:
 2426 0044 E4E7     		b	.L216
 2427              	.L219:
 676:SYS/shell/shell.c ****         }
 2428              		.loc 1 676 13 is_stmt 0 view .LVU644
 2429              	.LBE11:
 679:SYS/shell/shell.c **** 
 2430              		.loc 1 679 1 view .LVU645
 2431 0046 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2432              	.LVL229:
 2433              	.L221:
 679:SYS/shell/shell.c **** 
 2434              		.loc 1 679 1 view .LVU646
 2435              		.align	2
 2436              	.L220:
 2437 0048 00000000 		.word	.LC17
 2438              		.cfi_endproc
 2439              	.LFE144:
 2441              		.section	.text.shellVars,"ax",%progbits
 2442              		.align	1
 2443              		.global	shellVars
 2444              		.syntax unified
 2445              		.thumb
 2446              		.thumb_func
 2447              		.fpu fpv4-sp-d16
 2449              	shellVars:
 2450              	.LFB180:
1834:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 2451              		.loc 1 1834 1 is_stmt 1 view -0
 2452              		.cfi_startproc
 2453              		@ args = 0, pretend = 0, frame = 0
 2454              		@ frame_needed = 0, uses_anonymous_args = 0
 2455 0000 08B5     		push	{r3, lr}
 2456              	.LCFI36:
 2457              		.cfi_def_cfa_offset 8
 2458              		.cfi_offset 3, -8
 2459              		.cfi_offset 14, -4
1835:SYS/shell/shell.c ****     if (shell)
 2460              		.loc 1 1835 5 view .LVU648
1835:SYS/shell/shell.c ****     if (shell)
 2461              		.loc 1 1835 20 is_stmt 0 view .LVU649
 2462 0002 FFF7FEFF 		bl	shellGetCurrent
 2463              	.LVL230:
1836:SYS/shell/shell.c ****     {
 2464              		.loc 1 1836 5 is_stmt 1 view .LVU650
1836:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 86


 2465              		.loc 1 1836 8 is_stmt 0 view .LVU651
 2466 0006 08B1     		cbz	r0, .L222
1838:SYS/shell/shell.c ****     }
 2467              		.loc 1 1838 9 is_stmt 1 view .LVU652
 2468 0008 FFF7FEFF 		bl	shellListVar
 2469              	.LVL231:
 2470              	.L222:
1840:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 2471              		.loc 1 1840 1 is_stmt 0 view .LVU653
 2472 000c 08BD     		pop	{r3, pc}
 2473              		.cfi_endproc
 2474              	.LFE180:
 2476              		.section	.rodata.shellListUser.str1.4,"aMS",%progbits,1
 2477              		.align	2
 2478              	.LC18:
 2479 0000 0D0A5573 		.ascii	"\015\012User List:\015\012\000"
 2479      6572204C 
 2479      6973743A 
 2479      0D0A00
 2480              		.section	.text.shellListUser,"ax",%progbits
 2481              		.align	1
 2482              		.global	shellListUser
 2483              		.syntax unified
 2484              		.thumb
 2485              		.thumb_func
 2486              		.fpu fpv4-sp-d16
 2488              	shellListUser:
 2489              	.LVL232:
 2490              	.LFB145:
 688:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2491              		.loc 1 688 1 is_stmt 1 view -0
 2492              		.cfi_startproc
 2493              		@ args = 0, pretend = 0, frame = 0
 2494              		@ frame_needed = 0, uses_anonymous_args = 0
 688:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2495              		.loc 1 688 1 is_stmt 0 view .LVU655
 2496 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2497              	.LCFI37:
 2498              		.cfi_def_cfa_offset 24
 2499              		.cfi_offset 3, -24
 2500              		.cfi_offset 4, -20
 2501              		.cfi_offset 5, -16
 2502              		.cfi_offset 6, -12
 2503              		.cfi_offset 7, -8
 2504              		.cfi_offset 14, -4
 2505 0002 0646     		mov	r6, r0
 689:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_USER_LIST]);
 2506              		.loc 1 689 5 is_stmt 1 view .LVU656
 689:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_USER_LIST]);
 2507              		.loc 1 689 19 is_stmt 0 view .LVU657
 2508 0004 876D     		ldr	r7, [r0, #88]
 2509              	.LVL233:
 690:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 2510              		.loc 1 690 5 is_stmt 1 view .LVU658
 2511 0006 0F49     		ldr	r1, .L231
 2512 0008 FFF7FEFF 		bl	shellWriteString
 2513              	.LVL234:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 87


 691:SYS/shell/shell.c ****     {
 2514              		.loc 1 691 5 view .LVU659
 2515              	.LBB12:
 691:SYS/shell/shell.c ****     {
 2516              		.loc 1 691 10 view .LVU660
 691:SYS/shell/shell.c ****     {
 2517              		.loc 1 691 16 is_stmt 0 view .LVU661
 2518 000c 0024     		movs	r4, #0
 691:SYS/shell/shell.c ****     {
 2519              		.loc 1 691 5 view .LVU662
 2520 000e 01E0     		b	.L226
 2521              	.LVL235:
 2522              	.L227:
 691:SYS/shell/shell.c ****     {
 2523              		.loc 1 691 53 is_stmt 1 discriminator 2 view .LVU663
 691:SYS/shell/shell.c ****     {
 2524              		.loc 1 691 54 is_stmt 0 discriminator 2 view .LVU664
 2525 0010 0134     		adds	r4, r4, #1
 2526              	.LVL236:
 691:SYS/shell/shell.c ****     {
 2527              		.loc 1 691 54 discriminator 2 view .LVU665
 2528 0012 24B2     		sxth	r4, r4
 2529              	.LVL237:
 2530              	.L226:
 691:SYS/shell/shell.c ****     {
 2531              		.loc 1 691 23 is_stmt 1 discriminator 1 view .LVU666
 691:SYS/shell/shell.c ****     {
 2532              		.loc 1 691 45 is_stmt 0 discriminator 1 view .LVU667
 2533 0014 B6F85C30 		ldrh	r3, [r6, #92]
 691:SYS/shell/shell.c ****     {
 2534              		.loc 1 691 5 discriminator 1 view .LVU668
 2535 0018 9C42     		cmp	r4, r3
 2536 001a 11DA     		bge	.L230
 693:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_USER
 2537              		.loc 1 693 9 is_stmt 1 view .LVU669
 693:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_USER
 2538              		.loc 1 693 17 is_stmt 0 view .LVU670
 2539 001c 07EB0415 		add	r5, r7, r4, lsl #4
 694:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 2540              		.loc 1 694 13 view .LVU671
 2541 0020 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2542 0022 03F00F03 		and	r3, r3, #15
 693:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_USER
 2543              		.loc 1 693 12 view .LVU672
 2544 0026 082B     		cmp	r3, #8
 2545 0028 F2D1     		bne	.L227
 695:SYS/shell/shell.c ****         {
 2546              		.loc 1 695 16 view .LVU673
 2547 002a 2946     		mov	r1, r5
 2548 002c 3046     		mov	r0, r6
 2549 002e FFF7FEFF 		bl	shellCheckPermission
 2550              	.LVL238:
 695:SYS/shell/shell.c ****         {
 2551              		.loc 1 695 13 view .LVU674
 2552 0032 0028     		cmp	r0, #0
 2553 0034 ECD1     		bne	.L227
 697:SYS/shell/shell.c ****         }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 88


 2554              		.loc 1 697 13 is_stmt 1 view .LVU675
 2555 0036 2946     		mov	r1, r5
 2556 0038 3046     		mov	r0, r6
 2557 003a FFF7FEFF 		bl	shellListItem
 2558              	.LVL239:
 2559 003e E7E7     		b	.L227
 2560              	.L230:
 697:SYS/shell/shell.c ****         }
 2561              		.loc 1 697 13 is_stmt 0 view .LVU676
 2562              	.LBE12:
 700:SYS/shell/shell.c **** 
 2563              		.loc 1 700 1 view .LVU677
 2564 0040 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2565              	.LVL240:
 2566              	.L232:
 700:SYS/shell/shell.c **** 
 2567              		.loc 1 700 1 view .LVU678
 2568 0042 00BF     		.align	2
 2569              	.L231:
 2570 0044 00000000 		.word	.LC18
 2571              		.cfi_endproc
 2572              	.LFE145:
 2574              		.section	.text.shellUsers,"ax",%progbits
 2575              		.align	1
 2576              		.global	shellUsers
 2577              		.syntax unified
 2578              		.thumb
 2579              		.thumb_func
 2580              		.fpu fpv4-sp-d16
 2582              	shellUsers:
 2583              	.LFB178:
1802:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 2584              		.loc 1 1802 1 is_stmt 1 view -0
 2585              		.cfi_startproc
 2586              		@ args = 0, pretend = 0, frame = 0
 2587              		@ frame_needed = 0, uses_anonymous_args = 0
 2588 0000 08B5     		push	{r3, lr}
 2589              	.LCFI38:
 2590              		.cfi_def_cfa_offset 8
 2591              		.cfi_offset 3, -8
 2592              		.cfi_offset 14, -4
1803:SYS/shell/shell.c ****     if (shell)
 2593              		.loc 1 1803 5 view .LVU680
1803:SYS/shell/shell.c ****     if (shell)
 2594              		.loc 1 1803 20 is_stmt 0 view .LVU681
 2595 0002 FFF7FEFF 		bl	shellGetCurrent
 2596              	.LVL241:
1804:SYS/shell/shell.c ****     {
 2597              		.loc 1 1804 5 is_stmt 1 view .LVU682
1804:SYS/shell/shell.c ****     {
 2598              		.loc 1 1804 8 is_stmt 0 view .LVU683
 2599 0006 08B1     		cbz	r0, .L233
1806:SYS/shell/shell.c ****     }
 2600              		.loc 1 1806 9 is_stmt 1 view .LVU684
 2601 0008 FFF7FEFF 		bl	shellListUser
 2602              	.LVL242:
 2603              	.L233:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 89


1808:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 2604              		.loc 1 1808 1 is_stmt 0 view .LVU685
 2605 000c 08BD     		pop	{r3, pc}
 2606              		.cfi_endproc
 2607              	.LFE178:
 2609              		.section	.rodata.shellListKey.str1.4,"aMS",%progbits,1
 2610              		.align	2
 2611              	.LC19:
 2612 0000 0D0A4B65 		.ascii	"\015\012Key List:\015\012\000"
 2612      79204C69 
 2612      73743A0D 
 2612      0A00
 2613              		.section	.text.shellListKey,"ax",%progbits
 2614              		.align	1
 2615              		.global	shellListKey
 2616              		.syntax unified
 2617              		.thumb
 2618              		.thumb_func
 2619              		.fpu fpv4-sp-d16
 2621              	shellListKey:
 2622              	.LVL243:
 2623              	.LFB146:
 709:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2624              		.loc 1 709 1 is_stmt 1 view -0
 2625              		.cfi_startproc
 2626              		@ args = 0, pretend = 0, frame = 0
 2627              		@ frame_needed = 0, uses_anonymous_args = 0
 709:SYS/shell/shell.c ****     ShellCommand *base = (ShellCommand *)shell->commandList.base;
 2628              		.loc 1 709 1 is_stmt 0 view .LVU687
 2629 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2630              	.LCFI39:
 2631              		.cfi_def_cfa_offset 24
 2632              		.cfi_offset 3, -24
 2633              		.cfi_offset 4, -20
 2634              		.cfi_offset 5, -16
 2635              		.cfi_offset 6, -12
 2636              		.cfi_offset 7, -8
 2637              		.cfi_offset 14, -4
 2638 0002 0646     		mov	r6, r0
 710:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_KEY_LIST]);
 2639              		.loc 1 710 5 is_stmt 1 view .LVU688
 710:SYS/shell/shell.c ****     shellWriteString(shell, shellText[SHELL_TEXT_KEY_LIST]);
 2640              		.loc 1 710 19 is_stmt 0 view .LVU689
 2641 0004 876D     		ldr	r7, [r0, #88]
 2642              	.LVL244:
 711:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 2643              		.loc 1 711 5 is_stmt 1 view .LVU690
 2644 0006 0F49     		ldr	r1, .L242
 2645 0008 FFF7FEFF 		bl	shellWriteString
 2646              	.LVL245:
 712:SYS/shell/shell.c ****     {
 2647              		.loc 1 712 5 view .LVU691
 2648              	.LBB13:
 712:SYS/shell/shell.c ****     {
 2649              		.loc 1 712 10 view .LVU692
 712:SYS/shell/shell.c ****     {
 2650              		.loc 1 712 16 is_stmt 0 view .LVU693
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 90


 2651 000c 0024     		movs	r4, #0
 712:SYS/shell/shell.c ****     {
 2652              		.loc 1 712 5 view .LVU694
 2653 000e 01E0     		b	.L237
 2654              	.LVL246:
 2655              	.L238:
 712:SYS/shell/shell.c ****     {
 2656              		.loc 1 712 53 is_stmt 1 discriminator 2 view .LVU695
 712:SYS/shell/shell.c ****     {
 2657              		.loc 1 712 54 is_stmt 0 discriminator 2 view .LVU696
 2658 0010 0134     		adds	r4, r4, #1
 2659              	.LVL247:
 712:SYS/shell/shell.c ****     {
 2660              		.loc 1 712 54 discriminator 2 view .LVU697
 2661 0012 24B2     		sxth	r4, r4
 2662              	.LVL248:
 2663              	.L237:
 712:SYS/shell/shell.c ****     {
 2664              		.loc 1 712 23 is_stmt 1 discriminator 1 view .LVU698
 712:SYS/shell/shell.c ****     {
 2665              		.loc 1 712 45 is_stmt 0 discriminator 1 view .LVU699
 2666 0014 B6F85C30 		ldrh	r3, [r6, #92]
 712:SYS/shell/shell.c ****     {
 2667              		.loc 1 712 5 discriminator 1 view .LVU700
 2668 0018 9C42     		cmp	r4, r3
 2669 001a 11DA     		bge	.L241
 714:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_KEY
 2670              		.loc 1 714 9 is_stmt 1 view .LVU701
 714:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_KEY
 2671              		.loc 1 714 17 is_stmt 0 view .LVU702
 2672 001c 07EB0415 		add	r5, r7, r4, lsl #4
 715:SYS/shell/shell.c ****             && shellCheckPermission(shell, &base[i]) == 0)
 2673              		.loc 1 715 13 view .LVU703
 2674 0020 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 2675 0022 03F00F03 		and	r3, r3, #15
 714:SYS/shell/shell.c ****             && base[i].attr.attrs.type <= SHELL_TYPE_KEY
 2676              		.loc 1 714 12 view .LVU704
 2677 0026 092B     		cmp	r3, #9
 2678 0028 F2D1     		bne	.L238
 716:SYS/shell/shell.c ****         {
 2679              		.loc 1 716 16 view .LVU705
 2680 002a 2946     		mov	r1, r5
 2681 002c 3046     		mov	r0, r6
 2682 002e FFF7FEFF 		bl	shellCheckPermission
 2683              	.LVL249:
 716:SYS/shell/shell.c ****         {
 2684              		.loc 1 716 13 view .LVU706
 2685 0032 0028     		cmp	r0, #0
 2686 0034 ECD1     		bne	.L238
 718:SYS/shell/shell.c ****         }
 2687              		.loc 1 718 13 is_stmt 1 view .LVU707
 2688 0036 2946     		mov	r1, r5
 2689 0038 3046     		mov	r0, r6
 2690 003a FFF7FEFF 		bl	shellListItem
 2691              	.LVL250:
 2692 003e E7E7     		b	.L238
 2693              	.L241:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 91


 718:SYS/shell/shell.c ****         }
 2694              		.loc 1 718 13 is_stmt 0 view .LVU708
 2695              	.LBE13:
 721:SYS/shell/shell.c **** 
 2696              		.loc 1 721 1 view .LVU709
 2697 0040 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2698              	.LVL251:
 2699              	.L243:
 721:SYS/shell/shell.c **** 
 2700              		.loc 1 721 1 view .LVU710
 2701 0042 00BF     		.align	2
 2702              	.L242:
 2703 0044 00000000 		.word	.LC19
 2704              		.cfi_endproc
 2705              	.LFE146:
 2707              		.section	.text.shellKeys,"ax",%progbits
 2708              		.align	1
 2709              		.global	shellKeys
 2710              		.syntax unified
 2711              		.thumb
 2712              		.thumb_func
 2713              		.fpu fpv4-sp-d16
 2715              	shellKeys:
 2716              	.LFB181:
1850:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 2717              		.loc 1 1850 1 is_stmt 1 view -0
 2718              		.cfi_startproc
 2719              		@ args = 0, pretend = 0, frame = 0
 2720              		@ frame_needed = 0, uses_anonymous_args = 0
 2721 0000 08B5     		push	{r3, lr}
 2722              	.LCFI40:
 2723              		.cfi_def_cfa_offset 8
 2724              		.cfi_offset 3, -8
 2725              		.cfi_offset 14, -4
1851:SYS/shell/shell.c ****     if (shell)
 2726              		.loc 1 1851 5 view .LVU712
1851:SYS/shell/shell.c ****     if (shell)
 2727              		.loc 1 1851 20 is_stmt 0 view .LVU713
 2728 0002 FFF7FEFF 		bl	shellGetCurrent
 2729              	.LVL252:
1852:SYS/shell/shell.c ****     {
 2730              		.loc 1 1852 5 is_stmt 1 view .LVU714
1852:SYS/shell/shell.c ****     {
 2731              		.loc 1 1852 8 is_stmt 0 view .LVU715
 2732 0006 08B1     		cbz	r0, .L244
1854:SYS/shell/shell.c ****     }
 2733              		.loc 1 1854 9 is_stmt 1 view .LVU716
 2734 0008 FFF7FEFF 		bl	shellListKey
 2735              	.LVL253:
 2736              	.L244:
1856:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 2737              		.loc 1 1856 1 is_stmt 0 view .LVU717
 2738 000c 08BD     		pop	{r3, pc}
 2739              		.cfi_endproc
 2740              	.LFE181:
 2742              		.section	.text.shellListAll,"ax",%progbits
 2743              		.align	1
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 92


 2744              		.global	shellListAll
 2745              		.syntax unified
 2746              		.thumb
 2747              		.thumb_func
 2748              		.fpu fpv4-sp-d16
 2750              	shellListAll:
 2751              	.LVL254:
 2752              	.LFB147:
 730:SYS/shell/shell.c **** #if SHELL_HELP_LIST_USER == 1
 2753              		.loc 1 730 1 is_stmt 1 view -0
 2754              		.cfi_startproc
 2755              		@ args = 0, pretend = 0, frame = 0
 2756              		@ frame_needed = 0, uses_anonymous_args = 0
 730:SYS/shell/shell.c **** #if SHELL_HELP_LIST_USER == 1
 2757              		.loc 1 730 1 is_stmt 0 view .LVU719
 2758 0000 08B5     		push	{r3, lr}
 2759              	.LCFI41:
 2760              		.cfi_def_cfa_offset 8
 2761              		.cfi_offset 3, -8
 2762              		.cfi_offset 14, -4
 734:SYS/shell/shell.c **** #if SHELL_HELP_LIST_VAR == 1
 2763              		.loc 1 734 5 is_stmt 1 view .LVU720
 2764 0002 FFF7FEFF 		bl	shellListCommand
 2765              	.LVL255:
 741:SYS/shell/shell.c **** 
 2766              		.loc 1 741 1 is_stmt 0 view .LVU721
 2767 0006 08BD     		pop	{r3, pc}
 2768              		.cfi_endproc
 2769              	.LFE147:
 2771              		.section	.rodata.shellDeleteCommandLine.str1.4,"aMS",%progbits,1
 2772              		.align	2
 2773              	.LC20:
 2774 0000 08200800 		.ascii	"\010 \010\000"
 2775              		.section	.text.shellDeleteCommandLine,"ax",%progbits
 2776              		.align	1
 2777              		.global	shellDeleteCommandLine
 2778              		.syntax unified
 2779              		.thumb
 2780              		.thumb_func
 2781              		.fpu fpv4-sp-d16
 2783              	shellDeleteCommandLine:
 2784              	.LVL256:
 2785              	.LFB148:
 751:SYS/shell/shell.c ****     while (length--)
 2786              		.loc 1 751 1 is_stmt 1 view -0
 2787              		.cfi_startproc
 2788              		@ args = 0, pretend = 0, frame = 0
 2789              		@ frame_needed = 0, uses_anonymous_args = 0
 751:SYS/shell/shell.c ****     while (length--)
 2790              		.loc 1 751 1 is_stmt 0 view .LVU723
 2791 0000 38B5     		push	{r3, r4, r5, lr}
 2792              	.LCFI42:
 2793              		.cfi_def_cfa_offset 16
 2794              		.cfi_offset 3, -16
 2795              		.cfi_offset 4, -12
 2796              		.cfi_offset 5, -8
 2797              		.cfi_offset 14, -4
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 93


 2798 0002 0546     		mov	r5, r0
 752:SYS/shell/shell.c ****     {
 2799              		.loc 1 752 5 is_stmt 1 view .LVU724
 752:SYS/shell/shell.c ****     {
 2800              		.loc 1 752 11 is_stmt 0 view .LVU725
 2801 0004 04E0     		b	.L250
 2802              	.LVL257:
 2803              	.L251:
 754:SYS/shell/shell.c ****     }
 2804              		.loc 1 754 9 is_stmt 1 view .LVU726
 2805 0006 0549     		ldr	r1, .L253
 2806 0008 2846     		mov	r0, r5
 2807 000a FFF7FEFF 		bl	shellWriteString
 2808              	.LVL258:
 752:SYS/shell/shell.c ****     {
 2809              		.loc 1 752 18 is_stmt 0 view .LVU727
 2810 000e 2146     		mov	r1, r4
 2811              	.LVL259:
 2812              	.L250:
 752:SYS/shell/shell.c ****     {
 2813              		.loc 1 752 11 is_stmt 1 view .LVU728
 752:SYS/shell/shell.c ****     {
 2814              		.loc 1 752 18 is_stmt 0 view .LVU729
 2815 0010 4B1E     		subs	r3, r1, #1
 2816 0012 DCB2     		uxtb	r4, r3
 2817              	.LVL260:
 752:SYS/shell/shell.c ****     {
 2818              		.loc 1 752 11 view .LVU730
 2819 0014 0029     		cmp	r1, #0
 2820 0016 F6D1     		bne	.L251
 756:SYS/shell/shell.c **** 
 2821              		.loc 1 756 1 view .LVU731
 2822 0018 38BD     		pop	{r3, r4, r5, pc}
 2823              	.LVL261:
 2824              	.L254:
 756:SYS/shell/shell.c **** 
 2825              		.loc 1 756 1 view .LVU732
 2826 001a 00BF     		.align	2
 2827              	.L253:
 2828 001c 00000000 		.word	.LC20
 2829              		.cfi_endproc
 2830              	.LFE148:
 2832              		.section	.text.shellClearCommandLine,"ax",%progbits
 2833              		.align	1
 2834              		.global	shellClearCommandLine
 2835              		.syntax unified
 2836              		.thumb
 2837              		.thumb_func
 2838              		.fpu fpv4-sp-d16
 2840              	shellClearCommandLine:
 2841              	.LVL262:
 2842              	.LFB149:
 765:SYS/shell/shell.c ****     for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 2843              		.loc 1 765 1 is_stmt 1 view -0
 2844              		.cfi_startproc
 2845              		@ args = 0, pretend = 0, frame = 0
 2846              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 94


 765:SYS/shell/shell.c ****     for (short i = shell->parser.length - shell->parser.cursor; i > 0; i--)
 2847              		.loc 1 765 1 is_stmt 0 view .LVU734
 2848 0000 38B5     		push	{r3, r4, r5, lr}
 2849              	.LCFI43:
 2850              		.cfi_def_cfa_offset 16
 2851              		.cfi_offset 3, -16
 2852              		.cfi_offset 4, -12
 2853              		.cfi_offset 5, -8
 2854              		.cfi_offset 14, -4
 2855 0002 0546     		mov	r5, r0
 766:SYS/shell/shell.c ****     {
 2856              		.loc 1 766 5 is_stmt 1 view .LVU735
 2857              	.LBB14:
 766:SYS/shell/shell.c ****     {
 2858              		.loc 1 766 10 view .LVU736
 766:SYS/shell/shell.c ****     {
 2859              		.loc 1 766 33 is_stmt 0 view .LVU737
 2860 0004 8489     		ldrh	r4, [r0, #12]
 766:SYS/shell/shell.c ****     {
 2861              		.loc 1 766 56 view .LVU738
 2862 0006 C389     		ldrh	r3, [r0, #14]
 766:SYS/shell/shell.c ****     {
 2863              		.loc 1 766 41 view .LVU739
 2864 0008 E41A     		subs	r4, r4, r3
 766:SYS/shell/shell.c ****     {
 2865              		.loc 1 766 16 view .LVU740
 2866 000a 24B2     		sxth	r4, r4
 2867              	.LVL263:
 766:SYS/shell/shell.c ****     {
 2868              		.loc 1 766 5 view .LVU741
 2869 000c 05E0     		b	.L256
 2870              	.LVL264:
 2871              	.L257:
 768:SYS/shell/shell.c ****     }
 2872              		.loc 1 768 9 is_stmt 1 discriminator 3 view .LVU742
 2873 000e 2021     		movs	r1, #32
 2874 0010 2846     		mov	r0, r5
 2875 0012 FFF7FEFF 		bl	shellWriteByte
 2876              	.LVL265:
 766:SYS/shell/shell.c ****     {
 2877              		.loc 1 766 72 discriminator 3 view .LVU743
 766:SYS/shell/shell.c ****     {
 2878              		.loc 1 766 73 is_stmt 0 discriminator 3 view .LVU744
 2879 0016 013C     		subs	r4, r4, #1
 2880              	.LVL266:
 766:SYS/shell/shell.c ****     {
 2881              		.loc 1 766 73 discriminator 3 view .LVU745
 2882 0018 24B2     		sxth	r4, r4
 2883              	.LVL267:
 2884              	.L256:
 766:SYS/shell/shell.c ****     {
 2885              		.loc 1 766 65 is_stmt 1 discriminator 1 view .LVU746
 766:SYS/shell/shell.c ****     {
 2886              		.loc 1 766 5 is_stmt 0 discriminator 1 view .LVU747
 2887 001a 002C     		cmp	r4, #0
 2888 001c F7DC     		bgt	.L257
 766:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 95


 2889              		.loc 1 766 5 discriminator 1 view .LVU748
 2890              	.LBE14:
 770:SYS/shell/shell.c **** }
 2891              		.loc 1 770 5 is_stmt 1 view .LVU749
 2892 001e 297B     		ldrb	r1, [r5, #12]	@ zero_extendqisi2
 2893 0020 2846     		mov	r0, r5
 2894 0022 FFF7FEFF 		bl	shellDeleteCommandLine
 2895              	.LVL268:
 771:SYS/shell/shell.c **** 
 2896              		.loc 1 771 1 is_stmt 0 view .LVU750
 2897 0026 38BD     		pop	{r3, r4, r5, pc}
 771:SYS/shell/shell.c **** 
 2898              		.loc 1 771 1 view .LVU751
 2899              		.cfi_endproc
 2900              	.LFE149:
 2902              		.section	.text.shellHistory,"ax",%progbits
 2903              		.align	1
 2904              		.syntax unified
 2905              		.thumb
 2906              		.thumb_func
 2907              		.fpu fpv4-sp-d16
 2909              	shellHistory:
 2910              	.LVL269:
 2911              	.LFB164:
1319:SYS/shell/shell.c ****     if (dir > 0)
 2912              		.loc 1 1319 1 is_stmt 1 view -0
 2913              		.cfi_startproc
 2914              		@ args = 0, pretend = 0, frame = 0
 2915              		@ frame_needed = 0, uses_anonymous_args = 0
1319:SYS/shell/shell.c ****     if (dir > 0)
 2916              		.loc 1 1319 1 is_stmt 0 view .LVU753
 2917 0000 10B5     		push	{r4, lr}
 2918              	.LCFI44:
 2919              		.cfi_def_cfa_offset 8
 2920              		.cfi_offset 4, -8
 2921              		.cfi_offset 14, -4
 2922 0002 0446     		mov	r4, r0
1320:SYS/shell/shell.c ****     {
 2923              		.loc 1 1320 5 is_stmt 1 view .LVU754
1320:SYS/shell/shell.c ****     {
 2924              		.loc 1 1320 8 is_stmt 0 view .LVU755
 2925 0004 0029     		cmp	r1, #0
 2926              	.LVL270:
1320:SYS/shell/shell.c ****     {
 2927              		.loc 1 1320 8 view .LVU756
 2928 0006 19DD     		ble	.L260
1322:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ?
 2929              		.loc 1 1322 9 is_stmt 1 view .LVU757
1322:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ?
 2930              		.loc 1 1322 27 is_stmt 0 view .LVU758
 2931 0008 B0F95420 		ldrsh	r2, [r0, #84]
1322:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ?
 2932              		.loc 1 1322 34 view .LVU759
 2933 000c 531E     		subs	r3, r2, #1
 2934 000e A0F85430 		strh	r3, [r0, #84]	@ movhi
1323:SYS/shell/shell.c ****                 shell->history.number : shell->history.record))
 2935              		.loc 1 1323 54 view .LVU760
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 96


 2936 0012 B0F85230 		ldrh	r3, [r0, #82]
1323:SYS/shell/shell.c ****                 shell->history.number : shell->history.record))
 2937              		.loc 1 1323 30 view .LVU761
 2938 0016 B0F85010 		ldrh	r1, [r0, #80]
1324:SYS/shell/shell.c ****         {
 2939              		.loc 1 1324 39 view .LVU762
 2940 001a 8B42     		cmp	r3, r1
 2941 001c 38BF     		it	cc
 2942 001e 0B46     		movcc	r3, r1
1323:SYS/shell/shell.c ****                 shell->history.number : shell->history.record))
 2943              		.loc 1 1323 13 view .LVU763
 2944 0020 5942     		rsbs	r1, r3, #0
1322:SYS/shell/shell.c ****             -((shell->history.number > shell->history.record) ?
 2945              		.loc 1 1322 12 view .LVU764
 2946 0022 8A42     		cmp	r2, r1
 2947 0024 01DC     		bgt	.L261
1326:SYS/shell/shell.c ****                                     ? shell->history.number : shell->history.record);
 2948              		.loc 1 1326 13 is_stmt 1 view .LVU765
1326:SYS/shell/shell.c ****                                     ? shell->history.number : shell->history.record);
 2949              		.loc 1 1326 35 is_stmt 0 view .LVU766
 2950 0026 A4F85410 		strh	r1, [r4, #84]	@ movhi
 2951              	.L261:
1342:SYS/shell/shell.c ****     if (shell->history.offset == 0)
 2952              		.loc 1 1342 5 is_stmt 1 view .LVU767
 2953 002a 2046     		mov	r0, r4
 2954              	.LVL271:
1342:SYS/shell/shell.c ****     if (shell->history.offset == 0)
 2955              		.loc 1 1342 5 is_stmt 0 view .LVU768
 2956 002c FFF7FEFF 		bl	shellClearCommandLine
 2957              	.LVL272:
1343:SYS/shell/shell.c ****     {
 2958              		.loc 1 1343 5 is_stmt 1 view .LVU769
1343:SYS/shell/shell.c ****     {
 2959              		.loc 1 1343 23 is_stmt 0 view .LVU770
 2960 0030 B4F95430 		ldrsh	r3, [r4, #84]
1343:SYS/shell/shell.c ****     {
 2961              		.loc 1 1343 8 view .LVU771
 2962 0034 83B9     		cbnz	r3, .L263
1345:SYS/shell/shell.c ****     }
 2963              		.loc 1 1345 9 is_stmt 1 view .LVU772
1345:SYS/shell/shell.c ****     }
 2964              		.loc 1 1345 53 is_stmt 0 view .LVU773
 2965 0036 A381     		strh	r3, [r4, #12]	@ movhi
1345:SYS/shell/shell.c ****     }
 2966              		.loc 1 1345 30 view .LVU774
 2967 0038 E381     		strh	r3, [r4, #14]	@ movhi
 2968              	.L259:
1359:SYS/shell/shell.c **** 
 2969              		.loc 1 1359 1 view .LVU775
 2970 003a 10BD     		pop	{r4, pc}
 2971              	.LVL273:
 2972              	.L260:
1330:SYS/shell/shell.c ****     {
 2973              		.loc 1 1330 10 is_stmt 1 view .LVU776
1330:SYS/shell/shell.c ****     {
 2974              		.loc 1 1330 13 is_stmt 0 view .LVU777
 2975 003c 0029     		cmp	r1, #0
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 97


 2976 003e FCDA     		bge	.L259
1332:SYS/shell/shell.c ****         {
 2977              		.loc 1 1332 9 is_stmt 1 view .LVU778
1332:SYS/shell/shell.c ****         {
 2978              		.loc 1 1332 29 is_stmt 0 view .LVU779
 2979 0040 B0F95430 		ldrsh	r3, [r0, #84]
1332:SYS/shell/shell.c ****         {
 2980              		.loc 1 1332 13 view .LVU780
 2981 0044 0133     		adds	r3, r3, #1
 2982 0046 1BB2     		sxth	r3, r3
1332:SYS/shell/shell.c ****         {
 2983              		.loc 1 1332 12 view .LVU781
 2984 0048 A0F85430 		strh	r3, [r0, #84]	@ movhi
 2985 004c 002B     		cmp	r3, #0
 2986 004e ECDD     		ble	.L261
1334:SYS/shell/shell.c ****             return;
 2987              		.loc 1 1334 13 is_stmt 1 view .LVU782
1334:SYS/shell/shell.c ****             return;
 2988              		.loc 1 1334 35 is_stmt 0 view .LVU783
 2989 0050 0023     		movs	r3, #0
 2990 0052 A0F85430 		strh	r3, [r0, #84]	@ movhi
1335:SYS/shell/shell.c ****         }
 2991              		.loc 1 1335 13 is_stmt 1 view .LVU784
 2992 0056 F0E7     		b	.L259
 2993              	.LVL274:
 2994              	.L263:
1349:SYS/shell/shell.c ****                 shell->history.item[(shell->history.record + SHELL_HISTORY_MAX_NUMBER
 2995              		.loc 1 1349 9 view .LVU785
1350:SYS/shell/shell.c ****                     + shell->history.offset) % SHELL_HISTORY_MAX_NUMBER])) == 0)
 2996              		.loc 1 1350 52 is_stmt 0 view .LVU786
 2997 0058 B4F85220 		ldrh	r2, [r4, #82]
1350:SYS/shell/shell.c ****                     + shell->history.offset) % SHELL_HISTORY_MAX_NUMBER])) == 0)
 2998              		.loc 1 1350 60 view .LVU787
 2999 005c 0532     		adds	r2, r2, #5
1351:SYS/shell/shell.c ****         {
 3000              		.loc 1 1351 21 view .LVU788
 3001 005e 1A44     		add	r2, r2, r3
1351:SYS/shell/shell.c ****         {
 3002              		.loc 1 1351 46 view .LVU789
 3003 0060 0C49     		ldr	r1, .L265
 3004 0062 81FB0231 		smull	r3, r1, r1, r2
 3005 0066 D317     		asrs	r3, r2, #31
 3006 0068 C3EB6103 		rsb	r3, r3, r1, asr #1
 3007 006c 03EB8303 		add	r3, r3, r3, lsl #2
 3008 0070 D31A     		subs	r3, r2, r3
1349:SYS/shell/shell.c ****                 shell->history.item[(shell->history.record + SHELL_HISTORY_MAX_NUMBER
 3009              		.loc 1 1349 37 view .LVU790
 3010 0072 0E33     		adds	r3, r3, #14
 3011 0074 04EB8303 		add	r3, r4, r3, lsl #2
 3012 0078 5968     		ldr	r1, [r3, #4]
 3013 007a 2069     		ldr	r0, [r4, #16]
 3014 007c FFF7FEFF 		bl	shellStringCopy
 3015              	.LVL275:
1349:SYS/shell/shell.c ****                 shell->history.item[(shell->history.record + SHELL_HISTORY_MAX_NUMBER
 3016              		.loc 1 1349 35 view .LVU791
 3017 0080 A081     		strh	r0, [r4, #12]	@ movhi
1349:SYS/shell/shell.c ****                 shell->history.item[(shell->history.record + SHELL_HISTORY_MAX_NUMBER
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 98


 3018              		.loc 1 1349 12 view .LVU792
 3019 0082 0028     		cmp	r0, #0
 3020 0084 D9D0     		beq	.L259
1355:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3021              		.loc 1 1355 9 is_stmt 1 view .LVU793
1355:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3022              		.loc 1 1355 30 is_stmt 0 view .LVU794
 3023 0086 E081     		strh	r0, [r4, #14]	@ movhi
1356:SYS/shell/shell.c ****     }
 3024              		.loc 1 1356 9 is_stmt 1 view .LVU795
 3025 0088 2169     		ldr	r1, [r4, #16]
 3026 008a 2046     		mov	r0, r4
 3027 008c FFF7FEFF 		bl	shellWriteString
 3028              	.LVL276:
 3029 0090 D3E7     		b	.L259
 3030              	.L266:
 3031 0092 00BF     		.align	2
 3032              	.L265:
 3033 0094 67666666 		.word	1717986919
 3034              		.cfi_endproc
 3035              	.LFE164:
 3037              		.section	.text.shellUp,"ax",%progbits
 3038              		.align	1
 3039              		.global	shellUp
 3040              		.syntax unified
 3041              		.thumb
 3042              		.thumb_func
 3043              		.fpu fpv4-sp-d16
 3045              	shellUp:
 3046              	.LVL277:
 3047              	.LFB167:
1427:SYS/shell/shell.c ****     shellHistory(shell, 1);
 3048              		.loc 1 1427 1 view -0
 3049              		.cfi_startproc
 3050              		@ args = 0, pretend = 0, frame = 0
 3051              		@ frame_needed = 0, uses_anonymous_args = 0
1427:SYS/shell/shell.c ****     shellHistory(shell, 1);
 3052              		.loc 1 1427 1 is_stmt 0 view .LVU797
 3053 0000 08B5     		push	{r3, lr}
 3054              	.LCFI45:
 3055              		.cfi_def_cfa_offset 8
 3056              		.cfi_offset 3, -8
 3057              		.cfi_offset 14, -4
1428:SYS/shell/shell.c **** }
 3058              		.loc 1 1428 5 is_stmt 1 view .LVU798
 3059 0002 0121     		movs	r1, #1
 3060 0004 FFF7FEFF 		bl	shellHistory
 3061              	.LVL278:
1429:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x1B5B4100, shellUp, up);
 3062              		.loc 1 1429 1 is_stmt 0 view .LVU799
 3063 0008 08BD     		pop	{r3, pc}
 3064              		.cfi_endproc
 3065              	.LFE167:
 3067              		.section	.text.shellDown,"ax",%progbits
 3068              		.align	1
 3069              		.global	shellDown
 3070              		.syntax unified
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 99


 3071              		.thumb
 3072              		.thumb_func
 3073              		.fpu fpv4-sp-d16
 3075              	shellDown:
 3076              	.LVL279:
 3077              	.LFB168:
1439:SYS/shell/shell.c ****     shellHistory(shell, -1);
 3078              		.loc 1 1439 1 is_stmt 1 view -0
 3079              		.cfi_startproc
 3080              		@ args = 0, pretend = 0, frame = 0
 3081              		@ frame_needed = 0, uses_anonymous_args = 0
1439:SYS/shell/shell.c ****     shellHistory(shell, -1);
 3082              		.loc 1 1439 1 is_stmt 0 view .LVU801
 3083 0000 08B5     		push	{r3, lr}
 3084              	.LCFI46:
 3085              		.cfi_def_cfa_offset 8
 3086              		.cfi_offset 3, -8
 3087              		.cfi_offset 14, -4
1440:SYS/shell/shell.c **** }
 3088              		.loc 1 1440 5 is_stmt 1 view .LVU802
 3089 0002 4FF0FF31 		mov	r1, #-1
 3090 0006 FFF7FEFF 		bl	shellHistory
 3091              	.LVL280:
1441:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x1B5B4200, shellDown, down);
 3092              		.loc 1 1441 1 is_stmt 0 view .LVU803
 3093 000a 08BD     		pop	{r3, pc}
 3094              		.cfi_endproc
 3095              	.LFE168:
 3097              		.section	.text.shellTab,"ax",%progbits
 3098              		.align	1
 3099              		.global	shellTab
 3100              		.syntax unified
 3101              		.thumb
 3102              		.thumb_func
 3103              		.fpu fpv4-sp-d16
 3105              	shellTab:
 3106              	.LVL281:
 3107              	.LFB171:
1484:SYS/shell/shell.c ****     unsigned short maxMatch = shell->parser.bufferSize;
 3108              		.loc 1 1484 1 is_stmt 1 view -0
 3109              		.cfi_startproc
 3110              		@ args = 0, pretend = 0, frame = 0
 3111              		@ frame_needed = 0, uses_anonymous_args = 0
1484:SYS/shell/shell.c ****     unsigned short maxMatch = shell->parser.bufferSize;
 3112              		.loc 1 1484 1 is_stmt 0 view .LVU805
 3113 0000 2DE9F84F 		push	{r3, r4, r5, r6, r7, r8, r9, r10, fp, lr}
 3114              	.LCFI47:
 3115              		.cfi_def_cfa_offset 40
 3116              		.cfi_offset 3, -40
 3117              		.cfi_offset 4, -36
 3118              		.cfi_offset 5, -32
 3119              		.cfi_offset 6, -28
 3120              		.cfi_offset 7, -24
 3121              		.cfi_offset 8, -20
 3122              		.cfi_offset 9, -16
 3123              		.cfi_offset 10, -12
 3124              		.cfi_offset 11, -8
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 100


 3125              		.cfi_offset 14, -4
 3126 0004 0546     		mov	r5, r0
1485:SYS/shell/shell.c ****     unsigned short lastMatchIndex = 0;
 3127              		.loc 1 1485 5 is_stmt 1 view .LVU806
1485:SYS/shell/shell.c ****     unsigned short lastMatchIndex = 0;
 3128              		.loc 1 1485 20 is_stmt 0 view .LVU807
 3129 0006 B0F834A0 		ldrh	r10, [r0, #52]
 3130              	.LVL282:
1486:SYS/shell/shell.c ****     unsigned short matchNum = 0;
 3131              		.loc 1 1486 5 is_stmt 1 view .LVU808
1487:SYS/shell/shell.c ****     unsigned short length;
 3132              		.loc 1 1487 5 view .LVU809
1488:SYS/shell/shell.c **** 
 3133              		.loc 1 1488 5 view .LVU810
1490:SYS/shell/shell.c ****     {
 3134              		.loc 1 1490 5 view .LVU811
1490:SYS/shell/shell.c ****     {
 3135              		.loc 1 1490 22 is_stmt 0 view .LVU812
 3136 000a 8389     		ldrh	r3, [r0, #12]
1490:SYS/shell/shell.c ****     {
 3137              		.loc 1 1490 8 view .LVU813
 3138 000c 43B1     		cbz	r3, .L282
1495:SYS/shell/shell.c ****     {
 3139              		.loc 1 1495 10 is_stmt 1 view .LVU814
 3140              	.LBB15:
1497:SYS/shell/shell.c ****         ShellCommand *base = (ShellCommand *)shell->commandList.base;
 3141              		.loc 1 1497 9 view .LVU815
1497:SYS/shell/shell.c ****         ShellCommand *base = (ShellCommand *)shell->commandList.base;
 3142              		.loc 1 1497 22 is_stmt 0 view .LVU816
 3143 000e 0269     		ldr	r2, [r0, #16]
1497:SYS/shell/shell.c ****         ShellCommand *base = (ShellCommand *)shell->commandList.base;
 3144              		.loc 1 1497 52 view .LVU817
 3145 0010 4FF00008 		mov	r8, #0
 3146 0014 02F80380 		strb	r8, [r2, r3]
1498:SYS/shell/shell.c ****         for (short i = 0; i < shell->commandList.count; i++)
 3147              		.loc 1 1498 9 is_stmt 1 view .LVU818
1498:SYS/shell/shell.c ****         for (short i = 0; i < shell->commandList.count; i++)
 3148              		.loc 1 1498 23 is_stmt 0 view .LVU819
 3149 0018 876D     		ldr	r7, [r0, #88]
 3150              	.LVL283:
1499:SYS/shell/shell.c ****         {
 3151              		.loc 1 1499 9 is_stmt 1 view .LVU820
 3152              	.LBB16:
1499:SYS/shell/shell.c ****         {
 3153              		.loc 1 1499 14 view .LVU821
1499:SYS/shell/shell.c ****         {
 3154              		.loc 1 1499 20 is_stmt 0 view .LVU822
 3155 001a 4446     		mov	r4, r8
 3156              	.LBE16:
 3157              	.LBE15:
1487:SYS/shell/shell.c ****     unsigned short length;
 3158              		.loc 1 1487 20 view .LVU823
 3159 001c C146     		mov	r9, r8
 3160              	.LBB19:
 3161              	.LBB17:
1499:SYS/shell/shell.c ****         {
 3162              		.loc 1 1499 9 view .LVU824
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 101


 3163 001e 24E0     		b	.L274
 3164              	.LVL284:
 3165              	.L282:
1499:SYS/shell/shell.c ****         {
 3166              		.loc 1 1499 9 view .LVU825
 3167              	.LBE17:
 3168              	.LBE19:
1492:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
 3169              		.loc 1 1492 9 is_stmt 1 view .LVU826
 3170 0020 FFF7FEFF 		bl	shellListAll
 3171              	.LVL285:
1493:SYS/shell/shell.c ****     }
 3172              		.loc 1 1493 9 view .LVU827
 3173 0024 0121     		movs	r1, #1
 3174 0026 2846     		mov	r0, r5
 3175 0028 FFF7FEFF 		bl	shellWriteCommandLine
 3176              	.LVL286:
 3177 002c 5EE0     		b	.L271
 3178              	.LVL287:
 3179              	.L277:
 3180              	.LBB20:
 3181              	.LBB18:
1512:SYS/shell/shell.c ****                     length = 
 3182              		.loc 1 1512 21 view .LVU828
 3183 002e 07EB0818 		add	r8, r7, r8, lsl #4
 3184              	.LVL288:
1512:SYS/shell/shell.c ****                     length = 
 3185              		.loc 1 1512 21 is_stmt 0 view .LVU829
 3186 0032 4146     		mov	r1, r8
 3187 0034 2846     		mov	r0, r5
 3188 0036 FFF7FEFF 		bl	shellListItem
 3189              	.LVL289:
1513:SYS/shell/shell.c ****                         shellStringCompare((char *)shellGetCommandName(&base[lastMatchIndex]),
 3190              		.loc 1 1513 21 is_stmt 1 view .LVU830
1514:SYS/shell/shell.c ****                                            (char *)shellGetCommandName(&base[i]));
 3191              		.loc 1 1514 52 is_stmt 0 view .LVU831
 3192 003a 4046     		mov	r0, r8
 3193 003c FFF7FEFF 		bl	shellGetCommandName
 3194              	.LVL290:
 3195 0040 8046     		mov	r8, r0
1515:SYS/shell/shell.c ****                     maxMatch = (maxMatch > length) ? length : maxMatch;
 3196              		.loc 1 1515 52 view .LVU832
 3197 0042 3046     		mov	r0, r6
 3198 0044 FFF7FEFF 		bl	shellGetCommandName
 3199              	.LVL291:
 3200 0048 0146     		mov	r1, r0
1514:SYS/shell/shell.c ****                                            (char *)shellGetCommandName(&base[i]));
 3201              		.loc 1 1514 25 view .LVU833
 3202 004a 4046     		mov	r0, r8
 3203 004c FFF7FEFF 		bl	shellStringCompare
 3204              	.LVL292:
1516:SYS/shell/shell.c ****                 }
 3205              		.loc 1 1516 21 is_stmt 1 view .LVU834
1516:SYS/shell/shell.c ****                 }
 3206              		.loc 1 1516 30 is_stmt 0 view .LVU835
 3207 0050 8245     		cmp	r10, r0
 3208 0052 28BF     		it	cs
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 102


 3209 0054 8246     		movcs	r10, r0
 3210              	.LVL293:
1516:SYS/shell/shell.c ****                 }
 3211              		.loc 1 1516 30 view .LVU836
 3212 0056 1FFA8AFA 		uxth	r10, r10
 3213              	.LVL294:
 3214              	.L276:
1518:SYS/shell/shell.c ****                 matchNum++;
 3215              		.loc 1 1518 17 is_stmt 1 view .LVU837
1518:SYS/shell/shell.c ****                 matchNum++;
 3216              		.loc 1 1518 32 is_stmt 0 view .LVU838
 3217 005a 1FFA84F8 		uxth	r8, r4
 3218              	.LVL295:
1519:SYS/shell/shell.c ****             }
 3219              		.loc 1 1519 17 is_stmt 1 view .LVU839
1519:SYS/shell/shell.c ****             }
 3220              		.loc 1 1519 25 is_stmt 0 view .LVU840
 3221 005e 09F10109 		add	r9, r9, #1
 3222              	.LVL296:
1519:SYS/shell/shell.c ****             }
 3223              		.loc 1 1519 25 view .LVU841
 3224 0062 1FFA89F9 		uxth	r9, r9
 3225              	.LVL297:
 3226              	.L275:
1499:SYS/shell/shell.c ****         {
 3227              		.loc 1 1499 57 is_stmt 1 discriminator 2 view .LVU842
1499:SYS/shell/shell.c ****         {
 3228              		.loc 1 1499 58 is_stmt 0 discriminator 2 view .LVU843
 3229 0066 0134     		adds	r4, r4, #1
 3230              	.LVL298:
1499:SYS/shell/shell.c ****         {
 3231              		.loc 1 1499 58 discriminator 2 view .LVU844
 3232 0068 24B2     		sxth	r4, r4
 3233              	.LVL299:
 3234              	.L274:
1499:SYS/shell/shell.c ****         {
 3235              		.loc 1 1499 27 is_stmt 1 discriminator 1 view .LVU845
1499:SYS/shell/shell.c ****         {
 3236              		.loc 1 1499 49 is_stmt 0 discriminator 1 view .LVU846
 3237 006a B5F85C30 		ldrh	r3, [r5, #92]
1499:SYS/shell/shell.c ****         {
 3238              		.loc 1 1499 9 discriminator 1 view .LVU847
 3239 006e 9C42     		cmp	r4, r3
 3240 0070 1EDA     		bge	.L283
1501:SYS/shell/shell.c ****                 && shellStringCompare(shell->parser.buffer,
 3241              		.loc 1 1501 13 is_stmt 1 view .LVU848
1501:SYS/shell/shell.c ****                 && shellStringCompare(shell->parser.buffer,
 3242              		.loc 1 1501 17 is_stmt 0 view .LVU849
 3243 0072 07EB0416 		add	r6, r7, r4, lsl #4
 3244 0076 3146     		mov	r1, r6
 3245 0078 2846     		mov	r0, r5
 3246 007a FFF7FEFF 		bl	shellCheckPermission
 3247              	.LVL300:
1501:SYS/shell/shell.c ****                 && shellStringCompare(shell->parser.buffer,
 3248              		.loc 1 1501 16 view .LVU850
 3249 007e 0028     		cmp	r0, #0
 3250 0080 F1D1     		bne	.L275
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 103


1502:SYS/shell/shell.c ****                                    (char *)shellGetCommandName(&base[i]))
 3251              		.loc 1 1502 20 view .LVU851
 3252 0082 D5F810B0 		ldr	fp, [r5, #16]
1503:SYS/shell/shell.c ****                         == shell->parser.length)
 3253              		.loc 1 1503 44 view .LVU852
 3254 0086 3046     		mov	r0, r6
 3255 0088 FFF7FEFF 		bl	shellGetCommandName
 3256              	.LVL301:
 3257 008c 0146     		mov	r1, r0
1502:SYS/shell/shell.c ****                                    (char *)shellGetCommandName(&base[i]))
 3258              		.loc 1 1502 20 view .LVU853
 3259 008e 5846     		mov	r0, fp
 3260 0090 FFF7FEFF 		bl	shellStringCompare
 3261              	.LVL302:
1504:SYS/shell/shell.c ****             {
 3262              		.loc 1 1504 41 view .LVU854
 3263 0094 AB89     		ldrh	r3, [r5, #12]
1502:SYS/shell/shell.c ****                                    (char *)shellGetCommandName(&base[i]))
 3264              		.loc 1 1502 17 view .LVU855
 3265 0096 9842     		cmp	r0, r3
 3266 0098 E5D1     		bne	.L275
1506:SYS/shell/shell.c ****                 {
 3267              		.loc 1 1506 17 is_stmt 1 view .LVU856
1506:SYS/shell/shell.c ****                 {
 3268              		.loc 1 1506 20 is_stmt 0 view .LVU857
 3269 009a B9F1000F 		cmp	r9, #0
 3270 009e DCD0     		beq	.L276
1508:SYS/shell/shell.c ****                     {
 3271              		.loc 1 1508 21 is_stmt 1 view .LVU858
1508:SYS/shell/shell.c ****                     {
 3272              		.loc 1 1508 24 is_stmt 0 view .LVU859
 3273 00a0 B9F1010F 		cmp	r9, #1
 3274 00a4 C3D1     		bne	.L277
1510:SYS/shell/shell.c ****                     }
 3275              		.loc 1 1510 25 is_stmt 1 view .LVU860
 3276 00a6 1A49     		ldr	r1, .L286
 3277 00a8 2846     		mov	r0, r5
 3278 00aa FFF7FEFF 		bl	shellWriteString
 3279              	.LVL303:
 3280 00ae BEE7     		b	.L277
 3281              	.L283:
1510:SYS/shell/shell.c ****                     }
 3282              		.loc 1 1510 25 is_stmt 0 view .LVU861
 3283              	.LBE18:
1522:SYS/shell/shell.c ****         {
 3284              		.loc 1 1522 9 is_stmt 1 view .LVU862
1522:SYS/shell/shell.c ****         {
 3285              		.loc 1 1522 12 is_stmt 0 view .LVU863
 3286 00b0 B9F1000F 		cmp	r9, #0
 3287 00b4 1AD0     		beq	.L271
1526:SYS/shell/shell.c ****         {
 3288              		.loc 1 1526 9 is_stmt 1 view .LVU864
1526:SYS/shell/shell.c ****         {
 3289              		.loc 1 1526 12 is_stmt 0 view .LVU865
 3290 00b6 B9F1010F 		cmp	r9, #1
 3291 00ba 19D0     		beq	.L284
 3292              	.L279:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 104


1530:SYS/shell/shell.c ****         {
 3293              		.loc 1 1530 9 is_stmt 1 view .LVU866
1532:SYS/shell/shell.c ****                 shellStringCopy(shell->parser.buffer,
 3294              		.loc 1 1532 13 view .LVU867
1533:SYS/shell/shell.c ****                                 (char *)shellGetCommandName(&base[lastMatchIndex]));
 3295              		.loc 1 1533 17 is_stmt 0 view .LVU868
 3296 00bc 2C69     		ldr	r4, [r5, #16]
 3297              	.LVL304:
1534:SYS/shell/shell.c ****         }
 3298              		.loc 1 1534 41 view .LVU869
 3299 00be 07EB0817 		add	r7, r7, r8, lsl #4
 3300              	.LVL305:
1534:SYS/shell/shell.c ****         }
 3301              		.loc 1 1534 41 view .LVU870
 3302 00c2 3846     		mov	r0, r7
 3303 00c4 FFF7FEFF 		bl	shellGetCommandName
 3304              	.LVL306:
 3305 00c8 0146     		mov	r1, r0
1533:SYS/shell/shell.c ****                                 (char *)shellGetCommandName(&base[lastMatchIndex]));
 3306              		.loc 1 1533 17 view .LVU871
 3307 00ca 2046     		mov	r0, r4
 3308 00cc FFF7FEFF 		bl	shellStringCopy
 3309              	.LVL307:
1532:SYS/shell/shell.c ****                 shellStringCopy(shell->parser.buffer,
 3310              		.loc 1 1532 34 view .LVU872
 3311 00d0 A881     		strh	r0, [r5, #12]	@ movhi
1536:SYS/shell/shell.c ****         {
 3312              		.loc 1 1536 9 is_stmt 1 view .LVU873
1536:SYS/shell/shell.c ****         {
 3313              		.loc 1 1536 12 is_stmt 0 view .LVU874
 3314 00d2 B9F1010F 		cmp	r9, #1
 3315 00d6 0FD8     		bhi	.L285
 3316              	.L280:
1542:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
 3317              		.loc 1 1542 9 is_stmt 1 view .LVU875
1542:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
 3318              		.loc 1 1542 22 is_stmt 0 view .LVU876
 3319 00d8 2A69     		ldr	r2, [r5, #16]
1542:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
 3320              		.loc 1 1542 43 view .LVU877
 3321 00da AB89     		ldrh	r3, [r5, #12]
1542:SYS/shell/shell.c ****         shell->parser.cursor = shell->parser.length;
 3322              		.loc 1 1542 52 view .LVU878
 3323 00dc 0021     		movs	r1, #0
 3324 00de D154     		strb	r1, [r2, r3]
1543:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3325              		.loc 1 1543 9 is_stmt 1 view .LVU879
1543:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3326              		.loc 1 1543 45 is_stmt 0 view .LVU880
 3327 00e0 AB89     		ldrh	r3, [r5, #12]
1543:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3328              		.loc 1 1543 30 view .LVU881
 3329 00e2 EB81     		strh	r3, [r5, #14]	@ movhi
1544:SYS/shell/shell.c ****     }
 3330              		.loc 1 1544 9 is_stmt 1 view .LVU882
 3331 00e4 2969     		ldr	r1, [r5, #16]
 3332 00e6 2846     		mov	r0, r5
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 105


 3333 00e8 FFF7FEFF 		bl	shellWriteString
 3334              	.LVL308:
 3335              	.L271:
1544:SYS/shell/shell.c ****     }
 3336              		.loc 1 1544 9 is_stmt 0 view .LVU883
 3337              	.LBE20:
1569:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0), 0x09000000, shellTab, tab);
 3338              		.loc 1 1569 1 view .LVU884
 3339 00ec BDE8F88F 		pop	{r3, r4, r5, r6, r7, r8, r9, r10, fp, pc}
 3340              	.LVL309:
 3341              	.L284:
 3342              	.LBB21:
1528:SYS/shell/shell.c ****         }
 3343              		.loc 1 1528 13 is_stmt 1 view .LVU885
 3344 00f0 2846     		mov	r0, r5
 3345 00f2 FFF7FEFF 		bl	shellClearCommandLine
 3346              	.LVL310:
 3347 00f6 E1E7     		b	.L279
 3348              	.LVL311:
 3349              	.L285:
1538:SYS/shell/shell.c ****             shellWriteCommandLine(shell, 1);
 3350              		.loc 1 1538 13 view .LVU886
 3351 00f8 3946     		mov	r1, r7
 3352 00fa 2846     		mov	r0, r5
 3353 00fc FFF7FEFF 		bl	shellListItem
 3354              	.LVL312:
1539:SYS/shell/shell.c ****             shell->parser.length = maxMatch;
 3355              		.loc 1 1539 13 view .LVU887
 3356 0100 0121     		movs	r1, #1
 3357 0102 2846     		mov	r0, r5
 3358 0104 FFF7FEFF 		bl	shellWriteCommandLine
 3359              	.LVL313:
1540:SYS/shell/shell.c ****         }
 3360              		.loc 1 1540 13 view .LVU888
1540:SYS/shell/shell.c ****         }
 3361              		.loc 1 1540 34 is_stmt 0 view .LVU889
 3362 0108 A5F80CA0 		strh	r10, [r5, #12]	@ movhi
 3363 010c E4E7     		b	.L280
 3364              	.L287:
 3365 010e 00BF     		.align	2
 3366              	.L286:
 3367 0110 04000000 		.word	.LC3
 3368              	.LBE21:
 3369              		.cfi_endproc
 3370              	.LFE171:
 3372              		.section	.rodata.shellInsertByte.str1.4,"aMS",%progbits,1
 3373              		.align	2
 3374              	.LC21:
 3375 0000 0D0A5761 		.ascii	"\015\012Warning: Command is too long\015\012\000"
 3375      726E696E 
 3375      673A2043 
 3375      6F6D6D61 
 3375      6E642069 
 3376              		.section	.text.shellInsertByte,"ax",%progbits
 3377              		.align	1
 3378              		.global	shellInsertByte
 3379              		.syntax unified
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 106


 3380              		.thumb
 3381              		.thumb_func
 3382              		.fpu fpv4-sp-d16
 3384              	shellInsertByte:
 3385              	.LVL314:
 3386              	.LFB150:
 781:SYS/shell/shell.c ****     /* 判断输入数据是否过长 */
 3387              		.loc 1 781 1 is_stmt 1 view -0
 3388              		.cfi_startproc
 3389              		@ args = 0, pretend = 0, frame = 0
 3390              		@ frame_needed = 0, uses_anonymous_args = 0
 781:SYS/shell/shell.c ****     /* 判断输入数据是否过长 */
 3391              		.loc 1 781 1 is_stmt 0 view .LVU891
 3392 0000 70B5     		push	{r4, r5, r6, lr}
 3393              	.LCFI48:
 3394              		.cfi_def_cfa_offset 16
 3395              		.cfi_offset 4, -16
 3396              		.cfi_offset 5, -12
 3397              		.cfi_offset 6, -8
 3398              		.cfi_offset 14, -4
 3399 0002 0446     		mov	r4, r0
 783:SYS/shell/shell.c ****     {
 3400              		.loc 1 783 5 is_stmt 1 view .LVU892
 783:SYS/shell/shell.c ****     {
 3401              		.loc 1 783 22 is_stmt 0 view .LVU893
 3402 0004 8389     		ldrh	r3, [r0, #12]
 783:SYS/shell/shell.c ****     {
 3403              		.loc 1 783 46 view .LVU894
 3404 0006 828E     		ldrh	r2, [r0, #52]
 783:SYS/shell/shell.c ****     {
 3405              		.loc 1 783 58 view .LVU895
 3406 0008 013A     		subs	r2, r2, #1
 783:SYS/shell/shell.c ****     {
 3407              		.loc 1 783 8 view .LVU896
 3408 000a 9342     		cmp	r3, r2
 3409 000c 07DA     		bge	.L299
 792:SYS/shell/shell.c ****     {
 3410              		.loc 1 792 5 is_stmt 1 view .LVU897
 792:SYS/shell/shell.c ****     {
 3411              		.loc 1 792 22 is_stmt 0 view .LVU898
 3412 000e C289     		ldrh	r2, [r0, #14]
 792:SYS/shell/shell.c ****     {
 3413              		.loc 1 792 8 view .LVU899
 3414 0010 9342     		cmp	r3, r2
 3415 0012 10D0     		beq	.L300
 799:SYS/shell/shell.c ****     {
 3416              		.loc 1 799 10 is_stmt 1 view .LVU900
 799:SYS/shell/shell.c ****     {
 3417              		.loc 1 799 13 is_stmt 0 view .LVU901
 3418 0014 9342     		cmp	r3, r2
 3419 0016 4ED9     		bls	.L288
 801:SYS/shell/shell.c ****         {
 3420              		.loc 1 801 9 is_stmt 1 view .LVU902
 3421              	.LBB22:
 801:SYS/shell/shell.c ****         {
 3422              		.loc 1 801 14 view .LVU903
 801:SYS/shell/shell.c ****         {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 107


 3423              		.loc 1 801 45 is_stmt 0 view .LVU904
 3424 0018 9B1A     		subs	r3, r3, r2
 801:SYS/shell/shell.c ****         {
 3425              		.loc 1 801 20 view .LVU905
 3426 001a 1BB2     		sxth	r3, r3
 3427              	.LVL315:
 801:SYS/shell/shell.c ****         {
 3428              		.loc 1 801 9 view .LVU906
 3429 001c 23E0     		b	.L292
 3430              	.LVL316:
 3431              	.L299:
 801:SYS/shell/shell.c ****         {
 3432              		.loc 1 801 9 view .LVU907
 3433              	.LBE22:
 785:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
 3434              		.loc 1 785 9 is_stmt 1 view .LVU908
 3435 001e 2649     		ldr	r1, .L301
 3436              	.LVL317:
 785:SYS/shell/shell.c ****         shellWriteCommandLine(shell, 1);
 3437              		.loc 1 785 9 is_stmt 0 view .LVU909
 3438 0020 FFF7FEFF 		bl	shellWriteString
 3439              	.LVL318:
 786:SYS/shell/shell.c ****         shellWriteString(shell, shell->parser.buffer);
 3440              		.loc 1 786 9 is_stmt 1 view .LVU910
 3441 0024 0121     		movs	r1, #1
 3442 0026 2046     		mov	r0, r4
 3443 0028 FFF7FEFF 		bl	shellWriteCommandLine
 3444              	.LVL319:
 787:SYS/shell/shell.c ****         return;
 3445              		.loc 1 787 9 view .LVU911
 3446 002c 2169     		ldr	r1, [r4, #16]
 3447 002e 2046     		mov	r0, r4
 3448 0030 FFF7FEFF 		bl	shellWriteString
 3449              	.LVL320:
 788:SYS/shell/shell.c ****     }
 3450              		.loc 1 788 9 view .LVU912
 3451 0034 3FE0     		b	.L288
 3452              	.LVL321:
 3453              	.L300:
 794:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3454              		.loc 1 794 9 view .LVU913
 794:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3455              		.loc 1 794 22 is_stmt 0 view .LVU914
 3456 0036 0269     		ldr	r2, [r0, #16]
 794:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3457              		.loc 1 794 50 view .LVU915
 3458 0038 581C     		adds	r0, r3, #1
 3459              	.LVL322:
 794:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3460              		.loc 1 794 50 view .LVU916
 3461 003a A081     		strh	r0, [r4, #12]	@ movhi
 794:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3462              		.loc 1 794 54 view .LVU917
 3463 003c D154     		strb	r1, [r2, r3]
 795:SYS/shell/shell.c ****         shell->parser.cursor++;
 3464              		.loc 1 795 9 is_stmt 1 view .LVU918
 795:SYS/shell/shell.c ****         shell->parser.cursor++;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 108


 3465              		.loc 1 795 22 is_stmt 0 view .LVU919
 3466 003e 2269     		ldr	r2, [r4, #16]
 795:SYS/shell/shell.c ****         shell->parser.cursor++;
 3467              		.loc 1 795 43 view .LVU920
 3468 0040 A389     		ldrh	r3, [r4, #12]
 795:SYS/shell/shell.c ****         shell->parser.cursor++;
 3469              		.loc 1 795 52 view .LVU921
 3470 0042 0020     		movs	r0, #0
 3471 0044 D054     		strb	r0, [r2, r3]
 796:SYS/shell/shell.c ****         shellWriteByte(shell, data);
 3472              		.loc 1 796 9 is_stmt 1 view .LVU922
 796:SYS/shell/shell.c ****         shellWriteByte(shell, data);
 3473              		.loc 1 796 22 is_stmt 0 view .LVU923
 3474 0046 E389     		ldrh	r3, [r4, #14]
 796:SYS/shell/shell.c ****         shellWriteByte(shell, data);
 3475              		.loc 1 796 29 view .LVU924
 3476 0048 0133     		adds	r3, r3, #1
 3477 004a E381     		strh	r3, [r4, #14]	@ movhi
 797:SYS/shell/shell.c ****     }
 3478              		.loc 1 797 9 is_stmt 1 view .LVU925
 3479 004c 2046     		mov	r0, r4
 3480 004e FFF7FEFF 		bl	shellWriteByte
 3481              	.LVL323:
 797:SYS/shell/shell.c ****     }
 3482              		.loc 1 797 9 is_stmt 0 view .LVU926
 3483 0052 30E0     		b	.L288
 3484              	.LVL324:
 3485              	.L293:
 3486              	.LBB23:
 803:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i - 1];
 3487              		.loc 1 803 13 is_stmt 1 discriminator 3 view .LVU927
 804:SYS/shell/shell.c ****         }
 3488              		.loc 1 804 30 is_stmt 0 discriminator 3 view .LVU928
 3489 0054 2069     		ldr	r0, [r4, #16]
 804:SYS/shell/shell.c ****         }
 3490              		.loc 1 804 51 discriminator 3 view .LVU929
 3491 0056 E289     		ldrh	r2, [r4, #14]
 804:SYS/shell/shell.c ****         }
 3492              		.loc 1 804 59 discriminator 3 view .LVU930
 3493 0058 1A44     		add	r2, r2, r3
 803:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i - 1];
 3494              		.loc 1 803 33 discriminator 3 view .LVU931
 3495 005a 8518     		adds	r5, r0, r2
 804:SYS/shell/shell.c ****         }
 3496              		.loc 1 804 37 discriminator 3 view .LVU932
 3497 005c 15F8015C 		ldrb	r5, [r5, #-1]	@ zero_extendqisi2
 803:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i - 1];
 3498              		.loc 1 803 60 discriminator 3 view .LVU933
 3499 0060 8554     		strb	r5, [r0, r2]
 801:SYS/shell/shell.c ****         {
 3500              		.loc 1 801 76 is_stmt 1 discriminator 3 view .LVU934
 801:SYS/shell/shell.c ****         {
 3501              		.loc 1 801 77 is_stmt 0 discriminator 3 view .LVU935
 3502 0062 013B     		subs	r3, r3, #1
 3503              	.LVL325:
 801:SYS/shell/shell.c ****         {
 3504              		.loc 1 801 77 discriminator 3 view .LVU936
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 109


 3505 0064 1BB2     		sxth	r3, r3
 3506              	.LVL326:
 3507              	.L292:
 801:SYS/shell/shell.c ****         {
 3508              		.loc 1 801 69 is_stmt 1 discriminator 1 view .LVU937
 801:SYS/shell/shell.c ****         {
 3509              		.loc 1 801 9 is_stmt 0 discriminator 1 view .LVU938
 3510 0066 002B     		cmp	r3, #0
 3511 0068 F4DC     		bgt	.L293
 801:SYS/shell/shell.c ****         {
 3512              		.loc 1 801 9 discriminator 1 view .LVU939
 3513              	.LBE23:
 806:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3514              		.loc 1 806 9 is_stmt 1 view .LVU940
 806:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3515              		.loc 1 806 22 is_stmt 0 view .LVU941
 3516 006a 2269     		ldr	r2, [r4, #16]
 806:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3517              		.loc 1 806 43 view .LVU942
 3518 006c E389     		ldrh	r3, [r4, #14]
 3519              	.LVL327:
 806:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3520              		.loc 1 806 50 view .LVU943
 3521 006e 581C     		adds	r0, r3, #1
 3522 0070 E081     		strh	r0, [r4, #14]	@ movhi
 806:SYS/shell/shell.c ****         shell->parser.buffer[++shell->parser.length] = 0;
 3523              		.loc 1 806 54 view .LVU944
 3524 0072 D154     		strb	r1, [r2, r3]
 807:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3525              		.loc 1 807 9 is_stmt 1 view .LVU945
 807:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3526              		.loc 1 807 22 is_stmt 0 view .LVU946
 3527 0074 2269     		ldr	r2, [r4, #16]
 807:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3528              		.loc 1 807 45 view .LVU947
 3529 0076 A389     		ldrh	r3, [r4, #12]
 807:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3530              		.loc 1 807 30 view .LVU948
 3531 0078 0133     		adds	r3, r3, #1
 3532 007a 9BB2     		uxth	r3, r3
 807:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3533              		.loc 1 807 54 view .LVU949
 3534 007c A381     		strh	r3, [r4, #12]	@ movhi
 3535 007e 0021     		movs	r1, #0
 3536              	.LVL328:
 807:SYS/shell/shell.c ****         for (short i = shell->parser.cursor - 1; i < shell->parser.length; i++)
 3537              		.loc 1 807 54 view .LVU950
 3538 0080 D154     		strb	r1, [r2, r3]
 808:SYS/shell/shell.c ****         {
 3539              		.loc 1 808 9 is_stmt 1 view .LVU951
 3540              	.LBB24:
 808:SYS/shell/shell.c ****         {
 3541              		.loc 1 808 14 view .LVU952
 808:SYS/shell/shell.c ****         {
 3542              		.loc 1 808 37 is_stmt 0 view .LVU953
 3543 0082 E689     		ldrh	r6, [r4, #14]
 808:SYS/shell/shell.c ****         {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 110


 3544              		.loc 1 808 45 view .LVU954
 3545 0084 013E     		subs	r6, r6, #1
 808:SYS/shell/shell.c ****         {
 3546              		.loc 1 808 20 view .LVU955
 3547 0086 36B2     		sxth	r6, r6
 3548              	.LVL329:
 808:SYS/shell/shell.c ****         {
 3549              		.loc 1 808 9 view .LVU956
 3550 0088 06E0     		b	.L294
 3551              	.L295:
 810:SYS/shell/shell.c ****         }
 3552              		.loc 1 810 13 is_stmt 1 discriminator 3 view .LVU957
 810:SYS/shell/shell.c ****         }
 3553              		.loc 1 810 48 is_stmt 0 discriminator 3 view .LVU958
 3554 008a 2369     		ldr	r3, [r4, #16]
 810:SYS/shell/shell.c ****         }
 3555              		.loc 1 810 13 discriminator 3 view .LVU959
 3556 008c 995D     		ldrb	r1, [r3, r6]	@ zero_extendqisi2
 3557 008e 2046     		mov	r0, r4
 3558 0090 FFF7FEFF 		bl	shellWriteByte
 3559              	.LVL330:
 808:SYS/shell/shell.c ****         {
 3560              		.loc 1 808 76 is_stmt 1 discriminator 3 view .LVU960
 808:SYS/shell/shell.c ****         {
 3561              		.loc 1 808 77 is_stmt 0 discriminator 3 view .LVU961
 3562 0094 0136     		adds	r6, r6, #1
 3563              	.LVL331:
 808:SYS/shell/shell.c ****         {
 3564              		.loc 1 808 77 discriminator 3 view .LVU962
 3565 0096 36B2     		sxth	r6, r6
 3566              	.LVL332:
 3567              	.L294:
 808:SYS/shell/shell.c ****         {
 3568              		.loc 1 808 50 is_stmt 1 discriminator 1 view .LVU963
 808:SYS/shell/shell.c ****         {
 3569              		.loc 1 808 67 is_stmt 0 discriminator 1 view .LVU964
 3570 0098 A589     		ldrh	r5, [r4, #12]
 808:SYS/shell/shell.c ****         {
 3571              		.loc 1 808 9 discriminator 1 view .LVU965
 3572 009a AE42     		cmp	r6, r5
 3573 009c F5DB     		blt	.L295
 808:SYS/shell/shell.c ****         {
 3574              		.loc 1 808 9 discriminator 1 view .LVU966
 3575              	.LBE24:
 812:SYS/shell/shell.c ****         {
 3576              		.loc 1 812 9 is_stmt 1 view .LVU967
 3577              	.LBB25:
 812:SYS/shell/shell.c ****         {
 3578              		.loc 1 812 14 view .LVU968
 812:SYS/shell/shell.c ****         {
 3579              		.loc 1 812 60 is_stmt 0 view .LVU969
 3580 009e E389     		ldrh	r3, [r4, #14]
 812:SYS/shell/shell.c ****         {
 3581              		.loc 1 812 45 view .LVU970
 3582 00a0 ED1A     		subs	r5, r5, r3
 812:SYS/shell/shell.c ****         {
 3583              		.loc 1 812 20 view .LVU971
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 111


 3584 00a2 2DB2     		sxth	r5, r5
 3585              	.LVL333:
 812:SYS/shell/shell.c ****         {
 3586              		.loc 1 812 9 view .LVU972
 3587 00a4 05E0     		b	.L296
 3588              	.L297:
 814:SYS/shell/shell.c ****         }
 3589              		.loc 1 814 13 is_stmt 1 discriminator 3 view .LVU973
 3590 00a6 0821     		movs	r1, #8
 3591 00a8 2046     		mov	r0, r4
 3592 00aa FFF7FEFF 		bl	shellWriteByte
 3593              	.LVL334:
 812:SYS/shell/shell.c ****         {
 3594              		.loc 1 812 76 discriminator 3 view .LVU974
 812:SYS/shell/shell.c ****         {
 3595              		.loc 1 812 77 is_stmt 0 discriminator 3 view .LVU975
 3596 00ae 013D     		subs	r5, r5, #1
 3597              	.LVL335:
 812:SYS/shell/shell.c ****         {
 3598              		.loc 1 812 77 discriminator 3 view .LVU976
 3599 00b0 2DB2     		sxth	r5, r5
 3600              	.LVL336:
 3601              	.L296:
 812:SYS/shell/shell.c ****         {
 3602              		.loc 1 812 69 is_stmt 1 discriminator 1 view .LVU977
 812:SYS/shell/shell.c ****         {
 3603              		.loc 1 812 9 is_stmt 0 discriminator 1 view .LVU978
 3604 00b2 002D     		cmp	r5, #0
 3605 00b4 F7DC     		bgt	.L297
 3606              	.LVL337:
 3607              	.L288:
 812:SYS/shell/shell.c ****         {
 3608              		.loc 1 812 9 discriminator 1 view .LVU979
 3609              	.LBE25:
 817:SYS/shell/shell.c **** 
 3610              		.loc 1 817 1 view .LVU980
 3611 00b6 70BD     		pop	{r4, r5, r6, pc}
 3612              	.LVL338:
 3613              	.L302:
 817:SYS/shell/shell.c **** 
 3614              		.loc 1 817 1 view .LVU981
 3615              		.align	2
 3616              	.L301:
 3617 00b8 00000000 		.word	.LC21
 3618              		.cfi_endproc
 3619              	.LFE150:
 3621              		.section	.text.shellDeleteByte,"ax",%progbits
 3622              		.align	1
 3623              		.global	shellDeleteByte
 3624              		.syntax unified
 3625              		.thumb
 3626              		.thumb_func
 3627              		.fpu fpv4-sp-d16
 3629              	shellDeleteByte:
 3630              	.LVL339:
 3631              	.LFB151:
 827:SYS/shell/shell.c ****     char offset = (direction == -1) ? 1 : 0;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 112


 3632              		.loc 1 827 1 is_stmt 1 view -0
 3633              		.cfi_startproc
 3634              		@ args = 0, pretend = 0, frame = 0
 3635              		@ frame_needed = 0, uses_anonymous_args = 0
 827:SYS/shell/shell.c ****     char offset = (direction == -1) ? 1 : 0;
 3636              		.loc 1 827 1 is_stmt 0 view .LVU983
 3637 0000 38B5     		push	{r3, r4, r5, lr}
 3638              	.LCFI49:
 3639              		.cfi_def_cfa_offset 16
 3640              		.cfi_offset 3, -16
 3641              		.cfi_offset 4, -12
 3642              		.cfi_offset 5, -8
 3643              		.cfi_offset 14, -4
 3644 0002 0446     		mov	r4, r0
 828:SYS/shell/shell.c **** 
 3645              		.loc 1 828 5 is_stmt 1 view .LVU984
 828:SYS/shell/shell.c **** 
 3646              		.loc 1 828 41 is_stmt 0 view .LVU985
 3647 0004 B1F1FF3F 		cmp	r1, #-1
 3648 0008 14BF     		ite	ne
 3649 000a 0023     		movne	r3, #0
 3650 000c 0123     		moveq	r3, #1
 3651              	.LVL340:
 830:SYS/shell/shell.c ****         || (shell->parser.cursor == shell->parser.length && direction == -1))
 3652              		.loc 1 830 5 is_stmt 1 view .LVU986
 830:SYS/shell/shell.c ****         || (shell->parser.cursor == shell->parser.length && direction == -1))
 3653              		.loc 1 830 23 is_stmt 0 view .LVU987
 3654 000e C289     		ldrh	r2, [r0, #14]
 830:SYS/shell/shell.c ****         || (shell->parser.cursor == shell->parser.length && direction == -1))
 3655              		.loc 1 830 8 view .LVU988
 3656 0010 0AB9     		cbnz	r2, .L304
 830:SYS/shell/shell.c ****         || (shell->parser.cursor == shell->parser.length && direction == -1))
 3657              		.loc 1 830 36 discriminator 1 view .LVU989
 3658 0012 0129     		cmp	r1, #1
 3659 0014 55D0     		beq	.L303
 3660              	.L304:
 831:SYS/shell/shell.c ****     {
 3661              		.loc 1 831 50 view .LVU990
 3662 0016 A089     		ldrh	r0, [r4, #12]
 3663              	.LVL341:
 831:SYS/shell/shell.c ****     {
 3664              		.loc 1 831 9 view .LVU991
 3665 0018 8242     		cmp	r2, r0
 3666 001a 03D0     		beq	.L316
 3667              	.L306:
 835:SYS/shell/shell.c ****     {
 3668              		.loc 1 835 5 is_stmt 1 view .LVU992
 835:SYS/shell/shell.c ****     {
 3669              		.loc 1 835 8 is_stmt 0 view .LVU993
 3670 001c 8242     		cmp	r2, r0
 3671 001e 05D0     		beq	.L317
 3672              	.L307:
 844:SYS/shell/shell.c ****         {
 3673              		.loc 1 844 9 is_stmt 1 view .LVU994
 3674              	.LBB26:
 844:SYS/shell/shell.c ****         {
 3675              		.loc 1 844 14 view .LVU995
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 113


 844:SYS/shell/shell.c ****         {
 3676              		.loc 1 844 20 is_stmt 0 view .LVU996
 3677 0020 1BB2     		sxth	r3, r3
 3678              	.LVL342:
 844:SYS/shell/shell.c ****         {
 3679              		.loc 1 844 9 view .LVU997
 3680 0022 19E0     		b	.L308
 3681              	.LVL343:
 3682              	.L316:
 844:SYS/shell/shell.c ****         {
 3683              		.loc 1 844 9 view .LVU998
 3684              	.LBE26:
 831:SYS/shell/shell.c ****     {
 3685              		.loc 1 831 58 discriminator 1 view .LVU999
 3686 0024 B1F1FF3F 		cmp	r1, #-1
 3687 0028 F8D1     		bne	.L306
 3688 002a 4AE0     		b	.L303
 3689              	.L317:
 835:SYS/shell/shell.c ****     {
 3690              		.loc 1 835 54 discriminator 1 view .LVU1000
 3691 002c 0129     		cmp	r1, #1
 3692 002e F7D1     		bne	.L307
 837:SYS/shell/shell.c ****         shell->parser.length--;
 3693              		.loc 1 837 9 is_stmt 1 view .LVU1001
 837:SYS/shell/shell.c ****         shell->parser.length--;
 3694              		.loc 1 837 29 is_stmt 0 view .LVU1002
 3695 0030 013A     		subs	r2, r2, #1
 3696 0032 E281     		strh	r2, [r4, #14]	@ movhi
 838:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3697              		.loc 1 838 9 is_stmt 1 view .LVU1003
 838:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3698              		.loc 1 838 29 is_stmt 0 view .LVU1004
 3699 0034 431E     		subs	r3, r0, #1
 3700              	.LVL344:
 838:SYS/shell/shell.c ****         shell->parser.buffer[shell->parser.length] = 0;
 3701              		.loc 1 838 29 view .LVU1005
 3702 0036 9BB2     		uxth	r3, r3
 3703 0038 A381     		strh	r3, [r4, #12]	@ movhi
 839:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 3704              		.loc 1 839 9 is_stmt 1 view .LVU1006
 839:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 3705              		.loc 1 839 22 is_stmt 0 view .LVU1007
 3706 003a 2269     		ldr	r2, [r4, #16]
 839:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 3707              		.loc 1 839 52 view .LVU1008
 3708 003c 0021     		movs	r1, #0
 3709              	.LVL345:
 839:SYS/shell/shell.c ****         shellDeleteCommandLine(shell, 1);
 3710              		.loc 1 839 52 view .LVU1009
 3711 003e D154     		strb	r1, [r2, r3]
 840:SYS/shell/shell.c ****     }
 3712              		.loc 1 840 9 is_stmt 1 view .LVU1010
 3713 0040 0121     		movs	r1, #1
 3714 0042 2046     		mov	r0, r4
 3715 0044 FFF7FEFF 		bl	shellDeleteCommandLine
 3716              	.LVL346:
 3717 0048 3BE0     		b	.L303
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 114


 3718              	.LVL347:
 3719              	.L309:
 3720              	.LBB27:
 846:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i];
 3721              		.loc 1 846 13 discriminator 3 view .LVU1011
 847:SYS/shell/shell.c ****         }
 3722              		.loc 1 847 30 is_stmt 0 discriminator 3 view .LVU1012
 3723 004a 2069     		ldr	r0, [r4, #16]
 847:SYS/shell/shell.c ****         }
 3724              		.loc 1 847 59 discriminator 3 view .LVU1013
 3725 004c 1A44     		add	r2, r2, r3
 846:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i];
 3726              		.loc 1 846 33 discriminator 3 view .LVU1014
 3727 004e 551E     		subs	r5, r2, #1
 847:SYS/shell/shell.c ****         }
 3728              		.loc 1 847 37 discriminator 3 view .LVU1015
 3729 0050 825C     		ldrb	r2, [r0, r2]	@ zero_extendqisi2
 846:SYS/shell/shell.c ****                 shell->parser.buffer[shell->parser.cursor + i];
 3730              		.loc 1 846 64 discriminator 3 view .LVU1016
 3731 0052 4255     		strb	r2, [r0, r5]
 844:SYS/shell/shell.c ****         {
 3732              		.loc 1 844 81 is_stmt 1 discriminator 3 view .LVU1017
 844:SYS/shell/shell.c ****         {
 3733              		.loc 1 844 82 is_stmt 0 discriminator 3 view .LVU1018
 3734 0054 0133     		adds	r3, r3, #1
 3735              	.LVL348:
 844:SYS/shell/shell.c ****         {
 3736              		.loc 1 844 82 discriminator 3 view .LVU1019
 3737 0056 1BB2     		sxth	r3, r3
 3738              	.LVL349:
 3739              	.L308:
 844:SYS/shell/shell.c ****         {
 3740              		.loc 1 844 32 is_stmt 1 discriminator 1 view .LVU1020
 844:SYS/shell/shell.c ****         {
 3741              		.loc 1 844 49 is_stmt 0 discriminator 1 view .LVU1021
 3742 0058 A089     		ldrh	r0, [r4, #12]
 844:SYS/shell/shell.c ****         {
 3743              		.loc 1 844 72 discriminator 1 view .LVU1022
 3744 005a E289     		ldrh	r2, [r4, #14]
 844:SYS/shell/shell.c ****         {
 3745              		.loc 1 844 57 discriminator 1 view .LVU1023
 3746 005c 851A     		subs	r5, r0, r2
 844:SYS/shell/shell.c ****         {
 3747              		.loc 1 844 9 discriminator 1 view .LVU1024
 3748 005e AB42     		cmp	r3, r5
 3749 0060 F3DB     		blt	.L309
 844:SYS/shell/shell.c ****         {
 3750              		.loc 1 844 9 discriminator 1 view .LVU1025
 3751              	.LBE27:
 849:SYS/shell/shell.c ****         if (!offset)
 3752              		.loc 1 849 9 is_stmt 1 view .LVU1026
 849:SYS/shell/shell.c ****         if (!offset)
 3753              		.loc 1 849 29 is_stmt 0 view .LVU1027
 3754 0062 0138     		subs	r0, r0, #1
 3755 0064 A081     		strh	r0, [r4, #12]	@ movhi
 850:SYS/shell/shell.c ****         {
 3756              		.loc 1 850 9 is_stmt 1 view .LVU1028
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 115


 850:SYS/shell/shell.c ****         {
 3757              		.loc 1 850 12 is_stmt 0 view .LVU1029
 3758 0066 B1F1FF3F 		cmp	r1, #-1
 3759 006a 06D1     		bne	.L318
 3760              	.LVL350:
 3761              	.L310:
 855:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
 3762              		.loc 1 855 9 is_stmt 1 view .LVU1030
 855:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
 3763              		.loc 1 855 22 is_stmt 0 view .LVU1031
 3764 006c 2269     		ldr	r2, [r4, #16]
 855:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
 3765              		.loc 1 855 43 view .LVU1032
 3766 006e A389     		ldrh	r3, [r4, #12]
 855:SYS/shell/shell.c ****         for (short i = shell->parser.cursor; i < shell->parser.length; i++)
 3767              		.loc 1 855 52 view .LVU1033
 3768 0070 0021     		movs	r1, #0
 3769 0072 D154     		strb	r1, [r2, r3]
 856:SYS/shell/shell.c ****         {
 3770              		.loc 1 856 9 is_stmt 1 view .LVU1034
 3771              	.LBB28:
 856:SYS/shell/shell.c ****         {
 3772              		.loc 1 856 14 view .LVU1035
 856:SYS/shell/shell.c ****         {
 3773              		.loc 1 856 20 is_stmt 0 view .LVU1036
 3774 0074 B4F90E50 		ldrsh	r5, [r4, #14]
 3775              	.LVL351:
 856:SYS/shell/shell.c ****         {
 3776              		.loc 1 856 9 view .LVU1037
 3777 0078 0DE0     		b	.L311
 3778              	.LVL352:
 3779              	.L318:
 856:SYS/shell/shell.c ****         {
 3780              		.loc 1 856 9 view .LVU1038
 3781              	.LBE28:
 852:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 3782              		.loc 1 852 13 is_stmt 1 view .LVU1039
 852:SYS/shell/shell.c ****             shellWriteByte(shell, '\b');
 3783              		.loc 1 852 33 is_stmt 0 view .LVU1040
 3784 007a 013A     		subs	r2, r2, #1
 3785 007c E281     		strh	r2, [r4, #14]	@ movhi
 853:SYS/shell/shell.c ****         }
 3786              		.loc 1 853 13 is_stmt 1 view .LVU1041
 3787 007e 0821     		movs	r1, #8
 3788              	.LVL353:
 853:SYS/shell/shell.c ****         }
 3789              		.loc 1 853 13 is_stmt 0 view .LVU1042
 3790 0080 2046     		mov	r0, r4
 3791 0082 FFF7FEFF 		bl	shellWriteByte
 3792              	.LVL354:
 853:SYS/shell/shell.c ****         }
 3793              		.loc 1 853 13 view .LVU1043
 3794 0086 F1E7     		b	.L310
 3795              	.LVL355:
 3796              	.L312:
 3797              	.LBB29:
 858:SYS/shell/shell.c ****         }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 116


 3798              		.loc 1 858 13 is_stmt 1 discriminator 3 view .LVU1044
 858:SYS/shell/shell.c ****         }
 3799              		.loc 1 858 48 is_stmt 0 discriminator 3 view .LVU1045
 3800 0088 2369     		ldr	r3, [r4, #16]
 858:SYS/shell/shell.c ****         }
 3801              		.loc 1 858 13 discriminator 3 view .LVU1046
 3802 008a 595D     		ldrb	r1, [r3, r5]	@ zero_extendqisi2
 3803 008c 2046     		mov	r0, r4
 3804 008e FFF7FEFF 		bl	shellWriteByte
 3805              	.LVL356:
 856:SYS/shell/shell.c ****         {
 3806              		.loc 1 856 72 is_stmt 1 discriminator 3 view .LVU1047
 856:SYS/shell/shell.c ****         {
 3807              		.loc 1 856 73 is_stmt 0 discriminator 3 view .LVU1048
 3808 0092 0135     		adds	r5, r5, #1
 3809              	.LVL357:
 856:SYS/shell/shell.c ****         {
 3810              		.loc 1 856 73 discriminator 3 view .LVU1049
 3811 0094 2DB2     		sxth	r5, r5
 3812              	.LVL358:
 3813              	.L311:
 856:SYS/shell/shell.c ****         {
 3814              		.loc 1 856 46 is_stmt 1 discriminator 1 view .LVU1050
 856:SYS/shell/shell.c ****         {
 3815              		.loc 1 856 63 is_stmt 0 discriminator 1 view .LVU1051
 3816 0096 A389     		ldrh	r3, [r4, #12]
 856:SYS/shell/shell.c ****         {
 3817              		.loc 1 856 9 discriminator 1 view .LVU1052
 3818 0098 9D42     		cmp	r5, r3
 3819 009a F5DB     		blt	.L312
 856:SYS/shell/shell.c ****         {
 3820              		.loc 1 856 9 discriminator 1 view .LVU1053
 3821              	.LBE29:
 860:SYS/shell/shell.c ****         for (short i = shell->parser.length - shell->parser.cursor + 1; i > 0; i--)
 3822              		.loc 1 860 9 is_stmt 1 view .LVU1054
 3823 009c 2021     		movs	r1, #32
 3824 009e 2046     		mov	r0, r4
 3825 00a0 FFF7FEFF 		bl	shellWriteByte
 3826              	.LVL359:
 861:SYS/shell/shell.c ****         {
 3827              		.loc 1 861 9 view .LVU1055
 3828              	.LBB30:
 861:SYS/shell/shell.c ****         {
 3829              		.loc 1 861 14 view .LVU1056
 861:SYS/shell/shell.c ****         {
 3830              		.loc 1 861 37 is_stmt 0 view .LVU1057
 3831 00a4 A589     		ldrh	r5, [r4, #12]
 3832              	.LVL360:
 861:SYS/shell/shell.c ****         {
 3833              		.loc 1 861 60 view .LVU1058
 3834 00a6 E389     		ldrh	r3, [r4, #14]
 861:SYS/shell/shell.c ****         {
 3835              		.loc 1 861 45 view .LVU1059
 3836 00a8 ED1A     		subs	r5, r5, r3
 3837 00aa ADB2     		uxth	r5, r5
 861:SYS/shell/shell.c ****         {
 3838              		.loc 1 861 68 view .LVU1060
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 117


 3839 00ac 0135     		adds	r5, r5, #1
 861:SYS/shell/shell.c ****         {
 3840              		.loc 1 861 20 view .LVU1061
 3841 00ae 2DB2     		sxth	r5, r5
 3842              	.LVL361:
 861:SYS/shell/shell.c ****         {
 3843              		.loc 1 861 9 view .LVU1062
 3844 00b0 05E0     		b	.L313
 3845              	.L314:
 863:SYS/shell/shell.c ****         }
 3846              		.loc 1 863 13 is_stmt 1 discriminator 3 view .LVU1063
 3847 00b2 0821     		movs	r1, #8
 3848 00b4 2046     		mov	r0, r4
 3849 00b6 FFF7FEFF 		bl	shellWriteByte
 3850              	.LVL362:
 861:SYS/shell/shell.c ****         {
 3851              		.loc 1 861 80 discriminator 3 view .LVU1064
 861:SYS/shell/shell.c ****         {
 3852              		.loc 1 861 81 is_stmt 0 discriminator 3 view .LVU1065
 3853 00ba 013D     		subs	r5, r5, #1
 3854              	.LVL363:
 861:SYS/shell/shell.c ****         {
 3855              		.loc 1 861 81 discriminator 3 view .LVU1066
 3856 00bc 2DB2     		sxth	r5, r5
 3857              	.LVL364:
 3858              	.L313:
 861:SYS/shell/shell.c ****         {
 3859              		.loc 1 861 73 is_stmt 1 discriminator 1 view .LVU1067
 861:SYS/shell/shell.c ****         {
 3860              		.loc 1 861 9 is_stmt 0 discriminator 1 view .LVU1068
 3861 00be 002D     		cmp	r5, #0
 3862 00c0 F7DC     		bgt	.L314
 3863              	.LVL365:
 3864              	.L303:
 861:SYS/shell/shell.c ****         {
 3865              		.loc 1 861 9 discriminator 1 view .LVU1069
 3866              	.LBE30:
 866:SYS/shell/shell.c **** 
 3867              		.loc 1 866 1 view .LVU1070
 3868 00c2 38BD     		pop	{r3, r4, r5, pc}
 866:SYS/shell/shell.c **** 
 3869              		.loc 1 866 1 view .LVU1071
 3870              		.cfi_endproc
 3871              	.LFE151:
 3873              		.section	.text.shellBackspace,"ax",%progbits
 3874              		.align	1
 3875              		.global	shellBackspace
 3876              		.syntax unified
 3877              		.thumb
 3878              		.thumb_func
 3879              		.fpu fpv4-sp-d16
 3881              	shellBackspace:
 3882              	.LVL366:
 3883              	.LFB172:
1579:SYS/shell/shell.c ****     shellDeleteByte(shell, 1);
 3884              		.loc 1 1579 1 is_stmt 1 view -0
 3885              		.cfi_startproc
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 118


 3886              		@ args = 0, pretend = 0, frame = 0
 3887              		@ frame_needed = 0, uses_anonymous_args = 0
1579:SYS/shell/shell.c ****     shellDeleteByte(shell, 1);
 3888              		.loc 1 1579 1 is_stmt 0 view .LVU1073
 3889 0000 08B5     		push	{r3, lr}
 3890              	.LCFI50:
 3891              		.cfi_def_cfa_offset 8
 3892              		.cfi_offset 3, -8
 3893              		.cfi_offset 14, -4
1580:SYS/shell/shell.c **** }
 3894              		.loc 1 1580 5 is_stmt 1 view .LVU1074
 3895 0002 0121     		movs	r1, #1
 3896 0004 FFF7FEFF 		bl	shellDeleteByte
 3897              	.LVL367:
1581:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
 3898              		.loc 1 1581 1 is_stmt 0 view .LVU1075
 3899 0008 08BD     		pop	{r3, pc}
 3900              		.cfi_endproc
 3901              	.LFE172:
 3903              		.section	.text.shellDelete,"ax",%progbits
 3904              		.align	1
 3905              		.global	shellDelete
 3906              		.syntax unified
 3907              		.thumb
 3908              		.thumb_func
 3909              		.fpu fpv4-sp-d16
 3911              	shellDelete:
 3912              	.LVL368:
 3913              	.LFB173:
1594:SYS/shell/shell.c ****     shellDeleteByte(shell, -1);
 3914              		.loc 1 1594 1 is_stmt 1 view -0
 3915              		.cfi_startproc
 3916              		@ args = 0, pretend = 0, frame = 0
 3917              		@ frame_needed = 0, uses_anonymous_args = 0
1594:SYS/shell/shell.c ****     shellDeleteByte(shell, -1);
 3918              		.loc 1 1594 1 is_stmt 0 view .LVU1077
 3919 0000 08B5     		push	{r3, lr}
 3920              	.LCFI51:
 3921              		.cfi_def_cfa_offset 8
 3922              		.cfi_offset 3, -8
 3923              		.cfi_offset 14, -4
1595:SYS/shell/shell.c **** }
 3924              		.loc 1 1595 5 is_stmt 1 view .LVU1078
 3925 0002 4FF0FF31 		mov	r1, #-1
 3926 0006 FFF7FEFF 		bl	shellDeleteByte
 3927              	.LVL369:
1596:SYS/shell/shell.c **** SHELL_EXPORT_KEY(SHELL_CMD_PERMISSION(0)|SHELL_CMD_ENABLE_UNCHECKED,
 3928              		.loc 1 1596 1 is_stmt 0 view .LVU1079
 3929 000a 08BD     		pop	{r3, pc}
 3930              		.cfi_endproc
 3931              	.LFE173:
 3933              		.section	.text.shellSeekCommand,"ax",%progbits
 3934              		.align	1
 3935              		.global	shellSeekCommand
 3936              		.syntax unified
 3937              		.thumb
 3938              		.thumb_func
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 119


 3939              		.fpu fpv4-sp-d16
 3941              	shellSeekCommand:
 3942              	.LVL370:
 3943              	.LFB154:
 956:SYS/shell/shell.c ****     const char *name;
 3944              		.loc 1 956 1 is_stmt 1 view -0
 3945              		.cfi_startproc
 3946              		@ args = 0, pretend = 0, frame = 0
 3947              		@ frame_needed = 0, uses_anonymous_args = 0
 956:SYS/shell/shell.c ****     const char *name;
 3948              		.loc 1 956 1 is_stmt 0 view .LVU1081
 3949 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 3950              	.LCFI52:
 3951              		.cfi_def_cfa_offset 32
 3952              		.cfi_offset 4, -32
 3953              		.cfi_offset 5, -28
 3954              		.cfi_offset 6, -24
 3955              		.cfi_offset 7, -20
 3956              		.cfi_offset 8, -16
 3957              		.cfi_offset 9, -12
 3958              		.cfi_offset 10, -8
 3959              		.cfi_offset 14, -4
 3960 0004 8046     		mov	r8, r0
 3961 0006 8A46     		mov	r10, r1
 3962 0008 1746     		mov	r7, r2
 3963 000a 9946     		mov	r9, r3
 957:SYS/shell/shell.c ****     int ret;
 3964              		.loc 1 957 5 is_stmt 1 view .LVU1082
 958:SYS/shell/shell.c ****     unsigned short count = shell->commandList.count -
 3965              		.loc 1 958 5 view .LVU1083
 959:SYS/shell/shell.c ****         ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 3966              		.loc 1 959 5 view .LVU1084
 959:SYS/shell/shell.c ****         ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 3967              		.loc 1 959 46 is_stmt 0 view .LVU1085
 3968 000c B0F85C60 		ldrh	r6, [r0, #92]
 960:SYS/shell/shell.c ****     for (unsigned short i = 0; i < count; i++)
 3969              		.loc 1 960 45 view .LVU1086
 3970 0010 836D     		ldr	r3, [r0, #88]
 3971              	.LVL371:
 960:SYS/shell/shell.c ****     for (unsigned short i = 0; i < count; i++)
 3972              		.loc 1 960 20 view .LVU1087
 3973 0012 D31A     		subs	r3, r2, r3
 959:SYS/shell/shell.c ****         ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 3974              		.loc 1 959 53 view .LVU1088
 3975 0014 C3F30F13 		ubfx	r3, r3, #4, #16
 959:SYS/shell/shell.c ****         ((int)base - (int)shell->commandList.base) / sizeof(ShellCommand);
 3976              		.loc 1 959 20 view .LVU1089
 3977 0018 F31A     		subs	r3, r6, r3
 3978 001a 9EB2     		uxth	r6, r3
 3979              	.LVL372:
 961:SYS/shell/shell.c ****     {
 3980              		.loc 1 961 5 is_stmt 1 view .LVU1090
 3981              	.LBB31:
 961:SYS/shell/shell.c ****     {
 3982              		.loc 1 961 10 view .LVU1091
 961:SYS/shell/shell.c ****     {
 3983              		.loc 1 961 25 is_stmt 0 view .LVU1092
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 120


 3984 001c 0024     		movs	r4, #0
 961:SYS/shell/shell.c ****     {
 3985              		.loc 1 961 5 view .LVU1093
 3986 001e 06E0     		b	.L324
 3987              	.LVL373:
 3988              	.L326:
 979:SYS/shell/shell.c ****             {
 3989              		.loc 1 979 13 is_stmt 1 view .LVU1094
 979:SYS/shell/shell.c ****             {
 3990              		.loc 1 979 17 is_stmt 0 view .LVU1095
 3991 0020 4A46     		mov	r2, r9
 3992 0022 5046     		mov	r0, r10
 3993              	.LVL374:
 979:SYS/shell/shell.c ****             {
 3994              		.loc 1 979 17 view .LVU1096
 3995 0024 FFF7FEFF 		bl	strncmp
 3996              	.LVL375:
 979:SYS/shell/shell.c ****             {
 3997              		.loc 1 979 16 view .LVU1097
 3998 0028 00B3     		cbz	r0, .L323
 3999              	.L325:
 961:SYS/shell/shell.c ****     {
 4000              		.loc 1 961 43 is_stmt 1 discriminator 2 view .LVU1098
 961:SYS/shell/shell.c ****     {
 4001              		.loc 1 961 44 is_stmt 0 discriminator 2 view .LVU1099
 4002 002a 0134     		adds	r4, r4, #1
 4003              	.LVL376:
 961:SYS/shell/shell.c ****     {
 4004              		.loc 1 961 44 discriminator 2 view .LVU1100
 4005 002c A4B2     		uxth	r4, r4
 4006              	.LVL377:
 4007              	.L324:
 961:SYS/shell/shell.c ****     {
 4008              		.loc 1 961 32 is_stmt 1 discriminator 1 view .LVU1101
 961:SYS/shell/shell.c ****     {
 4009              		.loc 1 961 5 is_stmt 0 discriminator 1 view .LVU1102
 4010 002e B442     		cmp	r4, r6
 4011 0030 1BD2     		bcs	.L330
 963:SYS/shell/shell.c ****             || shellCheckPermission(shell, &base[i]) != 0)
 4012              		.loc 1 963 9 is_stmt 1 view .LVU1103
 963:SYS/shell/shell.c ****             || shellCheckPermission(shell, &base[i]) != 0)
 4013              		.loc 1 963 17 is_stmt 0 view .LVU1104
 4014 0032 07EB0415 		add	r5, r7, r4, lsl #4
 963:SYS/shell/shell.c ****             || shellCheckPermission(shell, &base[i]) != 0)
 4015              		.loc 1 963 37 view .LVU1105
 4016 0036 95F801C0 		ldrb	ip, [r5, #1]	@ zero_extendqisi2
 4017 003a 0CF00F0C 		and	ip, ip, #15
 963:SYS/shell/shell.c ****             || shellCheckPermission(shell, &base[i]) != 0)
 4018              		.loc 1 963 12 view .LVU1106
 4019 003e BCF1090F 		cmp	ip, #9
 4020 0042 F2D0     		beq	.L325
 964:SYS/shell/shell.c ****         {
 4021              		.loc 1 964 16 view .LVU1107
 4022 0044 2946     		mov	r1, r5
 4023 0046 4046     		mov	r0, r8
 4024 0048 FFF7FEFF 		bl	shellCheckPermission
 4025              	.LVL378:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 121


 964:SYS/shell/shell.c ****         {
 4026              		.loc 1 964 13 view .LVU1108
 4027 004c 0028     		cmp	r0, #0
 4028 004e ECD1     		bne	.L325
 968:SYS/shell/shell.c ****         if (!compareLength)
 4029              		.loc 1 968 9 is_stmt 1 view .LVU1109
 968:SYS/shell/shell.c ****         if (!compareLength)
 4030              		.loc 1 968 16 is_stmt 0 view .LVU1110
 4031 0050 2846     		mov	r0, r5
 4032 0052 FFF7FEFF 		bl	shellGetCommandName
 4033              	.LVL379:
 4034 0056 0146     		mov	r1, r0
 4035              	.LVL380:
 969:SYS/shell/shell.c ****         {
 4036              		.loc 1 969 9 is_stmt 1 view .LVU1111
 969:SYS/shell/shell.c ****         {
 4037              		.loc 1 969 12 is_stmt 0 view .LVU1112
 4038 0058 B9F1000F 		cmp	r9, #0
 4039 005c E0D1     		bne	.L326
 971:SYS/shell/shell.c ****             if (strcmp(cmd, name) == 0)
 4040              		.loc 1 971 13 is_stmt 1 view .LVU1113
 971:SYS/shell/shell.c ****             if (strcmp(cmd, name) == 0)
 4041              		.loc 1 971 19 is_stmt 0 view .LVU1114
 4042 005e 5046     		mov	r0, r10
 4043              	.LVL381:
 971:SYS/shell/shell.c ****             if (strcmp(cmd, name) == 0)
 4044              		.loc 1 971 19 view .LVU1115
 4045 0060 FFF7FEFF 		bl	strcmp
 4046              	.LVL382:
 972:SYS/shell/shell.c ****             {
 4047              		.loc 1 972 13 is_stmt 1 view .LVU1116
 972:SYS/shell/shell.c ****             {
 4048              		.loc 1 972 16 is_stmt 0 view .LVU1117
 4049 0064 0028     		cmp	r0, #0
 4050 0066 E0D1     		bne	.L325
 4051 0068 00E0     		b	.L323
 4052              	.LVL383:
 4053              	.L330:
 972:SYS/shell/shell.c ****             {
 4054              		.loc 1 972 16 view .LVU1118
 4055              	.LBE31:
 985:SYS/shell/shell.c **** }
 4056              		.loc 1 985 12 view .LVU1119
 4057 006a 0025     		movs	r5, #0
 4058              	.L323:
 986:SYS/shell/shell.c **** 
 4059              		.loc 1 986 1 view .LVU1120
 4060 006c 2846     		mov	r0, r5
 4061 006e BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 986:SYS/shell/shell.c **** 
 4062              		.loc 1 986 1 view .LVU1121
 4063              		.cfi_endproc
 4064              	.LFE154:
 4066              		.section	.rodata.shellInit.str1.4,"aMS",%progbits,1
 4067              		.align	2
 4068              	.LC22:
 4069 0000 502E302E 		.ascii	"P.0.Wder Squad\000"
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 122


 4069      57646572 
 4069      20537175 
 4069      616400
 4070              		.section	.text.shellInit,"ax",%progbits
 4071              		.align	1
 4072              		.global	shellInit
 4073              		.syntax unified
 4074              		.thumb
 4075              		.thumb_func
 4076              		.fpu fpv4-sp-d16
 4078              	shellInit:
 4079              	.LVL384:
 4080              	.LFB126:
 172:SYS/shell/shell.c ****     shell->parser.length = 0;
 4081              		.loc 1 172 1 is_stmt 1 view -0
 4082              		.cfi_startproc
 4083              		@ args = 0, pretend = 0, frame = 0
 4084              		@ frame_needed = 0, uses_anonymous_args = 0
 172:SYS/shell/shell.c ****     shell->parser.length = 0;
 4085              		.loc 1 172 1 is_stmt 0 view .LVU1123
 4086 0000 10B5     		push	{r4, lr}
 4087              	.LCFI53:
 4088              		.cfi_def_cfa_offset 8
 4089              		.cfi_offset 4, -8
 4090              		.cfi_offset 14, -4
 4091 0002 0446     		mov	r4, r0
 173:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 4092              		.loc 1 173 5 is_stmt 1 view .LVU1124
 173:SYS/shell/shell.c ****     shell->parser.cursor = 0;
 4093              		.loc 1 173 26 is_stmt 0 view .LVU1125
 4094 0004 0023     		movs	r3, #0
 4095 0006 8381     		strh	r3, [r0, #12]	@ movhi
 174:SYS/shell/shell.c ****     shell->history.offset = 0;
 4096              		.loc 1 174 5 is_stmt 1 view .LVU1126
 174:SYS/shell/shell.c ****     shell->history.offset = 0;
 4097              		.loc 1 174 26 is_stmt 0 view .LVU1127
 4098 0008 C381     		strh	r3, [r0, #14]	@ movhi
 175:SYS/shell/shell.c ****     shell->history.number = 0;
 4099              		.loc 1 175 5 is_stmt 1 view .LVU1128
 175:SYS/shell/shell.c ****     shell->history.number = 0;
 4100              		.loc 1 175 27 is_stmt 0 view .LVU1129
 4101 000a A0F85430 		strh	r3, [r0, #84]	@ movhi
 176:SYS/shell/shell.c ****     shell->history.record = 0;
 4102              		.loc 1 176 5 is_stmt 1 view .LVU1130
 176:SYS/shell/shell.c ****     shell->history.record = 0;
 4103              		.loc 1 176 27 is_stmt 0 view .LVU1131
 4104 000e A0F85030 		strh	r3, [r0, #80]	@ movhi
 177:SYS/shell/shell.c ****     shell->info.user = NULL;
 4105              		.loc 1 177 5 is_stmt 1 view .LVU1132
 177:SYS/shell/shell.c ****     shell->info.user = NULL;
 4106              		.loc 1 177 27 is_stmt 0 view .LVU1133
 4107 0012 A0F85230 		strh	r3, [r0, #82]	@ movhi
 178:SYS/shell/shell.c ****     shell->status.isChecked = 1;
 4108              		.loc 1 178 5 is_stmt 1 view .LVU1134
 178:SYS/shell/shell.c ****     shell->status.isChecked = 1;
 4109              		.loc 1 178 22 is_stmt 0 view .LVU1135
 4110 0016 0360     		str	r3, [r0]
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 123


 179:SYS/shell/shell.c **** 
 4111              		.loc 1 179 5 is_stmt 1 view .LVU1136
 179:SYS/shell/shell.c **** 
 4112              		.loc 1 179 29 is_stmt 0 view .LVU1137
 4113 0018 90F86000 		ldrb	r0, [r0, #96]	@ zero_extendqisi2
 4114              	.LVL385:
 179:SYS/shell/shell.c **** 
 4115              		.loc 1 179 29 view .LVU1138
 4116 001c 40F00100 		orr	r0, r0, #1
 4117 0020 84F86000 		strb	r0, [r4, #96]
 181:SYS/shell/shell.c ****     shell->parser.bufferSize = size / (SHELL_HISTORY_MAX_NUMBER + 1);
 4118              		.loc 1 181 5 is_stmt 1 view .LVU1139
 181:SYS/shell/shell.c ****     shell->parser.bufferSize = size / (SHELL_HISTORY_MAX_NUMBER + 1);
 4119              		.loc 1 181 26 is_stmt 0 view .LVU1140
 4120 0024 2161     		str	r1, [r4, #16]
 182:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_HISTORY_MAX_NUMBER; i++)
 4121              		.loc 1 182 5 is_stmt 1 view .LVU1141
 182:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_HISTORY_MAX_NUMBER; i++)
 4122              		.loc 1 182 30 is_stmt 0 view .LVU1142
 4123 0026 1648     		ldr	r0, .L335
 4124 0028 A0FB022C 		umull	r2, ip, r0, r2
 4125              	.LVL386:
 182:SYS/shell/shell.c ****     for (short i = 0; i < SHELL_HISTORY_MAX_NUMBER; i++)
 4126              		.loc 1 182 30 view .LVU1143
 4127 002c 4FEA9C0C 		lsr	ip, ip, #2
 4128 0030 A4F834C0 		strh	ip, [r4, #52]	@ movhi
 183:SYS/shell/shell.c ****     {
 4129              		.loc 1 183 5 is_stmt 1 view .LVU1144
 4130              	.LBB32:
 183:SYS/shell/shell.c ****     {
 4131              		.loc 1 183 10 view .LVU1145
 4132              	.LVL387:
 183:SYS/shell/shell.c ****     {
 4133              		.loc 1 183 5 is_stmt 0 view .LVU1146
 4134 0034 09E0     		b	.L332
 4135              	.LVL388:
 4136              	.L333:
 185:SYS/shell/shell.c ****     }
 4137              		.loc 1 185 9 is_stmt 1 discriminator 3 view .LVU1147
 185:SYS/shell/shell.c ****     }
 4138              		.loc 1 185 68 is_stmt 0 discriminator 3 view .LVU1148
 4139 0036 03FB0CC0 		mla	r0, r3, ip, ip
 185:SYS/shell/shell.c ****     }
 4140              		.loc 1 185 41 discriminator 3 view .LVU1149
 4141 003a 0844     		add	r0, r0, r1
 185:SYS/shell/shell.c ****     }
 4142              		.loc 1 185 32 discriminator 3 view .LVU1150
 4143 003c 03F10E02 		add	r2, r3, #14
 4144 0040 04EB8202 		add	r2, r4, r2, lsl #2
 4145 0044 5060     		str	r0, [r2, #4]
 183:SYS/shell/shell.c ****     {
 4146              		.loc 1 183 53 is_stmt 1 discriminator 3 view .LVU1151
 183:SYS/shell/shell.c ****     {
 4147              		.loc 1 183 54 is_stmt 0 discriminator 3 view .LVU1152
 4148 0046 0133     		adds	r3, r3, #1
 4149              	.LVL389:
 183:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 124


 4150              		.loc 1 183 54 discriminator 3 view .LVU1153
 4151 0048 1BB2     		sxth	r3, r3
 4152              	.LVL390:
 4153              	.L332:
 183:SYS/shell/shell.c ****     {
 4154              		.loc 1 183 23 is_stmt 1 discriminator 1 view .LVU1154
 183:SYS/shell/shell.c ****     {
 4155              		.loc 1 183 5 is_stmt 0 discriminator 1 view .LVU1155
 4156 004a 042B     		cmp	r3, #4
 4157 004c F3DD     		ble	.L333
 4158              	.LBE32:
 201:SYS/shell/shell.c ****         shell->commandList.count = ((unsigned int)(&_shell_command_end)
 4159              		.loc 1 201 9 is_stmt 1 view .LVU1156
 201:SYS/shell/shell.c ****         shell->commandList.count = ((unsigned int)(&_shell_command_end)
 4160              		.loc 1 201 33 is_stmt 0 view .LVU1157
 4161 004e 0D4A     		ldr	r2, .L335+4
 4162 0050 A265     		str	r2, [r4, #88]
 202:SYS/shell/shell.c ****                                 - (unsigned int)(&_shell_command_start))
 4163              		.loc 1 202 9 is_stmt 1 view .LVU1158
 202:SYS/shell/shell.c ****                                 - (unsigned int)(&_shell_command_start))
 4164              		.loc 1 202 37 is_stmt 0 view .LVU1159
 4165 0052 0D4B     		ldr	r3, .L335+8
 4166              	.LVL391:
 203:SYS/shell/shell.c ****                                 / sizeof(ShellCommand);
 4167              		.loc 1 203 33 view .LVU1160
 4168 0054 9B1A     		subs	r3, r3, r2
 204:SYS/shell/shell.c ****     #else
 4169              		.loc 1 204 33 view .LVU1161
 4170 0056 1B09     		lsrs	r3, r3, #4
 202:SYS/shell/shell.c ****                                 - (unsigned int)(&_shell_command_start))
 4171              		.loc 1 202 34 view .LVU1162
 4172 0058 A4F85C30 		strh	r3, [r4, #92]	@ movhi
 213:SYS/shell/shell.c **** 
 4173              		.loc 1 213 5 is_stmt 1 view .LVU1163
 4174 005c 2046     		mov	r0, r4
 4175 005e FFF7FEFF 		bl	shellAdd
 4176              	.LVL392:
 215:SYS/shell/shell.c ****                                          SHELL_DEFAULT_USER,
 4177              		.loc 1 215 5 view .LVU1164
 215:SYS/shell/shell.c ****                                          SHELL_DEFAULT_USER,
 4178              		.loc 1 215 25 is_stmt 0 view .LVU1165
 4179 0062 0023     		movs	r3, #0
 4180 0064 A26D     		ldr	r2, [r4, #88]
 4181 0066 0949     		ldr	r1, .L335+12
 4182 0068 2046     		mov	r0, r4
 4183 006a FFF7FEFF 		bl	shellSeekCommand
 4184              	.LVL393:
 4185 006e 0146     		mov	r1, r0
 215:SYS/shell/shell.c ****                                          SHELL_DEFAULT_USER,
 4186              		.loc 1 215 5 view .LVU1166
 4187 0070 2046     		mov	r0, r4
 4188 0072 FFF7FEFF 		bl	shellSetUser
 4189              	.LVL394:
 219:SYS/shell/shell.c **** }
 4190              		.loc 1 219 5 is_stmt 1 view .LVU1167
 4191 0076 0121     		movs	r1, #1
 4192 0078 2046     		mov	r0, r4
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 125


 4193 007a FFF7FEFF 		bl	shellWriteCommandLine
 4194              	.LVL395:
 220:SYS/shell/shell.c **** 
 4195              		.loc 1 220 1 is_stmt 0 view .LVU1168
 4196 007e 10BD     		pop	{r4, pc}
 4197              	.LVL396:
 4198              	.L336:
 220:SYS/shell/shell.c **** 
 4199              		.loc 1 220 1 view .LVU1169
 4200              		.align	2
 4201              	.L335:
 4202 0080 ABAAAAAA 		.word	-1431655765
 4203 0084 00000000 		.word	_shell_command_start
 4204 0088 00000000 		.word	_shell_command_end
 4205 008c 00000000 		.word	.LC22
 4206              		.cfi_endproc
 4207              	.LFE126:
 4209              		.section	.rodata.shellHelp.str1.4,"aMS",%progbits,1
 4210              		.align	2
 4211              	.LC23:
 4212 0000 636F6D6D 		.ascii	"command help of \000"
 4212      616E6420 
 4212      68656C70 
 4212      206F6620 
 4212      00
 4213 0011 000000   		.align	2
 4214              	.LC24:
 4215 0014 436F6D6D 		.ascii	"Command not Found\015\012\000"
 4215      616E6420 
 4215      6E6F7420 
 4215      466F756E 
 4215      640D0A00 
 4216              		.section	.text.shellHelp,"ax",%progbits
 4217              		.align	1
 4218              		.global	shellHelp
 4219              		.syntax unified
 4220              		.thumb
 4221              		.thumb_func
 4222              		.fpu fpv4-sp-d16
 4224              	shellHelp:
 4225              	.LVL397:
 4226              	.LFB175:
1632:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 4227              		.loc 1 1632 1 is_stmt 1 view -0
 4228              		.cfi_startproc
 4229              		@ args = 0, pretend = 0, frame = 0
 4230              		@ frame_needed = 0, uses_anonymous_args = 0
1632:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 4231              		.loc 1 1632 1 is_stmt 0 view .LVU1171
 4232 0000 70B5     		push	{r4, r5, r6, lr}
 4233              	.LCFI54:
 4234              		.cfi_def_cfa_offset 16
 4235              		.cfi_offset 4, -16
 4236              		.cfi_offset 5, -12
 4237              		.cfi_offset 6, -8
 4238              		.cfi_offset 14, -4
 4239 0002 0446     		mov	r4, r0
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 126


 4240 0004 0D46     		mov	r5, r1
1633:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return);
 4241              		.loc 1 1633 5 is_stmt 1 view .LVU1172
1633:SYS/shell/shell.c ****     SHELL_ASSERT(shell, return);
 4242              		.loc 1 1633 20 is_stmt 0 view .LVU1173
 4243 0006 FFF7FEFF 		bl	shellGetCurrent
 4244              	.LVL398:
1634:SYS/shell/shell.c ****     if (argc == 1)
 4245              		.loc 1 1634 5 is_stmt 1 view .LVU1174
 4246 000a 20B1     		cbz	r0, .L337
 4247 000c 0646     		mov	r6, r0
1634:SYS/shell/shell.c ****     if (argc == 1)
 4248              		.loc 1 1634 32 discriminator 2 view .LVU1175
1635:SYS/shell/shell.c ****     {
 4249              		.loc 1 1635 5 discriminator 2 view .LVU1176
1635:SYS/shell/shell.c ****     {
 4250              		.loc 1 1635 8 is_stmt 0 discriminator 2 view .LVU1177
 4251 000e 012C     		cmp	r4, #1
 4252 0010 02D0     		beq	.L342
1639:SYS/shell/shell.c ****     {
 4253              		.loc 1 1639 10 is_stmt 1 view .LVU1178
1639:SYS/shell/shell.c ****     {
 4254              		.loc 1 1639 13 is_stmt 0 view .LVU1179
 4255 0012 012C     		cmp	r4, #1
 4256 0014 03DC     		bgt	.L343
 4257              	.LVL399:
 4258              	.L337:
1658:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 4259              		.loc 1 1658 1 view .LVU1180
 4260 0016 70BD     		pop	{r4, r5, r6, pc}
 4261              	.LVL400:
 4262              	.L342:
1637:SYS/shell/shell.c ****     }
 4263              		.loc 1 1637 9 is_stmt 1 view .LVU1181
 4264 0018 FFF7FEFF 		bl	shellListAll
 4265              	.LVL401:
1637:SYS/shell/shell.c ****     }
 4266              		.loc 1 1637 9 is_stmt 0 view .LVU1182
 4267 001c FBE7     		b	.L337
 4268              	.LVL402:
 4269              	.L343:
 4270              	.LBB33:
1641:SYS/shell/shell.c ****                                                  argv[1],
 4271              		.loc 1 1641 9 is_stmt 1 view .LVU1183
1641:SYS/shell/shell.c ****                                                  argv[1],
 4272              		.loc 1 1641 33 is_stmt 0 view .LVU1184
 4273 001e 0023     		movs	r3, #0
 4274 0020 826D     		ldr	r2, [r0, #88]
 4275 0022 6968     		ldr	r1, [r5, #4]
 4276 0024 FFF7FEFF 		bl	shellSeekCommand
 4277              	.LVL403:
1645:SYS/shell/shell.c ****         {
 4278              		.loc 1 1645 9 is_stmt 1 view .LVU1185
1645:SYS/shell/shell.c ****         {
 4279              		.loc 1 1645 12 is_stmt 0 view .LVU1186
 4280 0028 0446     		mov	r4, r0
 4281              	.LVL404:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 127


1645:SYS/shell/shell.c ****         {
 4282              		.loc 1 1645 12 view .LVU1187
 4283 002a D8B1     		cbz	r0, .L340
1647:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandName(command));
 4284              		.loc 1 1647 13 is_stmt 1 view .LVU1188
 4285 002c 1049     		ldr	r1, .L344
 4286 002e 3046     		mov	r0, r6
 4287              	.LVL405:
1647:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandName(command));
 4288              		.loc 1 1647 13 is_stmt 0 view .LVU1189
 4289 0030 FFF7FEFF 		bl	shellWriteString
 4290              	.LVL406:
1648:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
 4291              		.loc 1 1648 13 is_stmt 1 view .LVU1190
 4292 0034 2046     		mov	r0, r4
 4293 0036 FFF7FEFF 		bl	shellGetCommandName
 4294              	.LVL407:
 4295 003a 0146     		mov	r1, r0
 4296 003c 3046     		mov	r0, r6
 4297 003e FFF7FEFF 		bl	shellWriteString
 4298              	.LVL408:
1649:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandDesc(command));
 4299              		.loc 1 1649 13 view .LVU1191
 4300 0042 0C4D     		ldr	r5, .L344+4
 4301              	.LVL409:
1649:SYS/shell/shell.c ****             shellWriteString(shell, shellGetCommandDesc(command));
 4302              		.loc 1 1649 13 is_stmt 0 view .LVU1192
 4303 0044 2946     		mov	r1, r5
 4304 0046 3046     		mov	r0, r6
 4305 0048 FFF7FEFF 		bl	shellWriteString
 4306              	.LVL410:
1650:SYS/shell/shell.c ****             shellWriteString(shell, "\r\n");
 4307              		.loc 1 1650 13 is_stmt 1 view .LVU1193
 4308 004c 2046     		mov	r0, r4
 4309 004e FFF7FEFF 		bl	shellGetCommandDesc
 4310              	.LVL411:
 4311 0052 0146     		mov	r1, r0
 4312 0054 3046     		mov	r0, r6
 4313 0056 FFF7FEFF 		bl	shellWriteString
 4314              	.LVL412:
1651:SYS/shell/shell.c ****         }
 4315              		.loc 1 1651 13 view .LVU1194
 4316 005a 2946     		mov	r1, r5
 4317 005c 3046     		mov	r0, r6
 4318 005e FFF7FEFF 		bl	shellWriteString
 4319              	.LVL413:
 4320 0062 D8E7     		b	.L337
 4321              	.LVL414:
 4322              	.L340:
1655:SYS/shell/shell.c ****         }
 4323              		.loc 1 1655 13 view .LVU1195
 4324 0064 0449     		ldr	r1, .L344+8
 4325 0066 3046     		mov	r0, r6
 4326              	.LVL415:
1655:SYS/shell/shell.c ****         }
 4327              		.loc 1 1655 13 is_stmt 0 view .LVU1196
 4328 0068 FFF7FEFF 		bl	shellWriteString
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 128


 4329              	.LVL416:
 4330 006c D3E7     		b	.L337
 4331              	.L345:
 4332 006e 00BF     		.align	2
 4333              	.L344:
 4334 0070 00000000 		.word	.LC23
 4335 0074 04000000 		.word	.LC3
 4336 0078 14000000 		.word	.LC24
 4337              	.LBE33:
 4338              		.cfi_endproc
 4339              	.LFE175:
 4341              		.section	.text.shellGetVarValue,"ax",%progbits
 4342              		.align	1
 4343              		.global	shellGetVarValue
 4344              		.syntax unified
 4345              		.thumb
 4346              		.thumb_func
 4347              		.fpu fpv4-sp-d16
 4349              	shellGetVarValue:
 4350              	.LVL417:
 4351              	.LFB155:
 997:SYS/shell/shell.c ****     int value = 0;
 4352              		.loc 1 997 1 is_stmt 1 view -0
 4353              		.cfi_startproc
 4354              		@ args = 0, pretend = 0, frame = 0
 4355              		@ frame_needed = 0, uses_anonymous_args = 0
 997:SYS/shell/shell.c ****     int value = 0;
 4356              		.loc 1 997 1 is_stmt 0 view .LVU1198
 4357 0000 08B5     		push	{r3, lr}
 4358              	.LCFI55:
 4359              		.cfi_def_cfa_offset 8
 4360              		.cfi_offset 3, -8
 4361              		.cfi_offset 14, -4
 998:SYS/shell/shell.c ****     switch (command->attr.attrs.type)
 4362              		.loc 1 998 5 is_stmt 1 view .LVU1199
 4363              	.LVL418:
 999:SYS/shell/shell.c ****     {
 4364              		.loc 1 999 5 view .LVU1200
 999:SYS/shell/shell.c ****     {
 4365              		.loc 1 999 32 is_stmt 0 view .LVU1201
 4366 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4367 0004 03F00F03 		and	r3, r3, #15
 4368 0008 023B     		subs	r3, r3, #2
 4369 000a 052B     		cmp	r3, #5
 4370 000c 16D8     		bhi	.L354
 4371 000e DFE803F0 		tbb	[pc, r3]
 4372              	.L349:
 4373 0012 03       		.byte	(.L353-.L349)/2
 4374 0013 06       		.byte	(.L352-.L349)/2
 4375 0014 0A       		.byte	(.L351-.L349)/2
 4376 0015 0D       		.byte	(.L350-.L349)/2
 4377 0016 0D       		.byte	(.L350-.L349)/2
 4378 0017 0F       		.byte	(.L348-.L349)/2
 4379              		.p2align 1
 4380              	.L353:
1002:SYS/shell/shell.c ****         break;
 4381              		.loc 1 1002 9 is_stmt 1 view .LVU1202
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 129


1002:SYS/shell/shell.c ****         break;
 4382              		.loc 1 1002 44 is_stmt 0 view .LVU1203
 4383 0018 8B68     		ldr	r3, [r1, #8]
1002:SYS/shell/shell.c ****         break;
 4384              		.loc 1 1002 15 view .LVU1204
 4385 001a 1868     		ldr	r0, [r3]
 4386              	.LVL419:
1003:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_SHORT:
 4387              		.loc 1 1003 9 is_stmt 1 view .LVU1205
 4388              	.L346:
1023:SYS/shell/shell.c **** 
 4389              		.loc 1 1023 1 is_stmt 0 view .LVU1206
 4390 001c 08BD     		pop	{r3, pc}
 4391              	.LVL420:
 4392              	.L352:
1005:SYS/shell/shell.c ****         break;
 4393              		.loc 1 1005 9 is_stmt 1 view .LVU1207
1005:SYS/shell/shell.c ****         break;
 4394              		.loc 1 1005 46 is_stmt 0 view .LVU1208
 4395 001e 8B68     		ldr	r3, [r1, #8]
1005:SYS/shell/shell.c ****         break;
 4396              		.loc 1 1005 17 view .LVU1209
 4397 0020 B3F90000 		ldrsh	r0, [r3]
 4398              	.LVL421:
1006:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_CHAR:
 4399              		.loc 1 1006 9 is_stmt 1 view .LVU1210
 4400 0024 FAE7     		b	.L346
 4401              	.LVL422:
 4402              	.L351:
1008:SYS/shell/shell.c ****         break;
 4403              		.loc 1 1008 9 view .LVU1211
1008:SYS/shell/shell.c ****         break;
 4404              		.loc 1 1008 45 is_stmt 0 view .LVU1212
 4405 0026 8B68     		ldr	r3, [r1, #8]
1008:SYS/shell/shell.c ****         break;
 4406              		.loc 1 1008 17 view .LVU1213
 4407 0028 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 4408              	.LVL423:
1009:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_STRING:
 4409              		.loc 1 1009 9 is_stmt 1 view .LVU1214
 4410 002a F7E7     		b	.L346
 4411              	.LVL424:
 4412              	.L350:
1012:SYS/shell/shell.c ****         break;
 4413              		.loc 1 1012 9 view .LVU1215
1012:SYS/shell/shell.c ****         break;
 4414              		.loc 1 1012 40 is_stmt 0 view .LVU1216
 4415 002c 8868     		ldr	r0, [r1, #8]
 4416              	.LVL425:
1013:SYS/shell/shell.c ****     case SHELL_TYPE_VAR_NODE:
 4417              		.loc 1 1013 9 is_stmt 1 view .LVU1217
 4418 002e F5E7     		b	.L346
 4419              	.LVL426:
 4420              	.L348:
1015:SYS/shell/shell.c ****                     ((ShellNodeVarAttr *)command->data.var.value)
 4421              		.loc 1 1015 9 view .LVU1218
1015:SYS/shell/shell.c ****                     ((ShellNodeVarAttr *)command->data.var.value)
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 130


 4422              		.loc 1 1015 55 is_stmt 0 view .LVU1219
 4423 0030 8A68     		ldr	r2, [r1, #8]
1015:SYS/shell/shell.c ****                     ((ShellNodeVarAttr *)command->data.var.value)
 4424              		.loc 1 1015 62 view .LVU1220
 4425 0032 5368     		ldr	r3, [r2, #4]
1017:SYS/shell/shell.c ****         break;
 4426              		.loc 1 1017 83 view .LVU1221
 4427 0034 23B1     		cbz	r3, .L355
1016:SYS/shell/shell.c ****                         ->get(((ShellNodeVarAttr *)command->data.var.value)->var) : 0;
 4428              		.loc 1 1016 22 view .LVU1222
 4429 0036 1068     		ldr	r0, [r2]
 4430              	.LVL427:
1016:SYS/shell/shell.c ****                         ->get(((ShellNodeVarAttr *)command->data.var.value)->var) : 0;
 4431              		.loc 1 1016 22 view .LVU1223
 4432 0038 9847     		blx	r3
 4433              	.LVL428:
1016:SYS/shell/shell.c ****                         ->get(((ShellNodeVarAttr *)command->data.var.value)->var) : 0;
 4434              		.loc 1 1016 22 view .LVU1224
 4435 003a EFE7     		b	.L346
 4436              	.LVL429:
 4437              	.L354:
 999:SYS/shell/shell.c ****     {
 4438              		.loc 1 999 32 view .LVU1225
 4439 003c 0020     		movs	r0, #0
 4440              	.LVL430:
 999:SYS/shell/shell.c ****     {
 4441              		.loc 1 999 32 view .LVU1226
 4442 003e EDE7     		b	.L346
 4443              	.LVL431:
 4444              	.L355:
1017:SYS/shell/shell.c ****         break;
 4445              		.loc 1 1017 83 view .LVU1227
 4446 0040 0020     		movs	r0, #0
 4447              	.LVL432:
1022:SYS/shell/shell.c **** }
 4448              		.loc 1 1022 5 is_stmt 1 view .LVU1228
1022:SYS/shell/shell.c **** }
 4449              		.loc 1 1022 12 is_stmt 0 view .LVU1229
 4450 0042 EBE7     		b	.L346
 4451              		.cfi_endproc
 4452              	.LFE155:
 4454              		.section	.rodata.shellShowVar.str1.4,"aMS",%progbits,1
 4455              		.align	2
 4456              	.LC25:
 4457 0000 203D2000 		.ascii	" = \000"
 4458              		.align	2
 4459              	.LC26:
 4460 0004 2200     		.ascii	"\"\000"
 4461              		.section	.text.shellShowVar,"ax",%progbits
 4462              		.align	1
 4463              		.syntax unified
 4464              		.thumb
 4465              		.thumb_func
 4466              		.fpu fpv4-sp-d16
 4468              	shellShowVar:
 4469              	.LVL433:
 4470              	.LFB157:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 131


1089:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
 4471              		.loc 1 1089 1 is_stmt 1 view -0
 4472              		.cfi_startproc
 4473              		@ args = 0, pretend = 0, frame = 16
 4474              		@ frame_needed = 0, uses_anonymous_args = 0
1089:SYS/shell/shell.c ****     char buffer[12] = "00000000000";
 4475              		.loc 1 1089 1 is_stmt 0 view .LVU1231
 4476 0000 70B5     		push	{r4, r5, r6, lr}
 4477              	.LCFI56:
 4478              		.cfi_def_cfa_offset 16
 4479              		.cfi_offset 4, -16
 4480              		.cfi_offset 5, -12
 4481              		.cfi_offset 6, -8
 4482              		.cfi_offset 14, -4
 4483 0002 84B0     		sub	sp, sp, #16
 4484              	.LCFI57:
 4485              		.cfi_def_cfa_offset 32
 4486 0004 0446     		mov	r4, r0
 4487 0006 0D46     		mov	r5, r1
1090:SYS/shell/shell.c ****     int value = shellGetVarValue(shell, command);
 4488              		.loc 1 1090 5 is_stmt 1 view .LVU1232
1090:SYS/shell/shell.c ****     int value = shellGetVarValue(shell, command);
 4489              		.loc 1 1090 10 is_stmt 0 view .LVU1233
 4490 0008 274B     		ldr	r3, .L364
 4491 000a 93E80700 		ldm	r3, {r0, r1, r2}
 4492              	.LVL434:
1090:SYS/shell/shell.c ****     int value = shellGetVarValue(shell, command);
 4493              		.loc 1 1090 10 view .LVU1234
 4494 000e 04AB     		add	r3, sp, #16
 4495 0010 03E90700 		stmdb	r3, {r0, r1, r2}
1091:SYS/shell/shell.c ****     
 4496              		.loc 1 1091 5 is_stmt 1 view .LVU1235
1091:SYS/shell/shell.c ****     
 4497              		.loc 1 1091 17 is_stmt 0 view .LVU1236
 4498 0014 2946     		mov	r1, r5
 4499 0016 2046     		mov	r0, r4
 4500 0018 FFF7FEFF 		bl	shellGetVarValue
 4501              	.LVL435:
 4502 001c 0646     		mov	r6, r0
 4503              	.LVL436:
1093:SYS/shell/shell.c ****     shellWriteString(shell, " = ");
 4504              		.loc 1 1093 5 is_stmt 1 view .LVU1237
 4505 001e 6968     		ldr	r1, [r5, #4]
 4506 0020 2046     		mov	r0, r4
 4507              	.LVL437:
1093:SYS/shell/shell.c ****     shellWriteString(shell, " = ");
 4508              		.loc 1 1093 5 is_stmt 0 view .LVU1238
 4509 0022 FFF7FEFF 		bl	shellWriteString
 4510              	.LVL438:
1094:SYS/shell/shell.c **** 
 4511              		.loc 1 1094 5 is_stmt 1 view .LVU1239
 4512 0026 2149     		ldr	r1, .L364+4
 4513 0028 2046     		mov	r0, r4
 4514 002a FFF7FEFF 		bl	shellWriteString
 4515              	.LVL439:
1096:SYS/shell/shell.c ****     {
 4516              		.loc 1 1096 5 view .LVU1240
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 132


1096:SYS/shell/shell.c ****     {
 4517              		.loc 1 1096 32 is_stmt 0 view .LVU1241
 4518 002e 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 4519 0030 03F00F03 		and	r3, r3, #15
1096:SYS/shell/shell.c ****     {
 4520              		.loc 1 1096 5 view .LVU1242
 4521 0034 052B     		cmp	r3, #5
 4522 0036 10D0     		beq	.L363
1108:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
 4523              		.loc 1 1108 9 is_stmt 1 view .LVU1243
1108:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
 4524              		.loc 1 1108 46 is_stmt 0 view .LVU1244
 4525 0038 01A9     		add	r1, sp, #4
 4526 003a 3046     		mov	r0, r6
 4527 003c FFF7FEFF 		bl	shellToDec
 4528              	.LVL440:
1108:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
 4529              		.loc 1 1108 44 view .LVU1245
 4530 0040 C0F10B01 		rsb	r1, r0, #11
1108:SYS/shell/shell.c ****         shellWriteString(shell, ", 0x");
 4531              		.loc 1 1108 9 view .LVU1246
 4532 0044 01AB     		add	r3, sp, #4
 4533 0046 1944     		add	r1, r1, r3
 4534 0048 2046     		mov	r0, r4
 4535 004a FFF7FEFF 		bl	shellWriteString
 4536              	.LVL441:
1109:SYS/shell/shell.c ****         for (short i = 0; i < 11; i++)
 4537              		.loc 1 1109 9 is_stmt 1 view .LVU1247
 4538 004e 1849     		ldr	r1, .L364+8
 4539 0050 2046     		mov	r0, r4
 4540 0052 FFF7FEFF 		bl	shellWriteString
 4541              	.LVL442:
1110:SYS/shell/shell.c ****         {
 4542              		.loc 1 1110 9 view .LVU1248
 4543              	.LBB34:
1110:SYS/shell/shell.c ****         {
 4544              		.loc 1 1110 14 view .LVU1249
1110:SYS/shell/shell.c ****         {
 4545              		.loc 1 1110 20 is_stmt 0 view .LVU1250
 4546 0056 0023     		movs	r3, #0
1110:SYS/shell/shell.c ****         {
 4547              		.loc 1 1110 9 view .LVU1251
 4548 0058 15E0     		b	.L360
 4549              	.LVL443:
 4550              	.L363:
1110:SYS/shell/shell.c ****         {
 4551              		.loc 1 1110 9 view .LVU1252
 4552              	.LBE34:
1099:SYS/shell/shell.c ****         shellWriteString(shell, (char *)value);
 4553              		.loc 1 1099 9 is_stmt 1 view .LVU1253
 4554 005a 164D     		ldr	r5, .L364+12
 4555              	.LVL444:
1099:SYS/shell/shell.c ****         shellWriteString(shell, (char *)value);
 4556              		.loc 1 1099 9 is_stmt 0 view .LVU1254
 4557 005c 2946     		mov	r1, r5
 4558 005e 2046     		mov	r0, r4
 4559 0060 FFF7FEFF 		bl	shellWriteString
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 133


 4560              	.LVL445:
1100:SYS/shell/shell.c ****         shellWriteString(shell, "\"");
 4561              		.loc 1 1100 9 is_stmt 1 view .LVU1255
 4562 0064 3146     		mov	r1, r6
 4563 0066 2046     		mov	r0, r4
 4564 0068 FFF7FEFF 		bl	shellWriteString
 4565              	.LVL446:
1101:SYS/shell/shell.c ****         break;
 4566              		.loc 1 1101 9 view .LVU1256
 4567 006c 2946     		mov	r1, r5
 4568 006e 2046     		mov	r0, r4
 4569 0070 FFF7FEFF 		bl	shellWriteString
 4570              	.LVL447:
1102:SYS/shell/shell.c ****     // case SHELL_TYPE_VAR_INT:
 4571              		.loc 1 1102 9 view .LVU1257
 4572 0074 11E0     		b	.L359
 4573              	.LVL448:
 4574              	.L361:
 4575              	.LBB35:
1112:SYS/shell/shell.c ****         }
 4576              		.loc 1 1112 13 discriminator 3 view .LVU1258
1112:SYS/shell/shell.c ****         }
 4577              		.loc 1 1112 23 is_stmt 0 discriminator 3 view .LVU1259
 4578 0076 04AA     		add	r2, sp, #16
 4579 0078 1A44     		add	r2, r2, r3
 4580 007a 4FF0300C 		mov	ip, #48
 4581 007e 02F80CCC 		strb	ip, [r2, #-12]
1110:SYS/shell/shell.c ****         {
 4582              		.loc 1 1110 35 is_stmt 1 discriminator 3 view .LVU1260
1110:SYS/shell/shell.c ****         {
 4583              		.loc 1 1110 36 is_stmt 0 discriminator 3 view .LVU1261
 4584 0082 0133     		adds	r3, r3, #1
 4585              	.LVL449:
1110:SYS/shell/shell.c ****         {
 4586              		.loc 1 1110 36 discriminator 3 view .LVU1262
 4587 0084 1BB2     		sxth	r3, r3
 4588              	.LVL450:
 4589              	.L360:
1110:SYS/shell/shell.c ****         {
 4590              		.loc 1 1110 27 is_stmt 1 discriminator 1 view .LVU1263
1110:SYS/shell/shell.c ****         {
 4591              		.loc 1 1110 9 is_stmt 0 discriminator 1 view .LVU1264
 4592 0086 0A2B     		cmp	r3, #10
 4593 0088 F5DD     		ble	.L361
 4594              	.LBE35:
1114:SYS/shell/shell.c ****         shellWriteString(shell, buffer);
 4595              		.loc 1 1114 9 is_stmt 1 view .LVU1265
 4596 008a 01A9     		add	r1, sp, #4
 4597 008c 3046     		mov	r0, r6
 4598 008e FFF7FEFF 		bl	shellToHex
 4599              	.LVL451:
1115:SYS/shell/shell.c ****         break;
 4600              		.loc 1 1115 9 view .LVU1266
 4601 0092 01A9     		add	r1, sp, #4
 4602 0094 2046     		mov	r0, r4
 4603 0096 FFF7FEFF 		bl	shellWriteString
 4604              	.LVL452:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 134


1116:SYS/shell/shell.c ****     }
 4605              		.loc 1 1116 9 view .LVU1267
 4606              	.L359:
1119:SYS/shell/shell.c ****     return value;
 4607              		.loc 1 1119 5 view .LVU1268
 4608 009a 0749     		ldr	r1, .L364+16
 4609 009c 2046     		mov	r0, r4
 4610 009e FFF7FEFF 		bl	shellWriteString
 4611              	.LVL453:
1120:SYS/shell/shell.c **** }
 4612              		.loc 1 1120 5 view .LVU1269
1121:SYS/shell/shell.c **** 
 4613              		.loc 1 1121 1 is_stmt 0 view .LVU1270
 4614 00a2 3046     		mov	r0, r6
 4615 00a4 04B0     		add	sp, sp, #16
 4616              	.LCFI58:
 4617              		.cfi_def_cfa_offset 16
 4618              		@ sp needed
 4619 00a6 70BD     		pop	{r4, r5, r6, pc}
 4620              	.LVL454:
 4621              	.L365:
1121:SYS/shell/shell.c **** 
 4622              		.loc 1 1121 1 view .LVU1271
 4623              		.align	2
 4624              	.L364:
 4625 00a8 14000000 		.word	.LC8
 4626 00ac 00000000 		.word	.LC25
 4627 00b0 0C000000 		.word	.LC10
 4628 00b4 04000000 		.word	.LC26
 4629 00b8 04000000 		.word	.LC3
 4630              		.cfi_endproc
 4631              	.LFE157:
 4633              		.section	.rodata.shellSetVarValue.str1.4,"aMS",%progbits,1
 4634              		.align	2
 4635              	.LC27:
 4636 0000 63616E27 		.ascii	"can't set read only var\015\012\000"
 4636      74207365 
 4636      74207265 
 4636      6164206F 
 4636      6E6C7920 
 4637 001a 0000     		.align	2
 4638              	.LC28:
 4639 001c 63616E27 		.ascii	"can't set pointer\015\012\000"
 4639      74207365 
 4639      7420706F 
 4639      696E7465 
 4639      720D0A00 
 4640              		.section	.text.shellSetVarValue,"ax",%progbits
 4641              		.align	1
 4642              		.global	shellSetVarValue
 4643              		.syntax unified
 4644              		.thumb
 4645              		.thumb_func
 4646              		.fpu fpv4-sp-d16
 4648              	shellSetVarValue:
 4649              	.LVL455:
 4650              	.LFB156:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 135


1035:SYS/shell/shell.c ****     if (command->attr.attrs.readOnly)
 4651              		.loc 1 1035 1 is_stmt 1 view -0
 4652              		.cfi_startproc
 4653              		@ args = 0, pretend = 0, frame = 0
 4654              		@ frame_needed = 0, uses_anonymous_args = 0
1035:SYS/shell/shell.c ****     if (command->attr.attrs.readOnly)
 4655              		.loc 1 1035 1 is_stmt 0 view .LVU1273
 4656 0000 70B5     		push	{r4, r5, r6, lr}
 4657              	.LCFI59:
 4658              		.cfi_def_cfa_offset 16
 4659              		.cfi_offset 4, -16
 4660              		.cfi_offset 5, -12
 4661              		.cfi_offset 6, -8
 4662              		.cfi_offset 14, -4
 4663 0002 0546     		mov	r5, r0
 4664 0004 0C46     		mov	r4, r1
1036:SYS/shell/shell.c ****     {
 4665              		.loc 1 1036 5 is_stmt 1 view .LVU1274
1036:SYS/shell/shell.c ****     {
 4666              		.loc 1 1036 9 is_stmt 0 view .LVU1275
 4667 0006 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
1036:SYS/shell/shell.c ****     {
 4668              		.loc 1 1036 8 view .LVU1276
 4669 0008 13F0400F 		tst	r3, #64
 4670 000c 0AD1     		bne	.L378
1042:SYS/shell/shell.c ****         {
 4671              		.loc 1 1042 9 is_stmt 1 view .LVU1277
1042:SYS/shell/shell.c ****         {
 4672              		.loc 1 1042 36 is_stmt 0 view .LVU1278
 4673 000e 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 4674 0010 03F00F03 		and	r3, r3, #15
 4675 0014 023B     		subs	r3, r3, #2
 4676 0016 052B     		cmp	r3, #5
 4677 0018 07D8     		bhi	.L368
 4678 001a DFE803F0 		tbb	[pc, r3]
 4679              	.LVL456:
 4680              	.L370:
 4681 001e 0B       		.byte	(.L375-.L370)/2
 4682 001f 0E       		.byte	(.L374-.L370)/2
 4683 0020 11       		.byte	(.L373-.L370)/2
 4684 0021 14       		.byte	(.L372-.L370)/2
 4685 0022 19       		.byte	(.L371-.L370)/2
 4686 0023 1D       		.byte	(.L369-.L370)/2
 4687              		.p2align 1
 4688              	.L378:
1038:SYS/shell/shell.c ****     }
 4689              		.loc 1 1038 9 is_stmt 1 view .LVU1279
 4690 0024 1249     		ldr	r1, .L379
 4691              	.LVL457:
1038:SYS/shell/shell.c ****     }
 4692              		.loc 1 1038 9 is_stmt 0 view .LVU1280
 4693 0026 FFF7FEFF 		bl	shellWriteString
 4694              	.LVL458:
 4695              	.L368:
1077:SYS/shell/shell.c **** }
 4696              		.loc 1 1077 5 is_stmt 1 view .LVU1281
1077:SYS/shell/shell.c **** }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 136


 4697              		.loc 1 1077 12 is_stmt 0 view .LVU1282
 4698 002a 2146     		mov	r1, r4
 4699 002c 2846     		mov	r0, r5
 4700 002e FFF7FEFF 		bl	shellShowVar
 4701              	.LVL459:
1078:SYS/shell/shell.c **** 
 4702              		.loc 1 1078 1 view .LVU1283
 4703 0032 70BD     		pop	{r4, r5, r6, pc}
 4704              	.LVL460:
 4705              	.L375:
1045:SYS/shell/shell.c ****             break;
 4706              		.loc 1 1045 13 is_stmt 1 view .LVU1284
1045:SYS/shell/shell.c ****             break;
 4707              		.loc 1 1045 40 is_stmt 0 view .LVU1285
 4708 0034 A368     		ldr	r3, [r4, #8]
1045:SYS/shell/shell.c ****             break;
 4709              		.loc 1 1045 49 view .LVU1286
 4710 0036 1A60     		str	r2, [r3]
1046:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_SHORT:
 4711              		.loc 1 1046 13 is_stmt 1 view .LVU1287
 4712 0038 F7E7     		b	.L368
 4713              	.L374:
1048:SYS/shell/shell.c ****             break;
 4714              		.loc 1 1048 13 view .LVU1288
1048:SYS/shell/shell.c ****             break;
 4715              		.loc 1 1048 42 is_stmt 0 view .LVU1289
 4716 003a A368     		ldr	r3, [r4, #8]
1048:SYS/shell/shell.c ****             break;
 4717              		.loc 1 1048 51 view .LVU1290
 4718 003c 1A80     		strh	r2, [r3]	@ movhi
1049:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_CHAR:
 4719              		.loc 1 1049 13 is_stmt 1 view .LVU1291
 4720 003e F4E7     		b	.L368
 4721              	.L373:
1051:SYS/shell/shell.c ****             break;
 4722              		.loc 1 1051 13 view .LVU1292
1051:SYS/shell/shell.c ****             break;
 4723              		.loc 1 1051 41 is_stmt 0 view .LVU1293
 4724 0040 A368     		ldr	r3, [r4, #8]
1051:SYS/shell/shell.c ****             break;
 4725              		.loc 1 1051 50 view .LVU1294
 4726 0042 1A70     		strb	r2, [r3]
1052:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_STRING:
 4727              		.loc 1 1052 13 is_stmt 1 view .LVU1295
 4728 0044 F1E7     		b	.L368
 4729              	.L372:
1054:SYS/shell/shell.c ****             break;
 4730              		.loc 1 1054 13 view .LVU1296
 4731 0046 1146     		mov	r1, r2
 4732 0048 A068     		ldr	r0, [r4, #8]
 4733              	.LVL461:
1054:SYS/shell/shell.c ****             break;
 4734              		.loc 1 1054 13 is_stmt 0 view .LVU1297
 4735 004a FFF7FEFF 		bl	shellStringCopy
 4736              	.LVL462:
1055:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_POINT:
 4737              		.loc 1 1055 13 is_stmt 1 view .LVU1298
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 137


 4738 004e ECE7     		b	.L368
 4739              	.LVL463:
 4740              	.L371:
1057:SYS/shell/shell.c ****             break;
 4741              		.loc 1 1057 13 view .LVU1299
 4742 0050 0849     		ldr	r1, .L379+4
 4743 0052 FFF7FEFF 		bl	shellWriteString
 4744              	.LVL464:
1058:SYS/shell/shell.c ****         case SHELL_TYPE_VAR_NODE:
 4745              		.loc 1 1058 13 view .LVU1300
 4746 0056 E8E7     		b	.L368
 4747              	.LVL465:
 4748              	.L369:
1060:SYS/shell/shell.c ****             {
 4749              		.loc 1 1060 13 view .LVU1301
1060:SYS/shell/shell.c ****             {
 4750              		.loc 1 1060 55 is_stmt 0 view .LVU1302
 4751 0058 A368     		ldr	r3, [r4, #8]
1060:SYS/shell/shell.c ****             {
 4752              		.loc 1 1060 62 view .LVU1303
 4753 005a 9E68     		ldr	r6, [r3, #8]
1060:SYS/shell/shell.c ****             {
 4754              		.loc 1 1060 16 view .LVU1304
 4755 005c 002E     		cmp	r6, #0
 4756 005e E4D0     		beq	.L368
1062:SYS/shell/shell.c ****                 {
 4757              		.loc 1 1062 17 is_stmt 1 view .LVU1305
1062:SYS/shell/shell.c ****                 {
 4758              		.loc 1 1062 66 is_stmt 0 view .LVU1306
 4759 0060 1868     		ldr	r0, [r3]
 4760              	.LVL466:
1062:SYS/shell/shell.c ****                 {
 4761              		.loc 1 1062 20 view .LVU1307
 4762 0062 10B1     		cbz	r0, .L376
1064:SYS/shell/shell.c ****                         ->set(((ShellNodeVarAttr *)command->data.var.value)->var, value);
 4763              		.loc 1 1064 21 is_stmt 1 view .LVU1308
1064:SYS/shell/shell.c ****                         ->set(((ShellNodeVarAttr *)command->data.var.value)->var, value);
 4764              		.loc 1 1064 22 is_stmt 0 view .LVU1309
 4765 0064 1146     		mov	r1, r2
 4766 0066 B047     		blx	r6
 4767              	.LVL467:
1064:SYS/shell/shell.c ****                         ->set(((ShellNodeVarAttr *)command->data.var.value)->var, value);
 4768              		.loc 1 1064 22 view .LVU1310
 4769 0068 DFE7     		b	.L368
 4770              	.LVL468:
 4771              	.L376:
1069:SYS/shell/shell.c ****                 }
 4772              		.loc 1 1069 21 is_stmt 1 view .LVU1311
1069:SYS/shell/shell.c ****                 }
 4773              		.loc 1 1069 22 is_stmt 0 view .LVU1312
 4774 006a 1046     		mov	r0, r2
 4775 006c B047     		blx	r6
 4776              	.LVL469:
1069:SYS/shell/shell.c ****                 }
 4777              		.loc 1 1069 22 view .LVU1313
 4778 006e DCE7     		b	.L368
 4779              	.L380:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 138


 4780              		.align	2
 4781              	.L379:
 4782 0070 00000000 		.word	.LC27
 4783 0074 1C000000 		.word	.LC28
 4784              		.cfi_endproc
 4785              	.LFE156:
 4787              		.section	.rodata.shellSetVar.str1.4,"aMS",%progbits,1
 4788              		.align	2
 4789              	.LC29:
 4790 0000 56617220 		.ascii	"Var not Fount\015\012\000"
 4790      6E6F7420 
 4790      466F756E 
 4790      740D0A00 
 4791              		.align	2
 4792              	.LC30:
 4793 0010 20697320 		.ascii	" is not a var\015\012\000"
 4793      6E6F7420 
 4793      61207661 
 4793      720D0A00 
 4794              		.section	.text.shellSetVar,"ax",%progbits
 4795              		.align	1
 4796              		.global	shellSetVar
 4797              		.syntax unified
 4798              		.thumb
 4799              		.thumb_func
 4800              		.fpu fpv4-sp-d16
 4802              	shellSetVar:
 4803              	.LVL470:
 4804              	.LFB158:
1132:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 4805              		.loc 1 1132 1 is_stmt 1 view -0
 4806              		.cfi_startproc
 4807              		@ args = 0, pretend = 0, frame = 0
 4808              		@ frame_needed = 0, uses_anonymous_args = 0
1132:SYS/shell/shell.c ****     Shell *shell = shellGetCurrent();
 4809              		.loc 1 1132 1 is_stmt 0 view .LVU1315
 4810 0000 70B5     		push	{r4, r5, r6, lr}
 4811              	.LCFI60:
 4812              		.cfi_def_cfa_offset 16
 4813              		.cfi_offset 4, -16
 4814              		.cfi_offset 5, -12
 4815              		.cfi_offset 6, -8
 4816              		.cfi_offset 14, -4
 4817 0002 0446     		mov	r4, r0
 4818 0004 0D46     		mov	r5, r1
1133:SYS/shell/shell.c ****     if (shell == NULL)
 4819              		.loc 1 1133 5 is_stmt 1 view .LVU1316
1133:SYS/shell/shell.c ****     if (shell == NULL)
 4820              		.loc 1 1133 20 is_stmt 0 view .LVU1317
 4821 0006 FFF7FEFF 		bl	shellGetCurrent
 4822              	.LVL471:
1134:SYS/shell/shell.c ****     {
 4823              		.loc 1 1134 5 is_stmt 1 view .LVU1318
1134:SYS/shell/shell.c ****     {
 4824              		.loc 1 1134 8 is_stmt 0 view .LVU1319
 4825 000a 20B3     		cbz	r0, .L385
 4826 000c 0646     		mov	r6, r0
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 139


1138:SYS/shell/shell.c ****                                              name,
 4827              		.loc 1 1138 5 is_stmt 1 view .LVU1320
1138:SYS/shell/shell.c ****                                              name,
 4828              		.loc 1 1138 29 is_stmt 0 view .LVU1321
 4829 000e 0023     		movs	r3, #0
 4830 0010 826D     		ldr	r2, [r0, #88]
 4831 0012 2146     		mov	r1, r4
 4832 0014 FFF7FEFF 		bl	shellSeekCommand
 4833              	.LVL472:
1142:SYS/shell/shell.c ****     {
 4834              		.loc 1 1142 5 is_stmt 1 view .LVU1322
1142:SYS/shell/shell.c ****     {
 4835              		.loc 1 1142 8 is_stmt 0 view .LVU1323
 4836 0018 0146     		mov	r1, r0
 4837 001a 60B1     		cbz	r0, .L387
1147:SYS/shell/shell.c ****         || command->attr.attrs.type > SHELL_TYPE_VAR_NODE)
 4838              		.loc 1 1147 5 is_stmt 1 view .LVU1324
1147:SYS/shell/shell.c ****         || command->attr.attrs.type > SHELL_TYPE_VAR_NODE)
 4839              		.loc 1 1147 28 is_stmt 0 view .LVU1325
 4840 001c 4378     		ldrb	r3, [r0, #1]	@ zero_extendqisi2
 4841 001e 03F00F03 		and	r3, r3, #15
1148:SYS/shell/shell.c ****     {
 4842              		.loc 1 1148 9 view .LVU1326
 4843 0022 0E33     		adds	r3, r3, #14
 4844 0024 03F00F03 		and	r3, r3, #15
1147:SYS/shell/shell.c ****         || command->attr.attrs.type > SHELL_TYPE_VAR_NODE)
 4845              		.loc 1 1147 8 view .LVU1327
 4846 0028 052B     		cmp	r3, #5
 4847 002a 0AD8     		bhi	.L388
1154:SYS/shell/shell.c **** }
 4848              		.loc 1 1154 5 is_stmt 1 view .LVU1328
1154:SYS/shell/shell.c **** }
 4849              		.loc 1 1154 12 is_stmt 0 view .LVU1329
 4850 002c 2A46     		mov	r2, r5
 4851 002e 3046     		mov	r0, r6
 4852              	.LVL473:
1154:SYS/shell/shell.c **** }
 4853              		.loc 1 1154 12 view .LVU1330
 4854 0030 FFF7FEFF 		bl	shellSetVarValue
 4855              	.LVL474:
 4856              	.L381:
1155:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
 4857              		.loc 1 1155 1 view .LVU1331
 4858 0034 70BD     		pop	{r4, r5, r6, pc}
 4859              	.LVL475:
 4860              	.L387:
1144:SYS/shell/shell.c ****         return 0;
 4861              		.loc 1 1144 9 is_stmt 1 view .LVU1332
 4862 0036 0949     		ldr	r1, .L389
 4863 0038 3046     		mov	r0, r6
 4864              	.LVL476:
1144:SYS/shell/shell.c ****         return 0;
 4865              		.loc 1 1144 9 is_stmt 0 view .LVU1333
 4866 003a FFF7FEFF 		bl	shellWriteString
 4867              	.LVL477:
1145:SYS/shell/shell.c ****     }
 4868              		.loc 1 1145 9 is_stmt 1 view .LVU1334
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 140


1145:SYS/shell/shell.c ****     }
 4869              		.loc 1 1145 16 is_stmt 0 view .LVU1335
 4870 003e 0020     		movs	r0, #0
 4871 0040 F8E7     		b	.L381
 4872              	.LVL478:
 4873              	.L388:
1150:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_NOT_VAR]);
 4874              		.loc 1 1150 9 is_stmt 1 view .LVU1336
 4875 0042 2146     		mov	r1, r4
 4876 0044 3046     		mov	r0, r6
 4877              	.LVL479:
1150:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_NOT_VAR]);
 4878              		.loc 1 1150 9 is_stmt 0 view .LVU1337
 4879 0046 FFF7FEFF 		bl	shellWriteString
 4880              	.LVL480:
1151:SYS/shell/shell.c ****         return 0;
 4881              		.loc 1 1151 9 is_stmt 1 view .LVU1338
 4882 004a 0549     		ldr	r1, .L389+4
 4883 004c 3046     		mov	r0, r6
 4884 004e FFF7FEFF 		bl	shellWriteString
 4885              	.LVL481:
1152:SYS/shell/shell.c ****     }
 4886              		.loc 1 1152 9 view .LVU1339
1152:SYS/shell/shell.c ****     }
 4887              		.loc 1 1152 16 is_stmt 0 view .LVU1340
 4888 0052 0020     		movs	r0, #0
 4889 0054 EEE7     		b	.L381
 4890              	.LVL482:
 4891              	.L385:
1136:SYS/shell/shell.c ****     }
 4892              		.loc 1 1136 16 view .LVU1341
 4893 0056 0020     		movs	r0, #0
 4894              	.LVL483:
1136:SYS/shell/shell.c ****     }
 4895              		.loc 1 1136 16 view .LVU1342
 4896 0058 ECE7     		b	.L381
 4897              	.L390:
 4898 005a 00BF     		.align	2
 4899              	.L389:
 4900 005c 00000000 		.word	.LC29
 4901 0060 10000000 		.word	.LC30
 4902              		.cfi_endproc
 4903              	.LFE158:
 4905              		.section	.text.shellRunCommand,"ax",%progbits
 4906              		.align	1
 4907              		.global	shellRunCommand
 4908              		.syntax unified
 4909              		.thumb
 4910              		.thumb_func
 4911              		.fpu fpv4-sp-d16
 4913              	shellRunCommand:
 4914              	.LVL484:
 4915              	.LFB159:
1170:SYS/shell/shell.c ****     int returnValue = 0;
 4916              		.loc 1 1170 1 is_stmt 1 view -0
 4917              		.cfi_startproc
 4918              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 141


 4919              		@ frame_needed = 0, uses_anonymous_args = 0
1170:SYS/shell/shell.c ****     int returnValue = 0;
 4920              		.loc 1 1170 1 is_stmt 0 view .LVU1344
 4921 0000 70B5     		push	{r4, r5, r6, lr}
 4922              	.LCFI61:
 4923              		.cfi_def_cfa_offset 16
 4924              		.cfi_offset 4, -16
 4925              		.cfi_offset 5, -12
 4926              		.cfi_offset 6, -8
 4927              		.cfi_offset 14, -4
 4928 0002 0446     		mov	r4, r0
 4929 0004 0D46     		mov	r5, r1
1171:SYS/shell/shell.c ****     shell->status.isActive = 1;
 4930              		.loc 1 1171 5 is_stmt 1 view .LVU1345
 4931              	.LVL485:
1172:SYS/shell/shell.c ****     if (command->attr.attrs.type == SHELL_TYPE_CMD_MAIN)
 4932              		.loc 1 1172 5 view .LVU1346
1172:SYS/shell/shell.c ****     if (command->attr.attrs.type == SHELL_TYPE_CMD_MAIN)
 4933              		.loc 1 1172 28 is_stmt 0 view .LVU1347
 4934 0006 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
 4935 000a 43F00203 		orr	r3, r3, #2
 4936 000e 80F86030 		strb	r3, [r0, #96]
1173:SYS/shell/shell.c ****     {
 4937              		.loc 1 1173 5 is_stmt 1 view .LVU1348
1173:SYS/shell/shell.c ****     {
 4938              		.loc 1 1173 34 is_stmt 0 view .LVU1349
 4939 0012 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
1173:SYS/shell/shell.c ****     {
 4940              		.loc 1 1173 8 view .LVU1350
 4941 0014 13F00F03 		ands	r3, r3, #15
 4942 0018 14D0     		beq	.L398
1183:SYS/shell/shell.c ****     {
 4943              		.loc 1 1183 10 is_stmt 1 view .LVU1351
1183:SYS/shell/shell.c ****     {
 4944              		.loc 1 1183 13 is_stmt 0 view .LVU1352
 4945 001a 012B     		cmp	r3, #1
 4946 001c 23D0     		beq	.L399
1194:SYS/shell/shell.c ****         && command->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
 4947              		.loc 1 1194 10 is_stmt 1 view .LVU1353
1194:SYS/shell/shell.c ****         && command->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
 4948              		.loc 1 1194 33 is_stmt 0 view .LVU1354
 4949 001e 4A78     		ldrb	r2, [r1, #1]	@ zero_extendqisi2
 4950 0020 02F00F02 		and	r2, r2, #15
1195:SYS/shell/shell.c ****     {
 4951              		.loc 1 1195 9 view .LVU1355
 4952 0024 0E32     		adds	r2, r2, #14
 4953 0026 02F00F02 		and	r2, r2, #15
1194:SYS/shell/shell.c ****         && command->attr.attrs.type <= SHELL_TYPE_VAR_NODE)
 4954              		.loc 1 1194 13 view .LVU1356
 4955 002a 052A     		cmp	r2, #5
 4956 002c 2AD9     		bls	.L400
1199:SYS/shell/shell.c ****     {
 4957              		.loc 1 1199 10 is_stmt 1 view .LVU1357
1199:SYS/shell/shell.c ****     {
 4958              		.loc 1 1199 13 is_stmt 0 view .LVU1358
 4959 002e 082B     		cmp	r3, #8
 4960 0030 2CD0     		beq	.L401
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 142


1171:SYS/shell/shell.c ****     shell->status.isActive = 1;
 4961              		.loc 1 1171 9 view .LVU1359
 4962 0032 0026     		movs	r6, #0
 4963              	.LVL486:
 4964              	.L393:
1203:SYS/shell/shell.c **** 
 4965              		.loc 1 1203 5 is_stmt 1 view .LVU1360
1203:SYS/shell/shell.c **** 
 4966              		.loc 1 1203 28 is_stmt 0 view .LVU1361
 4967 0034 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 4968 0038 6FF34103 		bfc	r3, #1, #1
 4969 003c 84F86030 		strb	r3, [r4, #96]
1205:SYS/shell/shell.c **** }
 4970              		.loc 1 1205 5 is_stmt 1 view .LVU1362
1206:SYS/shell/shell.c **** 
 4971              		.loc 1 1206 1 is_stmt 0 view .LVU1363
 4972 0040 3046     		mov	r0, r6
 4973 0042 70BD     		pop	{r4, r5, r6, pc}
 4974              	.LVL487:
 4975              	.L398:
1175:SYS/shell/shell.c ****         returnValue = command->data.cmd.function(shell->parser.paramCount,
 4976              		.loc 1 1175 9 is_stmt 1 view .LVU1364
 4977 0044 FFF7FEFF 		bl	shellRemoveParamQuotes
 4978              	.LVL488:
1176:SYS/shell/shell.c ****                                                  shell->parser.param);
 4979              		.loc 1 1176 9 view .LVU1365
1176:SYS/shell/shell.c ****                                                  shell->parser.param);
 4980              		.loc 1 1176 40 is_stmt 0 view .LVU1366
 4981 0048 AB68     		ldr	r3, [r5, #8]
1176:SYS/shell/shell.c ****                                                  shell->parser.param);
 4982              		.loc 1 1176 23 view .LVU1367
 4983 004a 04F11401 		add	r1, r4, #20
 4984 004e E08E     		ldrh	r0, [r4, #54]
 4985 0050 9847     		blx	r3
 4986              	.LVL489:
 4987 0052 0646     		mov	r6, r0
 4988              	.LVL490:
1178:SYS/shell/shell.c ****         {
 4989              		.loc 1 1178 9 is_stmt 1 view .LVU1368
1178:SYS/shell/shell.c ****         {
 4990              		.loc 1 1178 13 is_stmt 0 view .LVU1369
 4991 0054 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
1178:SYS/shell/shell.c ****         {
 4992              		.loc 1 1178 12 view .LVU1370
 4993 0056 13F0200F 		tst	r3, #32
 4994 005a EBD1     		bne	.L393
1180:SYS/shell/shell.c ****         }
 4995              		.loc 1 1180 13 is_stmt 1 view .LVU1371
 4996 005c 0146     		mov	r1, r0
 4997 005e 2046     		mov	r0, r4
 4998              	.LVL491:
1180:SYS/shell/shell.c ****         }
 4999              		.loc 1 1180 13 is_stmt 0 view .LVU1372
 5000 0060 FFF7FEFF 		bl	shellWriteReturnValue
 5001              	.LVL492:
1180:SYS/shell/shell.c ****         }
 5002              		.loc 1 1180 13 view .LVU1373
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 143


 5003 0064 E6E7     		b	.L393
 5004              	.LVL493:
 5005              	.L399:
1185:SYS/shell/shell.c ****                                   command,
 5006              		.loc 1 1185 9 is_stmt 1 view .LVU1374
1185:SYS/shell/shell.c ****                                   command,
 5007              		.loc 1 1185 23 is_stmt 0 view .LVU1375
 5008 0066 00F11403 		add	r3, r0, #20
 5009 006a C28E     		ldrh	r2, [r0, #54]
 5010 006c FFF7FEFF 		bl	shellExtRun
 5011              	.LVL494:
1185:SYS/shell/shell.c ****                                   command,
 5012              		.loc 1 1185 23 view .LVU1376
 5013 0070 0646     		mov	r6, r0
 5014              	.LVL495:
1189:SYS/shell/shell.c ****         {
 5015              		.loc 1 1189 9 is_stmt 1 view .LVU1377
1189:SYS/shell/shell.c ****         {
 5016              		.loc 1 1189 13 is_stmt 0 view .LVU1378
 5017 0072 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
1189:SYS/shell/shell.c ****         {
 5018              		.loc 1 1189 12 view .LVU1379
 5019 0074 13F0200F 		tst	r3, #32
 5020 0078 DCD1     		bne	.L393
1191:SYS/shell/shell.c ****         }
 5021              		.loc 1 1191 13 is_stmt 1 view .LVU1380
 5022 007a 0146     		mov	r1, r0
 5023 007c 2046     		mov	r0, r4
 5024              	.LVL496:
1191:SYS/shell/shell.c ****         }
 5025              		.loc 1 1191 13 is_stmt 0 view .LVU1381
 5026 007e FFF7FEFF 		bl	shellWriteReturnValue
 5027              	.LVL497:
1191:SYS/shell/shell.c ****         }
 5028              		.loc 1 1191 13 view .LVU1382
 5029 0082 D7E7     		b	.L393
 5030              	.LVL498:
 5031              	.L400:
1197:SYS/shell/shell.c ****     }
 5032              		.loc 1 1197 9 is_stmt 1 view .LVU1383
 5033 0084 FFF7FEFF 		bl	shellShowVar
 5034              	.LVL499:
1171:SYS/shell/shell.c ****     shell->status.isActive = 1;
 5035              		.loc 1 1171 9 is_stmt 0 view .LVU1384
 5036 0088 0026     		movs	r6, #0
 5037 008a D3E7     		b	.L393
 5038              	.LVL500:
 5039              	.L401:
1201:SYS/shell/shell.c ****     }
 5040              		.loc 1 1201 9 is_stmt 1 view .LVU1385
 5041 008c FFF7FEFF 		bl	shellSetUser
 5042              	.LVL501:
1171:SYS/shell/shell.c ****     shell->status.isActive = 1;
 5043              		.loc 1 1171 9 is_stmt 0 view .LVU1386
 5044 0090 0026     		movs	r6, #0
 5045 0092 CFE7     		b	.L393
 5046              		.cfi_endproc
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 144


 5047              	.LFE159:
 5049              		.section	.text.shellNormalInput,"ax",%progbits
 5050              		.align	1
 5051              		.global	shellNormalInput
 5052              		.syntax unified
 5053              		.thumb
 5054              		.thumb_func
 5055              		.fpu fpv4-sp-d16
 5057              	shellNormalInput:
 5058              	.LVL502:
 5059              	.LFB165:
1369:SYS/shell/shell.c ****     shell->status.tabFlag = 0;
 5060              		.loc 1 1369 1 is_stmt 1 view -0
 5061              		.cfi_startproc
 5062              		@ args = 0, pretend = 0, frame = 0
 5063              		@ frame_needed = 0, uses_anonymous_args = 0
1369:SYS/shell/shell.c ****     shell->status.tabFlag = 0;
 5064              		.loc 1 1369 1 is_stmt 0 view .LVU1388
 5065 0000 08B5     		push	{r3, lr}
 5066              	.LCFI62:
 5067              		.cfi_def_cfa_offset 8
 5068              		.cfi_offset 3, -8
 5069              		.cfi_offset 14, -4
1370:SYS/shell/shell.c ****     shellInsertByte(shell, data);
 5070              		.loc 1 1370 5 is_stmt 1 view .LVU1389
1370:SYS/shell/shell.c ****     shellInsertByte(shell, data);
 5071              		.loc 1 1370 27 is_stmt 0 view .LVU1390
 5072 0002 90F86020 		ldrb	r2, [r0, #96]	@ zero_extendqisi2
 5073 0006 6FF38202 		bfc	r2, #2, #1
 5074 000a 80F86020 		strb	r2, [r0, #96]
1371:SYS/shell/shell.c **** }
 5075              		.loc 1 1371 5 is_stmt 1 view .LVU1391
 5076 000e FFF7FEFF 		bl	shellInsertByte
 5077              	.LVL503:
1372:SYS/shell/shell.c **** 
 5078              		.loc 1 1372 1 is_stmt 0 view .LVU1392
 5079 0012 08BD     		pop	{r3, pc}
 5080              		.cfi_endproc
 5081              	.LFE165:
 5083              		.section	.text.shellExec,"ax",%progbits
 5084              		.align	1
 5085              		.global	shellExec
 5086              		.syntax unified
 5087              		.thumb
 5088              		.thumb_func
 5089              		.fpu fpv4-sp-d16
 5091              	shellExec:
 5092              	.LVL504:
 5093              	.LFB166:
1381:SYS/shell/shell.c ****     
 5094              		.loc 1 1381 1 is_stmt 1 view -0
 5095              		.cfi_startproc
 5096              		@ args = 0, pretend = 0, frame = 0
 5097              		@ frame_needed = 0, uses_anonymous_args = 0
1383:SYS/shell/shell.c ****     {
 5098              		.loc 1 1383 5 view .LVU1394
1383:SYS/shell/shell.c ****     {
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 145


 5099              		.loc 1 1383 22 is_stmt 0 view .LVU1395
 5100 0000 8389     		ldrh	r3, [r0, #12]
1383:SYS/shell/shell.c ****     {
 5101              		.loc 1 1383 8 view .LVU1396
 5102 0002 5BB3     		cbz	r3, .L409
1381:SYS/shell/shell.c ****     
 5103              		.loc 1 1381 1 view .LVU1397
 5104 0004 10B5     		push	{r4, lr}
 5105              	.LCFI63:
 5106              		.cfi_def_cfa_offset 8
 5107              		.cfi_offset 4, -8
 5108              		.cfi_offset 14, -4
 5109 0006 0446     		mov	r4, r0
1388:SYS/shell/shell.c **** 
 5110              		.loc 1 1388 5 is_stmt 1 view .LVU1398
1388:SYS/shell/shell.c **** 
 5111              		.loc 1 1388 18 is_stmt 0 view .LVU1399
 5112 0008 0269     		ldr	r2, [r0, #16]
1388:SYS/shell/shell.c **** 
 5113              		.loc 1 1388 48 view .LVU1400
 5114 000a 0021     		movs	r1, #0
 5115 000c D154     		strb	r1, [r2, r3]
1390:SYS/shell/shell.c ****     {
 5116              		.loc 1 1390 5 is_stmt 1 view .LVU1401
1390:SYS/shell/shell.c ****     {
 5117              		.loc 1 1390 9 is_stmt 0 view .LVU1402
 5118 000e 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
1390:SYS/shell/shell.c ****     {
 5119              		.loc 1 1390 8 view .LVU1403
 5120 0012 13F0010F 		tst	r3, #1
 5121 0016 1ED0     		beq	.L406
 5122              	.LBB36:
1392:SYS/shell/shell.c ****         shellParserParam(shell);
 5123              		.loc 1 1392 9 is_stmt 1 view .LVU1404
 5124 0018 FFF7FEFF 		bl	shellHistoryAdd
 5125              	.LVL505:
1393:SYS/shell/shell.c ****         shell->parser.length = shell->parser.cursor = 0;
 5126              		.loc 1 1393 9 view .LVU1405
 5127 001c 2046     		mov	r0, r4
 5128 001e FFF7FEFF 		bl	shellParserParam
 5129              	.LVL506:
1394:SYS/shell/shell.c ****         if (shell->parser.paramCount == 0)
 5130              		.loc 1 1394 9 view .LVU1406
1394:SYS/shell/shell.c ****         if (shell->parser.paramCount == 0)
 5131              		.loc 1 1394 53 is_stmt 0 view .LVU1407
 5132 0022 0023     		movs	r3, #0
 5133 0024 E381     		strh	r3, [r4, #14]	@ movhi
1394:SYS/shell/shell.c ****         if (shell->parser.paramCount == 0)
 5134              		.loc 1 1394 30 view .LVU1408
 5135 0026 A381     		strh	r3, [r4, #12]	@ movhi
1395:SYS/shell/shell.c ****         {
 5136              		.loc 1 1395 9 is_stmt 1 view .LVU1409
1395:SYS/shell/shell.c ****         {
 5137              		.loc 1 1395 26 is_stmt 0 view .LVU1410
 5138 0028 E38E     		ldrh	r3, [r4, #54]
1395:SYS/shell/shell.c ****         {
 5139              		.loc 1 1395 12 view .LVU1411
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 146


 5140 002a B3B1     		cbz	r3, .L404
1399:SYS/shell/shell.c **** 
 5141              		.loc 1 1399 9 is_stmt 1 view .LVU1412
 5142 002c 0C49     		ldr	r1, .L412
 5143 002e 2046     		mov	r0, r4
 5144 0030 FFF7FEFF 		bl	shellWriteString
 5145              	.LVL507:
1401:SYS/shell/shell.c ****                                                  shell->parser.param[0],
 5146              		.loc 1 1401 9 view .LVU1413
1401:SYS/shell/shell.c ****                                                  shell->parser.param[0],
 5147              		.loc 1 1401 33 is_stmt 0 view .LVU1414
 5148 0034 0023     		movs	r3, #0
 5149 0036 A26D     		ldr	r2, [r4, #88]
 5150 0038 6169     		ldr	r1, [r4, #20]
 5151 003a 2046     		mov	r0, r4
 5152 003c FFF7FEFF 		bl	shellSeekCommand
 5153              	.LVL508:
1405:SYS/shell/shell.c ****         {
 5154              		.loc 1 1405 9 is_stmt 1 view .LVU1415
1405:SYS/shell/shell.c ****         {
 5155              		.loc 1 1405 12 is_stmt 0 view .LVU1416
 5156 0040 0146     		mov	r1, r0
 5157 0042 18B1     		cbz	r0, .L407
1407:SYS/shell/shell.c ****         }
 5158              		.loc 1 1407 13 is_stmt 1 view .LVU1417
 5159 0044 2046     		mov	r0, r4
 5160              	.LVL509:
1407:SYS/shell/shell.c ****         }
 5161              		.loc 1 1407 13 is_stmt 0 view .LVU1418
 5162 0046 FFF7FEFF 		bl	shellRunCommand
 5163              	.LVL510:
1407:SYS/shell/shell.c ****         }
 5164              		.loc 1 1407 13 view .LVU1419
 5165 004a 06E0     		b	.L404
 5166              	.LVL511:
 5167              	.L407:
1411:SYS/shell/shell.c ****         }
 5168              		.loc 1 1411 13 is_stmt 1 view .LVU1420
 5169 004c 0549     		ldr	r1, .L412+4
 5170 004e 2046     		mov	r0, r4
 5171              	.LVL512:
1411:SYS/shell/shell.c ****         }
 5172              		.loc 1 1411 13 is_stmt 0 view .LVU1421
 5173 0050 FFF7FEFF 		bl	shellWriteString
 5174              	.LVL513:
 5175 0054 01E0     		b	.L404
 5176              	.LVL514:
 5177              	.L406:
1411:SYS/shell/shell.c ****         }
 5178              		.loc 1 1411 13 view .LVU1422
 5179              	.LBE36:
1416:SYS/shell/shell.c ****     }
 5180              		.loc 1 1416 9 is_stmt 1 view .LVU1423
 5181 0056 FFF7FEFF 		bl	shellCheckPassword
 5182              	.LVL515:
 5183              	.L404:
1418:SYS/shell/shell.c **** 
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 147


 5184              		.loc 1 1418 1 is_stmt 0 view .LVU1424
 5185 005a 10BD     		pop	{r4, pc}
 5186              	.LVL516:
 5187              	.L409:
 5188              	.LCFI64:
 5189              		.cfi_def_cfa_offset 0
 5190              		.cfi_restore 4
 5191              		.cfi_restore 14
1418:SYS/shell/shell.c **** 
 5192              		.loc 1 1418 1 view .LVU1425
 5193 005c 7047     		bx	lr
 5194              	.L413:
 5195 005e 00BF     		.align	2
 5196              	.L412:
 5197 0060 04000000 		.word	.LC3
 5198 0064 14000000 		.word	.LC24
 5199              		.cfi_endproc
 5200              	.LFE166:
 5202              		.section	.text.shellEnter,"ax",%progbits
 5203              		.align	1
 5204              		.global	shellEnter
 5205              		.syntax unified
 5206              		.thumb
 5207              		.thumb_func
 5208              		.fpu fpv4-sp-d16
 5210              	shellEnter:
 5211              	.LVL517:
 5212              	.LFB174:
1607:SYS/shell/shell.c ****     shellExec(shell);
 5213              		.loc 1 1607 1 is_stmt 1 view -0
 5214              		.cfi_startproc
 5215              		@ args = 0, pretend = 0, frame = 0
 5216              		@ frame_needed = 0, uses_anonymous_args = 0
1607:SYS/shell/shell.c ****     shellExec(shell);
 5217              		.loc 1 1607 1 is_stmt 0 view .LVU1427
 5218 0000 10B5     		push	{r4, lr}
 5219              	.LCFI65:
 5220              		.cfi_def_cfa_offset 8
 5221              		.cfi_offset 4, -8
 5222              		.cfi_offset 14, -4
 5223 0002 0446     		mov	r4, r0
1608:SYS/shell/shell.c ****     shellWriteCommandLine(shell, 1);
 5224              		.loc 1 1608 5 is_stmt 1 view .LVU1428
 5225 0004 FFF7FEFF 		bl	shellExec
 5226              	.LVL518:
1609:SYS/shell/shell.c **** }
 5227              		.loc 1 1609 5 view .LVU1429
 5228 0008 0121     		movs	r1, #1
 5229 000a 2046     		mov	r0, r4
 5230 000c FFF7FEFF 		bl	shellWriteCommandLine
 5231              	.LVL519:
1610:SYS/shell/shell.c **** #if SHELL_ENTER_LF == 1
 5232              		.loc 1 1610 1 is_stmt 0 view .LVU1430
 5233 0010 10BD     		pop	{r4, pc}
1610:SYS/shell/shell.c **** #if SHELL_ENTER_LF == 1
 5234              		.loc 1 1610 1 view .LVU1431
 5235              		.cfi_endproc
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 148


 5236              	.LFE174:
 5238              		.section	.text.shellHandler,"ax",%progbits
 5239              		.align	1
 5240              		.global	shellHandler
 5241              		.syntax unified
 5242              		.thumb
 5243              		.thumb_func
 5244              		.fpu fpv4-sp-d16
 5246              	shellHandler:
 5247              	.LVL520:
 5248              	.LFB176:
1670:SYS/shell/shell.c ****     SHELL_ASSERT(data, return);
 5249              		.loc 1 1670 1 is_stmt 1 view -0
 5250              		.cfi_startproc
 5251              		@ args = 0, pretend = 0, frame = 0
 5252              		@ frame_needed = 0, uses_anonymous_args = 0
1671:SYS/shell/shell.c **** 
 5253              		.loc 1 1671 5 view .LVU1433
 5254 0000 0029     		cmp	r1, #0
 5255 0002 65D0     		beq	.L429
1670:SYS/shell/shell.c ****     SHELL_ASSERT(data, return);
 5256              		.loc 1 1670 1 is_stmt 0 discriminator 2 view .LVU1434
 5257 0004 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 5258              	.LCFI66:
 5259              		.cfi_def_cfa_offset 32
 5260              		.cfi_offset 4, -32
 5261              		.cfi_offset 5, -28
 5262              		.cfi_offset 6, -24
 5263              		.cfi_offset 7, -20
 5264              		.cfi_offset 8, -16
 5265              		.cfi_offset 9, -12
 5266              		.cfi_offset 10, -8
 5267              		.cfi_offset 14, -4
 5268 0008 0646     		mov	r6, r0
 5269 000a 8A46     		mov	r10, r1
1671:SYS/shell/shell.c **** 
 5270              		.loc 1 1671 31 is_stmt 1 discriminator 2 view .LVU1435
1686:SYS/shell/shell.c ****     int keyFilter = 0x00000000;
 5271              		.loc 1 1686 5 discriminator 2 view .LVU1436
 5272              	.LVL521:
1687:SYS/shell/shell.c ****     if ((shell->parser.keyValue & 0x0000FF00) != 0x00000000)
 5273              		.loc 1 1687 5 discriminator 2 view .LVU1437
1688:SYS/shell/shell.c ****     {
 5274              		.loc 1 1688 5 discriminator 2 view .LVU1438
1688:SYS/shell/shell.c ****     {
 5275              		.loc 1 1688 23 is_stmt 0 discriminator 2 view .LVU1439
 5276 000c 836B     		ldr	r3, [r0, #56]
1688:SYS/shell/shell.c ****     {
 5277              		.loc 1 1688 8 discriminator 2 view .LVU1440
 5278 000e 13F47F4F 		tst	r3, #65280
 5279 0012 08D1     		bne	.L424
1693:SYS/shell/shell.c ****     {
 5280              		.loc 1 1693 10 is_stmt 1 view .LVU1441
1693:SYS/shell/shell.c ****     {
 5281              		.loc 1 1693 13 is_stmt 0 view .LVU1442
 5282 0014 13F47F09 		ands	r9, r3, #16711680
 5283 0018 0AD1     		bne	.L425
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 149


1698:SYS/shell/shell.c ****     {
 5284              		.loc 1 1698 10 is_stmt 1 view .LVU1443
1698:SYS/shell/shell.c ****     {
 5285              		.loc 1 1698 13 is_stmt 0 view .LVU1444
 5286 001a 13F07F4F 		tst	r3, #-16777216
 5287 001e 0ED1     		bne	.L426
1686:SYS/shell/shell.c ****     int keyFilter = 0x00000000;
 5288              		.loc 1 1686 10 view .LVU1445
 5289 0020 4FF01808 		mov	r8, #24
 5290 0024 08E0     		b	.L418
 5291              	.L424:
1691:SYS/shell/shell.c ****     }
 5292              		.loc 1 1691 19 view .LVU1446
 5293 0026 6FF0FF09 		mvn	r9, #255
1690:SYS/shell/shell.c ****         keyFilter = 0xFFFFFF00;
 5294              		.loc 1 1690 23 view .LVU1447
 5295 002a 4FF00008 		mov	r8, #0
 5296 002e 03E0     		b	.L418
 5297              	.L425:
1696:SYS/shell/shell.c ****     }
 5298              		.loc 1 1696 19 view .LVU1448
 5299 0030 DFF8A090 		ldr	r9, .L434
1695:SYS/shell/shell.c ****         keyFilter = 0xFFFF0000;
 5300              		.loc 1 1695 23 view .LVU1449
 5301 0034 4FF00808 		mov	r8, #8
 5302              	.L418:
 5303              	.LVL522:
1705:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 5304              		.loc 1 1705 5 is_stmt 1 view .LVU1450
1705:SYS/shell/shell.c ****     for (short i = 0; i < shell->commandList.count; i++)
 5305              		.loc 1 1705 19 is_stmt 0 view .LVU1451
 5306 0038 B76D     		ldr	r7, [r6, #88]
 5307              	.LVL523:
1706:SYS/shell/shell.c ****     {
 5308              		.loc 1 1706 5 is_stmt 1 view .LVU1452
 5309              	.LBB37:
1706:SYS/shell/shell.c ****     {
 5310              		.loc 1 1706 10 view .LVU1453
1706:SYS/shell/shell.c ****     {
 5311              		.loc 1 1706 16 is_stmt 0 view .LVU1454
 5312 003a 0024     		movs	r4, #0
1706:SYS/shell/shell.c ****     {
 5313              		.loc 1 1706 5 view .LVU1455
 5314 003c 0DE0     		b	.L419
 5315              	.LVL524:
 5316              	.L426:
1706:SYS/shell/shell.c ****     {
 5317              		.loc 1 1706 5 view .LVU1456
 5318              	.LBE37:
1701:SYS/shell/shell.c ****     }
 5319              		.loc 1 1701 19 view .LVU1457
 5320 003e 4FF07F49 		mov	r9, #-16777216
1700:SYS/shell/shell.c ****         keyFilter = 0xFF000000;
 5321              		.loc 1 1700 23 view .LVU1458
 5322 0042 4FF01008 		mov	r8, #16
 5323 0046 F7E7     		b	.L418
 5324              	.LVL525:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 150


 5325              	.L421:
 5326              	.LBB38:
1723:SYS/shell/shell.c ****                     {
 5327              		.loc 1 1723 21 is_stmt 1 view .LVU1459
1723:SYS/shell/shell.c ****                     {
 5328              		.loc 1 1723 41 is_stmt 0 view .LVU1460
 5329 0048 AB68     		ldr	r3, [r5, #8]
1723:SYS/shell/shell.c ****                     {
 5330              		.loc 1 1723 24 view .LVU1461
 5331 004a 0BB1     		cbz	r3, .L422
1725:SYS/shell/shell.c ****                     }
 5332              		.loc 1 1725 25 is_stmt 1 view .LVU1462
 5333 004c 3046     		mov	r0, r6
 5334 004e 9847     		blx	r3
 5335              	.LVL526:
 5336              	.L422:
1727:SYS/shell/shell.c ****                     break;
 5337              		.loc 1 1727 21 view .LVU1463
1727:SYS/shell/shell.c ****                     break;
 5338              		.loc 1 1727 44 is_stmt 0 view .LVU1464
 5339 0050 0023     		movs	r3, #0
 5340 0052 B363     		str	r3, [r6, #56]
1728:SYS/shell/shell.c ****                 }
 5341              		.loc 1 1728 21 is_stmt 1 view .LVU1465
1728:SYS/shell/shell.c ****                 }
 5342              		.loc 1 1728 21 is_stmt 0 view .LVU1466
 5343              	.LBE38:
1734:SYS/shell/shell.c ****     {
 5344              		.loc 1 1734 5 is_stmt 1 view .LVU1467
 5345 0054 33E0     		b	.L416
 5346              	.LVL527:
 5347              	.L420:
 5348              	.LBB39:
1706:SYS/shell/shell.c ****     {
 5349              		.loc 1 1706 53 discriminator 2 view .LVU1468
1706:SYS/shell/shell.c ****     {
 5350              		.loc 1 1706 54 is_stmt 0 discriminator 2 view .LVU1469
 5351 0056 0134     		adds	r4, r4, #1
 5352              	.LVL528:
1706:SYS/shell/shell.c ****     {
 5353              		.loc 1 1706 54 discriminator 2 view .LVU1470
 5354 0058 24B2     		sxth	r4, r4
 5355              	.LVL529:
 5356              	.L419:
1706:SYS/shell/shell.c ****     {
 5357              		.loc 1 1706 23 is_stmt 1 discriminator 1 view .LVU1471
1706:SYS/shell/shell.c ****     {
 5358              		.loc 1 1706 45 is_stmt 0 discriminator 1 view .LVU1472
 5359 005a B6F85C30 		ldrh	r3, [r6, #92]
1706:SYS/shell/shell.c ****     {
 5360              		.loc 1 1706 5 discriminator 1 view .LVU1473
 5361 005e 9C42     		cmp	r4, r3
 5362 0060 2ADA     		bge	.L432
1709:SYS/shell/shell.c ****             && shellCheckPermission(shell, &(base[i])) == 0)
 5363              		.loc 1 1709 9 is_stmt 1 view .LVU1474
1709:SYS/shell/shell.c ****             && shellCheckPermission(shell, &(base[i])) == 0)
 5364              		.loc 1 1709 17 is_stmt 0 view .LVU1475
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 151


 5365 0062 07EB0415 		add	r5, r7, r4, lsl #4
1709:SYS/shell/shell.c ****             && shellCheckPermission(shell, &(base[i])) == 0)
 5366              		.loc 1 1709 37 view .LVU1476
 5367 0066 6B78     		ldrb	r3, [r5, #1]	@ zero_extendqisi2
 5368 0068 03F00F03 		and	r3, r3, #15
1709:SYS/shell/shell.c ****             && shellCheckPermission(shell, &(base[i])) == 0)
 5369              		.loc 1 1709 12 view .LVU1477
 5370 006c 092B     		cmp	r3, #9
 5371 006e F2D1     		bne	.L420
1710:SYS/shell/shell.c ****         {
 5372              		.loc 1 1710 16 view .LVU1478
 5373 0070 2946     		mov	r1, r5
 5374 0072 3046     		mov	r0, r6
 5375 0074 FFF7FEFF 		bl	shellCheckPermission
 5376              	.LVL530:
1710:SYS/shell/shell.c ****         {
 5377              		.loc 1 1710 13 view .LVU1479
 5378 0078 0028     		cmp	r0, #0
 5379 007a ECD1     		bne	.L420
1713:SYS/shell/shell.c ****                 && (base[i].data.key.value & (0xFF << keyByteOffset))
 5380              		.loc 1 1713 13 is_stmt 1 view .LVU1480
1713:SYS/shell/shell.c ****                 && (base[i].data.key.value & (0xFF << keyByteOffset))
 5381              		.loc 1 1713 34 is_stmt 0 view .LVU1481
 5382 007c 6B68     		ldr	r3, [r5, #4]
1713:SYS/shell/shell.c ****                 && (base[i].data.key.value & (0xFF << keyByteOffset))
 5383              		.loc 1 1713 41 view .LVU1482
 5384 007e 03EA0901 		and	r1, r3, r9
1713:SYS/shell/shell.c ****                 && (base[i].data.key.value & (0xFF << keyByteOffset))
 5385              		.loc 1 1713 70 view .LVU1483
 5386 0082 B26B     		ldr	r2, [r6, #56]
1713:SYS/shell/shell.c ****                 && (base[i].data.key.value & (0xFF << keyByteOffset))
 5387              		.loc 1 1713 16 view .LVU1484
 5388 0084 9142     		cmp	r1, r2
 5389 0086 E6D1     		bne	.L420
1714:SYS/shell/shell.c ****                     == (data << keyByteOffset))
 5390              		.loc 1 1714 52 view .LVU1485
 5391 0088 FF21     		movs	r1, #255
 5392 008a 01FA08F1 		lsl	r1, r1, r8
1714:SYS/shell/shell.c ****                     == (data << keyByteOffset))
 5393              		.loc 1 1714 44 view .LVU1486
 5394 008e 0B40     		ands	r3, r3, r1
1715:SYS/shell/shell.c ****             {
 5395              		.loc 1 1715 30 view .LVU1487
 5396 0090 0AFA08F1 		lsl	r1, r10, r8
1714:SYS/shell/shell.c ****                     == (data << keyByteOffset))
 5397              		.loc 1 1714 17 view .LVU1488
 5398 0094 8B42     		cmp	r3, r1
 5399 0096 DED1     		bne	.L420
1717:SYS/shell/shell.c ****                 data = 0x00;
 5400              		.loc 1 1717 17 is_stmt 1 view .LVU1489
1717:SYS/shell/shell.c ****                 data = 0x00;
 5401              		.loc 1 1717 40 is_stmt 0 view .LVU1490
 5402 0098 0A43     		orrs	r2, r2, r1
 5403 009a B263     		str	r2, [r6, #56]
1718:SYS/shell/shell.c ****                 if (keyByteOffset == 0 
 5404              		.loc 1 1718 17 is_stmt 1 view .LVU1491
 5405              	.LVL531:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 152


1719:SYS/shell/shell.c ****                     || (base[i].data.key.value & (0xFF << (keyByteOffset - 8)))
 5406              		.loc 1 1719 17 view .LVU1492
1719:SYS/shell/shell.c ****                     || (base[i].data.key.value & (0xFF << (keyByteOffset - 8)))
 5407              		.loc 1 1719 20 is_stmt 0 view .LVU1493
 5408 009c B8F1000F 		cmp	r8, #0
 5409 00a0 D2D0     		beq	.L421
1720:SYS/shell/shell.c ****                         == 0x00000000)
 5410              		.loc 1 1720 41 view .LVU1494
 5411 00a2 6B68     		ldr	r3, [r5, #4]
1720:SYS/shell/shell.c ****                         == 0x00000000)
 5412              		.loc 1 1720 74 view .LVU1495
 5413 00a4 A8F10800 		sub	r0, r8, #8
1720:SYS/shell/shell.c ****                         == 0x00000000)
 5414              		.loc 1 1720 56 view .LVU1496
 5415 00a8 FF22     		movs	r2, #255
 5416 00aa 02FA00F0 		lsl	r0, r2, r0
1720:SYS/shell/shell.c ****                         == 0x00000000)
 5417              		.loc 1 1720 21 view .LVU1497
 5418 00ae 0342     		tst	r3, r0
 5419 00b0 CAD0     		beq	.L421
1718:SYS/shell/shell.c ****                 if (keyByteOffset == 0 
 5420              		.loc 1 1718 22 view .LVU1498
 5421 00b2 4FF0000A 		mov	r10, #0
 5422 00b6 CEE7     		b	.L420
 5423              	.LVL532:
 5424              	.L432:
1718:SYS/shell/shell.c ****                 if (keyByteOffset == 0 
 5425              		.loc 1 1718 22 view .LVU1499
 5426              	.LBE39:
1734:SYS/shell/shell.c ****     {
 5427              		.loc 1 1734 5 is_stmt 1 view .LVU1500
1734:SYS/shell/shell.c ****     {
 5428              		.loc 1 1734 8 is_stmt 0 view .LVU1501
 5429 00b8 BAF1000F 		cmp	r10, #0
 5430 00bc 01D1     		bne	.L433
 5431              	.LVL533:
 5432              	.L416:
1744:SYS/shell/shell.c **** 
 5433              		.loc 1 1744 1 view .LVU1502
 5434 00be BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 5435              	.LVL534:
 5436              	.L433:
1736:SYS/shell/shell.c ****         shellNormalInput(shell, data);
 5437              		.loc 1 1736 9 is_stmt 1 view .LVU1503
1736:SYS/shell/shell.c ****         shellNormalInput(shell, data);
 5438              		.loc 1 1736 32 is_stmt 0 view .LVU1504
 5439 00c2 0023     		movs	r3, #0
 5440 00c4 B363     		str	r3, [r6, #56]
1737:SYS/shell/shell.c ****     }
 5441              		.loc 1 1737 9 is_stmt 1 view .LVU1505
 5442 00c6 5146     		mov	r1, r10
 5443 00c8 3046     		mov	r0, r6
 5444 00ca FFF7FEFF 		bl	shellNormalInput
 5445              	.LVL535:
 5446 00ce F6E7     		b	.L416
 5447              	.LVL536:
 5448              	.L429:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 153


 5449              	.LCFI67:
 5450              		.cfi_def_cfa_offset 0
 5451              		.cfi_restore 4
 5452              		.cfi_restore 5
 5453              		.cfi_restore 6
 5454              		.cfi_restore 7
 5455              		.cfi_restore 8
 5456              		.cfi_restore 9
 5457              		.cfi_restore 10
 5458              		.cfi_restore 14
1737:SYS/shell/shell.c ****     }
 5459              		.loc 1 1737 9 is_stmt 0 view .LVU1506
 5460 00d0 7047     		bx	lr
 5461              	.L435:
 5462 00d2 00BF     		.align	2
 5463              	.L434:
 5464 00d4 0000FFFF 		.word	-65536
 5465              		.cfi_endproc
 5466              	.LFE176:
 5468              		.section	.text.shellTask,"ax",%progbits
 5469              		.align	1
 5470              		.global	shellTask
 5471              		.syntax unified
 5472              		.thumb
 5473              		.thumb_func
 5474              		.fpu fpv4-sp-d16
 5476              	shellTask:
 5477              	.LVL537:
 5478              	.LFB177:
1781:SYS/shell/shell.c ****     Shell *shell = (Shell *)param;
 5479              		.loc 1 1781 1 is_stmt 1 view -0
 5480              		.cfi_startproc
 5481              		@ args = 0, pretend = 0, frame = 8
 5482              		@ frame_needed = 0, uses_anonymous_args = 0
1782:SYS/shell/shell.c ****     char data;
 5483              		.loc 1 1782 5 view .LVU1508
1783:SYS/shell/shell.c **** #if SHELL_TASK_WHILE == 1
 5484              		.loc 1 1783 5 view .LVU1509
1788:SYS/shell/shell.c ****         {
 5485              		.loc 1 1788 9 view .LVU1510
1788:SYS/shell/shell.c ****         {
 5486              		.loc 1 1788 18 is_stmt 0 view .LVU1511
 5487 0000 436E     		ldr	r3, [r0, #100]
1788:SYS/shell/shell.c ****         {
 5488              		.loc 1 1788 12 view .LVU1512
 5489 0002 73B1     		cbz	r3, .L439
1781:SYS/shell/shell.c ****     Shell *shell = (Shell *)param;
 5490              		.loc 1 1781 1 discriminator 1 view .LVU1513
 5491 0004 10B5     		push	{r4, lr}
 5492              	.LCFI68:
 5493              		.cfi_def_cfa_offset 8
 5494              		.cfi_offset 4, -8
 5495              		.cfi_offset 14, -4
 5496 0006 82B0     		sub	sp, sp, #8
 5497              	.LCFI69:
 5498              		.cfi_def_cfa_offset 16
 5499 0008 0446     		mov	r4, r0
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 154


1788:SYS/shell/shell.c ****         {
 5500              		.loc 1 1788 28 discriminator 1 view .LVU1514
 5501 000a 0DF10700 		add	r0, sp, #7
 5502              	.LVL538:
1788:SYS/shell/shell.c ****         {
 5503              		.loc 1 1788 28 discriminator 1 view .LVU1515
 5504 000e 9847     		blx	r3
 5505              	.LVL539:
1788:SYS/shell/shell.c ****         {
 5506              		.loc 1 1788 25 discriminator 1 view .LVU1516
 5507 0010 08B1     		cbz	r0, .L442
 5508              	.L436:
1795:SYS/shell/shell.c **** 
 5509              		.loc 1 1795 1 view .LVU1517
 5510 0012 02B0     		add	sp, sp, #8
 5511              	.LCFI70:
 5512              		.cfi_remember_state
 5513              		.cfi_def_cfa_offset 8
 5514              		@ sp needed
 5515 0014 10BD     		pop	{r4, pc}
 5516              	.LVL540:
 5517              	.L442:
 5518              	.LCFI71:
 5519              		.cfi_restore_state
1790:SYS/shell/shell.c ****         }
 5520              		.loc 1 1790 13 is_stmt 1 view .LVU1518
 5521 0016 9DF80710 		ldrb	r1, [sp, #7]	@ zero_extendqisi2
 5522 001a 2046     		mov	r0, r4
 5523 001c FFF7FEFF 		bl	shellHandler
 5524              	.LVL541:
1795:SYS/shell/shell.c **** 
 5525              		.loc 1 1795 1 is_stmt 0 view .LVU1519
 5526 0020 F7E7     		b	.L436
 5527              	.LVL542:
 5528              	.L439:
 5529              	.LCFI72:
 5530              		.cfi_def_cfa_offset 0
 5531              		.cfi_restore 4
 5532              		.cfi_restore 14
1795:SYS/shell/shell.c **** 
 5533              		.loc 1 1795 1 view .LVU1520
 5534 0022 7047     		bx	lr
 5535              		.cfi_endproc
 5536              	.LFE177:
 5538              		.section	.text.shellRun,"ax",%progbits
 5539              		.align	1
 5540              		.global	shellRun
 5541              		.syntax unified
 5542              		.thumb
 5543              		.thumb_func
 5544              		.fpu fpv4-sp-d16
 5546              	shellRun:
 5547              	.LVL543:
 5548              	.LFB183:
1873:SYS/shell/shell.c **** SHELL_EXPORT_CMD(
1874:SYS/shell/shell.c **** SHELL_CMD_PERMISSION(0)|SHELL_CMD_TYPE(SHELL_TYPE_CMD_FUNC)|SHELL_CMD_DISABLE_RETURN,
1875:SYS/shell/shell.c **** clear, shellClear, clear console);
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 155


1876:SYS/shell/shell.c **** 
1877:SYS/shell/shell.c **** 
1878:SYS/shell/shell.c **** /**
1879:SYS/shell/shell.c ****  * @brief shell执行命令
1880:SYS/shell/shell.c ****  * 
1881:SYS/shell/shell.c ****  * @param shell shell对象
1882:SYS/shell/shell.c ****  * @param cmd 命令字符串
1883:SYS/shell/shell.c ****  * @return int 返回值
1884:SYS/shell/shell.c ****  */
1885:SYS/shell/shell.c **** int shellRun(Shell *shell, const char *cmd)
1886:SYS/shell/shell.c **** {
 5549              		.loc 1 1886 1 is_stmt 1 view -0
 5550              		.cfi_startproc
 5551              		@ args = 0, pretend = 0, frame = 0
 5552              		@ frame_needed = 0, uses_anonymous_args = 0
1887:SYS/shell/shell.c ****     SHELL_ASSERT(shell && cmd, return -1);
 5553              		.loc 1 1887 5 view .LVU1522
 5554 0000 28B3     		cbz	r0, .L446
1886:SYS/shell/shell.c ****     SHELL_ASSERT(shell && cmd, return -1);
 5555              		.loc 1 1886 1 is_stmt 0 discriminator 2 view .LVU1523
 5556 0002 70B5     		push	{r4, r5, r6, lr}
 5557              	.LCFI73:
 5558              		.cfi_def_cfa_offset 16
 5559              		.cfi_offset 4, -16
 5560              		.cfi_offset 5, -12
 5561              		.cfi_offset 6, -8
 5562              		.cfi_offset 14, -4
 5563 0004 0D46     		mov	r5, r1
 5564 0006 0446     		mov	r4, r0
 5565              		.loc 1 1887 5 discriminator 2 view .LVU1524
 5566 0008 21B3     		cbz	r1, .L447
 5567              		.loc 1 1887 42 is_stmt 1 discriminator 4 view .LVU1525
1888:SYS/shell/shell.c ****     char active = shell->status.isActive;
 5568              		.loc 1 1888 5 discriminator 4 view .LVU1526
 5569              		.loc 1 1888 32 is_stmt 0 discriminator 4 view .LVU1527
 5570 000a 90F86030 		ldrb	r3, [r0, #96]	@ zero_extendqisi2
 5571 000e C3F34006 		ubfx	r6, r3, #1, #1
 5572              	.LVL544:
1889:SYS/shell/shell.c ****     if (strlen(cmd) > shell->parser.bufferSize - 1)
 5573              		.loc 1 1889 5 is_stmt 1 discriminator 4 view .LVU1528
 5574              		.loc 1 1889 9 is_stmt 0 discriminator 4 view .LVU1529
 5575 0012 0846     		mov	r0, r1
 5576              	.LVL545:
 5577              		.loc 1 1889 9 discriminator 4 view .LVU1530
 5578 0014 FFF7FEFF 		bl	strlen
 5579              	.LVL546:
 5580              		.loc 1 1889 36 discriminator 4 view .LVU1531
 5581 0018 A38E     		ldrh	r3, [r4, #52]
 5582              		.loc 1 1889 48 discriminator 4 view .LVU1532
 5583 001a 013B     		subs	r3, r3, #1
 5584              		.loc 1 1889 8 discriminator 4 view .LVU1533
 5585 001c 9842     		cmp	r0, r3
 5586 001e 0FD8     		bhi	.L452
1890:SYS/shell/shell.c ****     {
1891:SYS/shell/shell.c ****         shellWriteString(shell, shellText[SHELL_TEXT_CMD_TOO_LONG]);
1892:SYS/shell/shell.c ****         return -1;
1893:SYS/shell/shell.c ****     }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 156


1894:SYS/shell/shell.c ****     else
1895:SYS/shell/shell.c ****     {
1896:SYS/shell/shell.c ****         shell->parser.length = shellStringCopy(shell->parser.buffer, (char *)cmd);
 5587              		.loc 1 1896 9 is_stmt 1 view .LVU1534
 5588              		.loc 1 1896 32 is_stmt 0 view .LVU1535
 5589 0020 2946     		mov	r1, r5
 5590 0022 2069     		ldr	r0, [r4, #16]
 5591 0024 FFF7FEFF 		bl	shellStringCopy
 5592              	.LVL547:
 5593              		.loc 1 1896 30 view .LVU1536
 5594 0028 A081     		strh	r0, [r4, #12]	@ movhi
1897:SYS/shell/shell.c ****         shellExec(shell);
 5595              		.loc 1 1897 9 is_stmt 1 view .LVU1537
 5596 002a 2046     		mov	r0, r4
 5597 002c FFF7FEFF 		bl	shellExec
 5598              	.LVL548:
1898:SYS/shell/shell.c ****         shell->status.isActive = active;
 5599              		.loc 1 1898 9 view .LVU1538
 5600              		.loc 1 1898 32 is_stmt 0 view .LVU1539
 5601 0030 94F86030 		ldrb	r3, [r4, #96]	@ zero_extendqisi2
 5602 0034 66F34103 		bfi	r3, r6, #1, #1
 5603 0038 84F86030 		strb	r3, [r4, #96]
1899:SYS/shell/shell.c ****         return 0;
 5604              		.loc 1 1899 9 is_stmt 1 view .LVU1540
 5605              		.loc 1 1899 16 is_stmt 0 view .LVU1541
 5606 003c 0020     		movs	r0, #0
 5607              	.L443:
1900:SYS/shell/shell.c ****     }
1901:SYS/shell/shell.c **** }
 5608              		.loc 1 1901 1 view .LVU1542
 5609 003e 70BD     		pop	{r4, r5, r6, pc}
 5610              	.LVL549:
 5611              	.L452:
1891:SYS/shell/shell.c ****         return -1;
 5612              		.loc 1 1891 9 is_stmt 1 view .LVU1543
 5613 0040 0649     		ldr	r1, .L453
 5614 0042 2046     		mov	r0, r4
 5615 0044 FFF7FEFF 		bl	shellWriteString
 5616              	.LVL550:
1892:SYS/shell/shell.c ****     }
 5617              		.loc 1 1892 9 view .LVU1544
1892:SYS/shell/shell.c ****     }
 5618              		.loc 1 1892 16 is_stmt 0 view .LVU1545
 5619 0048 4FF0FF30 		mov	r0, #-1
 5620 004c F7E7     		b	.L443
 5621              	.LVL551:
 5622              	.L446:
 5623              	.LCFI74:
 5624              		.cfi_def_cfa_offset 0
 5625              		.cfi_restore 4
 5626              		.cfi_restore 5
 5627              		.cfi_restore 6
 5628              		.cfi_restore 14
1887:SYS/shell/shell.c ****     char active = shell->status.isActive;
 5629              		.loc 1 1887 5 view .LVU1546
 5630 004e 4FF0FF30 		mov	r0, #-1
 5631              	.LVL552:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 157


 5632              		.loc 1 1901 1 view .LVU1547
 5633 0052 7047     		bx	lr
 5634              	.LVL553:
 5635              	.L447:
 5636              	.LCFI75:
 5637              		.cfi_def_cfa_offset 16
 5638              		.cfi_offset 4, -16
 5639              		.cfi_offset 5, -12
 5640              		.cfi_offset 6, -8
 5641              		.cfi_offset 14, -4
1887:SYS/shell/shell.c ****     char active = shell->status.isActive;
 5642              		.loc 1 1887 5 view .LVU1548
 5643 0054 4FF0FF30 		mov	r0, #-1
 5644              	.LVL554:
1887:SYS/shell/shell.c ****     char active = shell->status.isActive;
 5645              		.loc 1 1887 5 view .LVU1549
 5646 0058 F1E7     		b	.L443
 5647              	.L454:
 5648 005a 00BF     		.align	2
 5649              	.L453:
 5650 005c 00000000 		.word	.LC21
 5651              		.cfi_endproc
 5652              	.LFE183:
 5654              		.global	shellCommandclear
 5655              		.global	shellDescclear
 5656              		.global	shellCmdclear
 5657              		.global	shellCommandkeys
 5658              		.global	shellDesckeys
 5659              		.global	shellCmdkeys
 5660              		.global	shellCommandvars
 5661              		.global	shellDescvars
 5662              		.global	shellCmdvars
 5663              		.global	shellCommandcmds
 5664              		.global	shellDesccmds
 5665              		.global	shellCmdcmds
 5666              		.global	shellCommandusers
 5667              		.global	shellDescusers
 5668              		.global	shellCmdusers
 5669              		.global	shellCommandhelp
 5670              		.global	shellDeschelp
 5671              		.global	shellCmdhelp
 5672              		.global	shellKey0x0D000000
 5673              		.global	shellDesc0x0D000000
 5674              		.global	shellKey0x0A000000
 5675              		.global	shellDesc0x0A000000
 5676              		.global	shellKey0x1B5B337E
 5677              		.global	shellDesc0x1B5B337E
 5678              		.global	shellKey0x7F000000
 5679              		.global	shellDesc0x7F000000
 5680              		.global	shellKey0x08000000
 5681              		.global	shellDesc0x08000000
 5682              		.global	shellKey0x09000000
 5683              		.global	shellDesc0x09000000
 5684              		.global	shellKey0x1B5B4400
 5685              		.global	shellDesc0x1B5B4400
 5686              		.global	shellKey0x1B5B4300
 5687              		.global	shellDesc0x1B5B4300
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 158


 5688              		.global	shellKey0x1B5B4200
 5689              		.global	shellDesc0x1B5B4200
 5690              		.global	shellKey0x1B5B4100
 5691              		.global	shellDesc0x1B5B4100
 5692              		.global	shellCommandsetVar
 5693              		.global	shellDescsetVar
 5694              		.global	shellCmdsetVar
 5695              		.global	shellUserDefault
 5696              		.global	shellDesDefaultUser
 5697              		.global	shellPasswordDefaultUser
 5698              		.global	shellCmdDefaultUser
 5699              		.section	.bss.buffer.0,"aw",%nobits
 5700              		.align	2
 5701              		.set	.LANCHOR1,. + 0
 5704              	buffer.0:
 5705 0000 00000000 		.space	9
 5705      00000000 
 5705      00
 5706              		.section	.bss.shellList,"aw",%nobits
 5707              		.align	2
 5708              		.set	.LANCHOR0,. + 0
 5711              	shellList:
 5712 0000 00000000 		.space	20
 5712      00000000 
 5712      00000000 
 5712      00000000 
 5712      00000000 
 5713              		.section	.rodata.shellCmdDefaultUser,"a"
 5714              		.align	2
 5717              	shellCmdDefaultUser:
 5718 0000 502E302E 		.ascii	"P.0.Wder Squad\000"
 5718      57646572 
 5718      20537175 
 5718      616400
 5719              		.section	.rodata.shellCmdclear,"a"
 5720              		.align	2
 5723              	shellCmdclear:
 5724 0000 636C6561 		.ascii	"clear\000"
 5724      7200
 5725              		.section	.rodata.shellCmdcmds,"a"
 5726              		.align	2
 5729              	shellCmdcmds:
 5730 0000 636D6473 		.ascii	"cmds\000"
 5730      00
 5731              		.section	.rodata.shellCmdhelp,"a"
 5732              		.align	2
 5735              	shellCmdhelp:
 5736 0000 68656C70 		.ascii	"help\000"
 5736      00
 5737              		.section	.rodata.shellCmdkeys,"a"
 5738              		.align	2
 5741              	shellCmdkeys:
 5742 0000 6B657973 		.ascii	"keys\000"
 5742      00
 5743              		.section	.rodata.shellCmdsetVar,"a"
 5744              		.align	2
 5747              	shellCmdsetVar:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 159


 5748 0000 73657456 		.ascii	"setVar\000"
 5748      617200
 5749              		.section	.rodata.shellCmdusers,"a"
 5750              		.align	2
 5753              	shellCmdusers:
 5754 0000 75736572 		.ascii	"users\000"
 5754      7300
 5755              		.section	.rodata.shellCmdvars,"a"
 5756              		.align	2
 5759              	shellCmdvars:
 5760 0000 76617273 		.ascii	"vars\000"
 5760      00
 5761              		.section	.rodata.shellDesDefaultUser,"a"
 5762              		.align	2
 5765              	shellDesDefaultUser:
 5766 0000 64656661 		.ascii	"default user\000"
 5766      756C7420 
 5766      75736572 
 5766      00
 5767              		.section	.rodata.shellDesc0x08000000,"a"
 5768              		.align	2
 5771              	shellDesc0x08000000:
 5772 0000 6261636B 		.ascii	"backspace\000"
 5772      73706163 
 5772      6500
 5773              		.section	.rodata.shellDesc0x09000000,"a"
 5774              		.align	2
 5777              	shellDesc0x09000000:
 5778 0000 74616200 		.ascii	"tab\000"
 5779              		.section	.rodata.shellDesc0x0A000000,"a"
 5780              		.align	2
 5783              	shellDesc0x0A000000:
 5784 0000 656E7465 		.ascii	"enter\000"
 5784      7200
 5785              		.section	.rodata.shellDesc0x0D000000,"a"
 5786              		.align	2
 5789              	shellDesc0x0D000000:
 5790 0000 656E7465 		.ascii	"enter\000"
 5790      7200
 5791              		.section	.rodata.shellDesc0x1B5B337E,"a"
 5792              		.align	2
 5795              	shellDesc0x1B5B337E:
 5796 0000 64656C65 		.ascii	"delete\000"
 5796      746500
 5797              		.section	.rodata.shellDesc0x1B5B4100,"a"
 5798              		.align	2
 5801              	shellDesc0x1B5B4100:
 5802 0000 757000   		.ascii	"up\000"
 5803              		.section	.rodata.shellDesc0x1B5B4200,"a"
 5804              		.align	2
 5807              	shellDesc0x1B5B4200:
 5808 0000 646F776E 		.ascii	"down\000"
 5808      00
 5809              		.section	.rodata.shellDesc0x1B5B4300,"a"
 5810              		.align	2
 5813              	shellDesc0x1B5B4300:
 5814 0000 72696768 		.ascii	"right\000"
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 160


 5814      7400
 5815              		.section	.rodata.shellDesc0x1B5B4400,"a"
 5816              		.align	2
 5819              	shellDesc0x1B5B4400:
 5820 0000 6C656674 		.ascii	"left\000"
 5820      00
 5821              		.section	.rodata.shellDesc0x7F000000,"a"
 5822              		.align	2
 5825              	shellDesc0x7F000000:
 5826 0000 6261636B 		.ascii	"backspace\000"
 5826      73706163 
 5826      6500
 5827              		.section	.rodata.shellDescclear,"a"
 5828              		.align	2
 5831              	shellDescclear:
 5832 0000 636C6561 		.ascii	"clear console\000"
 5832      7220636F 
 5832      6E736F6C 
 5832      6500
 5833              		.section	.rodata.shellDesccmds,"a"
 5834              		.align	2
 5837              	shellDesccmds:
 5838 0000 6C697374 		.ascii	"list all cmd\000"
 5838      20616C6C 
 5838      20636D64 
 5838      00
 5839              		.section	.rodata.shellDeschelp,"a"
 5840              		.align	2
 5843              	shellDeschelp:
 5844 0000 73686F77 		.ascii	"show command info\015\012help [cmd]\000"
 5844      20636F6D 
 5844      6D616E64 
 5844      20696E66 
 5844      6F0D0A68 
 5845              		.section	.rodata.shellDesckeys,"a"
 5846              		.align	2
 5849              	shellDesckeys:
 5850 0000 6C697374 		.ascii	"list all key\000"
 5850      20616C6C 
 5850      206B6579 
 5850      00
 5851              		.section	.rodata.shellDescsetVar,"a"
 5852              		.align	2
 5855              	shellDescsetVar:
 5856 0000 73657420 		.ascii	"set var\000"
 5856      76617200 
 5857              		.section	.rodata.shellDescusers,"a"
 5858              		.align	2
 5861              	shellDescusers:
 5862 0000 6C697374 		.ascii	"list all user\000"
 5862      20616C6C 
 5862      20757365 
 5862      7200
 5863              		.section	.rodata.shellDescvars,"a"
 5864              		.align	2
 5867              	shellDescvars:
 5868 0000 6C697374 		.ascii	"list all var\000"
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 161


 5868      20616C6C 
 5868      20766172 
 5868      00
 5869              		.section	.rodata.shellPasswordDefaultUser,"a"
 5870              		.align	2
 5873              	shellPasswordDefaultUser:
 5874 0000 00       		.space	1
 5875              		.section	shellCommand,"a"
 5876              		.align	2
 5879              	shellCommandclear:
 5880 0000 00210000 		.word	8448
 5881 0004 00000000 		.word	shellCmdclear
 5882 0008 00000000 		.word	shellClear
 5883 000c 00000000 		.word	shellDescclear
 5886              	shellCommandkeys:
 5887 0010 00210000 		.word	8448
 5888 0014 00000000 		.word	shellCmdkeys
 5889 0018 00000000 		.word	shellKeys
 5890 001c 00000000 		.word	shellDesckeys
 5893              	shellCommandvars:
 5894 0020 00210000 		.word	8448
 5895 0024 00000000 		.word	shellCmdvars
 5896 0028 00000000 		.word	shellVars
 5897 002c 00000000 		.word	shellDescvars
 5900              	shellCommandcmds:
 5901 0030 00210000 		.word	8448
 5902 0034 00000000 		.word	shellCmdcmds
 5903 0038 00000000 		.word	shellCmds
 5904 003c 00000000 		.word	shellDesccmds
 5907              	shellCommandusers:
 5908 0040 00210000 		.word	8448
 5909 0044 00000000 		.word	shellCmdusers
 5910 0048 00000000 		.word	shellUsers
 5911 004c 00000000 		.word	shellDescusers
 5914              	shellCommandhelp:
 5915 0050 00200000 		.word	8192
 5916 0054 00000000 		.word	shellCmdhelp
 5917 0058 00000000 		.word	shellHelp
 5918 005c 00000000 		.word	shellDeschelp
 5921              	shellKey0x0D000000:
 5922 0060 00190000 		.word	6400
 5923 0064 0000000D 		.word	218103808
 5924 0068 00000000 		.word	shellEnter
 5925 006c 00000000 		.word	shellDesc0x0D000000
 5928              	shellKey0x0A000000:
 5929 0070 00190000 		.word	6400
 5930 0074 0000000A 		.word	167772160
 5931 0078 00000000 		.word	shellEnter
 5932 007c 00000000 		.word	shellDesc0x0A000000
 5935              	shellKey0x1B5B337E:
 5936 0080 00190000 		.word	6400
 5937 0084 7E335B1B 		.word	458961790
 5938 0088 00000000 		.word	shellDelete
 5939 008c 00000000 		.word	shellDesc0x1B5B337E
 5942              	shellKey0x7F000000:
 5943 0090 00190000 		.word	6400
 5944 0094 0000007F 		.word	2130706432
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 162


 5945 0098 00000000 		.word	shellBackspace
 5946 009c 00000000 		.word	shellDesc0x7F000000
 5949              	shellKey0x08000000:
 5950 00a0 00190000 		.word	6400
 5951 00a4 00000008 		.word	134217728
 5952 00a8 00000000 		.word	shellBackspace
 5953 00ac 00000000 		.word	shellDesc0x08000000
 5956              	shellKey0x09000000:
 5957 00b0 00090000 		.word	2304
 5958 00b4 00000009 		.word	150994944
 5959 00b8 00000000 		.word	shellTab
 5960 00bc 00000000 		.word	shellDesc0x09000000
 5963              	shellKey0x1B5B4400:
 5964 00c0 00190000 		.word	6400
 5965 00c4 00445B1B 		.word	458966016
 5966 00c8 00000000 		.word	shellLeft
 5967 00cc 00000000 		.word	shellDesc0x1B5B4400
 5970              	shellKey0x1B5B4300:
 5971 00d0 00190000 		.word	6400
 5972 00d4 00435B1B 		.word	458965760
 5973 00d8 00000000 		.word	shellRight
 5974 00dc 00000000 		.word	shellDesc0x1B5B4300
 5977              	shellKey0x1B5B4200:
 5978 00e0 00090000 		.word	2304
 5979 00e4 00425B1B 		.word	458965504
 5980 00e8 00000000 		.word	shellDown
 5981 00ec 00000000 		.word	shellDesc0x1B5B4200
 5984              	shellKey0x1B5B4100:
 5985 00f0 00090000 		.word	2304
 5986 00f4 00415B1B 		.word	458965248
 5987 00f8 00000000 		.word	shellUp
 5988 00fc 00000000 		.word	shellDesc0x1B5B4100
 5991              	shellCommandsetVar:
 5992 0100 00210000 		.word	8448
 5993 0104 00000000 		.word	shellCmdsetVar
 5994 0108 00000000 		.word	shellSetVar
 5995 010c 00000000 		.word	shellDescsetVar
 5998              	shellUserDefault:
 5999 0110 00080000 		.word	2048
 6000 0114 00000000 		.word	shellCmdDefaultUser
 6001 0118 00000000 		.word	shellPasswordDefaultUser
 6002 011c 00000000 		.word	shellDesDefaultUser
 6003              		.text
 6004              	.Letext0:
 6005              		.file 2 "SYS/shell/shell.h"
 6006              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\lib\\gcc\\arm-none
 6007              		.file 4 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 6008              		.file 5 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 6009              		.file 6 "SYS/shell/shell_ext.h"
 6010              		.file 7 "SYS/delay/delay.h"
 6011              		.file 8 "<built-in>"
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 163


DEFINED SYMBOLS
                            *ABS*:00000000 shell.c
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:18     .text.shellAdd:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:25     .text.shellAdd:00000000 shellAdd
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:79     .text.shellAdd:00000020 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:84     .text.shellStringCopy:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:90     .text.shellStringCopy:00000000 shellStringCopy
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:137    .text.shellStringCompare:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:143    .text.shellStringCompare:00000000 shellStringCompare
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:218    .text.shellGetCommandDesc:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:224    .text.shellGetCommandDesc:00000000 shellGetCommandDesc
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:281    .text.shellParserParam:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:287    .text.shellParserParam:00000000 shellParserParam
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:472    .text.shellHistoryAdd:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:478    .text.shellHistoryAdd:00000000 shellHistoryAdd
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:577    .text.shellRemoveParamQuotes:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:583    .text.shellRemoveParamQuotes:00000000 shellRemoveParamQuotes
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:685    .text.shellGetCurrent:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:692    .text.shellGetCurrent:00000000 shellGetCurrent
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:743    .text.shellGetCurrent:00000028 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:748    .text.shellWriteByte:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:755    .text.shellWriteByte:00000000 shellWriteByte
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:787    .text.shellRight:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:794    .text.shellRight:00000000 shellRight
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:837    .text.shellLeft:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:844    .text.shellLeft:00000000 shellLeft
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:882    .text.shellWriteString:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:889    .text.shellWriteString:00000000 shellWriteString
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:957    .rodata.shellSetUser.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:973    .text.shellSetUser:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:979    .text.shellSetUser:00000000 shellSetUser
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1070   .text.shellSetUser:00000058 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1076   .rodata.shellWriteCommandLine.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1092   .text.shellWriteCommandLine:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1098   .text.shellWriteCommandLine:00000000 shellWriteCommandLine
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1181   .text.shellWriteCommandLine:0000004c $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1190   .rodata.shellCheckPassword.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1194   .text.shellCheckPassword:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1200   .text.shellCheckPassword:00000000 shellCheckPassword
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1257   .text.shellCheckPassword:00000038 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1263   .text.shellClear:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1270   .text.shellClear:00000000 shellClear
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1298   .text.shellClear:00000010 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1303   .text.shellPrint:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1310   .text.shellPrint:00000000 shellPrint
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1380   .text.shellScan:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1387   .text.shellScan:00000000 shellScan
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1529   .text.shellScan:00000074 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1534   .text.shellCheckPermission:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1541   .text.shellCheckPermission:00000000 shellCheckPermission
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1607   .text.shellToHex:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1614   .text.shellToHex:00000000 shellToHex
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1680   .text.shellGetCommandName:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1686   .text.shellGetCommandName:00000000 shellGetCommandName
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1784   .text.shellGetCommandName:00000040 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1789   .text.shellToDec:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1796   .text.shellToDec:00000000 shellToDec
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 164


C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1918   .text.shellToDec:0000005c $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1923   .rodata.shellWriteReturnValue.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1933   .text.shellWriteReturnValue:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:1939   .text.shellWriteReturnValue:00000000 shellWriteReturnValue
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2044   .text.shellWriteReturnValue:0000006c $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2052   .rodata.shellListItem.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2068   .text.shellListItem:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2075   .text.shellListItem:00000000 shellListItem
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2199   .text.shellListItem:0000007c $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2208   .rodata.shellListCommand.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2212   .text.shellListCommand:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2219   .text.shellListCommand:00000000 shellListCommand
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2301   .text.shellListCommand:00000044 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2306   .text.shellCmds:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2313   .text.shellCmds:00000000 shellCmds
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2341   .rodata.shellListVar.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2345   .text.shellListVar:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2352   .text.shellListVar:00000000 shellListVar
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2437   .text.shellListVar:00000048 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2442   .text.shellVars:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2449   .text.shellVars:00000000 shellVars
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2477   .rodata.shellListUser.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2481   .text.shellListUser:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2488   .text.shellListUser:00000000 shellListUser
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2570   .text.shellListUser:00000044 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2575   .text.shellUsers:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2582   .text.shellUsers:00000000 shellUsers
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2610   .rodata.shellListKey.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2614   .text.shellListKey:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2621   .text.shellListKey:00000000 shellListKey
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2703   .text.shellListKey:00000044 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2708   .text.shellKeys:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2715   .text.shellKeys:00000000 shellKeys
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2743   .text.shellListAll:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2750   .text.shellListAll:00000000 shellListAll
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2772   .rodata.shellDeleteCommandLine.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2776   .text.shellDeleteCommandLine:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2783   .text.shellDeleteCommandLine:00000000 shellDeleteCommandLine
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2828   .text.shellDeleteCommandLine:0000001c $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2833   .text.shellClearCommandLine:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2840   .text.shellClearCommandLine:00000000 shellClearCommandLine
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2903   .text.shellHistory:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:2909   .text.shellHistory:00000000 shellHistory
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3033   .text.shellHistory:00000094 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3038   .text.shellUp:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3045   .text.shellUp:00000000 shellUp
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3068   .text.shellDown:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3075   .text.shellDown:00000000 shellDown
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3098   .text.shellTab:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3105   .text.shellTab:00000000 shellTab
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3367   .text.shellTab:00000110 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3373   .rodata.shellInsertByte.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3377   .text.shellInsertByte:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3384   .text.shellInsertByte:00000000 shellInsertByte
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3617   .text.shellInsertByte:000000b8 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3622   .text.shellDeleteByte:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3629   .text.shellDeleteByte:00000000 shellDeleteByte
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 165


C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3874   .text.shellBackspace:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3881   .text.shellBackspace:00000000 shellBackspace
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3904   .text.shellDelete:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3911   .text.shellDelete:00000000 shellDelete
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3934   .text.shellSeekCommand:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:3941   .text.shellSeekCommand:00000000 shellSeekCommand
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4067   .rodata.shellInit.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4071   .text.shellInit:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4078   .text.shellInit:00000000 shellInit
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4202   .text.shellInit:00000080 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4210   .rodata.shellHelp.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4217   .text.shellHelp:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4224   .text.shellHelp:00000000 shellHelp
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4334   .text.shellHelp:00000070 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4342   .text.shellGetVarValue:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4349   .text.shellGetVarValue:00000000 shellGetVarValue
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4373   .text.shellGetVarValue:00000012 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4379   .text.shellGetVarValue:00000018 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4455   .rodata.shellShowVar.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4462   .text.shellShowVar:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4468   .text.shellShowVar:00000000 shellShowVar
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4625   .text.shellShowVar:000000a8 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4634   .rodata.shellSetVarValue.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4641   .text.shellSetVarValue:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4648   .text.shellSetVarValue:00000000 shellSetVarValue
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4681   .text.shellSetVarValue:0000001e $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4687   .text.shellSetVarValue:00000024 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4782   .text.shellSetVarValue:00000070 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4788   .rodata.shellSetVar.str1.4:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4795   .text.shellSetVar:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4802   .text.shellSetVar:00000000 shellSetVar
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4900   .text.shellSetVar:0000005c $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4906   .text.shellRunCommand:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:4913   .text.shellRunCommand:00000000 shellRunCommand
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5050   .text.shellNormalInput:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5057   .text.shellNormalInput:00000000 shellNormalInput
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5084   .text.shellExec:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5091   .text.shellExec:00000000 shellExec
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5197   .text.shellExec:00000060 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5203   .text.shellEnter:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5210   .text.shellEnter:00000000 shellEnter
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5239   .text.shellHandler:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5246   .text.shellHandler:00000000 shellHandler
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5464   .text.shellHandler:000000d4 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5469   .text.shellTask:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5476   .text.shellTask:00000000 shellTask
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5539   .text.shellRun:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5546   .text.shellRun:00000000 shellRun
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5650   .text.shellRun:0000005c $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5879   shellCommand:00000000 shellCommandclear
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5831   .rodata.shellDescclear:00000000 shellDescclear
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5723   .rodata.shellCmdclear:00000000 shellCmdclear
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5886   shellCommand:00000010 shellCommandkeys
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5849   .rodata.shellDesckeys:00000000 shellDesckeys
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5741   .rodata.shellCmdkeys:00000000 shellCmdkeys
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5893   shellCommand:00000020 shellCommandvars
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5867   .rodata.shellDescvars:00000000 shellDescvars
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 166


C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5759   .rodata.shellCmdvars:00000000 shellCmdvars
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5900   shellCommand:00000030 shellCommandcmds
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5837   .rodata.shellDesccmds:00000000 shellDesccmds
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5729   .rodata.shellCmdcmds:00000000 shellCmdcmds
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5907   shellCommand:00000040 shellCommandusers
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5861   .rodata.shellDescusers:00000000 shellDescusers
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5753   .rodata.shellCmdusers:00000000 shellCmdusers
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5914   shellCommand:00000050 shellCommandhelp
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5843   .rodata.shellDeschelp:00000000 shellDeschelp
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5735   .rodata.shellCmdhelp:00000000 shellCmdhelp
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5921   shellCommand:00000060 shellKey0x0D000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5789   .rodata.shellDesc0x0D000000:00000000 shellDesc0x0D000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5928   shellCommand:00000070 shellKey0x0A000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5783   .rodata.shellDesc0x0A000000:00000000 shellDesc0x0A000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5935   shellCommand:00000080 shellKey0x1B5B337E
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5795   .rodata.shellDesc0x1B5B337E:00000000 shellDesc0x1B5B337E
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5942   shellCommand:00000090 shellKey0x7F000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5825   .rodata.shellDesc0x7F000000:00000000 shellDesc0x7F000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5949   shellCommand:000000a0 shellKey0x08000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5771   .rodata.shellDesc0x08000000:00000000 shellDesc0x08000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5956   shellCommand:000000b0 shellKey0x09000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5777   .rodata.shellDesc0x09000000:00000000 shellDesc0x09000000
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5963   shellCommand:000000c0 shellKey0x1B5B4400
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5819   .rodata.shellDesc0x1B5B4400:00000000 shellDesc0x1B5B4400
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5970   shellCommand:000000d0 shellKey0x1B5B4300
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5813   .rodata.shellDesc0x1B5B4300:00000000 shellDesc0x1B5B4300
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5977   shellCommand:000000e0 shellKey0x1B5B4200
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5807   .rodata.shellDesc0x1B5B4200:00000000 shellDesc0x1B5B4200
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5984   shellCommand:000000f0 shellKey0x1B5B4100
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5801   .rodata.shellDesc0x1B5B4100:00000000 shellDesc0x1B5B4100
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5991   shellCommand:00000100 shellCommandsetVar
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5855   .rodata.shellDescsetVar:00000000 shellDescsetVar
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5747   .rodata.shellCmdsetVar:00000000 shellCmdsetVar
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5998   shellCommand:00000110 shellUserDefault
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5765   .rodata.shellDesDefaultUser:00000000 shellDesDefaultUser
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5873   .rodata.shellPasswordDefaultUser:00000000 shellPasswordDefaultUser
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5717   .rodata.shellCmdDefaultUser:00000000 shellCmdDefaultUser
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5700   .bss.buffer.0:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5704   .bss.buffer.0:00000000 buffer.0
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5707   .bss.shellList:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5711   .bss.shellList:00000000 shellList
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5714   .rodata.shellCmdDefaultUser:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5720   .rodata.shellCmdclear:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5726   .rodata.shellCmdcmds:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5732   .rodata.shellCmdhelp:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5738   .rodata.shellCmdkeys:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5744   .rodata.shellCmdsetVar:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5750   .rodata.shellCmdusers:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5756   .rodata.shellCmdvars:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5762   .rodata.shellDesDefaultUser:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5768   .rodata.shellDesc0x08000000:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5774   .rodata.shellDesc0x09000000:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5780   .rodata.shellDesc0x0A000000:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5786   .rodata.shellDesc0x0D000000:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5792   .rodata.shellDesc0x1B5B337E:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5798   .rodata.shellDesc0x1B5B4100:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5804   .rodata.shellDesc0x1B5B4200:00000000 $d
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s 			page 167


C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5810   .rodata.shellDesc0x1B5B4300:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5816   .rodata.shellDesc0x1B5B4400:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5822   .rodata.shellDesc0x7F000000:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5828   .rodata.shellDescclear:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5834   .rodata.shellDesccmds:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5840   .rodata.shellDeschelp:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5846   .rodata.shellDesckeys:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5852   .rodata.shellDescsetVar:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5858   .rodata.shellDescusers:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5864   .rodata.shellDescvars:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5870   .rodata.shellPasswordDefaultUser:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccJ0cyVa.s:5876   shellCommand:00000000 $d

UNDEFINED SYMBOLS
strcmp
strlen
delay_us
vsnprintf
vsscanf
strncmp
_shell_command_start
_shell_command_end
shellExtRun
