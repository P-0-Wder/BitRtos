ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"periph_serial.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.USART_Structure_Normal_Setting,"ax",%progbits
  22              		.align	2
  23              		.thumb
  24              		.thumb_func
  26              	USART_Structure_Normal_Setting:
  27              	.LFB123:
  28              		.file 1 "Bsp/periph_serial.c"
   1:Bsp/periph_serial.c **** #include "periph_serial.h"
   2:Bsp/periph_serial.c **** #include "periph_gpio.h"
   3:Bsp/periph_serial.c **** #include "periph_nvic.h"
   4:Bsp/periph_serial.c **** #include "periph_dma.h"
   5:Bsp/periph_serial.c **** #include "stm32f4xx_usart.h"
   6:Bsp/periph_serial.c **** #include "stm32f4xx_rcc.h"
   7:Bsp/periph_serial.c **** #include "stm32f4xx_dma.h"
   8:Bsp/periph_serial.c **** 
   9:Bsp/periph_serial.c **** uint8_t Serial_TX_Buff[Serial_Port_Sum][SERIAL_MAX_RECLEN];
  10:Bsp/periph_serial.c **** uint8_t Serial_RX_Buff[Serial_Port_Sum][SERIAL_MAX_RECLEN];
  11:Bsp/periph_serial.c **** 
  12:Bsp/periph_serial.c **** Serial_IRQ_Callback IRQ_Callback[Serial_Port_Sum] = {NULL};
  13:Bsp/periph_serial.c **** 
  14:Bsp/periph_serial.c **** #ifdef STM32F40XX
  15:Bsp/periph_serial.c **** static void (*Serial_IO_Init[Serial_Port_Sum])(void) = {GPIO_USART1_IO_Init,
  16:Bsp/periph_serial.c **** 														GPIO_USART2_IO_Init,
  17:Bsp/periph_serial.c **** 														GPIO_USART3_IO_Init,
  18:Bsp/periph_serial.c **** 														GPIO_USART6_IO_Init};
  19:Bsp/periph_serial.c **** 
  20:Bsp/periph_serial.c **** static void (*RCC_APBPeriphClockCmd[Serial_Port_Sum])(uint32_t RCC_APB2Periph, FunctionalState NewS
  21:Bsp/periph_serial.c **** 																											RCC_APB1PeriphClockCmd,
  22:Bsp/periph_serial.c **** 																											RCC_APB1PeriphClockCmd,
  23:Bsp/periph_serial.c **** 																											RCC_APB2PeriphClockCmd};
  24:Bsp/periph_serial.c **** 
  25:Bsp/periph_serial.c **** static uint32_t RCC_APBPeriph_SerialCLK[Serial_Port_Sum] = {RCC_APB2Periph_USART1,
  26:Bsp/periph_serial.c **** 															RCC_APB1Periph_USART2,
  27:Bsp/periph_serial.c **** 															RCC_APB1Periph_USART3,
  28:Bsp/periph_serial.c **** 															RCC_APB2Periph_USART6};
  29:Bsp/periph_serial.c **** 
  30:Bsp/periph_serial.c **** USART_TypeDef *Serial_Port[Serial_Port_Sum] = {USART1,
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 2


  31:Bsp/periph_serial.c **** 											   USART2,
  32:Bsp/periph_serial.c **** 											   USART3,
  33:Bsp/periph_serial.c **** 											   USART6};
  34:Bsp/periph_serial.c **** 
  35:Bsp/periph_serial.c **** static uint8_t Serial_RX_IRQ_Channel[Serial_Port_Sum] = {USART1_IRQn,
  36:Bsp/periph_serial.c **** 														 USART2_IRQn,
  37:Bsp/periph_serial.c **** 														 USART3_IRQn,
  38:Bsp/periph_serial.c **** 														 USART6_IRQn};
  39:Bsp/periph_serial.c **** 
  40:Bsp/periph_serial.c **** static uint8_t Serial_DMA_TX_IRQ_Channel[Serial_Port_Sum] = {DMA2_Stream7_IRQn,
  41:Bsp/periph_serial.c **** 															 DMA1_Stream6_IRQn,
  42:Bsp/periph_serial.c **** 															 DMA1_Stream3_IRQn,
  43:Bsp/periph_serial.c **** 															 DMA2_Stream7_IRQn};
  44:Bsp/periph_serial.c **** 
  45:Bsp/periph_serial.c **** static uint32_t Serial_DMA_CLK[Serial_Port_Sum] = {Serial1_DMA_CLK,
  46:Bsp/periph_serial.c **** 												   Serial2_DMA_CLK,
  47:Bsp/periph_serial.c **** 												   Serial3_DMA_CLK,
  48:Bsp/periph_serial.c **** 												   Serial6_DMA_CLK};
  49:Bsp/periph_serial.c **** 
  50:Bsp/periph_serial.c **** static uint32_t Serial_DMA_RX_Channel[Serial_Port_Sum] = {Serial1_DMA_RX_Channel,
  51:Bsp/periph_serial.c **** 														  Serial2_DMA_RX_Channel,
  52:Bsp/periph_serial.c **** 														  Serial3_DMA_RX_Channel,
  53:Bsp/periph_serial.c **** 														  Serial6_DMA_RX_Channel};
  54:Bsp/periph_serial.c **** 
  55:Bsp/periph_serial.c **** static DMA_Stream_TypeDef *Serial_DMA_RX_Stream[Serial_Port_Sum] = {Serial1_DMA_RX_Stream,
  56:Bsp/periph_serial.c **** 																	Serial2_DMA_RX_Stream,
  57:Bsp/periph_serial.c **** 																	Serial3_DMA_RX_Stream,
  58:Bsp/periph_serial.c **** 																	Serial6_DMA_RX_Stream};
  59:Bsp/periph_serial.c **** 
  60:Bsp/periph_serial.c **** static uint32_t Serial_DMA_TX_Channel[Serial_Port_Sum] = {Serial1_DMA_TX_Channel,
  61:Bsp/periph_serial.c **** 														  Serial2_DMA_TX_Channel,
  62:Bsp/periph_serial.c **** 														  Serial3_DMA_TX_Channel,
  63:Bsp/periph_serial.c **** 														  Serial6_DMA_TX_Channel};
  64:Bsp/periph_serial.c **** 
  65:Bsp/periph_serial.c **** static DMA_Stream_TypeDef *Serial_DMA_TX_Stream[Serial_Port_Sum] = {Serial1_DMA_TX_Stream,
  66:Bsp/periph_serial.c **** 																	Serial2_DMA_TX_Stream,
  67:Bsp/periph_serial.c **** 																	Serial3_DMA_TX_Stream,
  68:Bsp/periph_serial.c **** 																	Serial6_DMA_TX_Stream};
  69:Bsp/periph_serial.c **** 
  70:Bsp/periph_serial.c **** static uint32_t DMA_TX_FinishFlag[Serial_Port_Sum] = {DMA_FLAG_TCIF7,
  71:Bsp/periph_serial.c **** 													  DMA_FLAG_TCIF6,
  72:Bsp/periph_serial.c **** 													  DMA_FLAG_TCIF3,
  73:Bsp/periph_serial.c **** 													  DMA_FLAG_TCIF7};
  74:Bsp/periph_serial.c **** #endif
  75:Bsp/periph_serial.c **** 
  76:Bsp/periph_serial.c **** static void USART_Structure_Normal_Setting(USART_InitTypeDef *USART_InitStructure, uint32_t bound)
  77:Bsp/periph_serial.c **** {
  29              		.loc 1 77 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              	.LVL0:
  78:Bsp/periph_serial.c **** 	USART_InitStructure->USART_BaudRate = bound;
  35              		.loc 1 78 0
  36 0000 0160     		str	r1, [r0]
  79:Bsp/periph_serial.c **** 	USART_InitStructure->USART_WordLength = USART_WordLength_8b;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 3


  37              		.loc 1 79 0
  38 0002 0023     		movs	r3, #0
  39 0004 8380     		strh	r3, [r0, #4]	@ movhi
  80:Bsp/periph_serial.c **** 	USART_InitStructure->USART_StopBits = USART_StopBits_1;
  40              		.loc 1 80 0
  41 0006 C380     		strh	r3, [r0, #6]	@ movhi
  81:Bsp/periph_serial.c **** 	USART_InitStructure->USART_Parity = USART_Parity_No;
  42              		.loc 1 81 0
  43 0008 0381     		strh	r3, [r0, #8]	@ movhi
  82:Bsp/periph_serial.c **** 	USART_InitStructure->USART_HardwareFlowControl = USART_HardwareFlowControl_None;
  44              		.loc 1 82 0
  45 000a 8381     		strh	r3, [r0, #12]	@ movhi
  83:Bsp/periph_serial.c **** 	USART_InitStructure->USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
  46              		.loc 1 83 0
  47 000c 0C23     		movs	r3, #12
  48 000e 4381     		strh	r3, [r0, #10]	@ movhi
  49 0010 7047     		bx	lr
  50              		.cfi_endproc
  51              	.LFE123:
  53 0012 00BF     		.section	.text.USART_Structure_SBus_Setting,"ax",%progbits
  54              		.align	2
  55              		.thumb
  56              		.thumb_func
  58              	USART_Structure_SBus_Setting:
  59              	.LFB124:
  84:Bsp/periph_serial.c **** }
  85:Bsp/periph_serial.c **** 
  86:Bsp/periph_serial.c **** static void USART_Structure_SBus_Setting(USART_InitTypeDef *USART_InitStructure, uint32_t bound)
  87:Bsp/periph_serial.c **** {
  60              		.loc 1 87 0
  61              		.cfi_startproc
  62              		@ args = 0, pretend = 0, frame = 0
  63              		@ frame_needed = 0, uses_anonymous_args = 0
  64              		@ link register save eliminated.
  65              	.LVL1:
  88:Bsp/periph_serial.c **** 	USART_InitStructure->USART_BaudRate = bound;
  66              		.loc 1 88 0
  67 0000 0160     		str	r1, [r0]
  89:Bsp/periph_serial.c **** 	USART_InitStructure->USART_WordLength = USART_WordLength_9b;
  68              		.loc 1 89 0
  69 0002 4FF48053 		mov	r3, #4096
  70 0006 8380     		strh	r3, [r0, #4]	@ movhi
  90:Bsp/periph_serial.c **** 	USART_InitStructure->USART_StopBits = USART_StopBits_2;
  71              		.loc 1 90 0
  72 0008 4FF40053 		mov	r3, #8192
  73 000c C380     		strh	r3, [r0, #6]	@ movhi
  91:Bsp/periph_serial.c **** 	USART_InitStructure->USART_Parity = USART_Parity_Even;
  74              		.loc 1 91 0
  75 000e 4FF48063 		mov	r3, #1024
  76 0012 0381     		strh	r3, [r0, #8]	@ movhi
  92:Bsp/periph_serial.c **** 	USART_InitStructure->USART_HardwareFlowControl = USART_HardwareFlowControl_None;
  77              		.loc 1 92 0
  78 0014 0023     		movs	r3, #0
  79 0016 8381     		strh	r3, [r0, #12]	@ movhi
  93:Bsp/periph_serial.c **** 	USART_InitStructure->USART_Mode = USART_Mode_Rx | USART_Mode_Tx;
  80              		.loc 1 93 0
  81 0018 0C23     		movs	r3, #12
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 4


  82 001a 4381     		strh	r3, [r0, #10]	@ movhi
  83 001c 7047     		bx	lr
  84              		.cfi_endproc
  85              	.LFE124:
  87 001e 00BF     		.section	.text.Serial_Get_IRQ_RxCallback,"ax",%progbits
  88              		.align	2
  89              		.global	Serial_Get_IRQ_RxCallback
  90              		.thumb
  91              		.thumb_func
  93              	Serial_Get_IRQ_RxCallback:
  94              	.LFB125:
  94:Bsp/periph_serial.c **** }
  95:Bsp/periph_serial.c **** 
  96:Bsp/periph_serial.c **** static void (*Serial_Structure_Setting[Serial_Func_Sum])(USART_InitTypeDef *USART_InitStructure, ui
  97:Bsp/periph_serial.c **** 																													USART_Structure_SBus_Setting};
  98:Bsp/periph_serial.c **** 
  99:Bsp/periph_serial.c **** Serial_IRQ_Callback Serial_Get_IRQ_RxCallback(Serial_List serial_id)
 100:Bsp/periph_serial.c **** {
  95              		.loc 1 100 0
  96              		.cfi_startproc
  97              		@ args = 0, pretend = 0, frame = 0
  98              		@ frame_needed = 0, uses_anonymous_args = 0
  99              		@ link register save eliminated.
 100              	.LVL2:
 101:Bsp/periph_serial.c **** 	if (serial_id >= Serial_Port_Sum)
 101              		.loc 1 101 0
 102 0000 0328     		cmp	r0, #3
 103 0002 03D8     		bhi	.L5
 102:Bsp/periph_serial.c **** 		return NULL;
 103:Bsp/periph_serial.c **** 
 104:Bsp/periph_serial.c **** 	return IRQ_Callback[serial_id];
 104              		.loc 1 104 0
 105 0004 024B     		ldr	r3, .L6
 106 0006 53F82000 		ldr	r0, [r3, r0, lsl #2]
 107              	.LVL3:
 108 000a 7047     		bx	lr
 109              	.LVL4:
 110              	.L5:
 102:Bsp/periph_serial.c **** 		return NULL;
 111              		.loc 1 102 0
 112 000c 0020     		movs	r0, #0
 113              	.LVL5:
 105:Bsp/periph_serial.c **** }
 114              		.loc 1 105 0
 115 000e 7047     		bx	lr
 116              	.L7:
 117              		.align	2
 118              	.L6:
 119 0010 00000000 		.word	.LANCHOR0
 120              		.cfi_endproc
 121              	.LFE125:
 123              		.section	.text.Serial_Set_IRQ_Callback,"ax",%progbits
 124              		.align	2
 125              		.global	Serial_Set_IRQ_Callback
 126              		.thumb
 127              		.thumb_func
 129              	Serial_Set_IRQ_Callback:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 5


 130              	.LFB126:
 106:Bsp/periph_serial.c **** 
 107:Bsp/periph_serial.c **** bool Serial_Set_IRQ_Callback(Serial_List serial_id, Serial_IRQ_Callback callback)
 108:Bsp/periph_serial.c **** {
 131              		.loc 1 108 0
 132              		.cfi_startproc
 133              		@ args = 0, pretend = 0, frame = 0
 134              		@ frame_needed = 0, uses_anonymous_args = 0
 135              		@ link register save eliminated.
 136              	.LVL6:
 109:Bsp/periph_serial.c **** 	if (serial_id >= Serial_Port_Sum)
 137              		.loc 1 109 0
 138 0000 0328     		cmp	r0, #3
 139 0002 04D8     		bhi	.L10
 110:Bsp/periph_serial.c **** 		return false;
 111:Bsp/periph_serial.c **** 
 112:Bsp/periph_serial.c **** 	IRQ_Callback[serial_id] = callback;
 140              		.loc 1 112 0
 141 0004 034B     		ldr	r3, .L11
 142 0006 43F82010 		str	r1, [r3, r0, lsl #2]
 113:Bsp/periph_serial.c **** 
 114:Bsp/periph_serial.c **** 	return true;
 143              		.loc 1 114 0
 144 000a 0120     		movs	r0, #1
 145              	.LVL7:
 146 000c 7047     		bx	lr
 147              	.LVL8:
 148              	.L10:
 110:Bsp/periph_serial.c **** 		return false;
 149              		.loc 1 110 0
 150 000e 0020     		movs	r0, #0
 151              	.LVL9:
 115:Bsp/periph_serial.c **** }
 152              		.loc 1 115 0
 153 0010 7047     		bx	lr
 154              	.L12:
 155 0012 00BF     		.align	2
 156              	.L11:
 157 0014 00000000 		.word	.LANCHOR0
 158              		.cfi_endproc
 159              	.LFE126:
 161              		.section	.text.Serial_IRQ_RX_Init,"ax",%progbits
 162              		.align	2
 163              		.global	Serial_IRQ_RX_Init
 164              		.thumb
 165              		.thumb_func
 167              	Serial_IRQ_RX_Init:
 168              	.LFB127:
 116:Bsp/periph_serial.c **** 
 117:Bsp/periph_serial.c **** void Serial_IRQ_RX_Init(Serial_List Serial, uint32_t bound, uint8_t PreemptionPriority, uint8_t Sub
 118:Bsp/periph_serial.c **** {
 169              		.loc 1 118 0
 170              		.cfi_startproc
 171              		@ args = 4, pretend = 0, frame = 16
 172              		@ frame_needed = 0, uses_anonymous_args = 0
 173              	.LVL10:
 174 0000 F0B5     		push	{r4, r5, r6, r7, lr}
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 6


 175              	.LCFI0:
 176              		.cfi_def_cfa_offset 20
 177              		.cfi_offset 4, -20
 178              		.cfi_offset 5, -16
 179              		.cfi_offset 6, -12
 180              		.cfi_offset 7, -8
 181              		.cfi_offset 14, -4
 182 0002 85B0     		sub	sp, sp, #20
 183              	.LCFI1:
 184              		.cfi_def_cfa_offset 40
 185 0004 0446     		mov	r4, r0
 186 0006 0D46     		mov	r5, r1
 187 0008 1646     		mov	r6, r2
 188 000a 1F46     		mov	r7, r3
 119:Bsp/periph_serial.c **** 	USART_InitTypeDef USART_InitStructure;
 120:Bsp/periph_serial.c **** 	Serial_IO_Init[Serial]();
 189              		.loc 1 120 0
 190 000c 174B     		ldr	r3, .L15
 191              	.LVL11:
 192 000e 53F82030 		ldr	r3, [r3, r0, lsl #2]
 193 0012 9847     		blx	r3
 194              	.LVL12:
 121:Bsp/periph_serial.c **** 
 122:Bsp/periph_serial.c **** 	RCC_APBPeriphClockCmd[Serial](RCC_APBPeriph_SerialCLK[Serial], ENABLE);
 195              		.loc 1 122 0
 196 0014 164B     		ldr	r3, .L15+4
 197 0016 53F82430 		ldr	r3, [r3, r4, lsl #2]
 198 001a 0121     		movs	r1, #1
 199 001c 154A     		ldr	r2, .L15+8
 200 001e 52F82400 		ldr	r0, [r2, r4, lsl #2]
 201 0022 9847     		blx	r3
 202              	.LVL13:
 123:Bsp/periph_serial.c **** 
 124:Bsp/periph_serial.c **** 	Serial_Structure_Setting[type](&USART_InitStructure, bound);
 203              		.loc 1 124 0
 204 0024 144B     		ldr	r3, .L15+12
 205 0026 9DF82820 		ldrb	r2, [sp, #40]	@ zero_extendqisi2
 206 002a 53F82230 		ldr	r3, [r3, r2, lsl #2]
 207 002e 2946     		mov	r1, r5
 208 0030 6846     		mov	r0, sp
 209 0032 9847     		blx	r3
 210              	.LVL14:
 125:Bsp/periph_serial.c **** 	USART_Init(Serial_Port[Serial], &USART_InitStructure);
 211              		.loc 1 125 0
 212 0034 114D     		ldr	r5, .L15+16
 213              	.LVL15:
 214 0036 6946     		mov	r1, sp
 215 0038 55F82400 		ldr	r0, [r5, r4, lsl #2]
 216 003c FFF7FEFF 		bl	USART_Init
 217              	.LVL16:
 126:Bsp/periph_serial.c **** 	USART_Cmd(Serial_Port[Serial], ENABLE);
 218              		.loc 1 126 0
 219 0040 0121     		movs	r1, #1
 220 0042 55F82400 		ldr	r0, [r5, r4, lsl #2]
 221 0046 FFF7FEFF 		bl	USART_Cmd
 222              	.LVL17:
 127:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_RXNE, ENABLE);
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 7


 223              		.loc 1 127 0
 224 004a 0122     		movs	r2, #1
 225 004c 40F22551 		movw	r1, #1317
 226 0050 55F82400 		ldr	r0, [r5, r4, lsl #2]
 227 0054 FFF7FEFF 		bl	USART_ITConfig
 228              	.LVL18:
 128:Bsp/periph_serial.c **** 
 129:Bsp/periph_serial.c **** 	periph_nvic_Structure_Setting(Serial_RX_IRQ_Channel[Serial], PreemptionPriority, SubPriority, ENAB
 229              		.loc 1 129 0
 230 0058 0123     		movs	r3, #1
 231 005a 3A46     		mov	r2, r7
 232 005c 3146     		mov	r1, r6
 233 005e 0848     		ldr	r0, .L15+20
 234 0060 005D     		ldrb	r0, [r0, r4]	@ zero_extendqisi2
 235 0062 FFF7FEFF 		bl	periph_nvic_Structure_Setting
 236              	.LVL19:
 130:Bsp/periph_serial.c **** }
 237              		.loc 1 130 0
 238 0066 05B0     		add	sp, sp, #20
 239              	.LCFI2:
 240              		.cfi_def_cfa_offset 20
 241              		@ sp needed
 242 0068 F0BD     		pop	{r4, r5, r6, r7, pc}
 243              	.LVL20:
 244              	.L16:
 245 006a 00BF     		.align	2
 246              	.L15:
 247 006c 00000000 		.word	.LANCHOR1
 248 0070 00000000 		.word	.LANCHOR2
 249 0074 00000000 		.word	.LANCHOR3
 250 0078 00000000 		.word	.LANCHOR4
 251 007c 00000000 		.word	.LANCHOR5
 252 0080 00000000 		.word	.LANCHOR6
 253              		.cfi_endproc
 254              	.LFE127:
 256              		.section	.text.Serial_DMA_RX_Init,"ax",%progbits
 257              		.align	2
 258              		.global	Serial_DMA_RX_Init
 259              		.thumb
 260              		.thumb_func
 262              	Serial_DMA_RX_Init:
 263              	.LFB128:
 131:Bsp/periph_serial.c **** 
 132:Bsp/periph_serial.c **** void Serial_DMA_RX_Init(Serial_List Serial, uint32_t bound, uint8_t PreemptionPriority, uint8_t Sub
 133:Bsp/periph_serial.c **** {
 264              		.loc 1 133 0
 265              		.cfi_startproc
 266              		@ args = 12, pretend = 0, frame = 80
 267              		@ frame_needed = 0, uses_anonymous_args = 0
 268              	.LVL21:
 269 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 270              	.LCFI3:
 271              		.cfi_def_cfa_offset 20
 272              		.cfi_offset 4, -20
 273              		.cfi_offset 5, -16
 274              		.cfi_offset 6, -12
 275              		.cfi_offset 7, -8
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 8


 276              		.cfi_offset 14, -4
 277 0002 97B0     		sub	sp, sp, #92
 278              	.LCFI4:
 279              		.cfi_def_cfa_offset 112
 280 0004 0446     		mov	r4, r0
 281 0006 0D46     		mov	r5, r1
 282 0008 1646     		mov	r6, r2
 283 000a 1F46     		mov	r7, r3
 134:Bsp/periph_serial.c **** 	USART_InitTypeDef USART_InitStructure;
 135:Bsp/periph_serial.c **** 	DMA_InitTypeDef DMA_InitStructure;
 136:Bsp/periph_serial.c **** 
 137:Bsp/periph_serial.c **** 	Serial_IO_Init[Serial]();
 284              		.loc 1 137 0
 285 000c 314B     		ldr	r3, .L19
 286              	.LVL22:
 287 000e 53F82030 		ldr	r3, [r3, r0, lsl #2]
 288 0012 9847     		blx	r3
 289              	.LVL23:
 138:Bsp/periph_serial.c **** 
 139:Bsp/periph_serial.c **** 	RCC_APBPeriphClockCmd[Serial](RCC_APBPeriph_SerialCLK[Serial], ENABLE);
 290              		.loc 1 139 0
 291 0014 304B     		ldr	r3, .L19+4
 292 0016 53F82430 		ldr	r3, [r3, r4, lsl #2]
 293 001a 0121     		movs	r1, #1
 294 001c 2F4A     		ldr	r2, .L19+8
 295 001e 52F82400 		ldr	r0, [r2, r4, lsl #2]
 296 0022 9847     		blx	r3
 297              	.LVL24:
 140:Bsp/periph_serial.c **** 	Serial_Structure_Setting[type](&USART_InitStructure, bound);
 298              		.loc 1 140 0
 299 0024 2E4B     		ldr	r3, .L19+12
 300 0026 9DF87820 		ldrb	r2, [sp, #120]	@ zero_extendqisi2
 301 002a 53F82230 		ldr	r3, [r3, r2, lsl #2]
 302 002e 2946     		mov	r1, r5
 303 0030 12A8     		add	r0, sp, #72
 304 0032 9847     		blx	r3
 305              	.LVL25:
 141:Bsp/periph_serial.c **** 	USART_Init(Serial_Port[Serial], &USART_InitStructure);
 306              		.loc 1 141 0
 307 0034 2B4D     		ldr	r5, .L19+16
 308              	.LVL26:
 309 0036 12A9     		add	r1, sp, #72
 310 0038 55F82400 		ldr	r0, [r5, r4, lsl #2]
 311 003c FFF7FEFF 		bl	USART_Init
 312              	.LVL27:
 142:Bsp/periph_serial.c **** 
 143:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_RXNE, DISABLE);
 313              		.loc 1 143 0
 314 0040 0022     		movs	r2, #0
 315 0042 40F22551 		movw	r1, #1317
 316 0046 55F82400 		ldr	r0, [r5, r4, lsl #2]
 317 004a FFF7FEFF 		bl	USART_ITConfig
 318              	.LVL28:
 144:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_TC, DISABLE);
 319              		.loc 1 144 0
 320 004e 0022     		movs	r2, #0
 321 0050 40F22661 		movw	r1, #1574
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 9


 322 0054 55F82400 		ldr	r0, [r5, r4, lsl #2]
 323 0058 FFF7FEFF 		bl	USART_ITConfig
 324              	.LVL29:
 145:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_TXE, DISABLE);
 325              		.loc 1 145 0
 326 005c 0022     		movs	r2, #0
 327 005e 40F22771 		movw	r1, #1831
 328 0062 55F82400 		ldr	r0, [r5, r4, lsl #2]
 329 0066 FFF7FEFF 		bl	USART_ITConfig
 330              	.LVL30:
 146:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_IDLE, ENABLE);
 331              		.loc 1 146 0
 332 006a 0122     		movs	r2, #1
 333 006c 40F22441 		movw	r1, #1060
 334 0070 55F82400 		ldr	r0, [r5, r4, lsl #2]
 335 0074 FFF7FEFF 		bl	USART_ITConfig
 336              	.LVL31:
 147:Bsp/periph_serial.c **** 
 148:Bsp/periph_serial.c **** 	USART_DMACmd(Serial_Port[Serial], USART_DMAReq_Rx, ENABLE);
 337              		.loc 1 148 0
 338 0078 0122     		movs	r2, #1
 339 007a 4021     		movs	r1, #64
 340 007c 55F82400 		ldr	r0, [r5, r4, lsl #2]
 341 0080 FFF7FEFF 		bl	USART_DMACmd
 342              	.LVL32:
 149:Bsp/periph_serial.c **** 	periph_DMA_Serial(&DMA_InitStructure, Serial_DMA_RX_Channel[Serial], (uint32_t)&Serial_Port[Serial
 343              		.loc 1 149 0
 344 0084 55F82420 		ldr	r2, [r5, r4, lsl #2]
 345 0088 174B     		ldr	r3, .L19+20
 346 008a 53F82410 		ldr	r1, [r3, r4, lsl #2]
 347 008e 0223     		movs	r3, #2
 348 0090 0193     		str	r3, [sp, #4]
 349 0092 BDF87430 		ldrh	r3, [sp, #116]
 350 0096 0093     		str	r3, [sp]
 351 0098 1C9B     		ldr	r3, [sp, #112]
 352 009a 0432     		adds	r2, r2, #4
 353 009c 03A8     		add	r0, sp, #12
 354 009e FFF7FEFF 		bl	periph_DMA_Serial
 355              	.LVL33:
 150:Bsp/periph_serial.c **** 	periph_DMA_WithoutIRQ_Init(Serial_DMA_CLK[Serial], Serial_DMA_RX_Stream[Serial], &DMA_InitStructur
 356              		.loc 1 150 0
 357 00a2 0123     		movs	r3, #1
 358 00a4 03AA     		add	r2, sp, #12
 359 00a6 1149     		ldr	r1, .L19+24
 360 00a8 51F82410 		ldr	r1, [r1, r4, lsl #2]
 361 00ac 1048     		ldr	r0, .L19+28
 362 00ae 50F82400 		ldr	r0, [r0, r4, lsl #2]
 363 00b2 FFF7FEFF 		bl	periph_DMA_WithoutIRQ_Init
 364              	.LVL34:
 151:Bsp/periph_serial.c **** 
 152:Bsp/periph_serial.c **** 	periph_nvic_Structure_Setting(Serial_RX_IRQ_Channel[Serial], PreemptionPriority, SubPriority, ENAB
 365              		.loc 1 152 0
 366 00b6 0123     		movs	r3, #1
 367 00b8 3A46     		mov	r2, r7
 368 00ba 3146     		mov	r1, r6
 369 00bc 0D48     		ldr	r0, .L19+32
 370 00be 005D     		ldrb	r0, [r0, r4]	@ zero_extendqisi2
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 10


 371 00c0 FFF7FEFF 		bl	periph_nvic_Structure_Setting
 372              	.LVL35:
 153:Bsp/periph_serial.c **** 
 154:Bsp/periph_serial.c **** 	USART_Cmd(Serial_Port[Serial], ENABLE);
 373              		.loc 1 154 0
 374 00c4 0121     		movs	r1, #1
 375 00c6 55F82400 		ldr	r0, [r5, r4, lsl #2]
 376 00ca FFF7FEFF 		bl	USART_Cmd
 377              	.LVL36:
 155:Bsp/periph_serial.c **** }
 378              		.loc 1 155 0
 379 00ce 17B0     		add	sp, sp, #92
 380              	.LCFI5:
 381              		.cfi_def_cfa_offset 20
 382              		@ sp needed
 383 00d0 F0BD     		pop	{r4, r5, r6, r7, pc}
 384              	.LVL37:
 385              	.L20:
 386 00d2 00BF     		.align	2
 387              	.L19:
 388 00d4 00000000 		.word	.LANCHOR1
 389 00d8 00000000 		.word	.LANCHOR2
 390 00dc 00000000 		.word	.LANCHOR3
 391 00e0 00000000 		.word	.LANCHOR4
 392 00e4 00000000 		.word	.LANCHOR5
 393 00e8 00000000 		.word	.LANCHOR7
 394 00ec 00000000 		.word	.LANCHOR8
 395 00f0 00000000 		.word	.LANCHOR9
 396 00f4 00000000 		.word	.LANCHOR6
 397              		.cfi_endproc
 398              	.LFE128:
 400              		.section	.text.Serial_DMA_TX_Init,"ax",%progbits
 401              		.align	2
 402              		.global	Serial_DMA_TX_Init
 403              		.thumb
 404              		.thumb_func
 406              	Serial_DMA_TX_Init:
 407              	.LFB129:
 156:Bsp/periph_serial.c **** 
 157:Bsp/periph_serial.c **** void Serial_DMA_TX_Init(Serial_List Serial, uint32_t bound, uint8_t PreemptionPriority, uint8_t Sub
 158:Bsp/periph_serial.c **** {
 408              		.loc 1 158 0
 409              		.cfi_startproc
 410              		@ args = 12, pretend = 0, frame = 80
 411              		@ frame_needed = 0, uses_anonymous_args = 0
 412              	.LVL38:
 413 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 414              	.LCFI6:
 415              		.cfi_def_cfa_offset 24
 416              		.cfi_offset 4, -24
 417              		.cfi_offset 5, -20
 418              		.cfi_offset 6, -16
 419              		.cfi_offset 7, -12
 420              		.cfi_offset 8, -8
 421              		.cfi_offset 14, -4
 422 0004 96B0     		sub	sp, sp, #88
 423              	.LCFI7:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 11


 424              		.cfi_def_cfa_offset 112
 425 0006 0446     		mov	r4, r0
 426 0008 0D46     		mov	r5, r1
 427 000a 9046     		mov	r8, r2
 428 000c 1F46     		mov	r7, r3
 159:Bsp/periph_serial.c **** 	USART_InitTypeDef USART_InitStructure;
 160:Bsp/periph_serial.c **** 	DMA_InitTypeDef DMA_TX_InitStructure;
 161:Bsp/periph_serial.c **** 
 162:Bsp/periph_serial.c **** 	Serial_IO_Init[Serial]();
 429              		.loc 1 162 0
 430 000e 254B     		ldr	r3, .L23
 431              	.LVL39:
 432 0010 53F82030 		ldr	r3, [r3, r0, lsl #2]
 433 0014 9847     		blx	r3
 434              	.LVL40:
 163:Bsp/periph_serial.c **** 
 164:Bsp/periph_serial.c **** 	RCC_APBPeriphClockCmd[Serial](RCC_APBPeriph_SerialCLK[Serial], ENABLE);
 435              		.loc 1 164 0
 436 0016 244B     		ldr	r3, .L23+4
 437 0018 53F82430 		ldr	r3, [r3, r4, lsl #2]
 438 001c 0121     		movs	r1, #1
 439 001e 234A     		ldr	r2, .L23+8
 440 0020 52F82400 		ldr	r0, [r2, r4, lsl #2]
 441 0024 9847     		blx	r3
 442              	.LVL41:
 165:Bsp/periph_serial.c **** 	Serial_Structure_Setting[type](&USART_InitStructure, bound);
 443              		.loc 1 165 0
 444 0026 224B     		ldr	r3, .L23+12
 445 0028 9DF87820 		ldrb	r2, [sp, #120]	@ zero_extendqisi2
 446 002c 53F82230 		ldr	r3, [r3, r2, lsl #2]
 447 0030 2946     		mov	r1, r5
 448 0032 12A8     		add	r0, sp, #72
 449 0034 9847     		blx	r3
 450              	.LVL42:
 166:Bsp/periph_serial.c **** 	USART_Init(Serial_Port[Serial], &USART_InitStructure);
 451              		.loc 1 166 0
 452 0036 1F4D     		ldr	r5, .L23+16
 453              	.LVL43:
 454 0038 12A9     		add	r1, sp, #72
 455 003a 55F82400 		ldr	r0, [r5, r4, lsl #2]
 456 003e FFF7FEFF 		bl	USART_Init
 457              	.LVL44:
 167:Bsp/periph_serial.c **** 
 168:Bsp/periph_serial.c **** 	USART_DMACmd(Serial_Port[Serial], USART_DMAReq_Tx, ENABLE);
 458              		.loc 1 168 0
 459 0042 0122     		movs	r2, #1
 460 0044 8021     		movs	r1, #128
 461 0046 55F82400 		ldr	r0, [r5, r4, lsl #2]
 462 004a FFF7FEFF 		bl	USART_DMACmd
 463              	.LVL45:
 169:Bsp/periph_serial.c **** 
 170:Bsp/periph_serial.c **** 	periph_DMA_Serial(&DMA_TX_InitStructure, Serial_DMA_TX_Channel[Serial], (uint32_t)&Serial_Port[Ser
 464              		.loc 1 170 0
 465 004e 55F82420 		ldr	r2, [r5, r4, lsl #2]
 466 0052 194B     		ldr	r3, .L23+20
 467 0054 53F82410 		ldr	r1, [r3, r4, lsl #2]
 468 0058 0126     		movs	r6, #1
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 12


 469 005a 0196     		str	r6, [sp, #4]
 470 005c BDF87430 		ldrh	r3, [sp, #116]
 471 0060 0093     		str	r3, [sp]
 472 0062 1C9B     		ldr	r3, [sp, #112]
 473 0064 0432     		adds	r2, r2, #4
 474 0066 03A8     		add	r0, sp, #12
 475 0068 FFF7FEFF 		bl	periph_DMA_Serial
 476              	.LVL46:
 171:Bsp/periph_serial.c **** 	periph_DMA_WithIRQ_Init(Serial_DMA_CLK[Serial], Serial_DMA_TX_Stream[Serial], &DMA_TX_InitStructur
 477              		.loc 1 171 0
 478 006c 134B     		ldr	r3, .L23+24
 479 006e 53F82410 		ldr	r1, [r3, r4, lsl #2]
 480 0072 134B     		ldr	r3, .L23+28
 481 0074 53F82400 		ldr	r0, [r3, r4, lsl #2]
 482 0078 0023     		movs	r3, #0
 483 007a 0093     		str	r3, [sp]
 484 007c 1023     		movs	r3, #16
 485 007e 03AA     		add	r2, sp, #12
 486 0080 FFF7FEFF 		bl	periph_DMA_WithIRQ_Init
 487              	.LVL47:
 172:Bsp/periph_serial.c **** 	periph_nvic_Structure_Setting(Serial_DMA_TX_IRQ_Channel[Serial], PreemptionPriority, SubPriority +
 488              		.loc 1 172 0
 489 0084 BA19     		adds	r2, r7, r6
 490 0086 3346     		mov	r3, r6
 491 0088 D2B2     		uxtb	r2, r2
 492 008a 4146     		mov	r1, r8
 493 008c 0D48     		ldr	r0, .L23+32
 494 008e 005D     		ldrb	r0, [r0, r4]	@ zero_extendqisi2
 495 0090 FFF7FEFF 		bl	periph_nvic_Structure_Setting
 496              	.LVL48:
 173:Bsp/periph_serial.c **** 
 174:Bsp/periph_serial.c **** 	USART_Cmd(Serial_Port[Serial], ENABLE);
 497              		.loc 1 174 0
 498 0094 3146     		mov	r1, r6
 499 0096 55F82400 		ldr	r0, [r5, r4, lsl #2]
 500 009a FFF7FEFF 		bl	USART_Cmd
 501              	.LVL49:
 175:Bsp/periph_serial.c **** }
 502              		.loc 1 175 0
 503 009e 16B0     		add	sp, sp, #88
 504              	.LCFI8:
 505              		.cfi_def_cfa_offset 24
 506              		@ sp needed
 507 00a0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 508              	.LVL50:
 509              	.L24:
 510              		.align	2
 511              	.L23:
 512 00a4 00000000 		.word	.LANCHOR1
 513 00a8 00000000 		.word	.LANCHOR2
 514 00ac 00000000 		.word	.LANCHOR3
 515 00b0 00000000 		.word	.LANCHOR4
 516 00b4 00000000 		.word	.LANCHOR5
 517 00b8 00000000 		.word	.LANCHOR10
 518 00bc 00000000 		.word	.LANCHOR11
 519 00c0 00000000 		.word	.LANCHOR9
 520 00c4 00000000 		.word	.LANCHOR12
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 13


 521              		.cfi_endproc
 522              	.LFE129:
 524              		.section	.text.Serial_Deinit,"ax",%progbits
 525              		.align	2
 526              		.global	Serial_Deinit
 527              		.thumb
 528              		.thumb_func
 530              	Serial_Deinit:
 531              	.LFB130:
 176:Bsp/periph_serial.c **** 
 177:Bsp/periph_serial.c **** bool Serial_Deinit(Serial_List Serial)
 178:Bsp/periph_serial.c **** {
 532              		.loc 1 178 0
 533              		.cfi_startproc
 534              		@ args = 0, pretend = 0, frame = 0
 535              		@ frame_needed = 0, uses_anonymous_args = 0
 536              	.LVL51:
 179:Bsp/periph_serial.c **** 	if (Serial >= Serial_Port_Sum)
 537              		.loc 1 179 0
 538 0000 0328     		cmp	r0, #3
 539 0002 2DD8     		bhi	.L27
 178:Bsp/periph_serial.c **** 	if (Serial >= Serial_Port_Sum)
 540              		.loc 1 178 0
 541 0004 70B5     		push	{r4, r5, r6, lr}
 542              	.LCFI9:
 543              		.cfi_def_cfa_offset 16
 544              		.cfi_offset 4, -16
 545              		.cfi_offset 5, -12
 546              		.cfi_offset 6, -8
 547              		.cfi_offset 14, -4
 548 0006 0446     		mov	r4, r0
 180:Bsp/periph_serial.c **** 		return false;
 181:Bsp/periph_serial.c **** 
 182:Bsp/periph_serial.c **** 	IRQ_Callback[Serial] = NULL;
 549              		.loc 1 182 0
 550 0008 0026     		movs	r6, #0
 551 000a 164B     		ldr	r3, .L30
 552 000c 43F82060 		str	r6, [r3, r0, lsl #2]
 183:Bsp/periph_serial.c **** 
 184:Bsp/periph_serial.c **** 	USART_DeInit(Serial_Port[Serial]);
 553              		.loc 1 184 0
 554 0010 154D     		ldr	r5, .L30+4
 555 0012 55F82000 		ldr	r0, [r5, r0, lsl #2]
 556              	.LVL52:
 557 0016 FFF7FEFF 		bl	USART_DeInit
 558              	.LVL53:
 185:Bsp/periph_serial.c **** 
 186:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_RXNE, DISABLE);
 559              		.loc 1 186 0
 560 001a 3246     		mov	r2, r6
 561 001c 40F22551 		movw	r1, #1317
 562 0020 55F82400 		ldr	r0, [r5, r4, lsl #2]
 563 0024 FFF7FEFF 		bl	USART_ITConfig
 564              	.LVL54:
 187:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_TC, DISABLE);
 565              		.loc 1 187 0
 566 0028 3246     		mov	r2, r6
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 14


 567 002a 40F22661 		movw	r1, #1574
 568 002e 55F82400 		ldr	r0, [r5, r4, lsl #2]
 569 0032 FFF7FEFF 		bl	USART_ITConfig
 570              	.LVL55:
 188:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_TXE, DISABLE);
 571              		.loc 1 188 0
 572 0036 3246     		mov	r2, r6
 573 0038 40F22771 		movw	r1, #1831
 574 003c 55F82400 		ldr	r0, [r5, r4, lsl #2]
 575 0040 FFF7FEFF 		bl	USART_ITConfig
 576              	.LVL56:
 189:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_IDLE, DISABLE);
 577              		.loc 1 189 0
 578 0044 3246     		mov	r2, r6
 579 0046 40F22441 		movw	r1, #1060
 580 004a 55F82400 		ldr	r0, [r5, r4, lsl #2]
 581 004e FFF7FEFF 		bl	USART_ITConfig
 582              	.LVL57:
 190:Bsp/periph_serial.c **** 
 191:Bsp/periph_serial.c **** 	USART_Cmd(Serial_Port[Serial], DISABLE);
 583              		.loc 1 191 0
 584 0052 3146     		mov	r1, r6
 585 0054 55F82400 		ldr	r0, [r5, r4, lsl #2]
 586 0058 FFF7FEFF 		bl	USART_Cmd
 587              	.LVL58:
 192:Bsp/periph_serial.c **** 
 193:Bsp/periph_serial.c **** 	return true;
 588              		.loc 1 193 0
 589 005c 0120     		movs	r0, #1
 590 005e 70BD     		pop	{r4, r5, r6, pc}
 591              	.LVL59:
 592              	.L27:
 593              	.LCFI10:
 594              		.cfi_def_cfa_offset 0
 595              		.cfi_restore 4
 596              		.cfi_restore 5
 597              		.cfi_restore 6
 598              		.cfi_restore 14
 180:Bsp/periph_serial.c **** 
 599              		.loc 1 180 0
 600 0060 0020     		movs	r0, #0
 601              	.LVL60:
 602 0062 7047     		bx	lr
 603              	.L31:
 604              		.align	2
 605              	.L30:
 606 0064 00000000 		.word	.LANCHOR0
 607 0068 00000000 		.word	.LANCHOR5
 608              		.cfi_endproc
 609              	.LFE130:
 611              		.section	.text.Serial_DMA_RXTX_Init,"ax",%progbits
 612              		.align	2
 613              		.global	Serial_DMA_RXTX_Init
 614              		.thumb
 615              		.thumb_func
 617              	Serial_DMA_RXTX_Init:
 618              	.LFB131:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 15


 194:Bsp/periph_serial.c **** }
 195:Bsp/periph_serial.c **** 
 196:Bsp/periph_serial.c **** void Serial_DMA_RXTX_Init(Serial_List Serial, uint32_t bound, uint8_t PreemptionPriority, uint8_t S
 197:Bsp/periph_serial.c **** {
 619              		.loc 1 197 0
 620              		.cfi_startproc
 621              		@ args = 16, pretend = 0, frame = 136
 622              		@ frame_needed = 0, uses_anonymous_args = 0
 623              	.LVL61:
 624 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 625              	.LCFI11:
 626              		.cfi_def_cfa_offset 28
 627              		.cfi_offset 4, -28
 628              		.cfi_offset 5, -24
 629              		.cfi_offset 6, -20
 630              		.cfi_offset 7, -16
 631              		.cfi_offset 8, -12
 632              		.cfi_offset 9, -8
 633              		.cfi_offset 14, -4
 634 0004 A5B0     		sub	sp, sp, #148
 635              	.LCFI12:
 636              		.cfi_def_cfa_offset 176
 637 0006 0446     		mov	r4, r0
 638 0008 0D46     		mov	r5, r1
 639 000a 1646     		mov	r6, r2
 640 000c 9946     		mov	r9, r3
 641 000e BDF8B880 		ldrh	r8, [sp, #184]
 198:Bsp/periph_serial.c **** 	USART_InitTypeDef USART_InitStructure;
 199:Bsp/periph_serial.c **** 	DMA_InitTypeDef DMA_RX_InitStructure;
 200:Bsp/periph_serial.c **** 	DMA_InitTypeDef DMA_TX_InitStructure;
 201:Bsp/periph_serial.c **** 
 202:Bsp/periph_serial.c **** 	Serial_IO_Init[Serial]();
 642              		.loc 1 202 0
 643 0012 404B     		ldr	r3, .L34
 644              	.LVL62:
 645 0014 53F82030 		ldr	r3, [r3, r0, lsl #2]
 646 0018 9847     		blx	r3
 647              	.LVL63:
 203:Bsp/periph_serial.c **** 
 204:Bsp/periph_serial.c **** 	RCC_APBPeriphClockCmd[Serial](RCC_APBPeriph_SerialCLK[Serial], ENABLE);
 648              		.loc 1 204 0
 649 001a 3F4B     		ldr	r3, .L34+4
 650 001c 53F82430 		ldr	r3, [r3, r4, lsl #2]
 651 0020 0121     		movs	r1, #1
 652 0022 3E4A     		ldr	r2, .L34+8
 653 0024 52F82400 		ldr	r0, [r2, r4, lsl #2]
 654 0028 9847     		blx	r3
 655              	.LVL64:
 205:Bsp/periph_serial.c **** 	Serial_Structure_Setting[type](&USART_InitStructure, bound);
 656              		.loc 1 205 0
 657 002a 3D4B     		ldr	r3, .L34+12
 658 002c 9DF8BC20 		ldrb	r2, [sp, #188]	@ zero_extendqisi2
 659 0030 53F82230 		ldr	r3, [r3, r2, lsl #2]
 660 0034 2946     		mov	r1, r5
 661 0036 20A8     		add	r0, sp, #128
 662 0038 9847     		blx	r3
 663              	.LVL65:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 16


 206:Bsp/periph_serial.c **** 	USART_Init(Serial_Port[Serial], &USART_InitStructure);
 664              		.loc 1 206 0
 665 003a 3A4D     		ldr	r5, .L34+16
 666              	.LVL66:
 667 003c 20A9     		add	r1, sp, #128
 668 003e 55F82400 		ldr	r0, [r5, r4, lsl #2]
 669 0042 FFF7FEFF 		bl	USART_Init
 670              	.LVL67:
 207:Bsp/periph_serial.c **** 
 208:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_RXNE, DISABLE);
 671              		.loc 1 208 0
 672 0046 0022     		movs	r2, #0
 673 0048 40F22551 		movw	r1, #1317
 674 004c 55F82400 		ldr	r0, [r5, r4, lsl #2]
 675 0050 FFF7FEFF 		bl	USART_ITConfig
 676              	.LVL68:
 209:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_TC, DISABLE);
 677              		.loc 1 209 0
 678 0054 0022     		movs	r2, #0
 679 0056 40F22661 		movw	r1, #1574
 680 005a 55F82400 		ldr	r0, [r5, r4, lsl #2]
 681 005e FFF7FEFF 		bl	USART_ITConfig
 682              	.LVL69:
 210:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_TXE, DISABLE);
 683              		.loc 1 210 0
 684 0062 0022     		movs	r2, #0
 685 0064 40F22771 		movw	r1, #1831
 686 0068 55F82400 		ldr	r0, [r5, r4, lsl #2]
 687 006c FFF7FEFF 		bl	USART_ITConfig
 688              	.LVL70:
 211:Bsp/periph_serial.c **** 	USART_ITConfig(Serial_Port[Serial], USART_IT_IDLE, ENABLE);
 689              		.loc 1 211 0
 690 0070 0122     		movs	r2, #1
 691 0072 40F22441 		movw	r1, #1060
 692 0076 55F82400 		ldr	r0, [r5, r4, lsl #2]
 693 007a FFF7FEFF 		bl	USART_ITConfig
 694              	.LVL71:
 212:Bsp/periph_serial.c **** 
 213:Bsp/periph_serial.c **** 	//Rx DMA Setting
 214:Bsp/periph_serial.c **** 	periph_DMA_Serial(&DMA_RX_InitStructure, Serial_DMA_RX_Channel[Serial], (uint32_t)&Serial_Port[Ser
 695              		.loc 1 214 0
 696 007e 55F82420 		ldr	r2, [r5, r4, lsl #2]
 697 0082 294B     		ldr	r3, .L34+20
 698 0084 53F82410 		ldr	r1, [r3, r4, lsl #2]
 699 0088 0223     		movs	r3, #2
 700 008a 0193     		str	r3, [sp, #4]
 701 008c CDF80080 		str	r8, [sp]
 702 0090 2C9B     		ldr	r3, [sp, #176]
 703 0092 0432     		adds	r2, r2, #4
 704 0094 11A8     		add	r0, sp, #68
 705 0096 FFF7FEFF 		bl	periph_DMA_Serial
 706              	.LVL72:
 215:Bsp/periph_serial.c **** 	periph_DMA_WithoutIRQ_Init(Serial_DMA_CLK[Serial], Serial_DMA_RX_Stream[Serial], &DMA_RX_InitStruc
 707              		.loc 1 215 0
 708 009a 244B     		ldr	r3, .L34+24
 709 009c 53F82470 		ldr	r7, [r3, r4, lsl #2]
 710 00a0 0123     		movs	r3, #1
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 17


 711 00a2 11AA     		add	r2, sp, #68
 712 00a4 2249     		ldr	r1, .L34+28
 713 00a6 51F82410 		ldr	r1, [r1, r4, lsl #2]
 714 00aa 3846     		mov	r0, r7
 715 00ac FFF7FEFF 		bl	periph_DMA_WithoutIRQ_Init
 716              	.LVL73:
 216:Bsp/periph_serial.c **** 	periph_nvic_Structure_Setting(Serial_RX_IRQ_Channel[Serial], PreemptionPriority, SubPriority, ENAB
 717              		.loc 1 216 0
 718 00b0 0123     		movs	r3, #1
 719 00b2 4A46     		mov	r2, r9
 720 00b4 3146     		mov	r1, r6
 721 00b6 1F48     		ldr	r0, .L34+32
 722 00b8 005D     		ldrb	r0, [r0, r4]	@ zero_extendqisi2
 723 00ba FFF7FEFF 		bl	periph_nvic_Structure_Setting
 724              	.LVL74:
 217:Bsp/periph_serial.c **** 
 218:Bsp/periph_serial.c **** 	//Tx DMA Setting
 219:Bsp/periph_serial.c **** 	periph_DMA_Serial(&DMA_TX_InitStructure, Serial_DMA_TX_Channel[Serial], (uint32_t)&Serial_Port[Ser
 725              		.loc 1 219 0
 726 00be 55F82420 		ldr	r2, [r5, r4, lsl #2]
 727 00c2 1D4B     		ldr	r3, .L34+36
 728 00c4 53F82410 		ldr	r1, [r3, r4, lsl #2]
 729 00c8 0126     		movs	r6, #1
 730 00ca 0196     		str	r6, [sp, #4]
 731 00cc CDF80080 		str	r8, [sp]
 732 00d0 2D9B     		ldr	r3, [sp, #180]
 733 00d2 0432     		adds	r2, r2, #4
 734 00d4 02A8     		add	r0, sp, #8
 735 00d6 FFF7FEFF 		bl	periph_DMA_Serial
 736              	.LVL75:
 220:Bsp/periph_serial.c **** 	periph_DMA_WithoutIRQ_Init(Serial_DMA_CLK[Serial], Serial_DMA_TX_Stream[Serial], &DMA_TX_InitStruc
 737              		.loc 1 220 0
 738 00da 0023     		movs	r3, #0
 739 00dc 02AA     		add	r2, sp, #8
 740 00de 1749     		ldr	r1, .L34+40
 741 00e0 51F82410 		ldr	r1, [r1, r4, lsl #2]
 742 00e4 3846     		mov	r0, r7
 743 00e6 FFF7FEFF 		bl	periph_DMA_WithoutIRQ_Init
 744              	.LVL76:
 221:Bsp/periph_serial.c **** 
 222:Bsp/periph_serial.c **** 	USART_DMACmd(Serial_Port[Serial], USART_DMAReq_Rx, ENABLE);
 745              		.loc 1 222 0
 746 00ea 3246     		mov	r2, r6
 747 00ec 4021     		movs	r1, #64
 748 00ee 55F82400 		ldr	r0, [r5, r4, lsl #2]
 749 00f2 FFF7FEFF 		bl	USART_DMACmd
 750              	.LVL77:
 223:Bsp/periph_serial.c **** 	USART_DMACmd(Serial_Port[Serial], USART_DMAReq_Tx, ENABLE);
 751              		.loc 1 223 0
 752 00f6 3246     		mov	r2, r6
 753 00f8 8021     		movs	r1, #128
 754 00fa 55F82400 		ldr	r0, [r5, r4, lsl #2]
 755 00fe FFF7FEFF 		bl	USART_DMACmd
 756              	.LVL78:
 224:Bsp/periph_serial.c **** 
 225:Bsp/periph_serial.c **** 	USART_Cmd(Serial_Port[Serial], ENABLE);
 757              		.loc 1 225 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 18


 758 0102 3146     		mov	r1, r6
 759 0104 55F82400 		ldr	r0, [r5, r4, lsl #2]
 760 0108 FFF7FEFF 		bl	USART_Cmd
 761              	.LVL79:
 226:Bsp/periph_serial.c **** }
 762              		.loc 1 226 0
 763 010c 25B0     		add	sp, sp, #148
 764              	.LCFI13:
 765              		.cfi_def_cfa_offset 28
 766              		@ sp needed
 767 010e BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 768              	.LVL80:
 769              	.L35:
 770 0112 00BF     		.align	2
 771              	.L34:
 772 0114 00000000 		.word	.LANCHOR1
 773 0118 00000000 		.word	.LANCHOR2
 774 011c 00000000 		.word	.LANCHOR3
 775 0120 00000000 		.word	.LANCHOR4
 776 0124 00000000 		.word	.LANCHOR5
 777 0128 00000000 		.word	.LANCHOR7
 778 012c 00000000 		.word	.LANCHOR9
 779 0130 00000000 		.word	.LANCHOR8
 780 0134 00000000 		.word	.LANCHOR6
 781 0138 00000000 		.word	.LANCHOR10
 782 013c 00000000 		.word	.LANCHOR11
 783              		.cfi_endproc
 784              	.LFE131:
 786              		.section	.text.Serial_SendBuff,"ax",%progbits
 787              		.align	2
 788              		.global	Serial_SendBuff
 789              		.thumb
 790              		.thumb_func
 792              	Serial_SendBuff:
 793              	.LFB132:
 227:Bsp/periph_serial.c **** 
 228:Bsp/periph_serial.c **** void Serial_SendBuff(Serial_List serial_id, uint8_t *Buff, uint16_t Len)
 229:Bsp/periph_serial.c **** {
 794              		.loc 1 229 0
 795              		.cfi_startproc
 796              		@ args = 0, pretend = 0, frame = 0
 797              		@ frame_needed = 0, uses_anonymous_args = 0
 798              	.LVL81:
 799 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 800              	.LCFI14:
 801              		.cfi_def_cfa_offset 24
 802              		.cfi_offset 4, -24
 803              		.cfi_offset 5, -20
 804              		.cfi_offset 6, -16
 805              		.cfi_offset 7, -12
 806              		.cfi_offset 8, -8
 807              		.cfi_offset 14, -4
 808 0004 0446     		mov	r4, r0
 809 0006 8846     		mov	r8, r1
 810 0008 1746     		mov	r7, r2
 811              	.LVL82:
 812              	.LBB2:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 19


 230:Bsp/periph_serial.c **** 	for (uint8_t Buff_index = 0; Buff_index < Len; Buff_index++)
 813              		.loc 1 230 0
 814 000a 0026     		movs	r6, #0
 815 000c 10E0     		b	.L37
 816              	.LVL83:
 817              	.L38:
 231:Bsp/periph_serial.c **** 	{
 232:Bsp/periph_serial.c **** 		while (USART_GetFlagStatus(Serial_Port[serial_id], USART_FLAG_TC) == RESET)
 818              		.loc 1 232 0 discriminator 1
 819 000e 4021     		movs	r1, #64
 820 0010 0A4B     		ldr	r3, .L40
 821 0012 53F82400 		ldr	r0, [r3, r4, lsl #2]
 822 0016 FFF7FEFF 		bl	USART_GetFlagStatus
 823              	.LVL84:
 824 001a 0028     		cmp	r0, #0
 825 001c F7D0     		beq	.L38
 233:Bsp/periph_serial.c **** 			;
 234:Bsp/periph_serial.c **** 		USART_SendData(Serial_Port[serial_id], Buff[Buff_index]);
 826              		.loc 1 234 0 discriminator 2
 827 001e 18F80610 		ldrb	r1, [r8, r6]	@ zero_extendqisi2
 828 0022 064B     		ldr	r3, .L40
 829 0024 53F82400 		ldr	r0, [r3, r4, lsl #2]
 830 0028 FFF7FEFF 		bl	USART_SendData
 831              	.LVL85:
 230:Bsp/periph_serial.c **** 	{
 832              		.loc 1 230 0 discriminator 2
 833 002c 0136     		adds	r6, r6, #1
 834              	.LVL86:
 835 002e F6B2     		uxtb	r6, r6
 836              	.LVL87:
 837              	.L37:
 230:Bsp/periph_serial.c **** 	{
 838              		.loc 1 230 0 is_stmt 0 discriminator 1
 839 0030 B3B2     		uxth	r3, r6
 840 0032 BB42     		cmp	r3, r7
 841 0034 EBD3     		bcc	.L38
 842              	.LBE2:
 235:Bsp/periph_serial.c **** 	}
 236:Bsp/periph_serial.c **** }
 843              		.loc 1 236 0 is_stmt 1
 844 0036 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 845              	.LVL88:
 846              	.L41:
 847 003a 00BF     		.align	2
 848              	.L40:
 849 003c 00000000 		.word	.LANCHOR5
 850              		.cfi_endproc
 851              	.LFE132:
 853              		.section	.text.Serial_DMA_TX_IRQSetting,"ax",%progbits
 854              		.align	2
 855              		.global	Serial_DMA_TX_IRQSetting
 856              		.thumb
 857              		.thumb_func
 859              	Serial_DMA_TX_IRQSetting:
 860              	.LFB133:
 237:Bsp/periph_serial.c **** 
 238:Bsp/periph_serial.c **** void Serial_DMA_TX_IRQSetting(Serial_List serial_id)
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 20


 239:Bsp/periph_serial.c **** {
 861              		.loc 1 239 0
 862              		.cfi_startproc
 863              		@ args = 0, pretend = 0, frame = 0
 864              		@ frame_needed = 0, uses_anonymous_args = 0
 865              	.LVL89:
 866 0000 38B5     		push	{r3, r4, r5, lr}
 867              	.LCFI15:
 868              		.cfi_def_cfa_offset 16
 869              		.cfi_offset 3, -16
 870              		.cfi_offset 4, -12
 871              		.cfi_offset 5, -8
 872              		.cfi_offset 14, -4
 873 0002 0446     		mov	r4, r0
 240:Bsp/periph_serial.c **** 	if (DMA_GetFlagStatus(Serial_DMA_TX_Stream[serial_id], DMA_TX_FinishFlag[serial_id]) == SET)
 874              		.loc 1 240 0
 875 0004 0F4B     		ldr	r3, .L45
 876 0006 53F82010 		ldr	r1, [r3, r0, lsl #2]
 877 000a 0F4B     		ldr	r3, .L45+4
 878 000c 53F82000 		ldr	r0, [r3, r0, lsl #2]
 879              	.LVL90:
 880 0010 FFF7FEFF 		bl	DMA_GetFlagStatus
 881              	.LVL91:
 882 0014 0128     		cmp	r0, #1
 883 0016 14D1     		bne	.L42
 241:Bsp/periph_serial.c **** 	{
 242:Bsp/periph_serial.c **** 		DMA_ClearFlag(Serial_DMA_TX_Stream[serial_id], DMA_TX_FinishFlag[serial_id]);
 884              		.loc 1 242 0
 885 0018 0B4B     		ldr	r3, .L45+4
 886 001a 53F82450 		ldr	r5, [r3, r4, lsl #2]
 887 001e 094B     		ldr	r3, .L45
 888 0020 53F82410 		ldr	r1, [r3, r4, lsl #2]
 889 0024 2846     		mov	r0, r5
 890 0026 FFF7FEFF 		bl	DMA_ClearFlag
 891              	.LVL92:
 243:Bsp/periph_serial.c **** 		DMA_Cmd(Serial_DMA_TX_Stream[serial_id], DISABLE);
 892              		.loc 1 243 0
 893 002a 0021     		movs	r1, #0
 894 002c 2846     		mov	r0, r5
 895 002e FFF7FEFF 		bl	DMA_Cmd
 896              	.LVL93:
 244:Bsp/periph_serial.c **** 
 245:Bsp/periph_serial.c **** 		USART_ITConfig(Serial_Port[serial_id], USART_IT_TC, ENABLE);
 897              		.loc 1 245 0
 898 0032 0122     		movs	r2, #1
 899 0034 40F22661 		movw	r1, #1574
 900 0038 044B     		ldr	r3, .L45+8
 901 003a 53F82400 		ldr	r0, [r3, r4, lsl #2]
 902 003e FFF7FEFF 		bl	USART_ITConfig
 903              	.LVL94:
 904              	.L42:
 905 0042 38BD     		pop	{r3, r4, r5, pc}
 906              	.L46:
 907              		.align	2
 908              	.L45:
 909 0044 00000000 		.word	.LANCHOR13
 910 0048 00000000 		.word	.LANCHOR11
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 21


 911 004c 00000000 		.word	.LANCHOR5
 912              		.cfi_endproc
 913              	.LFE133:
 915              		.section	.text.Serial_DMA_SendBuff,"ax",%progbits
 916              		.align	2
 917              		.global	Serial_DMA_SendBuff
 918              		.thumb
 919              		.thumb_func
 921              	Serial_DMA_SendBuff:
 922              	.LFB134:
 246:Bsp/periph_serial.c **** 	}
 247:Bsp/periph_serial.c **** }
 248:Bsp/periph_serial.c **** 
 249:Bsp/periph_serial.c **** void Serial_DMA_SendBuff(Serial_List serial_id, uint16_t len)
 250:Bsp/periph_serial.c **** {
 923              		.loc 1 250 0
 924              		.cfi_startproc
 925              		@ args = 0, pretend = 0, frame = 0
 926              		@ frame_needed = 0, uses_anonymous_args = 0
 927              	.LVL95:
 928 0000 38B5     		push	{r3, r4, r5, lr}
 929              	.LCFI16:
 930              		.cfi_def_cfa_offset 16
 931              		.cfi_offset 3, -16
 932              		.cfi_offset 4, -12
 933              		.cfi_offset 5, -8
 934              		.cfi_offset 14, -4
 935 0002 0D46     		mov	r5, r1
 251:Bsp/periph_serial.c **** 	DMA_ClearFlag(Serial_DMA_TX_Stream[serial_id], DMA_TX_FinishFlag[serial_id]);
 936              		.loc 1 251 0
 937 0004 084B     		ldr	r3, .L49
 938 0006 53F82040 		ldr	r4, [r3, r0, lsl #2]
 939 000a 084B     		ldr	r3, .L49+4
 940 000c 53F82010 		ldr	r1, [r3, r0, lsl #2]
 941              	.LVL96:
 942 0010 2046     		mov	r0, r4
 943              	.LVL97:
 944 0012 FFF7FEFF 		bl	DMA_ClearFlag
 945              	.LVL98:
 252:Bsp/periph_serial.c **** 	DMA_SetCurrDataCounter(Serial_DMA_TX_Stream[serial_id], len);
 946              		.loc 1 252 0
 947 0016 2946     		mov	r1, r5
 948 0018 2046     		mov	r0, r4
 949 001a FFF7FEFF 		bl	DMA_SetCurrDataCounter
 950              	.LVL99:
 253:Bsp/periph_serial.c **** 	DMA_Cmd(Serial_DMA_TX_Stream[serial_id], ENABLE);
 951              		.loc 1 253 0
 952 001e 0121     		movs	r1, #1
 953 0020 2046     		mov	r0, r4
 954 0022 FFF7FEFF 		bl	DMA_Cmd
 955              	.LVL100:
 956 0026 38BD     		pop	{r3, r4, r5, pc}
 957              	.L50:
 958              		.align	2
 959              	.L49:
 960 0028 00000000 		.word	.LANCHOR11
 961 002c 00000000 		.word	.LANCHOR13
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 22


 962              		.cfi_endproc
 963              	.LFE134:
 965              		.section	.text.Serial_DMA_WaitFinish,"ax",%progbits
 966              		.align	2
 967              		.global	Serial_DMA_WaitFinish
 968              		.thumb
 969              		.thumb_func
 971              	Serial_DMA_WaitFinish:
 972              	.LFB135:
 254:Bsp/periph_serial.c **** }
 255:Bsp/periph_serial.c **** 
 256:Bsp/periph_serial.c **** void Serial_DMA_WaitFinish(Serial_List serial_id)
 257:Bsp/periph_serial.c **** {
 973              		.loc 1 257 0
 974              		.cfi_startproc
 975              		@ args = 0, pretend = 0, frame = 0
 976              		@ frame_needed = 0, uses_anonymous_args = 0
 977              	.LVL101:
 978 0000 38B5     		push	{r3, r4, r5, lr}
 979              	.LCFI17:
 980              		.cfi_def_cfa_offset 16
 981              		.cfi_offset 3, -16
 982              		.cfi_offset 4, -12
 983              		.cfi_offset 5, -8
 984              		.cfi_offset 14, -4
 985 0002 0446     		mov	r4, r0
 258:Bsp/periph_serial.c **** 	if (serial_id >= Serial_Port_Sum)
 986              		.loc 1 258 0
 987 0004 0328     		cmp	r0, #3
 988 0006 0FD8     		bhi	.L51
 989              	.LVL102:
 990              	.L53:
 259:Bsp/periph_serial.c **** 		return;
 260:Bsp/periph_serial.c **** 
 261:Bsp/periph_serial.c **** 	while (DMA_GetFlagStatus(Serial_DMA_TX_Stream[serial_id], DMA_TX_FinishFlag[serial_id]) != SET)
 991              		.loc 1 261 0 discriminator 1
 992 0008 084B     		ldr	r3, .L55
 993 000a 53F82410 		ldr	r1, [r3, r4, lsl #2]
 994 000e 084B     		ldr	r3, .L55+4
 995 0010 53F82400 		ldr	r0, [r3, r4, lsl #2]
 996 0014 FFF7FEFF 		bl	DMA_GetFlagStatus
 997              	.LVL103:
 998 0018 0128     		cmp	r0, #1
 999 001a F5D1     		bne	.L53
 262:Bsp/periph_serial.c **** 		;
 263:Bsp/periph_serial.c **** 	DMA_Cmd(Serial_DMA_TX_Stream[serial_id], DISABLE);
 1000              		.loc 1 263 0
 1001 001c 0021     		movs	r1, #0
 1002 001e 044B     		ldr	r3, .L55+4
 1003 0020 53F82400 		ldr	r0, [r3, r4, lsl #2]
 1004 0024 FFF7FEFF 		bl	DMA_Cmd
 1005              	.LVL104:
 1006              	.L51:
 1007 0028 38BD     		pop	{r3, r4, r5, pc}
 1008              	.L56:
 1009 002a 00BF     		.align	2
 1010              	.L55:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 23


 1011 002c 00000000 		.word	.LANCHOR13
 1012 0030 00000000 		.word	.LANCHOR11
 1013              		.cfi_endproc
 1014              	.LFE135:
 1016              		.global	Serial_Port
 1017              		.global	IRQ_Callback
 1018              		.comm	Serial_RX_Buff,2048,4
 1019              		.comm	Serial_TX_Buff,2048,4
 1020              		.section	.rodata.Serial_DMA_TX_Channel,"a",%progbits
 1021              		.align	2
 1022              		.set	.LANCHOR10,. + 0
 1025              	Serial_DMA_TX_Channel:
 1026 0000 00000008 		.word	134217728
 1027 0004 00000008 		.word	134217728
 1028 0008 00000008 		.word	134217728
 1029 000c 0000000A 		.word	167772160
 1030              		.section	.rodata.Serial_Structure_Setting,"a",%progbits
 1031              		.align	2
 1032              		.set	.LANCHOR4,. + 0
 1035              	Serial_Structure_Setting:
 1036 0000 00000000 		.word	USART_Structure_Normal_Setting
 1037 0004 00000000 		.word	USART_Structure_SBus_Setting
 1038              		.section	.data.Serial_Port,"aw",%progbits
 1039              		.align	2
 1040              		.set	.LANCHOR5,. + 0
 1043              	Serial_Port:
 1044 0000 00100140 		.word	1073811456
 1045 0004 00440040 		.word	1073759232
 1046 0008 00480040 		.word	1073760256
 1047 000c 00140140 		.word	1073812480
 1048              		.section	.rodata.RCC_APBPeriphClockCmd,"a",%progbits
 1049              		.align	2
 1050              		.set	.LANCHOR2,. + 0
 1053              	RCC_APBPeriphClockCmd:
 1054 0000 00000000 		.word	RCC_APB2PeriphClockCmd
 1055 0004 00000000 		.word	RCC_APB1PeriphClockCmd
 1056 0008 00000000 		.word	RCC_APB1PeriphClockCmd
 1057 000c 00000000 		.word	RCC_APB2PeriphClockCmd
 1058              		.section	.rodata.Serial_DMA_TX_Stream,"a",%progbits
 1059              		.align	2
 1060              		.set	.LANCHOR11,. + 0
 1063              	Serial_DMA_TX_Stream:
 1064 0000 B8640240 		.word	1073898680
 1065 0004 A0600240 		.word	1073897632
 1066 0008 58600240 		.word	1073897560
 1067 000c B8640240 		.word	1073898680
 1068              		.section	.rodata.DMA_TX_FinishFlag,"a",%progbits
 1069              		.align	2
 1070              		.set	.LANCHOR13,. + 0
 1073              	DMA_TX_FinishFlag:
 1074 0000 00000028 		.word	671088640
 1075 0004 00002020 		.word	538968064
 1076 0008 00000018 		.word	402653184
 1077 000c 00000028 		.word	671088640
 1078              		.section	.rodata.Serial_DMA_RX_Stream,"a",%progbits
 1079              		.align	2
 1080              		.set	.LANCHOR8,. + 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 24


 1083              	Serial_DMA_RX_Stream:
 1084 0000 88640240 		.word	1073898632
 1085 0004 88600240 		.word	1073897608
 1086 0008 28600240 		.word	1073897512
 1087 000c 28640240 		.word	1073898536
 1088              		.section	.bss.IRQ_Callback,"aw",%nobits
 1089              		.align	2
 1090              		.set	.LANCHOR0,. + 0
 1093              	IRQ_Callback:
 1094 0000 00000000 		.space	16
 1094      00000000 
 1094      00000000 
 1094      00000000 
 1095              		.section	.rodata.Serial_DMA_RX_Channel,"a",%progbits
 1096              		.align	2
 1097              		.set	.LANCHOR7,. + 0
 1100              	Serial_DMA_RX_Channel:
 1101 0000 00000008 		.word	134217728
 1102 0004 00000008 		.word	134217728
 1103 0008 00000008 		.word	134217728
 1104 000c 0000000A 		.word	167772160
 1105              		.section	.rodata.Serial_IO_Init,"a",%progbits
 1106              		.align	2
 1107              		.set	.LANCHOR1,. + 0
 1110              	Serial_IO_Init:
 1111 0000 00000000 		.word	GPIO_USART1_IO_Init
 1112 0004 00000000 		.word	GPIO_USART2_IO_Init
 1113 0008 00000000 		.word	GPIO_USART3_IO_Init
 1114 000c 00000000 		.word	GPIO_USART6_IO_Init
 1115              		.section	.rodata.RCC_APBPeriph_SerialCLK,"a",%progbits
 1116              		.align	2
 1117              		.set	.LANCHOR3,. + 0
 1120              	RCC_APBPeriph_SerialCLK:
 1121 0000 10000000 		.word	16
 1122 0004 00000200 		.word	131072
 1123 0008 00000400 		.word	262144
 1124 000c 20000000 		.word	32
 1125              		.section	.rodata.Serial_DMA_TX_IRQ_Channel,"a",%progbits
 1126              		.align	2
 1127              		.set	.LANCHOR12,. + 0
 1130              	Serial_DMA_TX_IRQ_Channel:
 1131 0000 46       		.byte	70
 1132 0001 11       		.byte	17
 1133 0002 0E       		.byte	14
 1134 0003 46       		.byte	70
 1135              		.section	.rodata.Serial_DMA_CLK,"a",%progbits
 1136              		.align	2
 1137              		.set	.LANCHOR9,. + 0
 1140              	Serial_DMA_CLK:
 1141 0000 00004000 		.word	4194304
 1142 0004 00002000 		.word	2097152
 1143 0008 00002000 		.word	2097152
 1144 000c 00004000 		.word	4194304
 1145              		.section	.rodata.Serial_RX_IRQ_Channel,"a",%progbits
 1146              		.align	2
 1147              		.set	.LANCHOR6,. + 0
 1150              	Serial_RX_IRQ_Channel:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 25


 1151 0000 25       		.byte	37
 1152 0001 26       		.byte	38
 1153 0002 27       		.byte	39
 1154 0003 47       		.byte	71
 1155              		.text
 1156              	.Letext0:
 1157              		.file 2 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\machine\\_default_types.h"
 1158              		.file 3 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\sys\\_stdint.h"
 1159              		.file 4 "USER/stm32f4xx.h"
 1160              		.file 5 "FWLIB/inc/stm32f4xx_dma.h"
 1161              		.file 6 "FWLIB/inc/stm32f4xx_usart.h"
 1162              		.file 7 "Bsp/periph_dma.h"
 1163              		.file 8 "Bsp/periph_serial.h"
 1164              		.file 9 "F4_CORE/core_cm4.h"
 1165              		.file 10 "Bsp/periph_nvic.h"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 26


DEFINED SYMBOLS
                            *ABS*:00000000 periph_serial.c
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:22     .text.USART_Structure_Normal_Setting:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:26     .text.USART_Structure_Normal_Setting:00000000 USART_Structure_Normal_Setting
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:54     .text.USART_Structure_SBus_Setting:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:58     .text.USART_Structure_SBus_Setting:00000000 USART_Structure_SBus_Setting
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:88     .text.Serial_Get_IRQ_RxCallback:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:93     .text.Serial_Get_IRQ_RxCallback:00000000 Serial_Get_IRQ_RxCallback
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:119    .text.Serial_Get_IRQ_RxCallback:00000010 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:124    .text.Serial_Set_IRQ_Callback:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:129    .text.Serial_Set_IRQ_Callback:00000000 Serial_Set_IRQ_Callback
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:157    .text.Serial_Set_IRQ_Callback:00000014 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:162    .text.Serial_IRQ_RX_Init:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:167    .text.Serial_IRQ_RX_Init:00000000 Serial_IRQ_RX_Init
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:247    .text.Serial_IRQ_RX_Init:0000006c $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:257    .text.Serial_DMA_RX_Init:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:262    .text.Serial_DMA_RX_Init:00000000 Serial_DMA_RX_Init
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:388    .text.Serial_DMA_RX_Init:000000d4 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:401    .text.Serial_DMA_TX_Init:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:406    .text.Serial_DMA_TX_Init:00000000 Serial_DMA_TX_Init
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:512    .text.Serial_DMA_TX_Init:000000a4 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:525    .text.Serial_Deinit:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:530    .text.Serial_Deinit:00000000 Serial_Deinit
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:606    .text.Serial_Deinit:00000064 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:612    .text.Serial_DMA_RXTX_Init:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:617    .text.Serial_DMA_RXTX_Init:00000000 Serial_DMA_RXTX_Init
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:772    .text.Serial_DMA_RXTX_Init:00000114 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:787    .text.Serial_SendBuff:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:792    .text.Serial_SendBuff:00000000 Serial_SendBuff
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:849    .text.Serial_SendBuff:0000003c $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:854    .text.Serial_DMA_TX_IRQSetting:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:859    .text.Serial_DMA_TX_IRQSetting:00000000 Serial_DMA_TX_IRQSetting
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:909    .text.Serial_DMA_TX_IRQSetting:00000044 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:916    .text.Serial_DMA_SendBuff:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:921    .text.Serial_DMA_SendBuff:00000000 Serial_DMA_SendBuff
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:960    .text.Serial_DMA_SendBuff:00000028 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:966    .text.Serial_DMA_WaitFinish:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:971    .text.Serial_DMA_WaitFinish:00000000 Serial_DMA_WaitFinish
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1011   .text.Serial_DMA_WaitFinish:0000002c $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1043   .data.Serial_Port:00000000 Serial_Port
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1093   .bss.IRQ_Callback:00000000 IRQ_Callback
                            *COM*:00000800 Serial_RX_Buff
                            *COM*:00000800 Serial_TX_Buff
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1021   .rodata.Serial_DMA_TX_Channel:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1025   .rodata.Serial_DMA_TX_Channel:00000000 Serial_DMA_TX_Channel
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1031   .rodata.Serial_Structure_Setting:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1035   .rodata.Serial_Structure_Setting:00000000 Serial_Structure_Setting
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1039   .data.Serial_Port:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1049   .rodata.RCC_APBPeriphClockCmd:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1053   .rodata.RCC_APBPeriphClockCmd:00000000 RCC_APBPeriphClockCmd
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1059   .rodata.Serial_DMA_TX_Stream:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1063   .rodata.Serial_DMA_TX_Stream:00000000 Serial_DMA_TX_Stream
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1069   .rodata.DMA_TX_FinishFlag:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1073   .rodata.DMA_TX_FinishFlag:00000000 DMA_TX_FinishFlag
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1079   .rodata.Serial_DMA_RX_Stream:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1083   .rodata.Serial_DMA_RX_Stream:00000000 Serial_DMA_RX_Stream
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1089   .bss.IRQ_Callback:00000000 $d
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s 			page 27


C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1096   .rodata.Serial_DMA_RX_Channel:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1100   .rodata.Serial_DMA_RX_Channel:00000000 Serial_DMA_RX_Channel
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1106   .rodata.Serial_IO_Init:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1110   .rodata.Serial_IO_Init:00000000 Serial_IO_Init
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1116   .rodata.RCC_APBPeriph_SerialCLK:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1120   .rodata.RCC_APBPeriph_SerialCLK:00000000 RCC_APBPeriph_SerialCLK
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1126   .rodata.Serial_DMA_TX_IRQ_Channel:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1130   .rodata.Serial_DMA_TX_IRQ_Channel:00000000 Serial_DMA_TX_IRQ_Channel
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1136   .rodata.Serial_DMA_CLK:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1140   .rodata.Serial_DMA_CLK:00000000 Serial_DMA_CLK
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1146   .rodata.Serial_RX_IRQ_Channel:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccYnDuQh.s:1150   .rodata.Serial_RX_IRQ_Channel:00000000 Serial_RX_IRQ_Channel
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
USART_Init
USART_Cmd
USART_ITConfig
periph_nvic_Structure_Setting
USART_DMACmd
periph_DMA_Serial
periph_DMA_WithoutIRQ_Init
periph_DMA_WithIRQ_Init
USART_DeInit
USART_GetFlagStatus
USART_SendData
DMA_GetFlagStatus
DMA_ClearFlag
DMA_Cmd
DMA_SetCurrDataCounter
RCC_APB2PeriphClockCmd
RCC_APB1PeriphClockCmd
GPIO_USART1_IO_Init
GPIO_USART2_IO_Init
GPIO_USART3_IO_Init
GPIO_USART6_IO_Init
