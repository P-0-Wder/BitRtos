ARM GAS  C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"Task_Shell.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Shell_RecCallback,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	Shell_RecCallback:
  26              	.LVL0:
  27              	.LFB126:
  28              		.file 1 "App/Task_Shell/Task_Shell.c"
   1:App/Task_Shell/Task_Shell.c **** #include "Task_Shell.h"
   2:App/Task_Shell/Task_Shell.c **** #include "drv_serial.h"
   3:App/Task_Shell/Task_Shell.c **** #include "shell_port.h"
   4:App/Task_Shell/Task_Shell.c **** 
   5:App/Task_Shell/Task_Shell.c **** #define SHELL_SERIAL_PORT DrvSerial_1
   6:App/Task_Shell/Task_Shell.c **** 
   7:App/Task_Shell/Task_Shell.c **** /* internal variable */
   8:App/Task_Shell/Task_Shell.c **** TaskShell_State_List TaskState = Shell_State_Init;
   9:App/Task_Shell/Task_Shell.c **** 
  10:App/Task_Shell/Task_Shell.c **** static void Shell_RecCallback(uint8_t *data, uint16_t len)
  11:App/Task_Shell/Task_Shell.c **** {
  29              		.loc 1 11 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  12:App/Task_Shell/Task_Shell.c **** }
  34              		.loc 1 12 1 view .LVU1
  35 0000 7047     		bx	lr
  36              		.cfi_endproc
  37              	.LFE126:
  39              		.section	.text.Shell_Write,"ax",%progbits
  40              		.align	1
  41              		.syntax unified
  42              		.thumb
  43              		.thumb_func
  44              		.fpu fpv4-sp-d16
  46              	Shell_Write:
  47              	.LVL1:
  48              	.LFB127:
ARM GAS  C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s 			page 2


  13:App/Task_Shell/Task_Shell.c **** 
  14:App/Task_Shell/Task_Shell.c **** static int Shell_Write(const uint8_t *ch, uint16_t len)
  15:App/Task_Shell/Task_Shell.c **** {
  49              		.loc 1 15 1 view -0
  50              		.cfi_startproc
  51              		@ args = 0, pretend = 0, frame = 0
  52              		@ frame_needed = 0, uses_anonymous_args = 0
  53              		.loc 1 15 1 is_stmt 0 view .LVU3
  54 0000 08B5     		push	{r3, lr}
  55              	.LCFI0:
  56              		.cfi_def_cfa_offset 8
  57              		.cfi_offset 3, -8
  58              		.cfi_offset 14, -4
  59 0002 0A46     		mov	r2, r1
  16:App/Task_Shell/Task_Shell.c ****     DrvSerial.write(SHELL_SERIAL_PORT, ch, len);
  60              		.loc 1 16 5 is_stmt 1 view .LVU4
  61              		.loc 1 16 14 is_stmt 0 view .LVU5
  62 0004 024B     		ldr	r3, .L4
  63 0006 9B68     		ldr	r3, [r3, #8]
  64              		.loc 1 16 5 view .LVU6
  65 0008 0146     		mov	r1, r0
  66              	.LVL2:
  67              		.loc 1 16 5 view .LVU7
  68 000a 0020     		movs	r0, #0
  69              	.LVL3:
  70              		.loc 1 16 5 view .LVU8
  71 000c 9847     		blx	r3
  72              	.LVL4:
  17:App/Task_Shell/Task_Shell.c **** }
  73              		.loc 1 17 1 view .LVU9
  74 000e 08BD     		pop	{r3, pc}
  75              	.L5:
  76              		.align	2
  77              	.L4:
  78 0010 00000000 		.word	DrvSerial
  79              		.cfi_endproc
  80              	.LFE127:
  82              		.section	.text.Shell_PortInit,"ax",%progbits
  83              		.align	1
  84              		.syntax unified
  85              		.thumb
  86              		.thumb_func
  87              		.fpu fpv4-sp-d16
  89              	Shell_PortInit:
  90              	.LFB128:
  18:App/Task_Shell/Task_Shell.c **** 
  19:App/Task_Shell/Task_Shell.c **** static bool Shell_PortInit(void)
  20:App/Task_Shell/Task_Shell.c **** {
  91              		.loc 1 20 1 is_stmt 1 view -0
  92              		.cfi_startproc
  93              		@ args = 0, pretend = 0, frame = 16
  94              		@ frame_needed = 0, uses_anonymous_args = 0
  95 0000 10B5     		push	{r4, lr}
  96              	.LCFI1:
  97              		.cfi_def_cfa_offset 8
  98              		.cfi_offset 4, -8
  99              		.cfi_offset 14, -4
ARM GAS  C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s 			page 3


 100 0002 84B0     		sub	sp, sp, #16
 101              	.LCFI2:
 102              		.cfi_def_cfa_offset 24
  21:App/Task_Shell/Task_Shell.c ****     static TaskShell_State_List TaskState = Shell_State_Init;
 103              		.loc 1 21 5 view .LVU11
  22:App/Task_Shell/Task_Shell.c **** 
  23:App/Task_Shell/Task_Shell.c ****     DrvSerial_Config_Typedef Serial1_Cfg;
 104              		.loc 1 23 5 view .LVU12
  24:App/Task_Shell/Task_Shell.c **** 
  25:App/Task_Shell/Task_Shell.c ****     Serial1_Cfg.baudrate = Serial_921600;
 105              		.loc 1 25 5 view .LVU13
 106              		.loc 1 25 26 is_stmt 0 view .LVU14
 107 0004 4FF46123 		mov	r3, #921600
 108 0008 0093     		str	r3, [sp]
  26:App/Task_Shell/Task_Shell.c ****     Serial1_Cfg.PreemptionPriority = 3;
 109              		.loc 1 26 5 is_stmt 1 view .LVU15
 110              		.loc 1 26 36 is_stmt 0 view .LVU16
 111 000a 0323     		movs	r3, #3
 112 000c 8DF80430 		strb	r3, [sp, #4]
  27:App/Task_Shell/Task_Shell.c ****     Serial1_Cfg.SubPriority = 0;
 113              		.loc 1 27 5 is_stmt 1 view .LVU17
 114              		.loc 1 27 29 is_stmt 0 view .LVU18
 115 0010 0020     		movs	r0, #0
 116 0012 8DF80500 		strb	r0, [sp, #5]
  28:App/Task_Shell/Task_Shell.c ****     Serial1_Cfg.mode = DrvSerial_MODE_DMA_TxRx;
 117              		.loc 1 28 5 is_stmt 1 view .LVU19
 118              		.loc 1 28 22 is_stmt 0 view .LVU20
 119 0016 0223     		movs	r3, #2
 120 0018 8DF80630 		strb	r3, [sp, #6]
  29:App/Task_Shell/Task_Shell.c ****     Serial1_Cfg.Irq_Callback = Shell_RecCallback;
 121              		.loc 1 29 5 is_stmt 1 view .LVU21
 122              		.loc 1 29 30 is_stmt 0 view .LVU22
 123 001c 054B     		ldr	r3, .L8
 124 001e 0293     		str	r3, [sp, #8]
  30:App/Task_Shell/Task_Shell.c ****     Serial1_Cfg.send_mode = DrvSerial_Send_Async;
 125              		.loc 1 30 5 is_stmt 1 view .LVU23
 126              		.loc 1 30 27 is_stmt 0 view .LVU24
 127 0020 8DF80C00 		strb	r0, [sp, #12]
  31:App/Task_Shell/Task_Shell.c **** 
  32:App/Task_Shell/Task_Shell.c ****     return DrvSerial.ctl(SHELL_SERIAL_PORT, DrvSerial_Open, (uint32_t)&Serial1_Cfg, sizeof(Serial1_
 128              		.loc 1 32 5 is_stmt 1 view .LVU25
 129              		.loc 1 32 21 is_stmt 0 view .LVU26
 130 0024 044B     		ldr	r3, .L8+4
 131 0026 1C68     		ldr	r4, [r3]
 132              		.loc 1 32 12 view .LVU27
 133 0028 1023     		movs	r3, #16
 134 002a 6A46     		mov	r2, sp
 135 002c 0146     		mov	r1, r0
 136 002e A047     		blx	r4
 137              	.LVL5:
  33:App/Task_Shell/Task_Shell.c **** }
 138              		.loc 1 33 1 view .LVU28
 139 0030 04B0     		add	sp, sp, #16
 140              	.LCFI3:
 141              		.cfi_def_cfa_offset 8
 142              		@ sp needed
 143 0032 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s 			page 4


 144              	.L9:
 145              		.align	2
 146              	.L8:
 147 0034 00000000 		.word	Shell_RecCallback
 148 0038 00000000 		.word	DrvSerial
 149              		.cfi_endproc
 150              	.LFE128:
 152              		.section	.text.TaskShell_Core,"ax",%progbits
 153              		.align	1
 154              		.global	TaskShell_Core
 155              		.syntax unified
 156              		.thumb
 157              		.thumb_func
 158              		.fpu fpv4-sp-d16
 160              	TaskShell_Core:
 161              	.LVL6:
 162              	.LFB129:
  34:App/Task_Shell/Task_Shell.c **** 
  35:App/Task_Shell/Task_Shell.c **** void TaskShell_Core(Task_Handler self)
  36:App/Task_Shell/Task_Shell.c **** {
 163              		.loc 1 36 1 is_stmt 1 view -0
 164              		.cfi_startproc
 165              		@ args = 0, pretend = 0, frame = 0
 166              		@ frame_needed = 0, uses_anonymous_args = 0
 167              		.loc 1 36 1 is_stmt 0 view .LVU30
 168 0000 08B5     		push	{r3, lr}
 169              	.LCFI4:
 170              		.cfi_def_cfa_offset 8
 171              		.cfi_offset 3, -8
 172              		.cfi_offset 14, -4
  37:App/Task_Shell/Task_Shell.c ****     switch ((uint8_t)TaskState)
 173              		.loc 1 37 5 is_stmt 1 view .LVU31
 174              		.loc 1 37 13 is_stmt 0 view .LVU32
 175 0002 064B     		ldr	r3, .L14
 176 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 177              		.loc 1 37 5 view .LVU33
 178 0006 03B1     		cbz	r3, .L13
 179              	.LVL7:
 180              	.L10:
  38:App/Task_Shell/Task_Shell.c ****     {
  39:App/Task_Shell/Task_Shell.c ****     case Shell_State_Init:
  40:App/Task_Shell/Task_Shell.c ****         Shell_PortInit();
  41:App/Task_Shell/Task_Shell.c ****         Shell_Init(Shell_Write);
  42:App/Task_Shell/Task_Shell.c ****         TaskState = Shell_State_Polling;
  43:App/Task_Shell/Task_Shell.c ****         break;
  44:App/Task_Shell/Task_Shell.c **** 
  45:App/Task_Shell/Task_Shell.c ****     case Shell_State_Polling:
  46:App/Task_Shell/Task_Shell.c ****         break;
  47:App/Task_Shell/Task_Shell.c **** 
  48:App/Task_Shell/Task_Shell.c ****     default:
  49:App/Task_Shell/Task_Shell.c ****         break;
  50:App/Task_Shell/Task_Shell.c ****     }
  51:App/Task_Shell/Task_Shell.c **** }...
 181              		.loc 1 51 1 view .LVU34
 182 0008 08BD     		pop	{r3, pc}
 183              	.LVL8:
 184              	.L13:
ARM GAS  C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s 			page 5


  40:App/Task_Shell/Task_Shell.c ****         Shell_PortInit();
 185              		.loc 1 40 9 is_stmt 1 view .LVU35
 186 000a FFF7FEFF 		bl	Shell_PortInit
 187              	.LVL9:
  41:App/Task_Shell/Task_Shell.c ****         Shell_Init(Shell_Write);
 188              		.loc 1 41 9 view .LVU36
 189 000e 0448     		ldr	r0, .L14+4
 190 0010 FFF7FEFF 		bl	Shell_Init
 191              	.LVL10:
  42:App/Task_Shell/Task_Shell.c ****         TaskState = Shell_State_Polling;
 192              		.loc 1 42 9 view .LVU37
  42:App/Task_Shell/Task_Shell.c ****         TaskState = Shell_State_Polling;
 193              		.loc 1 42 19 is_stmt 0 view .LVU38
 194 0014 014B     		ldr	r3, .L14
 195 0016 0122     		movs	r2, #1
 196 0018 1A70     		strb	r2, [r3]
  43:App/Task_Shell/Task_Shell.c ****         break;
 197              		.loc 1 43 9 is_stmt 1 view .LVU39
 198              		.loc 1 51 1 is_stmt 0 view .LVU40
 199 001a F5E7     		b	.L10
 200              	.L15:
 201              		.align	2
 202              	.L14:
 203 001c 00000000 		.word	.LANCHOR0
 204 0020 00000000 		.word	Shell_Write
 205              		.cfi_endproc
 206              	.LFE129:
 208              		.global	TaskState
 209              		.section	.bss.TaskState,"aw",%nobits
 210              		.set	.LANCHOR0,. + 0
 213              	TaskState:
 214 0000 00       		.space	1
 215              		.text
 216              	.Letext0:
 217              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 218              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 219              		.file 4 "SYS/task_manager/task_manager.h"
 220              		.file 5 "App/Task_Shell/Task_Shell.h"
 221              		.file 6 "Bsp/periph_serial.h"
 222              		.file 7 "Drv/drv_serial.h"
 223              		.file 8 "SYS/shell/shell_port.h"
ARM GAS  C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s 			page 6


DEFINED SYMBOLS
                            *ABS*:00000000 Task_Shell.c
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:18     .text.Shell_RecCallback:00000000 $t
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:25     .text.Shell_RecCallback:00000000 Shell_RecCallback
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:40     .text.Shell_Write:00000000 $t
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:46     .text.Shell_Write:00000000 Shell_Write
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:78     .text.Shell_Write:00000010 $d
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:83     .text.Shell_PortInit:00000000 $t
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:89     .text.Shell_PortInit:00000000 Shell_PortInit
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:147    .text.Shell_PortInit:00000034 $d
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:153    .text.TaskShell_Core:00000000 $t
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:160    .text.TaskShell_Core:00000000 TaskShell_Core
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:203    .text.TaskShell_Core:0000001c $d
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:213    .bss.TaskState:00000000 TaskState
C:\Users\huav\AppData\Local\Temp\cc9zN5pV.s:214    .bss.TaskState:00000000 $d

UNDEFINED SYMBOLS
DrvSerial
Shell_Init
