ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"mmu.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.MMU_Malloc,"ax",%progbits
  18              		.align	1
  19              		.global	MMU_Malloc
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	MMU_Malloc:
  27              	.LVL0:
  28              	.LFB5:
  29              		.file 1 "SYS/memng/mmu.c"
   1:SYS/memng/mmu.c **** #include "mmu.h"
   2:SYS/memng/mmu.c **** #include <string.h>
   3:SYS/memng/mmu.c **** #include <stdio.h>
   4:SYS/memng/mmu.c **** 
   5:SYS/memng/mmu.c **** static Mem_Monitor_TypeDef Mem_Monitor = {
   6:SYS/memng/mmu.c ****     .remain_size = PHY_MEM_SIZE,
   7:SYS/memng/mmu.c ****     .total_size = PHY_MEM_SIZE,
   8:SYS/memng/mmu.c ****     .table_size = MEM_ALLOC_TABLE_SIZE,
   9:SYS/memng/mmu.c ****     .used_size = 0,
  10:SYS/memng/mmu.c ****     .init = false,
  11:SYS/memng/mmu.c **** };
  12:SYS/memng/mmu.c **** 
  13:SYS/memng/mmu.c **** static uint8_t MMU_Buff[PHY_MEM_SIZE] __attribute__((aligned(BLOCK_ALIGMENT_SIZE)));
  14:SYS/memng/mmu.c **** static uint8_t MMU_StateTable[MEM_ALLOC_TABLE_SIZE];
  15:SYS/memng/mmu.c **** 
  16:SYS/memng/mmu.c **** static void MMU_Trim(void)
  17:SYS/memng/mmu.c **** {
  18:SYS/memng/mmu.c ****     for (uint32_t index = 0; index < MEM_ALLOC_TABLE_SIZE; index++)
  19:SYS/memng/mmu.c ****     {
  20:SYS/memng/mmu.c ****         MMU_StateTable[index] = 0;
  21:SYS/memng/mmu.c ****     }
  22:SYS/memng/mmu.c **** }
  23:SYS/memng/mmu.c **** 
  24:SYS/memng/mmu.c **** /* memory block initial */
  25:SYS/memng/mmu.c **** static bool MMU_Init(void)
  26:SYS/memng/mmu.c **** {
  27:SYS/memng/mmu.c **** 
  28:SYS/memng/mmu.c ****     return true;
  29:SYS/memng/mmu.c **** }
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s 			page 2


  30:SYS/memng/mmu.c **** 
  31:SYS/memng/mmu.c **** /* memory manager unit malloc */
  32:SYS/memng/mmu.c **** void *MMU_Malloc(uint32_t size)
  33:SYS/memng/mmu.c **** {
  30              		.loc 1 33 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  34:SYS/memng/mmu.c ****     void *mem_addr;
  35              		.loc 1 34 5 view .LVU1
  35:SYS/memng/mmu.c **** 
  36:SYS/memng/mmu.c ****     if (!Mem_Monitor.init)
  36              		.loc 1 36 5 view .LVU2
  37              		.loc 1 36 21 is_stmt 0 view .LVU3
  38 0000 0B4B     		ldr	r3, .L4
  39 0002 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
  40              		.loc 1 36 8 view .LVU4
  41 0004 13B9     		cbnz	r3, .L2
  37:SYS/memng/mmu.c ****     {
  38:SYS/memng/mmu.c ****         MMU_Init();
  42              		.loc 1 38 9 is_stmt 1 view .LVU5
  39:SYS/memng/mmu.c **** 
  40:SYS/memng/mmu.c ****         Mem_Monitor.init = true;
  43              		.loc 1 40 9 view .LVU6
  44              		.loc 1 40 26 is_stmt 0 view .LVU7
  45 0006 0A4B     		ldr	r3, .L4
  46 0008 0122     		movs	r2, #1
  47 000a 1A74     		strb	r2, [r3, #16]
  48              	.L2:
  41:SYS/memng/mmu.c ****     }
  42:SYS/memng/mmu.c **** 
  43:SYS/memng/mmu.c ****     if (Mem_Monitor.init)
  49              		.loc 1 43 5 is_stmt 1 view .LVU8
  50              		.loc 1 43 20 is_stmt 0 view .LVU9
  51 000c 084B     		ldr	r3, .L4
  52 000e 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
  53              		.loc 1 43 8 view .LVU10
  54 0010 63B1     		cbz	r3, .L3
  44:SYS/memng/mmu.c ****     {
  45:SYS/memng/mmu.c ****         __asm("cpsid i");
  55              		.loc 1 45 9 is_stmt 1 view .LVU11
  56              		.syntax unified
  57              	@ 45 "SYS/memng/mmu.c" 1
  58 0012 72B6     		cpsid i
  59              	@ 0 "" 2
  46:SYS/memng/mmu.c **** 
  47:SYS/memng/mmu.c ****         if ((size > Mem_Monitor.remain_size) || (size == 0))
  60              		.loc 1 47 9 view .LVU12
  61              		.loc 1 47 32 is_stmt 0 view .LVU13
  62              		.thumb
  63              		.syntax unified
  64 0014 064B     		ldr	r3, .L4
  65 0016 5B68     		ldr	r3, [r3, #4]
  66              		.loc 1 47 12 view .LVU14
  67 0018 8342     		cmp	r3, r0
  68 001a 07D3     		bcc	.L3
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s 			page 3


  69              		.loc 1 47 46 discriminator 1 view .LVU15
  70 001c 30B1     		cbz	r0, .L3
  48:SYS/memng/mmu.c ****         {
  49:SYS/memng/mmu.c ****             return 0;
  50:SYS/memng/mmu.c ****         }
  51:SYS/memng/mmu.c ****         else
  52:SYS/memng/mmu.c ****         {
  53:SYS/memng/mmu.c ****             Mem_Monitor.remain_size -= size;
  71              		.loc 1 53 13 is_stmt 1 view .LVU16
  72              		.loc 1 53 37 is_stmt 0 view .LVU17
  73 001e 044A     		ldr	r2, .L4
  74 0020 1B1A     		subs	r3, r3, r0
  75 0022 5360     		str	r3, [r2, #4]
  54:SYS/memng/mmu.c ****             Mem_Monitor.used_size += size;
  76              		.loc 1 54 13 is_stmt 1 view .LVU18
  77              		.loc 1 54 35 is_stmt 0 view .LVU19
  78 0024 1368     		ldr	r3, [r2]
  79 0026 1844     		add	r0, r0, r3
  80              	.LVL1:
  81              		.loc 1 54 35 view .LVU20
  82 0028 1060     		str	r0, [r2]
  55:SYS/memng/mmu.c ****         }
  56:SYS/memng/mmu.c **** 
  57:SYS/memng/mmu.c ****         __asm("cpsie i");
  83              		.loc 1 57 9 is_stmt 1 view .LVU21
  84              		.syntax unified
  85              	@ 57 "SYS/memng/mmu.c" 1
  86 002a 62B6     		cpsie i
  87              	@ 0 "" 2
  58:SYS/memng/mmu.c ****         return mem_addr;
  88              		.loc 1 58 9 view .LVU22
  89              		.thumb
  90              		.syntax unified
  91              	.L3:
  59:SYS/memng/mmu.c ****     }
  60:SYS/memng/mmu.c **** 
  61:SYS/memng/mmu.c ****     return 0;
  62:SYS/memng/mmu.c **** }
  92              		.loc 1 62 1 is_stmt 0 view .LVU23
  93 002c 0020     		movs	r0, #0
  94 002e 7047     		bx	lr
  95              	.L5:
  96              		.align	2
  97              	.L4:
  98 0030 00000000 		.word	.LANCHOR0
  99              		.cfi_endproc
 100              	.LFE5:
 102              		.section	.text.MMU_Free,"ax",%progbits
 103              		.align	1
 104              		.global	MMU_Free
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
 108              		.fpu fpv4-sp-d16
 110              	MMU_Free:
 111              	.LVL2:
 112              	.LFB6:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s 			page 4


  63:SYS/memng/mmu.c **** 
  64:SYS/memng/mmu.c **** /* memory manager unit free */
  65:SYS/memng/mmu.c **** void MMU_Free(void *ptr)
  66:SYS/memng/mmu.c **** {
 113              		.loc 1 66 1 is_stmt 1 view -0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 0
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117              		@ link register save eliminated.
  67:SYS/memng/mmu.c ****     __asm("cpsid i");
 118              		.loc 1 67 5 view .LVU25
 119              		.syntax unified
 120              	@ 67 "SYS/memng/mmu.c" 1
 121 0000 72B6     		cpsid i
 122              	@ 0 "" 2
  68:SYS/memng/mmu.c **** 
  69:SYS/memng/mmu.c ****     __asm("cpsie i");
 123              		.loc 1 69 5 view .LVU26
 124              	@ 69 "SYS/memng/mmu.c" 1
 125 0002 62B6     		cpsie i
 126              	@ 0 "" 2
  70:SYS/memng/mmu.c **** }
 127              		.loc 1 70 1 is_stmt 0 view .LVU27
 128              		.thumb
 129              		.syntax unified
 130 0004 7047     		bx	lr
 131              		.cfi_endproc
 132              	.LFE6:
 134              		.section	.text.MMU_Info,"ax",%progbits
 135              		.align	1
 136              		.global	MMU_Info
 137              		.syntax unified
 138              		.thumb
 139              		.thumb_func
 140              		.fpu fpv4-sp-d16
 142              	MMU_Info:
 143              	.LVL3:
 144              	.LFB7:
  71:SYS/memng/mmu.c **** 
  72:SYS/memng/mmu.c **** Mem_Monitor_TypeDef MMU_Info(void)
  73:SYS/memng/mmu.c **** {
 145              		.loc 1 73 1 is_stmt 1 view -0
 146              		.cfi_startproc
 147              		@ args = 0, pretend = 0, frame = 0
 148              		@ frame_needed = 0, uses_anonymous_args = 0
 149              		.loc 1 73 1 is_stmt 0 view .LVU29
 150 0000 10B5     		push	{r4, lr}
 151              	.LCFI0:
 152              		.cfi_def_cfa_offset 8
 153              		.cfi_offset 4, -8
 154              		.cfi_offset 14, -4
 155 0002 8646     		mov	lr, r0
  74:SYS/memng/mmu.c ****     return Mem_Monitor;
 156              		.loc 1 74 5 is_stmt 1 view .LVU30
 157              		.loc 1 74 12 is_stmt 0 view .LVU31
 158 0004 8446     		mov	ip, r0
 159 0006 044C     		ldr	r4, .L9
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s 			page 5


 160 0008 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 161              	.LVL4:
 162              		.loc 1 74 12 view .LVU32
 163 000a ACE80F00 		stmia	ip!, {r0, r1, r2, r3}
 164              	.LVL5:
 165              		.loc 1 74 12 view .LVU33
 166 000e 2368     		ldr	r3, [r4]
 167 0010 CCF80030 		str	r3, [ip]
  75:SYS/memng/mmu.c **** }
 168              		.loc 1 75 1 view .LVU34
 169 0014 7046     		mov	r0, lr
 170 0016 10BD     		pop	{r4, pc}
 171              	.L10:
 172              		.align	2
 173              	.L9:
 174 0018 00000000 		.word	.LANCHOR0
 175              		.cfi_endproc
 176              	.LFE7:
 178              		.section	.data.Mem_Monitor,"aw"
 179              		.align	2
 180              		.set	.LANCHOR0,. + 0
 183              	Mem_Monitor:
 184 0000 00000000 		.word	0
 185 0004 00F80000 		.word	63488
 186 0008 00F80000 		.word	63488
 187 000c 001F0000 		.word	7936
 188 0010 00       		.byte	0
 189 0011 000000   		.space	3
 190              		.text
 191              	.Letext0:
 192              		.file 2 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/mac
 193              		.file 3 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys
 194              		.file 4 "SYS/memng/mmu.h"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 mmu.c
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:18     .text.MMU_Malloc:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:26     .text.MMU_Malloc:0000000000000000 MMU_Malloc
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:98     .text.MMU_Malloc:0000000000000030 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:103    .text.MMU_Free:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:110    .text.MMU_Free:0000000000000000 MMU_Free
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:135    .text.MMU_Info:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:142    .text.MMU_Info:0000000000000000 MMU_Info
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:174    .text.MMU_Info:0000000000000018 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:179    .data.Mem_Monitor:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccnfrDjv.s:183    .data.Mem_Monitor:0000000000000000 Mem_Monitor

NO UNDEFINED SYMBOLS
