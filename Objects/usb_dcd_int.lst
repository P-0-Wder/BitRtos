ARM GAS  /tmp/ccbsMsTN.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usb_dcd_int.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.DCD_HandleResume_ISR,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	DCD_HandleResume_ISR:
  26              	.LVL0:
  27              	.LFB127:
  28              		.file 1 "USB/core/usb_dcd_int.c"
   1:USB/core/usb_dcd_int.c **** /**
   2:USB/core/usb_dcd_int.c ****   ******************************************************************************
   3:USB/core/usb_dcd_int.c ****   * @file    usb_dcd_int.c
   4:USB/core/usb_dcd_int.c ****   * @author  MCD Application Team
   5:USB/core/usb_dcd_int.c ****   * @version V2.1.0
   6:USB/core/usb_dcd_int.c ****   * @date    19-March-2012
   7:USB/core/usb_dcd_int.c ****   * @brief   Peripheral Device interrupt subroutines
   8:USB/core/usb_dcd_int.c ****   ******************************************************************************
   9:USB/core/usb_dcd_int.c ****   * @attention
  10:USB/core/usb_dcd_int.c ****   *
  11:USB/core/usb_dcd_int.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  12:USB/core/usb_dcd_int.c ****   *
  13:USB/core/usb_dcd_int.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  14:USB/core/usb_dcd_int.c ****   * You may not use this file except in compliance with the License.
  15:USB/core/usb_dcd_int.c ****   * You may obtain a copy of the License at:
  16:USB/core/usb_dcd_int.c ****   *
  17:USB/core/usb_dcd_int.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  18:USB/core/usb_dcd_int.c ****   *
  19:USB/core/usb_dcd_int.c ****   * Unless required by applicable law or agreed to in writing, software 
  20:USB/core/usb_dcd_int.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  21:USB/core/usb_dcd_int.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:USB/core/usb_dcd_int.c ****   * See the License for the specific language governing permissions and
  23:USB/core/usb_dcd_int.c ****   * limitations under the License.
  24:USB/core/usb_dcd_int.c ****   *
  25:USB/core/usb_dcd_int.c ****   ******************************************************************************
  26:USB/core/usb_dcd_int.c ****   */
  27:USB/core/usb_dcd_int.c **** 
  28:USB/core/usb_dcd_int.c **** /* Includes ------------------------------------------------------------------*/
  29:USB/core/usb_dcd_int.c **** #include "usb_dcd_int.h"
  30:USB/core/usb_dcd_int.c **** /** @addtogroup USB_OTG_DRIVER
ARM GAS  /tmp/ccbsMsTN.s 			page 2


  31:USB/core/usb_dcd_int.c **** * @{
  32:USB/core/usb_dcd_int.c **** */
  33:USB/core/usb_dcd_int.c **** 
  34:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT 
  35:USB/core/usb_dcd_int.c **** * @brief This file contains the interrupt subroutines for the Device mode.
  36:USB/core/usb_dcd_int.c **** * @{
  37:USB/core/usb_dcd_int.c **** */
  38:USB/core/usb_dcd_int.c **** 
  39:USB/core/usb_dcd_int.c **** 
  40:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_Defines
  41:USB/core/usb_dcd_int.c **** * @{
  42:USB/core/usb_dcd_int.c **** */ 
  43:USB/core/usb_dcd_int.c **** /**
  44:USB/core/usb_dcd_int.c **** * @}
  45:USB/core/usb_dcd_int.c **** */ 
  46:USB/core/usb_dcd_int.c **** 
  47:USB/core/usb_dcd_int.c **** 
  48:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_TypesDefinitions
  49:USB/core/usb_dcd_int.c **** * @{
  50:USB/core/usb_dcd_int.c **** */ 
  51:USB/core/usb_dcd_int.c **** /**
  52:USB/core/usb_dcd_int.c **** * @}
  53:USB/core/usb_dcd_int.c **** */ 
  54:USB/core/usb_dcd_int.c **** 
  55:USB/core/usb_dcd_int.c **** 
  56:USB/core/usb_dcd_int.c **** 
  57:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_Macros
  58:USB/core/usb_dcd_int.c **** * @{
  59:USB/core/usb_dcd_int.c **** */ 
  60:USB/core/usb_dcd_int.c **** /**
  61:USB/core/usb_dcd_int.c **** * @}
  62:USB/core/usb_dcd_int.c **** */ 
  63:USB/core/usb_dcd_int.c **** 
  64:USB/core/usb_dcd_int.c **** 
  65:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_Variables
  66:USB/core/usb_dcd_int.c **** * @{
  67:USB/core/usb_dcd_int.c **** */ 
  68:USB/core/usb_dcd_int.c **** /**
  69:USB/core/usb_dcd_int.c **** * @}
  70:USB/core/usb_dcd_int.c **** */ 
  71:USB/core/usb_dcd_int.c **** 
  72:USB/core/usb_dcd_int.c **** 
  73:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_FunctionPrototypes
  74:USB/core/usb_dcd_int.c **** * @{
  75:USB/core/usb_dcd_int.c **** */ 
  76:USB/core/usb_dcd_int.c **** /* static functions */
  77:USB/core/usb_dcd_int.c **** static uint32_t DCD_ReadDevInEP (USB_OTG_CORE_HANDLE *pdev, uint8_t epnum);
  78:USB/core/usb_dcd_int.c **** 
  79:USB/core/usb_dcd_int.c **** /* Interrupt Handlers */
  80:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleInEP_ISR(USB_OTG_CORE_HANDLE *pdev);
  81:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleOutEP_ISR(USB_OTG_CORE_HANDLE *pdev);
  82:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleSof_ISR(USB_OTG_CORE_HANDLE *pdev);
  83:USB/core/usb_dcd_int.c **** 
  84:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleRxStatusQueueLevel_ISR(USB_OTG_CORE_HANDLE *pdev);
  85:USB/core/usb_dcd_int.c **** static uint32_t DCD_WriteEmptyTxFifo(USB_OTG_CORE_HANDLE *pdev , uint32_t epnum);
  86:USB/core/usb_dcd_int.c **** 
  87:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleUsbReset_ISR(USB_OTG_CORE_HANDLE *pdev);
ARM GAS  /tmp/ccbsMsTN.s 			page 3


  88:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleEnumDone_ISR(USB_OTG_CORE_HANDLE *pdev);
  89:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleResume_ISR(USB_OTG_CORE_HANDLE *pdev);
  90:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleUSBSuspend_ISR(USB_OTG_CORE_HANDLE *pdev);
  91:USB/core/usb_dcd_int.c **** 
  92:USB/core/usb_dcd_int.c **** static uint32_t DCD_IsoINIncomplete_ISR(USB_OTG_CORE_HANDLE *pdev);
  93:USB/core/usb_dcd_int.c **** static uint32_t DCD_IsoOUTIncomplete_ISR(USB_OTG_CORE_HANDLE *pdev);
  94:USB/core/usb_dcd_int.c **** #ifdef VBUS_SENSING_ENABLED
  95:USB/core/usb_dcd_int.c **** static uint32_t DCD_SessionRequest_ISR(USB_OTG_CORE_HANDLE *pdev);
  96:USB/core/usb_dcd_int.c **** static uint32_t DCD_OTG_ISR(USB_OTG_CORE_HANDLE *pdev);
  97:USB/core/usb_dcd_int.c **** #endif
  98:USB/core/usb_dcd_int.c **** 
  99:USB/core/usb_dcd_int.c **** /**
 100:USB/core/usb_dcd_int.c **** * @}
 101:USB/core/usb_dcd_int.c **** */ 
 102:USB/core/usb_dcd_int.c **** 
 103:USB/core/usb_dcd_int.c **** 
 104:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_Functions
 105:USB/core/usb_dcd_int.c **** * @{
 106:USB/core/usb_dcd_int.c **** */ 
 107:USB/core/usb_dcd_int.c **** 
 108:USB/core/usb_dcd_int.c **** 
 109:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED  
 110:USB/core/usb_dcd_int.c **** /**
 111:USB/core/usb_dcd_int.c **** * @brief  USBD_OTG_EP1OUT_ISR_Handler
 112:USB/core/usb_dcd_int.c **** *         handles all USB Interrupts
 113:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 114:USB/core/usb_dcd_int.c **** * @retval status
 115:USB/core/usb_dcd_int.c **** */
 116:USB/core/usb_dcd_int.c **** uint32_t USBD_OTG_EP1OUT_ISR_Handler (USB_OTG_CORE_HANDLE *pdev)
 117:USB/core/usb_dcd_int.c **** {
 118:USB/core/usb_dcd_int.c ****   
 119:USB/core/usb_dcd_int.c ****   USB_OTG_DOEPINTn_TypeDef  doepint;
 120:USB/core/usb_dcd_int.c ****   USB_OTG_DEPXFRSIZ_TypeDef  deptsiz;  
 121:USB/core/usb_dcd_int.c ****   
 122:USB/core/usb_dcd_int.c ****   doepint.d32 = USB_OTG_READ_REG32(&pdev->regs.OUTEP_REGS[1]->DOEPINT);
 123:USB/core/usb_dcd_int.c ****   doepint.d32&= USB_OTG_READ_REG32(&pdev->regs.DREGS->DOUTEP1MSK);
 124:USB/core/usb_dcd_int.c ****   
 125:USB/core/usb_dcd_int.c ****   /* Transfer complete */
 126:USB/core/usb_dcd_int.c ****   if ( doepint.b.xfercompl )
 127:USB/core/usb_dcd_int.c ****   {
 128:USB/core/usb_dcd_int.c ****     /* Clear the bit in DOEPINTn for this interrupt */
 129:USB/core/usb_dcd_int.c ****     CLEAR_OUT_EP_INTR(1, xfercompl);
 130:USB/core/usb_dcd_int.c ****     if (pdev->cfg.dma_enable == 1)
 131:USB/core/usb_dcd_int.c ****     {
 132:USB/core/usb_dcd_int.c ****       deptsiz.d32 = USB_OTG_READ_REG32(&(pdev->regs.OUTEP_REGS[1]->DOEPTSIZ));
 133:USB/core/usb_dcd_int.c ****       /*ToDo : handle more than one single MPS size packet */
 134:USB/core/usb_dcd_int.c ****       pdev->dev.out_ep[1].xfer_count = pdev->dev.out_ep[1].maxpacket - \
 135:USB/core/usb_dcd_int.c ****         deptsiz.b.xfersize;
 136:USB/core/usb_dcd_int.c ****     }    
 137:USB/core/usb_dcd_int.c ****     /* Inform upper layer: data ready */
 138:USB/core/usb_dcd_int.c ****     /* RX COMPLETE */
 139:USB/core/usb_dcd_int.c ****     USBD_DCD_INT_fops->DataOutStage(pdev , 1);
 140:USB/core/usb_dcd_int.c ****     
 141:USB/core/usb_dcd_int.c ****   }
 142:USB/core/usb_dcd_int.c ****   
 143:USB/core/usb_dcd_int.c ****   /* Endpoint disable  */
 144:USB/core/usb_dcd_int.c ****   if ( doepint.b.epdisabled )
ARM GAS  /tmp/ccbsMsTN.s 			page 4


 145:USB/core/usb_dcd_int.c ****   {
 146:USB/core/usb_dcd_int.c ****     /* Clear the bit in DOEPINTn for this interrupt */
 147:USB/core/usb_dcd_int.c ****     CLEAR_OUT_EP_INTR(1, epdisabled);
 148:USB/core/usb_dcd_int.c ****   }
 149:USB/core/usb_dcd_int.c **** 
 150:USB/core/usb_dcd_int.c ****   return 1;
 151:USB/core/usb_dcd_int.c **** }
 152:USB/core/usb_dcd_int.c **** 
 153:USB/core/usb_dcd_int.c **** /**
 154:USB/core/usb_dcd_int.c **** * @brief  USBD_OTG_EP1IN_ISR_Handler
 155:USB/core/usb_dcd_int.c **** *         handles all USB Interrupts
 156:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 157:USB/core/usb_dcd_int.c **** * @retval status
 158:USB/core/usb_dcd_int.c **** */
 159:USB/core/usb_dcd_int.c **** uint32_t USBD_OTG_EP1IN_ISR_Handler (USB_OTG_CORE_HANDLE *pdev)
 160:USB/core/usb_dcd_int.c **** {
 161:USB/core/usb_dcd_int.c ****   
 162:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPINTn_TypeDef  diepint;
 163:USB/core/usb_dcd_int.c ****   uint32_t fifoemptymsk, msk, emp;
 164:USB/core/usb_dcd_int.c ****   
 165:USB/core/usb_dcd_int.c ****   msk = USB_OTG_READ_REG32(&pdev->regs.DREGS->DINEP1MSK);
 166:USB/core/usb_dcd_int.c ****   emp = USB_OTG_READ_REG32(&pdev->regs.DREGS->DIEPEMPMSK);
 167:USB/core/usb_dcd_int.c ****   msk |= ((emp >> 1 ) & 0x1) << 7;
 168:USB/core/usb_dcd_int.c ****   diepint.d32  = USB_OTG_READ_REG32(&pdev->regs.INEP_REGS[1]->DIEPINT) & msk;  
 169:USB/core/usb_dcd_int.c ****   
 170:USB/core/usb_dcd_int.c ****   if ( diepint.b.xfercompl )
 171:USB/core/usb_dcd_int.c ****   {
 172:USB/core/usb_dcd_int.c ****     fifoemptymsk = 0x1 << 1;
 173:USB/core/usb_dcd_int.c ****     USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DIEPEMPMSK, fifoemptymsk, 0);
 174:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, xfercompl);
 175:USB/core/usb_dcd_int.c ****     /* TX COMPLETE */
 176:USB/core/usb_dcd_int.c ****     USBD_DCD_INT_fops->DataInStage(pdev , 1);
 177:USB/core/usb_dcd_int.c ****   }
 178:USB/core/usb_dcd_int.c ****   if ( diepint.b.epdisabled )
 179:USB/core/usb_dcd_int.c ****   {
 180:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, epdisabled);
 181:USB/core/usb_dcd_int.c ****   }  
 182:USB/core/usb_dcd_int.c ****   if ( diepint.b.timeout )
 183:USB/core/usb_dcd_int.c ****   {
 184:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, timeout);
 185:USB/core/usb_dcd_int.c ****   }
 186:USB/core/usb_dcd_int.c ****   if (diepint.b.intktxfemp)
 187:USB/core/usb_dcd_int.c ****   {
 188:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, intktxfemp);
 189:USB/core/usb_dcd_int.c ****   }
 190:USB/core/usb_dcd_int.c ****   if (diepint.b.inepnakeff)
 191:USB/core/usb_dcd_int.c ****   {
 192:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, inepnakeff);
 193:USB/core/usb_dcd_int.c ****   }
 194:USB/core/usb_dcd_int.c ****   if (diepint.b.emptyintr)
 195:USB/core/usb_dcd_int.c ****   {
 196:USB/core/usb_dcd_int.c ****     DCD_WriteEmptyTxFifo(pdev , 1);
 197:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, emptyintr);
 198:USB/core/usb_dcd_int.c ****   }
 199:USB/core/usb_dcd_int.c ****   return 1;
 200:USB/core/usb_dcd_int.c **** }
 201:USB/core/usb_dcd_int.c **** #endif
ARM GAS  /tmp/ccbsMsTN.s 			page 5


 202:USB/core/usb_dcd_int.c **** 
 203:USB/core/usb_dcd_int.c **** /**
 204:USB/core/usb_dcd_int.c **** * @brief  STM32_USBF_OTG_ISR_Handler
 205:USB/core/usb_dcd_int.c **** *         handles all USB Interrupts
 206:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 207:USB/core/usb_dcd_int.c **** * @retval status
 208:USB/core/usb_dcd_int.c **** */
 209:USB/core/usb_dcd_int.c **** uint32_t USBD_OTG_ISR_Handler (USB_OTG_CORE_HANDLE *pdev)
 210:USB/core/usb_dcd_int.c **** {
 211:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintr_status;
 212:USB/core/usb_dcd_int.c ****   uint32_t retval = 0;
 213:USB/core/usb_dcd_int.c ****   
 214:USB/core/usb_dcd_int.c ****   if (USB_OTG_IsDeviceMode(pdev)) /* ensure that we are in device mode */
 215:USB/core/usb_dcd_int.c ****   {
 216:USB/core/usb_dcd_int.c ****     gintr_status.d32 = USB_OTG_ReadCoreItr(pdev);
 217:USB/core/usb_dcd_int.c ****     if (!gintr_status.d32) /* avoid spurious interrupt */
 218:USB/core/usb_dcd_int.c ****     {
 219:USB/core/usb_dcd_int.c ****       return 0;
 220:USB/core/usb_dcd_int.c ****     }
 221:USB/core/usb_dcd_int.c ****     
 222:USB/core/usb_dcd_int.c ****     if (gintr_status.b.outepintr)
 223:USB/core/usb_dcd_int.c ****     {
 224:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleOutEP_ISR(pdev);
 225:USB/core/usb_dcd_int.c ****     }    
 226:USB/core/usb_dcd_int.c ****     
 227:USB/core/usb_dcd_int.c ****     if (gintr_status.b.inepint)
 228:USB/core/usb_dcd_int.c ****     {
 229:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleInEP_ISR(pdev);
 230:USB/core/usb_dcd_int.c ****     }
 231:USB/core/usb_dcd_int.c ****     
 232:USB/core/usb_dcd_int.c ****     if (gintr_status.b.modemismatch)
 233:USB/core/usb_dcd_int.c ****     {
 234:USB/core/usb_dcd_int.c ****       USB_OTG_GINTSTS_TypeDef  gintsts;
 235:USB/core/usb_dcd_int.c ****       
 236:USB/core/usb_dcd_int.c ****       /* Clear interrupt */
 237:USB/core/usb_dcd_int.c ****       gintsts.d32 = 0;
 238:USB/core/usb_dcd_int.c ****       gintsts.b.modemismatch = 1;
 239:USB/core/usb_dcd_int.c ****       USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 240:USB/core/usb_dcd_int.c ****     }
 241:USB/core/usb_dcd_int.c ****     
 242:USB/core/usb_dcd_int.c ****     if (gintr_status.b.wkupintr)
 243:USB/core/usb_dcd_int.c ****     {
 244:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleResume_ISR(pdev);
 245:USB/core/usb_dcd_int.c ****     }
 246:USB/core/usb_dcd_int.c ****     
 247:USB/core/usb_dcd_int.c ****     if (gintr_status.b.usbsuspend)
 248:USB/core/usb_dcd_int.c ****     {
 249:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleUSBSuspend_ISR(pdev);
 250:USB/core/usb_dcd_int.c ****     }
 251:USB/core/usb_dcd_int.c ****     if (gintr_status.b.sofintr)
 252:USB/core/usb_dcd_int.c ****     {
 253:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleSof_ISR(pdev);
 254:USB/core/usb_dcd_int.c ****       
 255:USB/core/usb_dcd_int.c ****     }
 256:USB/core/usb_dcd_int.c ****     
 257:USB/core/usb_dcd_int.c ****     if (gintr_status.b.rxstsqlvl)
 258:USB/core/usb_dcd_int.c ****     {
ARM GAS  /tmp/ccbsMsTN.s 			page 6


 259:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleRxStatusQueueLevel_ISR(pdev);
 260:USB/core/usb_dcd_int.c ****       
 261:USB/core/usb_dcd_int.c ****     }
 262:USB/core/usb_dcd_int.c ****     
 263:USB/core/usb_dcd_int.c ****     if (gintr_status.b.usbreset)
 264:USB/core/usb_dcd_int.c ****     {
 265:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleUsbReset_ISR(pdev);
 266:USB/core/usb_dcd_int.c ****       
 267:USB/core/usb_dcd_int.c ****     }
 268:USB/core/usb_dcd_int.c ****     if (gintr_status.b.enumdone)
 269:USB/core/usb_dcd_int.c ****     {
 270:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleEnumDone_ISR(pdev);
 271:USB/core/usb_dcd_int.c ****     }
 272:USB/core/usb_dcd_int.c ****     
 273:USB/core/usb_dcd_int.c ****     if (gintr_status.b.incomplisoin)
 274:USB/core/usb_dcd_int.c ****     {
 275:USB/core/usb_dcd_int.c ****       retval |= DCD_IsoINIncomplete_ISR(pdev);
 276:USB/core/usb_dcd_int.c ****     }
 277:USB/core/usb_dcd_int.c **** 
 278:USB/core/usb_dcd_int.c ****     if (gintr_status.b.incomplisoout)
 279:USB/core/usb_dcd_int.c ****     {
 280:USB/core/usb_dcd_int.c ****       retval |= DCD_IsoOUTIncomplete_ISR(pdev);
 281:USB/core/usb_dcd_int.c ****     }    
 282:USB/core/usb_dcd_int.c **** #ifdef VBUS_SENSING_ENABLED
 283:USB/core/usb_dcd_int.c ****     if (gintr_status.b.sessreqintr)
 284:USB/core/usb_dcd_int.c ****     {
 285:USB/core/usb_dcd_int.c ****       retval |= DCD_SessionRequest_ISR(pdev);
 286:USB/core/usb_dcd_int.c ****     }
 287:USB/core/usb_dcd_int.c **** 
 288:USB/core/usb_dcd_int.c ****     if (gintr_status.b.otgintr)
 289:USB/core/usb_dcd_int.c ****     {
 290:USB/core/usb_dcd_int.c ****       retval |= DCD_OTG_ISR(pdev);
 291:USB/core/usb_dcd_int.c ****     }   
 292:USB/core/usb_dcd_int.c **** #endif    
 293:USB/core/usb_dcd_int.c ****   }
 294:USB/core/usb_dcd_int.c ****   return retval;
 295:USB/core/usb_dcd_int.c **** }
 296:USB/core/usb_dcd_int.c **** 
 297:USB/core/usb_dcd_int.c **** #ifdef VBUS_SENSING_ENABLED
 298:USB/core/usb_dcd_int.c **** /**
 299:USB/core/usb_dcd_int.c **** * @brief  DCD_SessionRequest_ISR
 300:USB/core/usb_dcd_int.c **** *         Indicates that the USB_OTG controller has detected a connection
 301:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 302:USB/core/usb_dcd_int.c **** * @retval status
 303:USB/core/usb_dcd_int.c **** */
 304:USB/core/usb_dcd_int.c **** static uint32_t DCD_SessionRequest_ISR(USB_OTG_CORE_HANDLE *pdev)
 305:USB/core/usb_dcd_int.c **** {
 306:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;  
 307:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->DevConnected (pdev);
 308:USB/core/usb_dcd_int.c **** 
 309:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 310:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 311:USB/core/usb_dcd_int.c ****   gintsts.b.sessreqintr = 1;
 312:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, gintsts.d32);   
 313:USB/core/usb_dcd_int.c ****   return 1;
 314:USB/core/usb_dcd_int.c **** }
 315:USB/core/usb_dcd_int.c **** 
ARM GAS  /tmp/ccbsMsTN.s 			page 7


 316:USB/core/usb_dcd_int.c **** /**
 317:USB/core/usb_dcd_int.c **** * @brief  DCD_OTG_ISR
 318:USB/core/usb_dcd_int.c **** *         Indicates that the USB_OTG controller has detected an OTG event:
 319:USB/core/usb_dcd_int.c **** *                 used to detect the end of session i.e. disconnection
 320:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 321:USB/core/usb_dcd_int.c **** * @retval status
 322:USB/core/usb_dcd_int.c **** */
 323:USB/core/usb_dcd_int.c **** static uint32_t DCD_OTG_ISR(USB_OTG_CORE_HANDLE *pdev)
 324:USB/core/usb_dcd_int.c **** {
 325:USB/core/usb_dcd_int.c **** 
 326:USB/core/usb_dcd_int.c ****   USB_OTG_GOTGINT_TypeDef  gotgint;
 327:USB/core/usb_dcd_int.c **** 
 328:USB/core/usb_dcd_int.c ****   gotgint.d32 = USB_OTG_READ_REG32(&pdev->regs.GREGS->GOTGINT);
 329:USB/core/usb_dcd_int.c ****   
 330:USB/core/usb_dcd_int.c ****   if (gotgint.b.sesenddet)
 331:USB/core/usb_dcd_int.c ****   {
 332:USB/core/usb_dcd_int.c ****     USBD_DCD_INT_fops->DevDisconnected (pdev);
 333:USB/core/usb_dcd_int.c ****   }
 334:USB/core/usb_dcd_int.c ****   /* Clear OTG interrupt */
 335:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GOTGINT, gotgint.d32); 
 336:USB/core/usb_dcd_int.c ****   return 1;
 337:USB/core/usb_dcd_int.c **** }
 338:USB/core/usb_dcd_int.c **** #endif
 339:USB/core/usb_dcd_int.c **** /**
 340:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleResume_ISR
 341:USB/core/usb_dcd_int.c **** *         Indicates that the USB_OTG controller has detected a resume or
 342:USB/core/usb_dcd_int.c **** *                 remote Wake-up sequence
 343:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 344:USB/core/usb_dcd_int.c **** * @retval status
 345:USB/core/usb_dcd_int.c **** */
 346:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleResume_ISR(USB_OTG_CORE_HANDLE *pdev)
 347:USB/core/usb_dcd_int.c **** {
  29              		.loc 1 347 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 347 1 is_stmt 0 view .LVU1
  34 0000 10B5     		push	{r4, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  39 0002 0446     		mov	r4, r0
 348:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
  40              		.loc 1 348 3 is_stmt 1 view .LVU2
 349:USB/core/usb_dcd_int.c ****   USB_OTG_DCTL_TypeDef     devctl;
  41              		.loc 1 349 3 view .LVU3
 350:USB/core/usb_dcd_int.c ****   USB_OTG_PCGCCTL_TypeDef  power;
  42              		.loc 1 350 3 view .LVU4
 351:USB/core/usb_dcd_int.c ****   
 352:USB/core/usb_dcd_int.c ****   if(pdev->cfg.low_power)
  43              		.loc 1 352 3 view .LVU5
  44              		.loc 1 352 15 is_stmt 0 view .LVU6
  45 0004 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
  46              		.loc 1 352 5 view .LVU7
  47 0006 43B1     		cbz	r3, .L2
 353:USB/core/usb_dcd_int.c ****   {
ARM GAS  /tmp/ccbsMsTN.s 			page 8


 354:USB/core/usb_dcd_int.c ****     /* un-gate USB Core clock */
 355:USB/core/usb_dcd_int.c ****     power.d32 = USB_OTG_READ_REG32(&pdev->regs.PCGCCTL);
  48              		.loc 1 355 5 is_stmt 1 view .LVU8
  49              		.loc 1 355 17 is_stmt 0 view .LVU9
  50 0008 D0F80C31 		ldr	r3, [r0, #268]
 356:USB/core/usb_dcd_int.c ****     power.b.gatehclk = 0;
  51              		.loc 1 356 5 is_stmt 1 view .LVU10
  52              		.loc 1 356 22 is_stmt 0 view .LVU11
  53 000c 6FF34103 		bfc	r3, #1, #1
  54              	.LVL1:
 357:USB/core/usb_dcd_int.c ****     power.b.stoppclk = 0;
  55              		.loc 1 357 5 is_stmt 1 view .LVU12
  56              		.loc 1 357 22 is_stmt 0 view .LVU13
  57 0010 6FF30003 		bfc	r3, #0, #1
 358:USB/core/usb_dcd_int.c ****     USB_OTG_WRITE_REG32(pdev->regs.PCGCCTL, power.d32);
  58              		.loc 1 358 5 is_stmt 1 view .LVU14
  59 0014 D0F80C21 		ldr	r2, [r0, #268]
  60 0018 1360     		str	r3, [r2]
  61              	.L2:
 359:USB/core/usb_dcd_int.c ****   }
 360:USB/core/usb_dcd_int.c ****   
 361:USB/core/usb_dcd_int.c ****   /* Clear the Remote Wake-up Signaling */
 362:USB/core/usb_dcd_int.c ****   devctl.d32 = 0;
  62              		.loc 1 362 3 view .LVU15
 363:USB/core/usb_dcd_int.c ****   devctl.b.rmtwkupsig = 1;
  63              		.loc 1 363 3 view .LVU16
 364:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DCTL, devctl.d32, 0);
  64              		.loc 1 364 3 view .LVU17
  65 001a 2269     		ldr	r2, [r4, #16]
  66 001c 5368     		ldr	r3, [r2, #4]
  67              	.LVL2:
  68              		.loc 1 364 3 is_stmt 0 view .LVU18
  69 001e 23F00103 		bic	r3, r3, #1
  70 0022 5360     		str	r3, [r2, #4]
 365:USB/core/usb_dcd_int.c ****   
 366:USB/core/usb_dcd_int.c ****   /* Inform upper layer by the Resume Event */
 367:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->Resume (pdev);
  71              		.loc 1 367 3 is_stmt 1 view .LVU19
  72              		.loc 1 367 20 is_stmt 0 view .LVU20
  73 0024 054B     		ldr	r3, .L4
  74 0026 1B68     		ldr	r3, [r3]
  75 0028 9B69     		ldr	r3, [r3, #24]
  76              		.loc 1 367 3 view .LVU21
  77 002a 2046     		mov	r0, r4
  78              	.LVL3:
  79              		.loc 1 367 3 view .LVU22
  80 002c 9847     		blx	r3
  81              	.LVL4:
 368:USB/core/usb_dcd_int.c ****   
 369:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 370:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
  82              		.loc 1 370 3 is_stmt 1 view .LVU23
 371:USB/core/usb_dcd_int.c ****   gintsts.b.wkupintr = 1;
  83              		.loc 1 371 3 view .LVU24
  84              		.loc 1 371 22 is_stmt 0 view .LVU25
  85 002e 4FF00043 		mov	r3, #-2147483648
  86              	.LVL5:
ARM GAS  /tmp/ccbsMsTN.s 			page 9


 372:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, gintsts.d32);
  87              		.loc 1 372 3 is_stmt 1 view .LVU26
  88 0032 E268     		ldr	r2, [r4, #12]
  89              	.LVL6:
  90              		.loc 1 372 3 is_stmt 0 view .LVU27
  91 0034 5361     		str	r3, [r2, #20]
 373:USB/core/usb_dcd_int.c ****   return 1;
  92              		.loc 1 373 3 is_stmt 1 view .LVU28
 374:USB/core/usb_dcd_int.c **** }
  93              		.loc 1 374 1 is_stmt 0 view .LVU29
  94 0036 0120     		movs	r0, #1
  95 0038 10BD     		pop	{r4, pc}
  96              	.LVL7:
  97              	.L5:
  98              		.loc 1 374 1 view .LVU30
  99 003a 00BF     		.align	2
 100              	.L4:
 101 003c 00000000 		.word	USBD_DCD_INT_fops
 102              		.cfi_endproc
 103              	.LFE127:
 105              		.section	.text.DCD_HandleUSBSuspend_ISR,"ax",%progbits
 106              		.align	1
 107              		.syntax unified
 108              		.thumb
 109              		.thumb_func
 110              		.fpu fpv4-sp-d16
 112              	DCD_HandleUSBSuspend_ISR:
 113              	.LVL8:
 114              	.LFB128:
 375:USB/core/usb_dcd_int.c **** 
 376:USB/core/usb_dcd_int.c **** /**
 377:USB/core/usb_dcd_int.c **** * @brief  USB_OTG_HandleUSBSuspend_ISR
 378:USB/core/usb_dcd_int.c **** *         Indicates that SUSPEND state has been detected on the USB
 379:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 380:USB/core/usb_dcd_int.c **** * @retval status
 381:USB/core/usb_dcd_int.c **** */
 382:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleUSBSuspend_ISR(USB_OTG_CORE_HANDLE *pdev)
 383:USB/core/usb_dcd_int.c **** {
 115              		.loc 1 383 1 is_stmt 1 view -0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 8
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119              		.loc 1 383 1 is_stmt 0 view .LVU32
 120 0000 30B5     		push	{r4, r5, lr}
 121              	.LCFI1:
 122              		.cfi_def_cfa_offset 12
 123              		.cfi_offset 4, -12
 124              		.cfi_offset 5, -8
 125              		.cfi_offset 14, -4
 126 0002 83B0     		sub	sp, sp, #12
 127              	.LCFI2:
 128              		.cfi_def_cfa_offset 24
 129 0004 0546     		mov	r5, r0
 384:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 130              		.loc 1 384 3 is_stmt 1 view .LVU33
 385:USB/core/usb_dcd_int.c ****   USB_OTG_PCGCCTL_TypeDef  power;
 131              		.loc 1 385 3 view .LVU34
ARM GAS  /tmp/ccbsMsTN.s 			page 10


 386:USB/core/usb_dcd_int.c ****   USB_OTG_DSTS_TypeDef     dsts;
 132              		.loc 1 386 3 view .LVU35
 387:USB/core/usb_dcd_int.c ****   __IO uint8_t prev_status = 0;
 133              		.loc 1 387 3 view .LVU36
 134              		.loc 1 387 16 is_stmt 0 view .LVU37
 135 0006 0024     		movs	r4, #0
 136 0008 8DF80740 		strb	r4, [sp, #7]
 388:USB/core/usb_dcd_int.c ****   
 389:USB/core/usb_dcd_int.c ****   prev_status = pdev->dev.device_status;
 137              		.loc 1 389 3 is_stmt 1 view .LVU38
 138              		.loc 1 389 26 is_stmt 0 view .LVU39
 139 000c 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 140              		.loc 1 389 15 view .LVU40
 141 0010 8DF80730 		strb	r3, [sp, #7]
 390:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->Suspend (pdev);      
 142              		.loc 1 390 3 is_stmt 1 view .LVU41
 143              		.loc 1 390 20 is_stmt 0 view .LVU42
 144 0014 164B     		ldr	r3, .L10
 145 0016 1B68     		ldr	r3, [r3]
 146 0018 5B69     		ldr	r3, [r3, #20]
 147              		.loc 1 390 3 view .LVU43
 148 001a 9847     		blx	r3
 149              	.LVL9:
 391:USB/core/usb_dcd_int.c ****   
 392:USB/core/usb_dcd_int.c ****   dsts.d32 = USB_OTG_READ_REG32(&pdev->regs.DREGS->DSTS);
 150              		.loc 1 392 3 is_stmt 1 view .LVU44
 151              		.loc 1 392 14 is_stmt 0 view .LVU45
 152 001c 2B69     		ldr	r3, [r5, #16]
 153 001e 9A68     		ldr	r2, [r3, #8]
 393:USB/core/usb_dcd_int.c ****     
 394:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 395:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 154              		.loc 1 395 3 is_stmt 1 view .LVU46
 396:USB/core/usb_dcd_int.c ****   gintsts.b.usbsuspend = 1;
 155              		.loc 1 396 3 view .LVU47
 156              		.loc 1 396 24 is_stmt 0 view .LVU48
 157 0020 4FF40064 		mov	r4, #2048
 158              	.LVL10:
 397:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 159              		.loc 1 397 3 is_stmt 1 view .LVU49
 160 0024 EB68     		ldr	r3, [r5, #12]
 161              	.LVL11:
 162              		.loc 1 397 3 is_stmt 0 view .LVU50
 163 0026 5C61     		str	r4, [r3, #20]
 398:USB/core/usb_dcd_int.c ****   
 399:USB/core/usb_dcd_int.c ****   if((pdev->cfg.low_power) && (dsts.b.suspsts == 1)  && 
 164              		.loc 1 399 3 is_stmt 1 view .LVU51
 165              		.loc 1 399 16 is_stmt 0 view .LVU52
 166 0028 AB7A     		ldrb	r3, [r5, #10]	@ zero_extendqisi2
 167              		.loc 1 399 5 view .LVU53
 168 002a 33B1     		cbz	r3, .L7
 169              		.loc 1 399 28 discriminator 1 view .LVU54
 170 002c 12F0010F 		tst	r2, #1
 171 0030 03D0     		beq	.L7
 400:USB/core/usb_dcd_int.c ****     (pdev->dev.connection_status == 1) && 
 172              		.loc 1 400 15 discriminator 2 view .LVU55
 173 0032 95F81531 		ldrb	r3, [r5, #277]	@ zero_extendqisi2
ARM GAS  /tmp/ccbsMsTN.s 			page 11


 399:USB/core/usb_dcd_int.c ****     (pdev->dev.connection_status == 1) && 
 174              		.loc 1 399 54 discriminator 2 view .LVU56
 175 0036 012B     		cmp	r3, #1
 176 0038 02D0     		beq	.L9
 177              	.L7:
 401:USB/core/usb_dcd_int.c ****     (prev_status  == USB_OTG_CONFIGURED))
 402:USB/core/usb_dcd_int.c ****   {
 403:USB/core/usb_dcd_int.c **** 	/*  switch-off the clocks */
 404:USB/core/usb_dcd_int.c ****     power.d32 = 0;
 405:USB/core/usb_dcd_int.c ****     power.b.stoppclk = 1;
 406:USB/core/usb_dcd_int.c ****     USB_OTG_MODIFY_REG32(pdev->regs.PCGCCTL, 0, power.d32);  
 407:USB/core/usb_dcd_int.c ****     
 408:USB/core/usb_dcd_int.c ****     power.b.gatehclk = 1;
 409:USB/core/usb_dcd_int.c ****     USB_OTG_MODIFY_REG32(pdev->regs.PCGCCTL, 0, power.d32);
 410:USB/core/usb_dcd_int.c ****     
 411:USB/core/usb_dcd_int.c ****     /* Request to enter Sleep mode after exit from current ISR */
 412:USB/core/usb_dcd_int.c ****     SCB->SCR |= (SCB_SCR_SLEEPDEEP_Msk | SCB_SCR_SLEEPONEXIT_Msk);
 413:USB/core/usb_dcd_int.c ****   }
 414:USB/core/usb_dcd_int.c ****   return 1;
 178              		.loc 1 414 3 is_stmt 1 view .LVU57
 415:USB/core/usb_dcd_int.c **** }
 179              		.loc 1 415 1 is_stmt 0 view .LVU58
 180 003a 0120     		movs	r0, #1
 181 003c 03B0     		add	sp, sp, #12
 182              	.LCFI3:
 183              		.cfi_remember_state
 184              		.cfi_def_cfa_offset 12
 185              		@ sp needed
 186 003e 30BD     		pop	{r4, r5, pc}
 187              	.LVL12:
 188              	.L9:
 189              	.LCFI4:
 190              		.cfi_restore_state
 401:USB/core/usb_dcd_int.c ****     (prev_status  == USB_OTG_CONFIGURED))
 191              		.loc 1 401 19 view .LVU59
 192 0040 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 193 0044 DBB2     		uxtb	r3, r3
 400:USB/core/usb_dcd_int.c ****     (prev_status  == USB_OTG_CONFIGURED))
 194              		.loc 1 400 40 view .LVU60
 195 0046 032B     		cmp	r3, #3
 196 0048 F7D1     		bne	.L7
 404:USB/core/usb_dcd_int.c ****     power.b.stoppclk = 1;
 197              		.loc 1 404 5 is_stmt 1 view .LVU61
 405:USB/core/usb_dcd_int.c ****     USB_OTG_MODIFY_REG32(pdev->regs.PCGCCTL, 0, power.d32);  
 198              		.loc 1 405 5 view .LVU62
 406:USB/core/usb_dcd_int.c ****     
 199              		.loc 1 406 5 view .LVU63
 200 004a D5F80C21 		ldr	r2, [r5, #268]
 201 004e 1368     		ldr	r3, [r2]
 202 0050 43F00103 		orr	r3, r3, #1
 203 0054 1360     		str	r3, [r2]
 408:USB/core/usb_dcd_int.c ****     USB_OTG_MODIFY_REG32(pdev->regs.PCGCCTL, 0, power.d32);
 204              		.loc 1 408 5 view .LVU64
 409:USB/core/usb_dcd_int.c ****     
 205              		.loc 1 409 5 view .LVU65
 206 0056 D5F80C21 		ldr	r2, [r5, #268]
 207 005a 1368     		ldr	r3, [r2]
ARM GAS  /tmp/ccbsMsTN.s 			page 12


 208 005c 43F00303 		orr	r3, r3, #3
 209 0060 1360     		str	r3, [r2]
 412:USB/core/usb_dcd_int.c ****   }
 210              		.loc 1 412 5 view .LVU66
 412:USB/core/usb_dcd_int.c ****   }
 211              		.loc 1 412 14 is_stmt 0 view .LVU67
 212 0062 044A     		ldr	r2, .L10+4
 213 0064 1369     		ldr	r3, [r2, #16]
 214 0066 43F00603 		orr	r3, r3, #6
 215 006a 1361     		str	r3, [r2, #16]
 216 006c E5E7     		b	.L7
 217              	.L11:
 218 006e 00BF     		.align	2
 219              	.L10:
 220 0070 00000000 		.word	USBD_DCD_INT_fops
 221 0074 00ED00E0 		.word	-536810240
 222              		.cfi_endproc
 223              	.LFE128:
 225              		.section	.text.DCD_HandleSof_ISR,"ax",%progbits
 226              		.align	1
 227              		.syntax unified
 228              		.thumb
 229              		.thumb_func
 230              		.fpu fpv4-sp-d16
 232              	DCD_HandleSof_ISR:
 233              	.LVL13:
 234              	.LFB131:
 416:USB/core/usb_dcd_int.c **** 
 417:USB/core/usb_dcd_int.c **** /**
 418:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleInEP_ISR
 419:USB/core/usb_dcd_int.c **** *         Indicates that an IN EP has a pending Interrupt
 420:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 421:USB/core/usb_dcd_int.c **** * @retval status
 422:USB/core/usb_dcd_int.c **** */
 423:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleInEP_ISR(USB_OTG_CORE_HANDLE *pdev)
 424:USB/core/usb_dcd_int.c **** {
 425:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPINTn_TypeDef  diepint;
 426:USB/core/usb_dcd_int.c ****   
 427:USB/core/usb_dcd_int.c ****   uint32_t ep_intr;
 428:USB/core/usb_dcd_int.c ****   uint32_t epnum = 0;
 429:USB/core/usb_dcd_int.c ****   uint32_t fifoemptymsk;
 430:USB/core/usb_dcd_int.c ****   diepint.d32 = 0;
 431:USB/core/usb_dcd_int.c ****   ep_intr = USB_OTG_ReadDevAllInEPItr(pdev);
 432:USB/core/usb_dcd_int.c ****   
 433:USB/core/usb_dcd_int.c ****   while ( ep_intr )
 434:USB/core/usb_dcd_int.c ****   {
 435:USB/core/usb_dcd_int.c ****     if (ep_intr&0x1) /* In ITR */
 436:USB/core/usb_dcd_int.c ****     {
 437:USB/core/usb_dcd_int.c ****       diepint.d32 = DCD_ReadDevInEP(pdev , epnum); /* Get In ITR status */
 438:USB/core/usb_dcd_int.c ****       if ( diepint.b.xfercompl )
 439:USB/core/usb_dcd_int.c ****       {
 440:USB/core/usb_dcd_int.c ****         fifoemptymsk = 0x1 << epnum;
 441:USB/core/usb_dcd_int.c ****         USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DIEPEMPMSK, fifoemptymsk, 0);
 442:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, xfercompl);
 443:USB/core/usb_dcd_int.c ****         /* TX COMPLETE */
 444:USB/core/usb_dcd_int.c ****         USBD_DCD_INT_fops->DataInStage(pdev , epnum);
 445:USB/core/usb_dcd_int.c ****         
ARM GAS  /tmp/ccbsMsTN.s 			page 13


 446:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 447:USB/core/usb_dcd_int.c ****         {
 448:USB/core/usb_dcd_int.c ****           if((epnum == 0) && (pdev->dev.device_state == USB_OTG_EP0_STATUS_IN))
 449:USB/core/usb_dcd_int.c ****           {
 450:USB/core/usb_dcd_int.c ****             /* prepare to rx more setup packets */
 451:USB/core/usb_dcd_int.c ****             USB_OTG_EP0_OutStart(pdev);
 452:USB/core/usb_dcd_int.c ****           }
 453:USB/core/usb_dcd_int.c ****         }           
 454:USB/core/usb_dcd_int.c ****       }
 455:USB/core/usb_dcd_int.c ****       if ( diepint.b.timeout )
 456:USB/core/usb_dcd_int.c ****       {
 457:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, timeout);
 458:USB/core/usb_dcd_int.c ****       }
 459:USB/core/usb_dcd_int.c ****       if (diepint.b.intktxfemp)
 460:USB/core/usb_dcd_int.c ****       {
 461:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, intktxfemp);
 462:USB/core/usb_dcd_int.c ****       }
 463:USB/core/usb_dcd_int.c ****       if (diepint.b.inepnakeff)
 464:USB/core/usb_dcd_int.c ****       {
 465:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, inepnakeff);
 466:USB/core/usb_dcd_int.c ****       }
 467:USB/core/usb_dcd_int.c ****       if ( diepint.b.epdisabled )
 468:USB/core/usb_dcd_int.c ****       {
 469:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, epdisabled);
 470:USB/core/usb_dcd_int.c ****       }       
 471:USB/core/usb_dcd_int.c ****       if (diepint.b.emptyintr)
 472:USB/core/usb_dcd_int.c ****       {
 473:USB/core/usb_dcd_int.c ****         
 474:USB/core/usb_dcd_int.c ****         DCD_WriteEmptyTxFifo(pdev , epnum);
 475:USB/core/usb_dcd_int.c ****         
 476:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, emptyintr);
 477:USB/core/usb_dcd_int.c ****       }
 478:USB/core/usb_dcd_int.c ****     }
 479:USB/core/usb_dcd_int.c ****     epnum++;
 480:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 481:USB/core/usb_dcd_int.c ****   }
 482:USB/core/usb_dcd_int.c ****   
 483:USB/core/usb_dcd_int.c ****   return 1;
 484:USB/core/usb_dcd_int.c **** }
 485:USB/core/usb_dcd_int.c **** 
 486:USB/core/usb_dcd_int.c **** /**
 487:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleOutEP_ISR
 488:USB/core/usb_dcd_int.c **** *         Indicates that an OUT EP has a pending Interrupt
 489:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 490:USB/core/usb_dcd_int.c **** * @retval status
 491:USB/core/usb_dcd_int.c **** */
 492:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleOutEP_ISR(USB_OTG_CORE_HANDLE *pdev)
 493:USB/core/usb_dcd_int.c **** {
 494:USB/core/usb_dcd_int.c ****   uint32_t ep_intr;
 495:USB/core/usb_dcd_int.c ****   USB_OTG_DOEPINTn_TypeDef  doepint;
 496:USB/core/usb_dcd_int.c ****   USB_OTG_DEPXFRSIZ_TypeDef  deptsiz;
 497:USB/core/usb_dcd_int.c ****   uint32_t epnum = 0;
 498:USB/core/usb_dcd_int.c ****   
 499:USB/core/usb_dcd_int.c ****   doepint.d32 = 0;
 500:USB/core/usb_dcd_int.c ****   
 501:USB/core/usb_dcd_int.c ****   /* Read in the device interrupt bits */
 502:USB/core/usb_dcd_int.c ****   ep_intr = USB_OTG_ReadDevAllOutEp_itr(pdev);
ARM GAS  /tmp/ccbsMsTN.s 			page 14


 503:USB/core/usb_dcd_int.c ****   
 504:USB/core/usb_dcd_int.c ****   while ( ep_intr )
 505:USB/core/usb_dcd_int.c ****   {
 506:USB/core/usb_dcd_int.c ****     if (ep_intr&0x1)
 507:USB/core/usb_dcd_int.c ****     {
 508:USB/core/usb_dcd_int.c ****       
 509:USB/core/usb_dcd_int.c ****       doepint.d32 = USB_OTG_ReadDevOutEP_itr(pdev, epnum);
 510:USB/core/usb_dcd_int.c ****       
 511:USB/core/usb_dcd_int.c ****       /* Transfer complete */
 512:USB/core/usb_dcd_int.c ****       if ( doepint.b.xfercompl )
 513:USB/core/usb_dcd_int.c ****       {
 514:USB/core/usb_dcd_int.c ****         /* Clear the bit in DOEPINTn for this interrupt */
 515:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, xfercompl);
 516:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 517:USB/core/usb_dcd_int.c ****         {
 518:USB/core/usb_dcd_int.c ****           deptsiz.d32 = USB_OTG_READ_REG32(&(pdev->regs.OUTEP_REGS[epnum]->DOEPTSIZ));
 519:USB/core/usb_dcd_int.c ****           /*ToDo : handle more than one single MPS size packet */
 520:USB/core/usb_dcd_int.c ****           pdev->dev.out_ep[epnum].xfer_count = pdev->dev.out_ep[epnum].maxpacket - \
 521:USB/core/usb_dcd_int.c ****             deptsiz.b.xfersize;
 522:USB/core/usb_dcd_int.c ****         }
 523:USB/core/usb_dcd_int.c ****         /* Inform upper layer: data ready */
 524:USB/core/usb_dcd_int.c ****         /* RX COMPLETE */
 525:USB/core/usb_dcd_int.c ****         USBD_DCD_INT_fops->DataOutStage(pdev , epnum);
 526:USB/core/usb_dcd_int.c ****         
 527:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 528:USB/core/usb_dcd_int.c ****         {
 529:USB/core/usb_dcd_int.c ****           if((epnum == 0) && (pdev->dev.device_state == USB_OTG_EP0_STATUS_OUT))
 530:USB/core/usb_dcd_int.c ****           {
 531:USB/core/usb_dcd_int.c ****             /* prepare to rx more setup packets */
 532:USB/core/usb_dcd_int.c ****             USB_OTG_EP0_OutStart(pdev);
 533:USB/core/usb_dcd_int.c ****           }
 534:USB/core/usb_dcd_int.c ****         }        
 535:USB/core/usb_dcd_int.c ****       }
 536:USB/core/usb_dcd_int.c ****       /* Endpoint disable  */
 537:USB/core/usb_dcd_int.c ****       if ( doepint.b.epdisabled )
 538:USB/core/usb_dcd_int.c ****       {
 539:USB/core/usb_dcd_int.c ****         /* Clear the bit in DOEPINTn for this interrupt */
 540:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, epdisabled);
 541:USB/core/usb_dcd_int.c ****       }
 542:USB/core/usb_dcd_int.c ****       /* Setup Phase Done (control EPs) */
 543:USB/core/usb_dcd_int.c ****       if ( doepint.b.setup )
 544:USB/core/usb_dcd_int.c ****       {
 545:USB/core/usb_dcd_int.c ****         
 546:USB/core/usb_dcd_int.c ****         /* inform the upper layer that a setup packet is available */
 547:USB/core/usb_dcd_int.c ****         /* SETUP COMPLETE */
 548:USB/core/usb_dcd_int.c ****         USBD_DCD_INT_fops->SetupStage(pdev);
 549:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, setup);
 550:USB/core/usb_dcd_int.c ****       }
 551:USB/core/usb_dcd_int.c ****     }
 552:USB/core/usb_dcd_int.c ****     epnum++;
 553:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 554:USB/core/usb_dcd_int.c ****   }
 555:USB/core/usb_dcd_int.c ****   return 1;
 556:USB/core/usb_dcd_int.c **** }
 557:USB/core/usb_dcd_int.c **** 
 558:USB/core/usb_dcd_int.c **** /**
 559:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleSof_ISR
ARM GAS  /tmp/ccbsMsTN.s 			page 15


 560:USB/core/usb_dcd_int.c **** *         Handles the SOF Interrupts
 561:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 562:USB/core/usb_dcd_int.c **** * @retval status
 563:USB/core/usb_dcd_int.c **** */
 564:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleSof_ISR(USB_OTG_CORE_HANDLE *pdev)
 565:USB/core/usb_dcd_int.c **** {
 235              		.loc 1 565 1 is_stmt 1 view -0
 236              		.cfi_startproc
 237              		@ args = 0, pretend = 0, frame = 0
 238              		@ frame_needed = 0, uses_anonymous_args = 0
 239              		.loc 1 565 1 is_stmt 0 view .LVU69
 240 0000 10B5     		push	{r4, lr}
 241              	.LCFI5:
 242              		.cfi_def_cfa_offset 8
 243              		.cfi_offset 4, -8
 244              		.cfi_offset 14, -4
 245 0002 0446     		mov	r4, r0
 566:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  GINTSTS;
 246              		.loc 1 566 3 is_stmt 1 view .LVU70
 567:USB/core/usb_dcd_int.c ****   
 568:USB/core/usb_dcd_int.c ****   
 569:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->SOF(pdev);
 247              		.loc 1 569 3 view .LVU71
 248              		.loc 1 569 20 is_stmt 0 view .LVU72
 249 0004 044B     		ldr	r3, .L14
 250 0006 1B68     		ldr	r3, [r3]
 251 0008 DB68     		ldr	r3, [r3, #12]
 252              		.loc 1 569 3 view .LVU73
 253 000a 9847     		blx	r3
 254              	.LVL14:
 570:USB/core/usb_dcd_int.c ****   
 571:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 572:USB/core/usb_dcd_int.c ****   GINTSTS.d32 = 0;
 255              		.loc 1 572 3 is_stmt 1 view .LVU74
 573:USB/core/usb_dcd_int.c ****   GINTSTS.b.sofintr = 1;
 256              		.loc 1 573 3 view .LVU75
 257              		.loc 1 573 21 is_stmt 0 view .LVU76
 258 000c 0823     		movs	r3, #8
 259              	.LVL15:
 574:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, GINTSTS.d32);
 260              		.loc 1 574 3 is_stmt 1 view .LVU77
 261 000e E268     		ldr	r2, [r4, #12]
 262              	.LVL16:
 263              		.loc 1 574 3 is_stmt 0 view .LVU78
 264 0010 5361     		str	r3, [r2, #20]
 575:USB/core/usb_dcd_int.c ****   
 576:USB/core/usb_dcd_int.c ****   return 1;
 265              		.loc 1 576 3 is_stmt 1 view .LVU79
 577:USB/core/usb_dcd_int.c **** }
 266              		.loc 1 577 1 is_stmt 0 view .LVU80
 267 0012 0120     		movs	r0, #1
 268 0014 10BD     		pop	{r4, pc}
 269              	.LVL17:
 270              	.L15:
 271              		.loc 1 577 1 view .LVU81
 272 0016 00BF     		.align	2
 273              	.L14:
ARM GAS  /tmp/ccbsMsTN.s 			page 16


 274 0018 00000000 		.word	USBD_DCD_INT_fops
 275              		.cfi_endproc
 276              	.LFE131:
 278              		.section	.text.DCD_IsoINIncomplete_ISR,"ax",%progbits
 279              		.align	1
 280              		.syntax unified
 281              		.thumb
 282              		.thumb_func
 283              		.fpu fpv4-sp-d16
 285              	DCD_IsoINIncomplete_ISR:
 286              	.LVL18:
 287              	.LFB136:
 578:USB/core/usb_dcd_int.c **** 
 579:USB/core/usb_dcd_int.c **** /**
 580:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleRxStatusQueueLevel_ISR
 581:USB/core/usb_dcd_int.c **** *         Handles the Rx Status Queue Level Interrupt
 582:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 583:USB/core/usb_dcd_int.c **** * @retval status
 584:USB/core/usb_dcd_int.c **** */
 585:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleRxStatusQueueLevel_ISR(USB_OTG_CORE_HANDLE *pdev)
 586:USB/core/usb_dcd_int.c **** {
 587:USB/core/usb_dcd_int.c ****   USB_OTG_GINTMSK_TypeDef  int_mask;
 588:USB/core/usb_dcd_int.c ****   USB_OTG_DRXSTS_TypeDef   status;
 589:USB/core/usb_dcd_int.c ****   USB_OTG_EP *ep;
 590:USB/core/usb_dcd_int.c ****   
 591:USB/core/usb_dcd_int.c ****   /* Disable the Rx Status Queue Level interrupt */
 592:USB/core/usb_dcd_int.c ****   int_mask.d32 = 0;
 593:USB/core/usb_dcd_int.c ****   int_mask.b.rxstsqlvl = 1;
 594:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32( &pdev->regs.GREGS->GINTMSK, int_mask.d32, 0);
 595:USB/core/usb_dcd_int.c ****   
 596:USB/core/usb_dcd_int.c ****   /* Get the Status from the top of the FIFO */
 597:USB/core/usb_dcd_int.c ****   status.d32 = USB_OTG_READ_REG32( &pdev->regs.GREGS->GRXSTSP );
 598:USB/core/usb_dcd_int.c ****   
 599:USB/core/usb_dcd_int.c ****   ep = &pdev->dev.out_ep[status.b.epnum];
 600:USB/core/usb_dcd_int.c ****   
 601:USB/core/usb_dcd_int.c ****   switch (status.b.pktsts)
 602:USB/core/usb_dcd_int.c ****   {
 603:USB/core/usb_dcd_int.c ****   case STS_GOUT_NAK:
 604:USB/core/usb_dcd_int.c ****     break;
 605:USB/core/usb_dcd_int.c ****   case STS_DATA_UPDT:
 606:USB/core/usb_dcd_int.c ****     if (status.b.bcnt)
 607:USB/core/usb_dcd_int.c ****     {
 608:USB/core/usb_dcd_int.c ****       USB_OTG_ReadPacket(pdev,ep->xfer_buff, status.b.bcnt);
 609:USB/core/usb_dcd_int.c ****       ep->xfer_buff += status.b.bcnt;
 610:USB/core/usb_dcd_int.c ****       ep->xfer_count += status.b.bcnt;
 611:USB/core/usb_dcd_int.c ****     }
 612:USB/core/usb_dcd_int.c ****     break;
 613:USB/core/usb_dcd_int.c ****   case STS_XFER_COMP:
 614:USB/core/usb_dcd_int.c ****     break;
 615:USB/core/usb_dcd_int.c ****   case STS_SETUP_COMP:
 616:USB/core/usb_dcd_int.c ****     break;
 617:USB/core/usb_dcd_int.c ****   case STS_SETUP_UPDT:
 618:USB/core/usb_dcd_int.c ****     /* Copy the setup packet received in FIFO into the setup buffer in RAM */
 619:USB/core/usb_dcd_int.c ****     USB_OTG_ReadPacket(pdev , pdev->dev.setup_packet, 8);
 620:USB/core/usb_dcd_int.c ****     ep->xfer_count += status.b.bcnt;
 621:USB/core/usb_dcd_int.c ****     break;
 622:USB/core/usb_dcd_int.c ****   default:
ARM GAS  /tmp/ccbsMsTN.s 			page 17


 623:USB/core/usb_dcd_int.c ****     break;
 624:USB/core/usb_dcd_int.c ****   }
 625:USB/core/usb_dcd_int.c ****   
 626:USB/core/usb_dcd_int.c ****   /* Enable the Rx Status Queue Level interrupt */
 627:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32( &pdev->regs.GREGS->GINTMSK, 0, int_mask.d32);
 628:USB/core/usb_dcd_int.c ****   
 629:USB/core/usb_dcd_int.c ****   return 1;
 630:USB/core/usb_dcd_int.c **** }
 631:USB/core/usb_dcd_int.c **** 
 632:USB/core/usb_dcd_int.c **** /**
 633:USB/core/usb_dcd_int.c **** * @brief  DCD_WriteEmptyTxFifo
 634:USB/core/usb_dcd_int.c **** *         check FIFO for the next packet to be loaded
 635:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 636:USB/core/usb_dcd_int.c **** * @retval status
 637:USB/core/usb_dcd_int.c **** */
 638:USB/core/usb_dcd_int.c **** static uint32_t DCD_WriteEmptyTxFifo(USB_OTG_CORE_HANDLE *pdev, uint32_t epnum)
 639:USB/core/usb_dcd_int.c **** {
 640:USB/core/usb_dcd_int.c ****   USB_OTG_DTXFSTSn_TypeDef  txstatus;
 641:USB/core/usb_dcd_int.c ****   USB_OTG_EP *ep;
 642:USB/core/usb_dcd_int.c ****   uint32_t len = 0;
 643:USB/core/usb_dcd_int.c ****   uint32_t len32b;
 644:USB/core/usb_dcd_int.c ****   txstatus.d32 = 0;
 645:USB/core/usb_dcd_int.c ****   
 646:USB/core/usb_dcd_int.c ****   ep = &pdev->dev.in_ep[epnum];    
 647:USB/core/usb_dcd_int.c ****   
 648:USB/core/usb_dcd_int.c ****   len = ep->xfer_len - ep->xfer_count;
 649:USB/core/usb_dcd_int.c ****   
 650:USB/core/usb_dcd_int.c ****   if (len > ep->maxpacket)
 651:USB/core/usb_dcd_int.c ****   {
 652:USB/core/usb_dcd_int.c ****     len = ep->maxpacket;
 653:USB/core/usb_dcd_int.c ****   }
 654:USB/core/usb_dcd_int.c ****   
 655:USB/core/usb_dcd_int.c ****   len32b = (len + 3) / 4;
 656:USB/core/usb_dcd_int.c ****   txstatus.d32 = USB_OTG_READ_REG32( &pdev->regs.INEP_REGS[epnum]->DTXFSTS);
 657:USB/core/usb_dcd_int.c ****   
 658:USB/core/usb_dcd_int.c ****   
 659:USB/core/usb_dcd_int.c ****   
 660:USB/core/usb_dcd_int.c ****   while  (txstatus.b.txfspcavail > len32b &&
 661:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 662:USB/core/usb_dcd_int.c ****             ep->xfer_len != 0)
 663:USB/core/usb_dcd_int.c ****   {
 664:USB/core/usb_dcd_int.c ****     /* Write the FIFO */
 665:USB/core/usb_dcd_int.c ****     len = ep->xfer_len - ep->xfer_count;
 666:USB/core/usb_dcd_int.c ****     
 667:USB/core/usb_dcd_int.c ****     if (len > ep->maxpacket)
 668:USB/core/usb_dcd_int.c ****     {
 669:USB/core/usb_dcd_int.c ****       len = ep->maxpacket;
 670:USB/core/usb_dcd_int.c ****     }
 671:USB/core/usb_dcd_int.c ****     len32b = (len + 3) / 4;
 672:USB/core/usb_dcd_int.c ****     
 673:USB/core/usb_dcd_int.c ****     USB_OTG_WritePacket (pdev , ep->xfer_buff, epnum, len);
 674:USB/core/usb_dcd_int.c ****     
 675:USB/core/usb_dcd_int.c ****     ep->xfer_buff  += len;
 676:USB/core/usb_dcd_int.c ****     ep->xfer_count += len;
 677:USB/core/usb_dcd_int.c ****     
 678:USB/core/usb_dcd_int.c ****     txstatus.d32 = USB_OTG_READ_REG32(&pdev->regs.INEP_REGS[epnum]->DTXFSTS);
 679:USB/core/usb_dcd_int.c ****   }
ARM GAS  /tmp/ccbsMsTN.s 			page 18


 680:USB/core/usb_dcd_int.c ****   
 681:USB/core/usb_dcd_int.c ****   return 1;
 682:USB/core/usb_dcd_int.c **** }
 683:USB/core/usb_dcd_int.c **** 
 684:USB/core/usb_dcd_int.c **** /**
 685:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleUsbReset_ISR
 686:USB/core/usb_dcd_int.c **** *         This interrupt occurs when a USB Reset is detected
 687:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 688:USB/core/usb_dcd_int.c **** * @retval status
 689:USB/core/usb_dcd_int.c **** */
 690:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleUsbReset_ISR(USB_OTG_CORE_HANDLE *pdev)
 691:USB/core/usb_dcd_int.c **** {
 692:USB/core/usb_dcd_int.c ****   USB_OTG_DAINT_TypeDef    daintmsk;
 693:USB/core/usb_dcd_int.c ****   USB_OTG_DOEPMSK_TypeDef  doepmsk;
 694:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPMSK_TypeDef  diepmsk;
 695:USB/core/usb_dcd_int.c ****   USB_OTG_DCFG_TypeDef     dcfg;
 696:USB/core/usb_dcd_int.c ****   USB_OTG_DCTL_TypeDef     dctl;
 697:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 698:USB/core/usb_dcd_int.c ****   uint32_t i;
 699:USB/core/usb_dcd_int.c ****   
 700:USB/core/usb_dcd_int.c ****   dctl.d32 = 0;
 701:USB/core/usb_dcd_int.c ****   daintmsk.d32 = 0;
 702:USB/core/usb_dcd_int.c ****   doepmsk.d32 = 0;
 703:USB/core/usb_dcd_int.c ****   diepmsk.d32 = 0;
 704:USB/core/usb_dcd_int.c ****   dcfg.d32 = 0;
 705:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 706:USB/core/usb_dcd_int.c ****   
 707:USB/core/usb_dcd_int.c ****   /* Clear the Remote Wake-up Signaling */
 708:USB/core/usb_dcd_int.c ****   dctl.b.rmtwkupsig = 1;
 709:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DCTL, dctl.d32, 0 );
 710:USB/core/usb_dcd_int.c ****   
 711:USB/core/usb_dcd_int.c ****   /* Flush the Tx FIFO */
 712:USB/core/usb_dcd_int.c ****   USB_OTG_FlushTxFifo(pdev ,  0 );
 713:USB/core/usb_dcd_int.c ****   
 714:USB/core/usb_dcd_int.c ****   for (i = 0; i < pdev->cfg.dev_endpoints ; i++)
 715:USB/core/usb_dcd_int.c ****   {
 716:USB/core/usb_dcd_int.c ****     USB_OTG_WRITE_REG32( &pdev->regs.INEP_REGS[i]->DIEPINT, 0xFF);
 717:USB/core/usb_dcd_int.c ****     USB_OTG_WRITE_REG32( &pdev->regs.OUTEP_REGS[i]->DOEPINT, 0xFF);
 718:USB/core/usb_dcd_int.c ****   }
 719:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DAINT, 0xFFFFFFFF );
 720:USB/core/usb_dcd_int.c ****   
 721:USB/core/usb_dcd_int.c ****   daintmsk.ep.in = 1;
 722:USB/core/usb_dcd_int.c ****   daintmsk.ep.out = 1;
 723:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DAINTMSK, daintmsk.d32 );
 724:USB/core/usb_dcd_int.c ****   
 725:USB/core/usb_dcd_int.c ****   doepmsk.b.setup = 1;
 726:USB/core/usb_dcd_int.c ****   doepmsk.b.xfercompl = 1;
 727:USB/core/usb_dcd_int.c ****   doepmsk.b.epdisabled = 1;
 728:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DOEPMSK, doepmsk.d32 );
 729:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED   
 730:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DOUTEP1MSK, doepmsk.d32 );
 731:USB/core/usb_dcd_int.c **** #endif
 732:USB/core/usb_dcd_int.c ****   diepmsk.b.xfercompl = 1;
 733:USB/core/usb_dcd_int.c ****   diepmsk.b.timeout = 1;
 734:USB/core/usb_dcd_int.c ****   diepmsk.b.epdisabled = 1;
 735:USB/core/usb_dcd_int.c **** 
 736:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DIEPMSK, diepmsk.d32 );
ARM GAS  /tmp/ccbsMsTN.s 			page 19


 737:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED  
 738:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DINEP1MSK, diepmsk.d32 );
 739:USB/core/usb_dcd_int.c **** #endif
 740:USB/core/usb_dcd_int.c ****   /* Reset Device Address */
 741:USB/core/usb_dcd_int.c ****   dcfg.d32 = USB_OTG_READ_REG32( &pdev->regs.DREGS->DCFG);
 742:USB/core/usb_dcd_int.c ****   dcfg.b.devaddr = 0;
 743:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DCFG, dcfg.d32);
 744:USB/core/usb_dcd_int.c ****   
 745:USB/core/usb_dcd_int.c ****   
 746:USB/core/usb_dcd_int.c ****   /* setup EP0 to receive SETUP packets */
 747:USB/core/usb_dcd_int.c ****   USB_OTG_EP0_OutStart(pdev);
 748:USB/core/usb_dcd_int.c ****   
 749:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 750:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 751:USB/core/usb_dcd_int.c ****   gintsts.b.usbreset = 1;
 752:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 753:USB/core/usb_dcd_int.c ****   
 754:USB/core/usb_dcd_int.c ****   /*Reset internal state machine */
 755:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->Reset(pdev);
 756:USB/core/usb_dcd_int.c ****   return 1;
 757:USB/core/usb_dcd_int.c **** }
 758:USB/core/usb_dcd_int.c **** 
 759:USB/core/usb_dcd_int.c **** /**
 760:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleEnumDone_ISR
 761:USB/core/usb_dcd_int.c **** *         Read the device status register and set the device speed
 762:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 763:USB/core/usb_dcd_int.c **** * @retval status
 764:USB/core/usb_dcd_int.c **** */
 765:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleEnumDone_ISR(USB_OTG_CORE_HANDLE *pdev)
 766:USB/core/usb_dcd_int.c **** {
 767:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 768:USB/core/usb_dcd_int.c ****   USB_OTG_GUSBCFG_TypeDef  gusbcfg;
 769:USB/core/usb_dcd_int.c ****   
 770:USB/core/usb_dcd_int.c ****   USB_OTG_EP0Activate(pdev);
 771:USB/core/usb_dcd_int.c ****   
 772:USB/core/usb_dcd_int.c ****   /* Set USB turn-around time based on device speed and PHY interface. */
 773:USB/core/usb_dcd_int.c ****   gusbcfg.d32 = USB_OTG_READ_REG32(&pdev->regs.GREGS->GUSBCFG);
 774:USB/core/usb_dcd_int.c ****   
 775:USB/core/usb_dcd_int.c ****   /* Full or High speed */
 776:USB/core/usb_dcd_int.c ****   if ( USB_OTG_GetDeviceSpeed(pdev) == USB_SPEED_HIGH)
 777:USB/core/usb_dcd_int.c ****   {
 778:USB/core/usb_dcd_int.c ****     pdev->cfg.speed            = USB_OTG_SPEED_HIGH;
 779:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_HS_MAX_PACKET_SIZE ;    
 780:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 9;
 781:USB/core/usb_dcd_int.c ****   }
 782:USB/core/usb_dcd_int.c ****   else
 783:USB/core/usb_dcd_int.c ****   {
 784:USB/core/usb_dcd_int.c ****     pdev->cfg.speed            = USB_OTG_SPEED_FULL;
 785:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_FS_MAX_PACKET_SIZE ;  
 786:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 5;
 787:USB/core/usb_dcd_int.c ****   }
 788:USB/core/usb_dcd_int.c ****   
 789:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GUSBCFG, gusbcfg.d32);
 790:USB/core/usb_dcd_int.c ****   
 791:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 792:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 793:USB/core/usb_dcd_int.c ****   gintsts.b.enumdone = 1;
ARM GAS  /tmp/ccbsMsTN.s 			page 20


 794:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.GREGS->GINTSTS, gintsts.d32 );
 795:USB/core/usb_dcd_int.c ****   return 1;
 796:USB/core/usb_dcd_int.c **** }
 797:USB/core/usb_dcd_int.c **** 
 798:USB/core/usb_dcd_int.c **** 
 799:USB/core/usb_dcd_int.c **** /**
 800:USB/core/usb_dcd_int.c **** * @brief  DCD_IsoINIncomplete_ISR
 801:USB/core/usb_dcd_int.c **** *         handle the ISO IN incomplete interrupt
 802:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 803:USB/core/usb_dcd_int.c **** * @retval status
 804:USB/core/usb_dcd_int.c **** */
 805:USB/core/usb_dcd_int.c **** static uint32_t DCD_IsoINIncomplete_ISR(USB_OTG_CORE_HANDLE *pdev)
 806:USB/core/usb_dcd_int.c **** {
 288              		.loc 1 806 1 is_stmt 1 view -0
 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 0
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292              		.loc 1 806 1 is_stmt 0 view .LVU83
 293 0000 10B5     		push	{r4, lr}
 294              	.LCFI6:
 295              		.cfi_def_cfa_offset 8
 296              		.cfi_offset 4, -8
 297              		.cfi_offset 14, -4
 298 0002 0446     		mov	r4, r0
 807:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef gintsts;  
 299              		.loc 1 807 3 is_stmt 1 view .LVU84
 808:USB/core/usb_dcd_int.c ****   
 809:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 300              		.loc 1 809 3 view .LVU85
 810:USB/core/usb_dcd_int.c **** 
 811:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->IsoINIncomplete (pdev); 
 301              		.loc 1 811 3 view .LVU86
 302              		.loc 1 811 20 is_stmt 0 view .LVU87
 303 0004 044B     		ldr	r3, .L18
 304 0006 1B68     		ldr	r3, [r3]
 305 0008 DB69     		ldr	r3, [r3, #28]
 306              		.loc 1 811 3 view .LVU88
 307 000a 9847     		blx	r3
 308              	.LVL19:
 812:USB/core/usb_dcd_int.c ****   
 813:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 814:USB/core/usb_dcd_int.c ****   gintsts.b.incomplisoin = 1;
 309              		.loc 1 814 3 is_stmt 1 view .LVU89
 310              		.loc 1 814 26 is_stmt 0 view .LVU90
 311 000c 4FF48013 		mov	r3, #1048576
 312              	.LVL20:
 815:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 313              		.loc 1 815 3 is_stmt 1 view .LVU91
 314 0010 E268     		ldr	r2, [r4, #12]
 315              	.LVL21:
 316              		.loc 1 815 3 is_stmt 0 view .LVU92
 317 0012 5361     		str	r3, [r2, #20]
 816:USB/core/usb_dcd_int.c ****   
 817:USB/core/usb_dcd_int.c ****   return 1;
 318              		.loc 1 817 3 is_stmt 1 view .LVU93
 818:USB/core/usb_dcd_int.c **** }
 319              		.loc 1 818 1 is_stmt 0 view .LVU94
ARM GAS  /tmp/ccbsMsTN.s 			page 21


 320 0014 0120     		movs	r0, #1
 321 0016 10BD     		pop	{r4, pc}
 322              	.LVL22:
 323              	.L19:
 324              		.loc 1 818 1 view .LVU95
 325              		.align	2
 326              	.L18:
 327 0018 00000000 		.word	USBD_DCD_INT_fops
 328              		.cfi_endproc
 329              	.LFE136:
 331              		.section	.text.DCD_IsoOUTIncomplete_ISR,"ax",%progbits
 332              		.align	1
 333              		.syntax unified
 334              		.thumb
 335              		.thumb_func
 336              		.fpu fpv4-sp-d16
 338              	DCD_IsoOUTIncomplete_ISR:
 339              	.LVL23:
 340              	.LFB137:
 819:USB/core/usb_dcd_int.c **** 
 820:USB/core/usb_dcd_int.c **** /**
 821:USB/core/usb_dcd_int.c **** * @brief  DCD_IsoOUTIncomplete_ISR
 822:USB/core/usb_dcd_int.c **** *         handle the ISO OUT incomplete interrupt
 823:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 824:USB/core/usb_dcd_int.c **** * @retval status
 825:USB/core/usb_dcd_int.c **** */
 826:USB/core/usb_dcd_int.c **** static uint32_t DCD_IsoOUTIncomplete_ISR(USB_OTG_CORE_HANDLE *pdev)
 827:USB/core/usb_dcd_int.c **** {
 341              		.loc 1 827 1 is_stmt 1 view -0
 342              		.cfi_startproc
 343              		@ args = 0, pretend = 0, frame = 0
 344              		@ frame_needed = 0, uses_anonymous_args = 0
 345              		.loc 1 827 1 is_stmt 0 view .LVU97
 346 0000 10B5     		push	{r4, lr}
 347              	.LCFI7:
 348              		.cfi_def_cfa_offset 8
 349              		.cfi_offset 4, -8
 350              		.cfi_offset 14, -4
 351 0002 0446     		mov	r4, r0
 828:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef gintsts;  
 352              		.loc 1 828 3 is_stmt 1 view .LVU98
 829:USB/core/usb_dcd_int.c ****   
 830:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 353              		.loc 1 830 3 view .LVU99
 831:USB/core/usb_dcd_int.c **** 
 832:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->IsoOUTIncomplete (pdev); 
 354              		.loc 1 832 3 view .LVU100
 355              		.loc 1 832 20 is_stmt 0 view .LVU101
 356 0004 044B     		ldr	r3, .L22
 357 0006 1B68     		ldr	r3, [r3]
 358 0008 1B6A     		ldr	r3, [r3, #32]
 359              		.loc 1 832 3 view .LVU102
 360 000a 9847     		blx	r3
 361              	.LVL24:
 833:USB/core/usb_dcd_int.c ****   
 834:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 835:USB/core/usb_dcd_int.c ****   gintsts.b.incomplisoout = 1;
ARM GAS  /tmp/ccbsMsTN.s 			page 22


 362              		.loc 1 835 3 is_stmt 1 view .LVU103
 363              		.loc 1 835 27 is_stmt 0 view .LVU104
 364 000c 4FF40013 		mov	r3, #2097152
 365              	.LVL25:
 836:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 366              		.loc 1 836 3 is_stmt 1 view .LVU105
 367 0010 E268     		ldr	r2, [r4, #12]
 368              	.LVL26:
 369              		.loc 1 836 3 is_stmt 0 view .LVU106
 370 0012 5361     		str	r3, [r2, #20]
 837:USB/core/usb_dcd_int.c ****   return 1;
 371              		.loc 1 837 3 is_stmt 1 view .LVU107
 838:USB/core/usb_dcd_int.c **** }
 372              		.loc 1 838 1 is_stmt 0 view .LVU108
 373 0014 0120     		movs	r0, #1
 374 0016 10BD     		pop	{r4, pc}
 375              	.LVL27:
 376              	.L23:
 377              		.loc 1 838 1 view .LVU109
 378              		.align	2
 379              	.L22:
 380 0018 00000000 		.word	USBD_DCD_INT_fops
 381              		.cfi_endproc
 382              	.LFE137:
 384              		.section	.text.DCD_ReadDevInEP,"ax",%progbits
 385              		.align	1
 386              		.syntax unified
 387              		.thumb
 388              		.thumb_func
 389              		.fpu fpv4-sp-d16
 391              	DCD_ReadDevInEP:
 392              	.LVL28:
 393              	.LFB138:
 839:USB/core/usb_dcd_int.c **** /**
 840:USB/core/usb_dcd_int.c **** * @brief  DCD_ReadDevInEP
 841:USB/core/usb_dcd_int.c **** *         Reads ep flags
 842:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 843:USB/core/usb_dcd_int.c **** * @retval status
 844:USB/core/usb_dcd_int.c **** */
 845:USB/core/usb_dcd_int.c **** static uint32_t DCD_ReadDevInEP (USB_OTG_CORE_HANDLE *pdev, uint8_t epnum)
 846:USB/core/usb_dcd_int.c **** {
 394              		.loc 1 846 1 is_stmt 1 view -0
 395              		.cfi_startproc
 396              		@ args = 0, pretend = 0, frame = 0
 397              		@ frame_needed = 0, uses_anonymous_args = 0
 398              		@ link register save eliminated.
 399              		.loc 1 846 1 is_stmt 0 view .LVU111
 400 0000 10B4     		push	{r4}
 401              	.LCFI8:
 402              		.cfi_def_cfa_offset 4
 403              		.cfi_offset 4, -4
 847:USB/core/usb_dcd_int.c ****   uint32_t v, msk, emp;
 404              		.loc 1 847 3 is_stmt 1 view .LVU112
 848:USB/core/usb_dcd_int.c ****   msk = USB_OTG_READ_REG32(&pdev->regs.DREGS->DIEPMSK);
 405              		.loc 1 848 3 view .LVU113
 406              		.loc 1 848 9 is_stmt 0 view .LVU114
 407 0002 0269     		ldr	r2, [r0, #16]
ARM GAS  /tmp/ccbsMsTN.s 			page 23


 408              		.loc 1 848 7 view .LVU115
 409 0004 1469     		ldr	r4, [r2, #16]
 410              	.LVL29:
 849:USB/core/usb_dcd_int.c ****   emp = USB_OTG_READ_REG32(&pdev->regs.DREGS->DIEPEMPMSK);
 411              		.loc 1 849 3 is_stmt 1 view .LVU116
 412              		.loc 1 849 7 is_stmt 0 view .LVU117
 413 0006 536B     		ldr	r3, [r2, #52]
 414              	.LVL30:
 850:USB/core/usb_dcd_int.c ****   msk |= ((emp >> epnum) & 0x1) << 7;
 415              		.loc 1 850 3 is_stmt 1 view .LVU118
 416              		.loc 1 850 16 is_stmt 0 view .LVU119
 417 0008 CB40     		lsrs	r3, r3, r1
 418              	.LVL31:
 419              		.loc 1 850 33 view .LVU120
 420 000a DB01     		lsls	r3, r3, #7
 421 000c DBB2     		uxtb	r3, r3
 422              		.loc 1 850 7 view .LVU121
 423 000e 2343     		orrs	r3, r3, r4
 424              	.LVL32:
 851:USB/core/usb_dcd_int.c ****   v = USB_OTG_READ_REG32(&pdev->regs.INEP_REGS[epnum]->DIEPINT) & msk;
 425              		.loc 1 851 3 is_stmt 1 view .LVU122
 426              		.loc 1 851 7 is_stmt 0 view .LVU123
 427 0010 0431     		adds	r1, r1, #4
 428              	.LVL33:
 429              		.loc 1 851 7 view .LVU124
 430 0012 00EB8100 		add	r0, r0, r1, lsl #2
 431              	.LVL34:
 432              		.loc 1 851 7 view .LVU125
 433 0016 8268     		ldr	r2, [r0, #8]
 434 0018 9068     		ldr	r0, [r2, #8]
 435              	.LVL35:
 852:USB/core/usb_dcd_int.c ****   return v;
 436              		.loc 1 852 3 is_stmt 1 view .LVU126
 853:USB/core/usb_dcd_int.c **** }
 437              		.loc 1 853 1 is_stmt 0 view .LVU127
 438 001a 1840     		ands	r0, r0, r3
 439              	.LVL36:
 440              		.loc 1 853 1 view .LVU128
 441 001c 5DF8044B 		ldr	r4, [sp], #4
 442              	.LCFI9:
 443              		.cfi_restore 4
 444              		.cfi_def_cfa_offset 0
 445 0020 7047     		bx	lr
 446              		.cfi_endproc
 447              	.LFE138:
 449              		.section	.text.DCD_HandleOutEP_ISR,"ax",%progbits
 450              		.align	1
 451              		.syntax unified
 452              		.thumb
 453              		.thumb_func
 454              		.fpu fpv4-sp-d16
 456              	DCD_HandleOutEP_ISR:
 457              	.LVL37:
 458              	.LFB130:
 493:USB/core/usb_dcd_int.c ****   uint32_t ep_intr;
 459              		.loc 1 493 1 is_stmt 1 view -0
 460              		.cfi_startproc
ARM GAS  /tmp/ccbsMsTN.s 			page 24


 461              		@ args = 0, pretend = 0, frame = 0
 462              		@ frame_needed = 0, uses_anonymous_args = 0
 493:USB/core/usb_dcd_int.c ****   uint32_t ep_intr;
 463              		.loc 1 493 1 is_stmt 0 view .LVU130
 464 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 465              	.LCFI10:
 466              		.cfi_def_cfa_offset 24
 467              		.cfi_offset 4, -24
 468              		.cfi_offset 5, -20
 469              		.cfi_offset 6, -16
 470              		.cfi_offset 7, -12
 471              		.cfi_offset 8, -8
 472              		.cfi_offset 14, -4
 473 0004 0746     		mov	r7, r0
 494:USB/core/usb_dcd_int.c ****   USB_OTG_DOEPINTn_TypeDef  doepint;
 474              		.loc 1 494 3 is_stmt 1 view .LVU131
 495:USB/core/usb_dcd_int.c ****   USB_OTG_DEPXFRSIZ_TypeDef  deptsiz;
 475              		.loc 1 495 3 view .LVU132
 496:USB/core/usb_dcd_int.c ****   uint32_t epnum = 0;
 476              		.loc 1 496 3 view .LVU133
 497:USB/core/usb_dcd_int.c ****   
 477              		.loc 1 497 3 view .LVU134
 478              	.LVL38:
 499:USB/core/usb_dcd_int.c ****   
 479              		.loc 1 499 3 view .LVU135
 502:USB/core/usb_dcd_int.c ****   
 480              		.loc 1 502 3 view .LVU136
 502:USB/core/usb_dcd_int.c ****   
 481              		.loc 1 502 13 is_stmt 0 view .LVU137
 482 0006 FFF7FEFF 		bl	USB_OTG_ReadDevAllOutEp_itr
 483              	.LVL39:
 502:USB/core/usb_dcd_int.c ****   
 484              		.loc 1 502 13 view .LVU138
 485 000a 0446     		mov	r4, r0
 486              	.LVL40:
 504:USB/core/usb_dcd_int.c ****   {
 487              		.loc 1 504 3 is_stmt 1 view .LVU139
 497:USB/core/usb_dcd_int.c ****   
 488              		.loc 1 497 12 is_stmt 0 view .LVU140
 489 000c 0025     		movs	r5, #0
 504:USB/core/usb_dcd_int.c ****   {
 490              		.loc 1 504 9 view .LVU141
 491 000e 2CE0     		b	.L27
 492              	.LVL41:
 493              	.L35:
 518:USB/core/usb_dcd_int.c ****           /*ToDo : handle more than one single MPS size packet */
 494              		.loc 1 518 11 is_stmt 1 view .LVU142
 518:USB/core/usb_dcd_int.c ****           /*ToDo : handle more than one single MPS size packet */
 495              		.loc 1 518 25 is_stmt 0 view .LVU143
 496 0010 05F11403 		add	r3, r5, #20
 497 0014 07EB8303 		add	r3, r7, r3, lsl #2
 498 0018 5B68     		ldr	r3, [r3, #4]
 499 001a 1969     		ldr	r1, [r3, #16]
 520:USB/core/usb_dcd_int.c ****             deptsiz.b.xfersize;
 500              		.loc 1 520 11 is_stmt 1 view .LVU144
 520:USB/core/usb_dcd_int.c ****             deptsiz.b.xfersize;
 501              		.loc 1 520 71 is_stmt 0 view .LVU145
ARM GAS  /tmp/ccbsMsTN.s 			page 25


 502 001c AA00     		lsls	r2, r5, #2
 503 001e 2A44     		add	r2, r2, r5
 504 0020 D300     		lsls	r3, r2, #3
 505 0022 3B44     		add	r3, r3, r7
 506 0024 D3F87C23 		ldr	r2, [r3, #892]
 521:USB/core/usb_dcd_int.c ****         }
 507              		.loc 1 521 22 view .LVU146
 508 0028 C1F31201 		ubfx	r1, r1, #0, #19
 520:USB/core/usb_dcd_int.c ****             deptsiz.b.xfersize;
 509              		.loc 1 520 82 view .LVU147
 510 002c 521A     		subs	r2, r2, r1
 520:USB/core/usb_dcd_int.c ****             deptsiz.b.xfersize;
 511              		.loc 1 520 46 view .LVU148
 512 002e C3F88C23 		str	r2, [r3, #908]
 513 0032 32E0     		b	.L30
 514              	.LVL42:
 515              	.L29:
 537:USB/core/usb_dcd_int.c ****       {
 516              		.loc 1 537 7 is_stmt 1 view .LVU149
 537:USB/core/usb_dcd_int.c ****       {
 517              		.loc 1 537 10 is_stmt 0 view .LVU150
 518 0034 16F0020F 		tst	r6, #2
 519 0038 06D0     		beq	.L31
 540:USB/core/usb_dcd_int.c ****       }
 520              		.loc 1 540 9 is_stmt 1 view .LVU151
 540:USB/core/usb_dcd_int.c ****       }
 521              		.loc 1 540 9 view .LVU152
 522 003a 0226     		movs	r6, #2
 523              	.LVL43:
 540:USB/core/usb_dcd_int.c ****       }
 524              		.loc 1 540 9 view .LVU153
 525 003c 05F11403 		add	r3, r5, #20
 526 0040 07EB8303 		add	r3, r7, r3, lsl #2
 527 0044 5B68     		ldr	r3, [r3, #4]
 528              	.LVL44:
 540:USB/core/usb_dcd_int.c ****       }
 529              		.loc 1 540 9 is_stmt 0 view .LVU154
 530 0046 9E60     		str	r6, [r3, #8]
 531              	.L31:
 540:USB/core/usb_dcd_int.c ****       }
 532              		.loc 1 540 45 is_stmt 1 discriminator 1 view .LVU155
 543:USB/core/usb_dcd_int.c ****       {
 533              		.loc 1 543 7 discriminator 1 view .LVU156
 543:USB/core/usb_dcd_int.c ****       {
 534              		.loc 1 543 10 is_stmt 0 discriminator 1 view .LVU157
 535 0048 16F0080F 		tst	r6, #8
 536 004c 0BD0     		beq	.L28
 548:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, setup);
 537              		.loc 1 548 9 is_stmt 1 view .LVU158
 548:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, setup);
 538              		.loc 1 548 26 is_stmt 0 view .LVU159
 539 004e 1E4B     		ldr	r3, .L36
 540 0050 1B68     		ldr	r3, [r3]
 541 0052 9B68     		ldr	r3, [r3, #8]
 548:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, setup);
 542              		.loc 1 548 9 view .LVU160
 543 0054 3846     		mov	r0, r7
ARM GAS  /tmp/ccbsMsTN.s 			page 26


 544 0056 9847     		blx	r3
 545              	.LVL45:
 549:USB/core/usb_dcd_int.c ****       }
 546              		.loc 1 549 9 is_stmt 1 view .LVU161
 549:USB/core/usb_dcd_int.c ****       }
 547              		.loc 1 549 9 view .LVU162
 548 0058 0826     		movs	r6, #8
 549              	.LVL46:
 549:USB/core/usb_dcd_int.c ****       }
 550              		.loc 1 549 9 view .LVU163
 551 005a 05F11403 		add	r3, r5, #20
 552 005e 07EB8303 		add	r3, r7, r3, lsl #2
 553 0062 5B68     		ldr	r3, [r3, #4]
 554              	.LVL47:
 549:USB/core/usb_dcd_int.c ****       }
 555              		.loc 1 549 9 is_stmt 0 view .LVU164
 556 0064 9E60     		str	r6, [r3, #8]
 557              	.L28:
 549:USB/core/usb_dcd_int.c ****       }
 558              		.loc 1 549 40 is_stmt 1 discriminator 1 view .LVU165
 552:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 559              		.loc 1 552 5 discriminator 1 view .LVU166
 552:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 560              		.loc 1 552 10 is_stmt 0 discriminator 1 view .LVU167
 561 0066 0135     		adds	r5, r5, #1
 562              	.LVL48:
 553:USB/core/usb_dcd_int.c ****   }
 563              		.loc 1 553 5 is_stmt 1 discriminator 1 view .LVU168
 553:USB/core/usb_dcd_int.c ****   }
 564              		.loc 1 553 13 is_stmt 0 discriminator 1 view .LVU169
 565 0068 6408     		lsrs	r4, r4, #1
 566              	.LVL49:
 567              	.L27:
 504:USB/core/usb_dcd_int.c ****   {
 568              		.loc 1 504 9 view .LVU170
 569 006a 4CB3     		cbz	r4, .L34
 506:USB/core/usb_dcd_int.c ****     {
 570              		.loc 1 506 5 is_stmt 1 view .LVU171
 506:USB/core/usb_dcd_int.c ****     {
 571              		.loc 1 506 8 is_stmt 0 view .LVU172
 572 006c 14F0010F 		tst	r4, #1
 573 0070 F9D0     		beq	.L28
 509:USB/core/usb_dcd_int.c ****       
 574              		.loc 1 509 7 is_stmt 1 view .LVU173
 509:USB/core/usb_dcd_int.c ****       
 575              		.loc 1 509 21 is_stmt 0 view .LVU174
 576 0072 5FFA85F8 		uxtb	r8, r5
 577 0076 4146     		mov	r1, r8
 578 0078 3846     		mov	r0, r7
 579 007a FFF7FEFF 		bl	USB_OTG_ReadDevOutEP_itr
 580              	.LVL50:
 581 007e 0646     		mov	r6, r0
 582              	.LVL51:
 512:USB/core/usb_dcd_int.c ****       {
 583              		.loc 1 512 7 is_stmt 1 view .LVU175
 512:USB/core/usb_dcd_int.c ****       {
 584              		.loc 1 512 10 is_stmt 0 view .LVU176
ARM GAS  /tmp/ccbsMsTN.s 			page 27


 585 0080 10F0010F 		tst	r0, #1
 586 0084 D6D0     		beq	.L29
 515:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 587              		.loc 1 515 9 is_stmt 1 view .LVU177
 515:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 588              		.loc 1 515 9 view .LVU178
 589 0086 0126     		movs	r6, #1
 590              	.LVL52:
 515:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 591              		.loc 1 515 9 view .LVU179
 592 0088 05F11403 		add	r3, r5, #20
 593 008c 07EB8303 		add	r3, r7, r3, lsl #2
 594 0090 5B68     		ldr	r3, [r3, #4]
 595              	.LVL53:
 515:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 596              		.loc 1 515 9 is_stmt 0 view .LVU180
 597 0092 9E60     		str	r6, [r3, #8]
 515:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 598              		.loc 1 515 44 is_stmt 1 view .LVU181
 516:USB/core/usb_dcd_int.c ****         {
 599              		.loc 1 516 9 view .LVU182
 516:USB/core/usb_dcd_int.c ****         {
 600              		.loc 1 516 22 is_stmt 0 view .LVU183
 601 0094 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 516:USB/core/usb_dcd_int.c ****         {
 602              		.loc 1 516 12 view .LVU184
 603 0096 B342     		cmp	r3, r6
 604              	.LVL54:
 516:USB/core/usb_dcd_int.c ****         {
 605              		.loc 1 516 12 view .LVU185
 606 0098 BAD0     		beq	.L35
 607              	.L30:
 525:USB/core/usb_dcd_int.c ****         
 608              		.loc 1 525 9 is_stmt 1 view .LVU186
 525:USB/core/usb_dcd_int.c ****         
 609              		.loc 1 525 26 is_stmt 0 view .LVU187
 610 009a 0B4B     		ldr	r3, .L36
 611 009c 1B68     		ldr	r3, [r3]
 612 009e 1B68     		ldr	r3, [r3]
 525:USB/core/usb_dcd_int.c ****         
 613              		.loc 1 525 9 view .LVU188
 614 00a0 4146     		mov	r1, r8
 615 00a2 3846     		mov	r0, r7
 616 00a4 9847     		blx	r3
 617              	.LVL55:
 527:USB/core/usb_dcd_int.c ****         {
 618              		.loc 1 527 9 is_stmt 1 view .LVU189
 527:USB/core/usb_dcd_int.c ****         {
 619              		.loc 1 527 22 is_stmt 0 view .LVU190
 620 00a6 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 527:USB/core/usb_dcd_int.c ****         {
 621              		.loc 1 527 12 view .LVU191
 622 00a8 012B     		cmp	r3, #1
 623 00aa C3D1     		bne	.L29
 529:USB/core/usb_dcd_int.c ****           {
 624              		.loc 1 529 11 is_stmt 1 view .LVU192
 529:USB/core/usb_dcd_int.c ****           {
ARM GAS  /tmp/ccbsMsTN.s 			page 28


 625              		.loc 1 529 13 is_stmt 0 view .LVU193
 626 00ac 002D     		cmp	r5, #0
 627 00ae C1D1     		bne	.L29
 529:USB/core/usb_dcd_int.c ****           {
 628              		.loc 1 529 40 discriminator 1 view .LVU194
 629 00b0 97F81131 		ldrb	r3, [r7, #273]	@ zero_extendqisi2
 529:USB/core/usb_dcd_int.c ****           {
 630              		.loc 1 529 27 discriminator 1 view .LVU195
 631 00b4 052B     		cmp	r3, #5
 632 00b6 BDD1     		bne	.L29
 532:USB/core/usb_dcd_int.c ****           }
 633              		.loc 1 532 13 is_stmt 1 view .LVU196
 634 00b8 3846     		mov	r0, r7
 635 00ba FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 636              	.LVL56:
 637 00be B9E7     		b	.L29
 638              	.LVL57:
 639              	.L34:
 555:USB/core/usb_dcd_int.c **** }
 640              		.loc 1 555 3 view .LVU197
 556:USB/core/usb_dcd_int.c **** 
 641              		.loc 1 556 1 is_stmt 0 view .LVU198
 642 00c0 0120     		movs	r0, #1
 643 00c2 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 644              	.LVL58:
 645              	.L37:
 556:USB/core/usb_dcd_int.c **** 
 646              		.loc 1 556 1 view .LVU199
 647 00c6 00BF     		.align	2
 648              	.L36:
 649 00c8 00000000 		.word	USBD_DCD_INT_fops
 650              		.cfi_endproc
 651              	.LFE130:
 653              		.section	.text.DCD_WriteEmptyTxFifo,"ax",%progbits
 654              		.align	1
 655              		.syntax unified
 656              		.thumb
 657              		.thumb_func
 658              		.fpu fpv4-sp-d16
 660              	DCD_WriteEmptyTxFifo:
 661              	.LVL59:
 662              	.LFB133:
 639:USB/core/usb_dcd_int.c ****   USB_OTG_DTXFSTSn_TypeDef  txstatus;
 663              		.loc 1 639 1 is_stmt 1 view -0
 664              		.cfi_startproc
 665              		@ args = 0, pretend = 0, frame = 0
 666              		@ frame_needed = 0, uses_anonymous_args = 0
 639:USB/core/usb_dcd_int.c ****   USB_OTG_DTXFSTSn_TypeDef  txstatus;
 667              		.loc 1 639 1 is_stmt 0 view .LVU201
 668 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 669              	.LCFI11:
 670              		.cfi_def_cfa_offset 24
 671              		.cfi_offset 4, -24
 672              		.cfi_offset 5, -20
 673              		.cfi_offset 6, -16
 674              		.cfi_offset 7, -12
 675              		.cfi_offset 8, -8
ARM GAS  /tmp/ccbsMsTN.s 			page 29


 676              		.cfi_offset 14, -4
 677 0004 0746     		mov	r7, r0
 678 0006 0D46     		mov	r5, r1
 640:USB/core/usb_dcd_int.c ****   USB_OTG_EP *ep;
 679              		.loc 1 640 3 is_stmt 1 view .LVU202
 641:USB/core/usb_dcd_int.c ****   uint32_t len = 0;
 680              		.loc 1 641 3 view .LVU203
 642:USB/core/usb_dcd_int.c ****   uint32_t len32b;
 681              		.loc 1 642 3 view .LVU204
 682              	.LVL60:
 643:USB/core/usb_dcd_int.c ****   txstatus.d32 = 0;
 683              		.loc 1 643 3 view .LVU205
 644:USB/core/usb_dcd_int.c ****   
 684              		.loc 1 644 3 view .LVU206
 646:USB/core/usb_dcd_int.c ****   
 685              		.loc 1 646 3 view .LVU207
 648:USB/core/usb_dcd_int.c ****   
 686              		.loc 1 648 3 view .LVU208
 648:USB/core/usb_dcd_int.c ****   
 687              		.loc 1 648 11 is_stmt 0 view .LVU209
 688 0008 8A00     		lsls	r2, r1, #2
 689 000a 0A44     		add	r2, r2, r1
 690 000c D300     		lsls	r3, r2, #3
 691 000e 0344     		add	r3, r3, r0
 692 0010 D3F83021 		ldr	r2, [r3, #304]
 648:USB/core/usb_dcd_int.c ****   
 693              		.loc 1 648 26 view .LVU210
 694 0014 D3F83411 		ldr	r1, [r3, #308]
 695              	.LVL61:
 648:USB/core/usb_dcd_int.c ****   
 696              		.loc 1 648 7 view .LVU211
 697 0018 521A     		subs	r2, r2, r1
 698              	.LVL62:
 650:USB/core/usb_dcd_int.c ****   {
 699              		.loc 1 650 3 is_stmt 1 view .LVU212
 650:USB/core/usb_dcd_int.c ****   {
 700              		.loc 1 650 15 is_stmt 0 view .LVU213
 701 001a D3F82431 		ldr	r3, [r3, #292]
 650:USB/core/usb_dcd_int.c ****   {
 702              		.loc 1 650 6 view .LVU214
 703 001e 9342     		cmp	r3, r2
 704 0020 00D3     		bcc	.L39
 648:USB/core/usb_dcd_int.c ****   
 705              		.loc 1 648 7 view .LVU215
 706 0022 1346     		mov	r3, r2
 707              	.L39:
 708              	.LVL63:
 655:USB/core/usb_dcd_int.c ****   txstatus.d32 = USB_OTG_READ_REG32( &pdev->regs.INEP_REGS[epnum]->DTXFSTS);
 709              		.loc 1 655 3 is_stmt 1 view .LVU216
 655:USB/core/usb_dcd_int.c ****   txstatus.d32 = USB_OTG_READ_REG32( &pdev->regs.INEP_REGS[epnum]->DTXFSTS);
 710              		.loc 1 655 17 is_stmt 0 view .LVU217
 711 0024 03F10308 		add	r8, r3, #3
 655:USB/core/usb_dcd_int.c ****   txstatus.d32 = USB_OTG_READ_REG32( &pdev->regs.INEP_REGS[epnum]->DTXFSTS);
 712              		.loc 1 655 10 view .LVU218
 713 0028 4FEA9808 		lsr	r8, r8, #2
 714              	.LVL64:
 656:USB/core/usb_dcd_int.c ****   
ARM GAS  /tmp/ccbsMsTN.s 			page 30


 715              		.loc 1 656 3 is_stmt 1 view .LVU219
 656:USB/core/usb_dcd_int.c ****   
 716              		.loc 1 656 18 is_stmt 0 view .LVU220
 717 002c 2B1D     		adds	r3, r5, #4
 718              	.LVL65:
 656:USB/core/usb_dcd_int.c ****   
 719              		.loc 1 656 18 view .LVU221
 720 002e 07EB8303 		add	r3, r7, r3, lsl #2
 721 0032 9B68     		ldr	r3, [r3, #8]
 722 0034 9B69     		ldr	r3, [r3, #24]
 723              	.LVL66:
 660:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 724              		.loc 1 660 3 is_stmt 1 view .LVU222
 660:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 725              		.loc 1 660 10 is_stmt 0 view .LVU223
 726 0036 1DE0     		b	.L40
 727              	.LVL67:
 728              	.L41:
 671:USB/core/usb_dcd_int.c ****     
 729              		.loc 1 671 5 is_stmt 1 view .LVU224
 671:USB/core/usb_dcd_int.c ****     
 730              		.loc 1 671 19 is_stmt 0 view .LVU225
 731 0038 06F10308 		add	r8, r6, #3
 732              	.LVL68:
 671:USB/core/usb_dcd_int.c ****     
 733              		.loc 1 671 12 view .LVU226
 734 003c 4FEA9808 		lsr	r8, r8, #2
 735              	.LVL69:
 673:USB/core/usb_dcd_int.c ****     
 736              		.loc 1 673 5 is_stmt 1 view .LVU227
 737 0040 AB00     		lsls	r3, r5, #2
 738 0042 2B44     		add	r3, r3, r5
 739 0044 DC00     		lsls	r4, r3, #3
 740 0046 3C44     		add	r4, r4, r7
 741 0048 B3B2     		uxth	r3, r6
 742 004a EAB2     		uxtb	r2, r5
 743 004c D4F82811 		ldr	r1, [r4, #296]
 744 0050 3846     		mov	r0, r7
 745 0052 FFF7FEFF 		bl	USB_OTG_WritePacket
 746              	.LVL70:
 675:USB/core/usb_dcd_int.c ****     ep->xfer_count += len;
 747              		.loc 1 675 5 view .LVU228
 675:USB/core/usb_dcd_int.c ****     ep->xfer_count += len;
 748              		.loc 1 675 20 is_stmt 0 view .LVU229
 749 0056 D4F82831 		ldr	r3, [r4, #296]
 750 005a 3344     		add	r3, r3, r6
 751 005c C4F82831 		str	r3, [r4, #296]
 676:USB/core/usb_dcd_int.c ****     
 752              		.loc 1 676 5 is_stmt 1 view .LVU230
 676:USB/core/usb_dcd_int.c ****     
 753              		.loc 1 676 20 is_stmt 0 view .LVU231
 754 0060 D4F83431 		ldr	r3, [r4, #308]
 755 0064 1E44     		add	r6, r6, r3
 756              	.LVL71:
 676:USB/core/usb_dcd_int.c ****     
 757              		.loc 1 676 20 view .LVU232
 758 0066 C4F83461 		str	r6, [r4, #308]
ARM GAS  /tmp/ccbsMsTN.s 			page 31


 678:USB/core/usb_dcd_int.c ****   }
 759              		.loc 1 678 5 is_stmt 1 view .LVU233
 678:USB/core/usb_dcd_int.c ****   }
 760              		.loc 1 678 20 is_stmt 0 view .LVU234
 761 006a 2B1D     		adds	r3, r5, #4
 762 006c 07EB8303 		add	r3, r7, r3, lsl #2
 763 0070 9B68     		ldr	r3, [r3, #8]
 764 0072 9B69     		ldr	r3, [r3, #24]
 765              	.LVL72:
 766              	.L40:
 660:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 767              		.loc 1 660 21 view .LVU235
 768 0074 9BB2     		uxth	r3, r3
 769              	.LVL73:
 660:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 770              		.loc 1 660 10 view .LVU236
 771 0076 4345     		cmp	r3, r8
 772 0078 15D9     		bls	.L42
 661:USB/core/usb_dcd_int.c ****             ep->xfer_len != 0)
 773              		.loc 1 661 13 discriminator 1 view .LVU237
 774 007a AB00     		lsls	r3, r5, #2
 775 007c 2B44     		add	r3, r3, r5
 776 007e DA00     		lsls	r2, r3, #3
 777 0080 3A44     		add	r2, r2, r7
 778 0082 D2F83411 		ldr	r1, [r2, #308]
 661:USB/core/usb_dcd_int.c ****             ep->xfer_len != 0)
 779              		.loc 1 661 30 discriminator 1 view .LVU238
 780 0086 D2F83031 		ldr	r3, [r2, #304]
 660:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 781              		.loc 1 660 43 discriminator 1 view .LVU239
 782 008a 9942     		cmp	r1, r3
 783 008c 0BD2     		bcs	.L42
 661:USB/core/usb_dcd_int.c ****             ep->xfer_len != 0)
 784              		.loc 1 661 41 view .LVU240
 785 008e 53B1     		cbz	r3, .L42
 665:USB/core/usb_dcd_int.c ****     
 786              		.loc 1 665 5 is_stmt 1 view .LVU241
 665:USB/core/usb_dcd_int.c ****     
 787              		.loc 1 665 9 is_stmt 0 view .LVU242
 788 0090 5B1A     		subs	r3, r3, r1
 789              	.LVL74:
 667:USB/core/usb_dcd_int.c ****     {
 790              		.loc 1 667 5 is_stmt 1 view .LVU243
 667:USB/core/usb_dcd_int.c ****     {
 791              		.loc 1 667 17 is_stmt 0 view .LVU244
 792 0092 05EB8501 		add	r1, r5, r5, lsl #2
 793 0096 CA00     		lsls	r2, r1, #3
 794 0098 3A44     		add	r2, r2, r7
 795 009a D2F82461 		ldr	r6, [r2, #292]
 667:USB/core/usb_dcd_int.c ****     {
 796              		.loc 1 667 8 view .LVU245
 797 009e 9E42     		cmp	r6, r3
 798 00a0 CAD3     		bcc	.L41
 665:USB/core/usb_dcd_int.c ****     
 799              		.loc 1 665 9 view .LVU246
 800 00a2 1E46     		mov	r6, r3
 801 00a4 C8E7     		b	.L41
ARM GAS  /tmp/ccbsMsTN.s 			page 32


 802              	.LVL75:
 803              	.L42:
 681:USB/core/usb_dcd_int.c **** }
 804              		.loc 1 681 3 is_stmt 1 view .LVU247
 682:USB/core/usb_dcd_int.c **** 
 805              		.loc 1 682 1 is_stmt 0 view .LVU248
 806 00a6 0120     		movs	r0, #1
 807 00a8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 682:USB/core/usb_dcd_int.c **** 
 808              		.loc 1 682 1 view .LVU249
 809              		.cfi_endproc
 810              	.LFE133:
 812              		.section	.text.DCD_HandleInEP_ISR,"ax",%progbits
 813              		.align	1
 814              		.syntax unified
 815              		.thumb
 816              		.thumb_func
 817              		.fpu fpv4-sp-d16
 819              	DCD_HandleInEP_ISR:
 820              	.LVL76:
 821              	.LFB129:
 424:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPINTn_TypeDef  diepint;
 822              		.loc 1 424 1 is_stmt 1 view -0
 823              		.cfi_startproc
 824              		@ args = 0, pretend = 0, frame = 0
 825              		@ frame_needed = 0, uses_anonymous_args = 0
 424:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPINTn_TypeDef  diepint;
 826              		.loc 1 424 1 is_stmt 0 view .LVU251
 827 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 828              	.LCFI12:
 829              		.cfi_def_cfa_offset 24
 830              		.cfi_offset 4, -24
 831              		.cfi_offset 5, -20
 832              		.cfi_offset 6, -16
 833              		.cfi_offset 7, -12
 834              		.cfi_offset 8, -8
 835              		.cfi_offset 14, -4
 836 0004 0746     		mov	r7, r0
 425:USB/core/usb_dcd_int.c ****   
 837              		.loc 1 425 3 is_stmt 1 view .LVU252
 427:USB/core/usb_dcd_int.c ****   uint32_t epnum = 0;
 838              		.loc 1 427 3 view .LVU253
 428:USB/core/usb_dcd_int.c ****   uint32_t fifoemptymsk;
 839              		.loc 1 428 3 view .LVU254
 840              	.LVL77:
 429:USB/core/usb_dcd_int.c ****   diepint.d32 = 0;
 841              		.loc 1 429 3 view .LVU255
 430:USB/core/usb_dcd_int.c ****   ep_intr = USB_OTG_ReadDevAllInEPItr(pdev);
 842              		.loc 1 430 3 view .LVU256
 431:USB/core/usb_dcd_int.c ****   
 843              		.loc 1 431 3 view .LVU257
 431:USB/core/usb_dcd_int.c ****   
 844              		.loc 1 431 13 is_stmt 0 view .LVU258
 845 0006 FFF7FEFF 		bl	USB_OTG_ReadDevAllInEPItr
 846              	.LVL78:
 431:USB/core/usb_dcd_int.c ****   
 847              		.loc 1 431 13 view .LVU259
ARM GAS  /tmp/ccbsMsTN.s 			page 33


 848 000a 0546     		mov	r5, r0
 849              	.LVL79:
 433:USB/core/usb_dcd_int.c ****   {
 850              		.loc 1 433 3 is_stmt 1 view .LVU260
 428:USB/core/usb_dcd_int.c ****   uint32_t fifoemptymsk;
 851              		.loc 1 428 12 is_stmt 0 view .LVU261
 852 000c 0026     		movs	r6, #0
 433:USB/core/usb_dcd_int.c ****   {
 853              		.loc 1 433 9 view .LVU262
 854 000e 28E0     		b	.L46
 855              	.LVL80:
 856              	.L48:
 455:USB/core/usb_dcd_int.c ****       {
 857              		.loc 1 455 7 is_stmt 1 view .LVU263
 455:USB/core/usb_dcd_int.c ****       {
 858              		.loc 1 455 10 is_stmt 0 view .LVU264
 859 0010 14F0080F 		tst	r4, #8
 860 0014 05D0     		beq	.L49
 457:USB/core/usb_dcd_int.c ****       }
 861              		.loc 1 457 9 is_stmt 1 view .LVU265
 457:USB/core/usb_dcd_int.c ****       }
 862              		.loc 1 457 9 view .LVU266
 863 0016 0824     		movs	r4, #8
 864              	.LVL81:
 457:USB/core/usb_dcd_int.c ****       }
 865              		.loc 1 457 9 view .LVU267
 866 0018 331D     		adds	r3, r6, #4
 867 001a 07EB8303 		add	r3, r7, r3, lsl #2
 868 001e 9B68     		ldr	r3, [r3, #8]
 869              	.LVL82:
 457:USB/core/usb_dcd_int.c ****       }
 870              		.loc 1 457 9 is_stmt 0 view .LVU268
 871 0020 9C60     		str	r4, [r3, #8]
 872              	.L49:
 457:USB/core/usb_dcd_int.c ****       }
 873              		.loc 1 457 41 is_stmt 1 discriminator 1 view .LVU269
 459:USB/core/usb_dcd_int.c ****       {
 874              		.loc 1 459 7 discriminator 1 view .LVU270
 459:USB/core/usb_dcd_int.c ****       {
 875              		.loc 1 459 10 is_stmt 0 discriminator 1 view .LVU271
 876 0022 14F0100F 		tst	r4, #16
 877 0026 05D0     		beq	.L50
 461:USB/core/usb_dcd_int.c ****       }
 878              		.loc 1 461 9 is_stmt 1 view .LVU272
 461:USB/core/usb_dcd_int.c ****       }
 879              		.loc 1 461 9 view .LVU273
 880 0028 1024     		movs	r4, #16
 881              	.LVL83:
 461:USB/core/usb_dcd_int.c ****       }
 882              		.loc 1 461 9 view .LVU274
 883 002a 331D     		adds	r3, r6, #4
 884 002c 07EB8303 		add	r3, r7, r3, lsl #2
 885 0030 9B68     		ldr	r3, [r3, #8]
 886              	.LVL84:
 461:USB/core/usb_dcd_int.c ****       }
 887              		.loc 1 461 9 is_stmt 0 view .LVU275
 888 0032 9C60     		str	r4, [r3, #8]
ARM GAS  /tmp/ccbsMsTN.s 			page 34


 889              	.L50:
 461:USB/core/usb_dcd_int.c ****       }
 890              		.loc 1 461 44 is_stmt 1 discriminator 1 view .LVU276
 463:USB/core/usb_dcd_int.c ****       {
 891              		.loc 1 463 7 discriminator 1 view .LVU277
 463:USB/core/usb_dcd_int.c ****       {
 892              		.loc 1 463 10 is_stmt 0 discriminator 1 view .LVU278
 893 0034 14F0400F 		tst	r4, #64
 894 0038 05D0     		beq	.L51
 465:USB/core/usb_dcd_int.c ****       }
 895              		.loc 1 465 9 is_stmt 1 view .LVU279
 465:USB/core/usb_dcd_int.c ****       }
 896              		.loc 1 465 9 view .LVU280
 897 003a 4024     		movs	r4, #64
 898              	.LVL85:
 465:USB/core/usb_dcd_int.c ****       }
 899              		.loc 1 465 9 view .LVU281
 900 003c 331D     		adds	r3, r6, #4
 901 003e 07EB8303 		add	r3, r7, r3, lsl #2
 902 0042 9B68     		ldr	r3, [r3, #8]
 903              	.LVL86:
 465:USB/core/usb_dcd_int.c ****       }
 904              		.loc 1 465 9 is_stmt 0 view .LVU282
 905 0044 9C60     		str	r4, [r3, #8]
 906              	.L51:
 465:USB/core/usb_dcd_int.c ****       }
 907              		.loc 1 465 44 is_stmt 1 discriminator 1 view .LVU283
 467:USB/core/usb_dcd_int.c ****       {
 908              		.loc 1 467 7 discriminator 1 view .LVU284
 467:USB/core/usb_dcd_int.c ****       {
 909              		.loc 1 467 10 is_stmt 0 discriminator 1 view .LVU285
 910 0046 14F0020F 		tst	r4, #2
 911 004a 05D0     		beq	.L52
 469:USB/core/usb_dcd_int.c ****       }       
 912              		.loc 1 469 9 is_stmt 1 view .LVU286
 469:USB/core/usb_dcd_int.c ****       }       
 913              		.loc 1 469 9 view .LVU287
 914 004c 0224     		movs	r4, #2
 915              	.LVL87:
 469:USB/core/usb_dcd_int.c ****       }       
 916              		.loc 1 469 9 view .LVU288
 917 004e 331D     		adds	r3, r6, #4
 918 0050 07EB8303 		add	r3, r7, r3, lsl #2
 919 0054 9B68     		ldr	r3, [r3, #8]
 920              	.LVL88:
 469:USB/core/usb_dcd_int.c ****       }       
 921              		.loc 1 469 9 is_stmt 0 view .LVU289
 922 0056 9C60     		str	r4, [r3, #8]
 923              	.L52:
 469:USB/core/usb_dcd_int.c ****       }       
 924              		.loc 1 469 44 is_stmt 1 discriminator 1 view .LVU290
 471:USB/core/usb_dcd_int.c ****       {
 925              		.loc 1 471 7 discriminator 1 view .LVU291
 471:USB/core/usb_dcd_int.c ****       {
 926              		.loc 1 471 10 is_stmt 0 discriminator 1 view .LVU292
 927 0058 14F0800F 		tst	r4, #128
 928 005c 31D1     		bne	.L55
ARM GAS  /tmp/ccbsMsTN.s 			page 35


 929              	.L47:
 476:USB/core/usb_dcd_int.c ****       }
 930              		.loc 1 476 43 is_stmt 1 discriminator 1 view .LVU293
 479:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 931              		.loc 1 479 5 discriminator 1 view .LVU294
 479:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 932              		.loc 1 479 10 is_stmt 0 discriminator 1 view .LVU295
 933 005e 0136     		adds	r6, r6, #1
 934              	.LVL89:
 480:USB/core/usb_dcd_int.c ****   }
 935              		.loc 1 480 5 is_stmt 1 discriminator 1 view .LVU296
 480:USB/core/usb_dcd_int.c ****   }
 936              		.loc 1 480 13 is_stmt 0 discriminator 1 view .LVU297
 937 0060 6D08     		lsrs	r5, r5, #1
 938              	.LVL90:
 939              	.L46:
 433:USB/core/usb_dcd_int.c ****   {
 940              		.loc 1 433 9 view .LVU298
 941 0062 002D     		cmp	r5, #0
 942 0064 38D0     		beq	.L56
 435:USB/core/usb_dcd_int.c ****     {
 943              		.loc 1 435 5 is_stmt 1 view .LVU299
 435:USB/core/usb_dcd_int.c ****     {
 944              		.loc 1 435 8 is_stmt 0 view .LVU300
 945 0066 15F0010F 		tst	r5, #1
 946 006a F8D0     		beq	.L47
 437:USB/core/usb_dcd_int.c ****       if ( diepint.b.xfercompl )
 947              		.loc 1 437 7 is_stmt 1 view .LVU301
 437:USB/core/usb_dcd_int.c ****       if ( diepint.b.xfercompl )
 948              		.loc 1 437 21 is_stmt 0 view .LVU302
 949 006c 5FFA86F8 		uxtb	r8, r6
 950 0070 4146     		mov	r1, r8
 951 0072 3846     		mov	r0, r7
 952 0074 FFF7FEFF 		bl	DCD_ReadDevInEP
 953              	.LVL91:
 954 0078 0446     		mov	r4, r0
 955              	.LVL92:
 438:USB/core/usb_dcd_int.c ****       {
 956              		.loc 1 438 7 is_stmt 1 view .LVU303
 438:USB/core/usb_dcd_int.c ****       {
 957              		.loc 1 438 10 is_stmt 0 view .LVU304
 958 007a 10F0010F 		tst	r0, #1
 959 007e C7D0     		beq	.L48
 440:USB/core/usb_dcd_int.c ****         USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DIEPEMPMSK, fifoemptymsk, 0);
 960              		.loc 1 440 9 is_stmt 1 view .LVU305
 440:USB/core/usb_dcd_int.c ****         USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DIEPEMPMSK, fifoemptymsk, 0);
 961              		.loc 1 440 28 is_stmt 0 view .LVU306
 962 0080 0123     		movs	r3, #1
 963 0082 03FA06F0 		lsl	r0, r3, r6
 964              	.LVL93:
 441:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, xfercompl);
 965              		.loc 1 441 9 is_stmt 1 view .LVU307
 966 0086 3969     		ldr	r1, [r7, #16]
 967 0088 4A6B     		ldr	r2, [r1, #52]
 968 008a 22EA0002 		bic	r2, r2, r0
 969 008e 4A63     		str	r2, [r1, #52]
 442:USB/core/usb_dcd_int.c ****         /* TX COMPLETE */
ARM GAS  /tmp/ccbsMsTN.s 			page 36


 970              		.loc 1 442 9 view .LVU308
 442:USB/core/usb_dcd_int.c ****         /* TX COMPLETE */
 971              		.loc 1 442 9 view .LVU309
 972 0090 1C46     		mov	r4, r3
 442:USB/core/usb_dcd_int.c ****         /* TX COMPLETE */
 973              		.loc 1 442 9 view .LVU310
 974 0092 321D     		adds	r2, r6, #4
 975 0094 07EB8202 		add	r2, r7, r2, lsl #2
 976 0098 9268     		ldr	r2, [r2, #8]
 977 009a 9360     		str	r3, [r2, #8]
 442:USB/core/usb_dcd_int.c ****         /* TX COMPLETE */
 978              		.loc 1 442 43 view .LVU311
 444:USB/core/usb_dcd_int.c ****         
 979              		.loc 1 444 9 view .LVU312
 444:USB/core/usb_dcd_int.c ****         
 980              		.loc 1 444 26 is_stmt 0 view .LVU313
 981 009c 104B     		ldr	r3, .L57
 982 009e 1B68     		ldr	r3, [r3]
 983 00a0 5B68     		ldr	r3, [r3, #4]
 444:USB/core/usb_dcd_int.c ****         
 984              		.loc 1 444 9 view .LVU314
 985 00a2 4146     		mov	r1, r8
 986 00a4 3846     		mov	r0, r7
 987              	.LVL94:
 444:USB/core/usb_dcd_int.c ****         
 988              		.loc 1 444 9 view .LVU315
 989 00a6 9847     		blx	r3
 990              	.LVL95:
 446:USB/core/usb_dcd_int.c ****         {
 991              		.loc 1 446 9 is_stmt 1 view .LVU316
 446:USB/core/usb_dcd_int.c ****         {
 992              		.loc 1 446 22 is_stmt 0 view .LVU317
 993 00a8 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 446:USB/core/usb_dcd_int.c ****         {
 994              		.loc 1 446 12 view .LVU318
 995 00aa A342     		cmp	r3, r4
 996 00ac B0D1     		bne	.L48
 448:USB/core/usb_dcd_int.c ****           {
 997              		.loc 1 448 11 is_stmt 1 view .LVU319
 448:USB/core/usb_dcd_int.c ****           {
 998              		.loc 1 448 13 is_stmt 0 view .LVU320
 999 00ae 002E     		cmp	r6, #0
 1000 00b0 AED1     		bne	.L48
 448:USB/core/usb_dcd_int.c ****           {
 1001              		.loc 1 448 40 discriminator 1 view .LVU321
 1002 00b2 97F81131 		ldrb	r3, [r7, #273]	@ zero_extendqisi2
 448:USB/core/usb_dcd_int.c ****           {
 1003              		.loc 1 448 27 discriminator 1 view .LVU322
 1004 00b6 042B     		cmp	r3, #4
 1005 00b8 AAD1     		bne	.L48
 451:USB/core/usb_dcd_int.c ****           }
 1006              		.loc 1 451 13 is_stmt 1 view .LVU323
 1007 00ba 3846     		mov	r0, r7
 1008 00bc FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 1009              	.LVL96:
 1010 00c0 A6E7     		b	.L48
 1011              	.LVL97:
ARM GAS  /tmp/ccbsMsTN.s 			page 37


 1012              	.L55:
 474:USB/core/usb_dcd_int.c ****         
 1013              		.loc 1 474 9 view .LVU324
 1014 00c2 3146     		mov	r1, r6
 1015 00c4 3846     		mov	r0, r7
 1016 00c6 FFF7FEFF 		bl	DCD_WriteEmptyTxFifo
 1017              	.LVL98:
 476:USB/core/usb_dcd_int.c ****       }
 1018              		.loc 1 476 9 view .LVU325
 476:USB/core/usb_dcd_int.c ****       }
 1019              		.loc 1 476 9 view .LVU326
 1020 00ca 8024     		movs	r4, #128
 1021              	.LVL99:
 476:USB/core/usb_dcd_int.c ****       }
 1022              		.loc 1 476 9 view .LVU327
 1023 00cc 331D     		adds	r3, r6, #4
 1024 00ce 07EB8303 		add	r3, r7, r3, lsl #2
 1025 00d2 9B68     		ldr	r3, [r3, #8]
 1026              	.LVL100:
 476:USB/core/usb_dcd_int.c ****       }
 1027              		.loc 1 476 9 is_stmt 0 view .LVU328
 1028 00d4 9C60     		str	r4, [r3, #8]
 1029 00d6 C2E7     		b	.L47
 1030              	.L56:
 483:USB/core/usb_dcd_int.c **** }
 1031              		.loc 1 483 3 is_stmt 1 view .LVU329
 484:USB/core/usb_dcd_int.c **** 
 1032              		.loc 1 484 1 is_stmt 0 view .LVU330
 1033 00d8 0120     		movs	r0, #1
 1034 00da BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1035              	.LVL101:
 1036              	.L58:
 484:USB/core/usb_dcd_int.c **** 
 1037              		.loc 1 484 1 view .LVU331
 1038 00de 00BF     		.align	2
 1039              	.L57:
 1040 00e0 00000000 		.word	USBD_DCD_INT_fops
 1041              		.cfi_endproc
 1042              	.LFE129:
 1044              		.section	.text.DCD_HandleRxStatusQueueLevel_ISR,"ax",%progbits
 1045              		.align	1
 1046              		.syntax unified
 1047              		.thumb
 1048              		.thumb_func
 1049              		.fpu fpv4-sp-d16
 1051              	DCD_HandleRxStatusQueueLevel_ISR:
 1052              	.LVL102:
 1053              	.LFB132:
 586:USB/core/usb_dcd_int.c ****   USB_OTG_GINTMSK_TypeDef  int_mask;
 1054              		.loc 1 586 1 is_stmt 1 view -0
 1055              		.cfi_startproc
 1056              		@ args = 0, pretend = 0, frame = 0
 1057              		@ frame_needed = 0, uses_anonymous_args = 0
 586:USB/core/usb_dcd_int.c ****   USB_OTG_GINTMSK_TypeDef  int_mask;
 1058              		.loc 1 586 1 is_stmt 0 view .LVU333
 1059 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1060              	.LCFI13:
ARM GAS  /tmp/ccbsMsTN.s 			page 38


 1061              		.cfi_def_cfa_offset 24
 1062              		.cfi_offset 4, -24
 1063              		.cfi_offset 5, -20
 1064              		.cfi_offset 6, -16
 1065              		.cfi_offset 7, -12
 1066              		.cfi_offset 8, -8
 1067              		.cfi_offset 14, -4
 1068 0004 0446     		mov	r4, r0
 587:USB/core/usb_dcd_int.c ****   USB_OTG_DRXSTS_TypeDef   status;
 1069              		.loc 1 587 3 is_stmt 1 view .LVU334
 588:USB/core/usb_dcd_int.c ****   USB_OTG_EP *ep;
 1070              		.loc 1 588 3 view .LVU335
 589:USB/core/usb_dcd_int.c ****   
 1071              		.loc 1 589 3 view .LVU336
 592:USB/core/usb_dcd_int.c ****   int_mask.b.rxstsqlvl = 1;
 1072              		.loc 1 592 3 view .LVU337
 593:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32( &pdev->regs.GREGS->GINTMSK, int_mask.d32, 0);
 1073              		.loc 1 593 3 view .LVU338
 594:USB/core/usb_dcd_int.c ****   
 1074              		.loc 1 594 3 view .LVU339
 1075 0006 C268     		ldr	r2, [r0, #12]
 1076 0008 9369     		ldr	r3, [r2, #24]
 1077 000a 23F01003 		bic	r3, r3, #16
 1078 000e 9361     		str	r3, [r2, #24]
 597:USB/core/usb_dcd_int.c ****   
 1079              		.loc 1 597 3 view .LVU340
 597:USB/core/usb_dcd_int.c ****   
 1080              		.loc 1 597 16 is_stmt 0 view .LVU341
 1081 0010 C368     		ldr	r3, [r0, #12]
 1082 0012 1D6A     		ldr	r5, [r3, #32]
 599:USB/core/usb_dcd_int.c ****   
 1083              		.loc 1 599 3 is_stmt 1 view .LVU342
 599:USB/core/usb_dcd_int.c ****   
 1084              		.loc 1 599 34 is_stmt 0 view .LVU343
 1085 0014 05F00F06 		and	r6, r5, #15
 1086              	.LVL103:
 601:USB/core/usb_dcd_int.c ****   {
 1087              		.loc 1 601 3 is_stmt 1 view .LVU344
 601:USB/core/usb_dcd_int.c ****   {
 1088              		.loc 1 601 19 is_stmt 0 view .LVU345
 1089 0018 C5F34343 		ubfx	r3, r5, #17, #4
 601:USB/core/usb_dcd_int.c ****   {
 1090              		.loc 1 601 3 view .LVU346
 1091 001c 022B     		cmp	r3, #2
 1092 001e 09D0     		beq	.L60
 1093 0020 062B     		cmp	r3, #6
 1094 0022 23D0     		beq	.L61
 1095              	.LVL104:
 1096              	.L62:
 627:USB/core/usb_dcd_int.c ****   
 1097              		.loc 1 627 3 is_stmt 1 view .LVU347
 1098 0024 E268     		ldr	r2, [r4, #12]
 1099 0026 9369     		ldr	r3, [r2, #24]
 1100 0028 43F01003 		orr	r3, r3, #16
 1101 002c 9361     		str	r3, [r2, #24]
 629:USB/core/usb_dcd_int.c **** }
 1102              		.loc 1 629 3 view .LVU348
ARM GAS  /tmp/ccbsMsTN.s 			page 39


 630:USB/core/usb_dcd_int.c **** 
 1103              		.loc 1 630 1 is_stmt 0 view .LVU349
 1104 002e 0120     		movs	r0, #1
 1105 0030 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1106              	.LVL105:
 1107              	.L60:
 606:USB/core/usb_dcd_int.c ****     {
 1108              		.loc 1 606 5 is_stmt 1 view .LVU350
 606:USB/core/usb_dcd_int.c ****     {
 1109              		.loc 1 606 8 is_stmt 0 view .LVU351
 1110 0034 47F6F073 		movw	r3, #32752
 1111 0038 2B42     		tst	r3, r5
 1112 003a F3D0     		beq	.L62
 608:USB/core/usb_dcd_int.c ****       ep->xfer_buff += status.b.bcnt;
 1113              		.loc 1 608 7 is_stmt 1 view .LVU352
 608:USB/core/usb_dcd_int.c ****       ep->xfer_buff += status.b.bcnt;
 1114              		.loc 1 608 54 is_stmt 0 view .LVU353
 1115 003c C5F30A15 		ubfx	r5, r5, #4, #11
 608:USB/core/usb_dcd_int.c ****       ep->xfer_buff += status.b.bcnt;
 1116              		.loc 1 608 7 view .LVU354
 1117 0040 4FEA8608 		lsl	r8, r6, #2
 1118 0044 08EB0603 		add	r3, r8, r6
 1119 0048 DF00     		lsls	r7, r3, #3
 1120 004a 0744     		add	r7, r7, r0
 1121 004c 2A46     		mov	r2, r5
 1122 004e D7F88013 		ldr	r1, [r7, #896]
 1123 0052 FFF7FEFF 		bl	USB_OTG_ReadPacket
 1124              	.LVL106:
 609:USB/core/usb_dcd_int.c ****       ep->xfer_count += status.b.bcnt;
 1125              		.loc 1 609 7 is_stmt 1 view .LVU355
 609:USB/core/usb_dcd_int.c ****       ep->xfer_count += status.b.bcnt;
 1126              		.loc 1 609 21 is_stmt 0 view .LVU356
 1127 0056 D7F88033 		ldr	r3, [r7, #896]
 1128 005a 2B44     		add	r3, r3, r5
 1129 005c C7F88033 		str	r3, [r7, #896]
 610:USB/core/usb_dcd_int.c ****     }
 1130              		.loc 1 610 7 is_stmt 1 view .LVU357
 610:USB/core/usb_dcd_int.c ****     }
 1131              		.loc 1 610 22 is_stmt 0 view .LVU358
 1132 0060 D7F88C33 		ldr	r3, [r7, #908]
 1133 0064 1D44     		add	r5, r5, r3
 1134 0066 C7F88C53 		str	r5, [r7, #908]
 1135 006a DBE7     		b	.L62
 1136              	.LVL107:
 1137              	.L61:
 619:USB/core/usb_dcd_int.c ****     ep->xfer_count += status.b.bcnt;
 1138              		.loc 1 619 5 is_stmt 1 view .LVU359
 1139 006c 0822     		movs	r2, #8
 1140 006e 00F2CC51 		addw	r1, r0, #1484
 1141 0072 FFF7FEFF 		bl	USB_OTG_ReadPacket
 1142              	.LVL108:
 620:USB/core/usb_dcd_int.c ****     break;
 1143              		.loc 1 620 5 view .LVU360
 620:USB/core/usb_dcd_int.c ****     break;
 1144              		.loc 1 620 31 is_stmt 0 view .LVU361
 1145 0076 C5F30A15 		ubfx	r5, r5, #4, #11
 620:USB/core/usb_dcd_int.c ****     break;
ARM GAS  /tmp/ccbsMsTN.s 			page 40


 1146              		.loc 1 620 20 view .LVU362
 1147 007a B300     		lsls	r3, r6, #2
 1148 007c 9919     		adds	r1, r3, r6
 1149 007e CA00     		lsls	r2, r1, #3
 1150 0080 2244     		add	r2, r2, r4
 1151 0082 D2F88C33 		ldr	r3, [r2, #908]
 1152 0086 1D44     		add	r5, r5, r3
 1153 0088 C2F88C53 		str	r5, [r2, #908]
 621:USB/core/usb_dcd_int.c ****   default:
 1154              		.loc 1 621 5 is_stmt 1 view .LVU363
 1155 008c CAE7     		b	.L62
 1156              		.cfi_endproc
 1157              	.LFE132:
 1159              		.section	.text.DCD_HandleUsbReset_ISR,"ax",%progbits
 1160              		.align	1
 1161              		.syntax unified
 1162              		.thumb
 1163              		.thumb_func
 1164              		.fpu fpv4-sp-d16
 1166              	DCD_HandleUsbReset_ISR:
 1167              	.LVL109:
 1168              	.LFB134:
 691:USB/core/usb_dcd_int.c ****   USB_OTG_DAINT_TypeDef    daintmsk;
 1169              		.loc 1 691 1 view -0
 1170              		.cfi_startproc
 1171              		@ args = 0, pretend = 0, frame = 0
 1172              		@ frame_needed = 0, uses_anonymous_args = 0
 691:USB/core/usb_dcd_int.c ****   USB_OTG_DAINT_TypeDef    daintmsk;
 1173              		.loc 1 691 1 is_stmt 0 view .LVU365
 1174 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 1175              	.LCFI14:
 1176              		.cfi_def_cfa_offset 32
 1177              		.cfi_offset 3, -32
 1178              		.cfi_offset 4, -28
 1179              		.cfi_offset 5, -24
 1180              		.cfi_offset 6, -20
 1181              		.cfi_offset 7, -16
 1182              		.cfi_offset 8, -12
 1183              		.cfi_offset 9, -8
 1184              		.cfi_offset 14, -4
 1185 0004 0446     		mov	r4, r0
 692:USB/core/usb_dcd_int.c ****   USB_OTG_DOEPMSK_TypeDef  doepmsk;
 1186              		.loc 1 692 3 is_stmt 1 view .LVU366
 693:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPMSK_TypeDef  diepmsk;
 1187              		.loc 1 693 3 view .LVU367
 694:USB/core/usb_dcd_int.c ****   USB_OTG_DCFG_TypeDef     dcfg;
 1188              		.loc 1 694 3 view .LVU368
 695:USB/core/usb_dcd_int.c ****   USB_OTG_DCTL_TypeDef     dctl;
 1189              		.loc 1 695 3 view .LVU369
 696:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 1190              		.loc 1 696 3 view .LVU370
 697:USB/core/usb_dcd_int.c ****   uint32_t i;
 1191              		.loc 1 697 3 view .LVU371
 698:USB/core/usb_dcd_int.c ****   
 1192              		.loc 1 698 3 view .LVU372
 700:USB/core/usb_dcd_int.c ****   daintmsk.d32 = 0;
 1193              		.loc 1 700 3 view .LVU373
ARM GAS  /tmp/ccbsMsTN.s 			page 41


 700:USB/core/usb_dcd_int.c ****   daintmsk.d32 = 0;
 1194              		.loc 1 700 12 is_stmt 0 view .LVU374
 1195 0006 0025     		movs	r5, #0
 1196              	.LVL110:
 701:USB/core/usb_dcd_int.c ****   doepmsk.d32 = 0;
 1197              		.loc 1 701 3 is_stmt 1 view .LVU375
 702:USB/core/usb_dcd_int.c ****   diepmsk.d32 = 0;
 1198              		.loc 1 702 3 view .LVU376
 702:USB/core/usb_dcd_int.c ****   diepmsk.d32 = 0;
 1199              		.loc 1 702 15 is_stmt 0 view .LVU377
 1200 0008 A846     		mov	r8, r5
 1201              	.LVL111:
 703:USB/core/usb_dcd_int.c ****   dcfg.d32 = 0;
 1202              		.loc 1 703 3 is_stmt 1 view .LVU378
 703:USB/core/usb_dcd_int.c ****   dcfg.d32 = 0;
 1203              		.loc 1 703 15 is_stmt 0 view .LVU379
 1204 000a 2F46     		mov	r7, r5
 1205              	.LVL112:
 704:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 1206              		.loc 1 704 3 is_stmt 1 view .LVU380
 705:USB/core/usb_dcd_int.c ****   
 1207              		.loc 1 705 3 view .LVU381
 705:USB/core/usb_dcd_int.c ****   
 1208              		.loc 1 705 15 is_stmt 0 view .LVU382
 1209 000c 2E46     		mov	r6, r5
 1210              	.LVL113:
 708:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DCTL, dctl.d32, 0 );
 1211              		.loc 1 708 3 is_stmt 1 view .LVU383
 709:USB/core/usb_dcd_int.c ****   
 1212              		.loc 1 709 3 view .LVU384
 1213 000e 0269     		ldr	r2, [r0, #16]
 1214 0010 5368     		ldr	r3, [r2, #4]
 1215 0012 23F00103 		bic	r3, r3, #1
 1216 0016 5360     		str	r3, [r2, #4]
 712:USB/core/usb_dcd_int.c ****   
 1217              		.loc 1 712 3 view .LVU385
 1218 0018 2946     		mov	r1, r5
 1219 001a FFF7FEFF 		bl	USB_OTG_FlushTxFifo
 1220              	.LVL114:
 714:USB/core/usb_dcd_int.c ****   {
 1221              		.loc 1 714 3 view .LVU386
 714:USB/core/usb_dcd_int.c ****   {
 1222              		.loc 1 714 10 is_stmt 0 view .LVU387
 1223 001e 2B46     		mov	r3, r5
 1224              	.LVL115:
 1225              	.L65:
 714:USB/core/usb_dcd_int.c ****   {
 1226              		.loc 1 714 28 discriminator 1 view .LVU388
 1227 0020 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 714:USB/core/usb_dcd_int.c ****   {
 1228              		.loc 1 714 3 discriminator 1 view .LVU389
 1229 0022 9A42     		cmp	r2, r3
 1230 0024 0DD9     		bls	.L68
 716:USB/core/usb_dcd_int.c ****     USB_OTG_WRITE_REG32( &pdev->regs.OUTEP_REGS[i]->DOEPINT, 0xFF);
 1231              		.loc 1 716 5 is_stmt 1 discriminator 3 view .LVU390
 1232 0026 1A1D     		adds	r2, r3, #4
 1233 0028 04EB8202 		add	r2, r4, r2, lsl #2
ARM GAS  /tmp/ccbsMsTN.s 			page 42


 1234 002c 9268     		ldr	r2, [r2, #8]
 1235 002e FF21     		movs	r1, #255
 1236 0030 9160     		str	r1, [r2, #8]
 717:USB/core/usb_dcd_int.c ****   }
 1237              		.loc 1 717 5 discriminator 3 view .LVU391
 1238 0032 03F11402 		add	r2, r3, #20
 1239 0036 04EB8202 		add	r2, r4, r2, lsl #2
 1240 003a 5268     		ldr	r2, [r2, #4]
 1241 003c 9160     		str	r1, [r2, #8]
 714:USB/core/usb_dcd_int.c ****   {
 1242              		.loc 1 714 46 is_stmt 0 discriminator 3 view .LVU392
 1243 003e 0133     		adds	r3, r3, #1
 1244              	.LVL116:
 714:USB/core/usb_dcd_int.c ****   {
 1245              		.loc 1 714 46 discriminator 3 view .LVU393
 1246 0040 EEE7     		b	.L65
 1247              	.L68:
 719:USB/core/usb_dcd_int.c ****   
 1248              		.loc 1 719 3 is_stmt 1 view .LVU394
 1249 0042 2369     		ldr	r3, [r4, #16]
 1250              	.LVL117:
 719:USB/core/usb_dcd_int.c ****   
 1251              		.loc 1 719 3 is_stmt 0 view .LVU395
 1252 0044 4FF0FF32 		mov	r2, #-1
 1253 0048 9A61     		str	r2, [r3, #24]
 721:USB/core/usb_dcd_int.c ****   daintmsk.ep.out = 1;
 1254              		.loc 1 721 3 is_stmt 1 view .LVU396
 721:USB/core/usb_dcd_int.c ****   daintmsk.ep.out = 1;
 1255              		.loc 1 721 18 is_stmt 0 view .LVU397
 1256 004a 4FF00109 		mov	r9, #1
 1257 004e 69F30F05 		bfi	r5, r9, #0, #16
 722:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DAINTMSK, daintmsk.d32 );
 1258              		.loc 1 722 3 is_stmt 1 view .LVU398
 722:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DAINTMSK, daintmsk.d32 );
 1259              		.loc 1 722 19 is_stmt 0 view .LVU399
 1260 0052 69F31F45 		bfi	r5, r9, #16, #16
 723:USB/core/usb_dcd_int.c ****   
 1261              		.loc 1 723 3 is_stmt 1 view .LVU400
 1262 0056 2369     		ldr	r3, [r4, #16]
 1263 0058 DD61     		str	r5, [r3, #28]
 725:USB/core/usb_dcd_int.c ****   doepmsk.b.xfercompl = 1;
 1264              		.loc 1 725 3 view .LVU401
 726:USB/core/usb_dcd_int.c ****   doepmsk.b.epdisabled = 1;
 1265              		.loc 1 726 3 view .LVU402
 727:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DOEPMSK, doepmsk.d32 );
 1266              		.loc 1 727 3 view .LVU403
 1267              	.LVL118:
 727:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DOEPMSK, doepmsk.d32 );
 1268              		.loc 1 727 24 is_stmt 0 view .LVU404
 1269 005a 48F00B08 		orr	r8, r8, #11
 1270              	.LVL119:
 728:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED   
 1271              		.loc 1 728 3 is_stmt 1 view .LVU405
 1272 005e 2369     		ldr	r3, [r4, #16]
 1273              	.LVL120:
 728:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED   
 1274              		.loc 1 728 3 is_stmt 0 view .LVU406
ARM GAS  /tmp/ccbsMsTN.s 			page 43


 1275 0060 C3F81480 		str	r8, [r3, #20]
 732:USB/core/usb_dcd_int.c ****   diepmsk.b.timeout = 1;
 1276              		.loc 1 732 3 is_stmt 1 view .LVU407
 733:USB/core/usb_dcd_int.c ****   diepmsk.b.epdisabled = 1;
 1277              		.loc 1 733 3 view .LVU408
 734:USB/core/usb_dcd_int.c **** 
 1278              		.loc 1 734 3 view .LVU409
 1279              	.LVL121:
 734:USB/core/usb_dcd_int.c **** 
 1280              		.loc 1 734 24 is_stmt 0 view .LVU410
 1281 0064 47F00B07 		orr	r7, r7, #11
 1282              	.LVL122:
 736:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED  
 1283              		.loc 1 736 3 is_stmt 1 view .LVU411
 1284 0068 2369     		ldr	r3, [r4, #16]
 1285              	.LVL123:
 736:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED  
 1286              		.loc 1 736 3 is_stmt 0 view .LVU412
 1287 006a 1F61     		str	r7, [r3, #16]
 741:USB/core/usb_dcd_int.c ****   dcfg.b.devaddr = 0;
 1288              		.loc 1 741 3 is_stmt 1 view .LVU413
 741:USB/core/usb_dcd_int.c ****   dcfg.b.devaddr = 0;
 1289              		.loc 1 741 14 is_stmt 0 view .LVU414
 1290 006c 2269     		ldr	r2, [r4, #16]
 1291 006e 1368     		ldr	r3, [r2]
 742:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DCFG, dcfg.d32);
 1292              		.loc 1 742 3 is_stmt 1 view .LVU415
 742:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DCFG, dcfg.d32);
 1293              		.loc 1 742 18 is_stmt 0 view .LVU416
 1294 0070 6FF30A13 		bfc	r3, #4, #7
 1295              	.LVL124:
 743:USB/core/usb_dcd_int.c ****   
 1296              		.loc 1 743 3 is_stmt 1 view .LVU417
 1297 0074 1360     		str	r3, [r2]
 747:USB/core/usb_dcd_int.c ****   
 1298              		.loc 1 747 3 view .LVU418
 1299 0076 2046     		mov	r0, r4
 1300 0078 FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 1301              	.LVL125:
 750:USB/core/usb_dcd_int.c ****   gintsts.b.usbreset = 1;
 1302              		.loc 1 750 3 view .LVU419
 751:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 1303              		.loc 1 751 3 view .LVU420
 751:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 1304              		.loc 1 751 22 is_stmt 0 view .LVU421
 1305 007c 46F48056 		orr	r6, r6, #4096
 1306              	.LVL126:
 752:USB/core/usb_dcd_int.c ****   
 1307              		.loc 1 752 3 is_stmt 1 view .LVU422
 1308 0080 E368     		ldr	r3, [r4, #12]
 1309              	.LVL127:
 752:USB/core/usb_dcd_int.c ****   
 1310              		.loc 1 752 3 is_stmt 0 view .LVU423
 1311 0082 5E61     		str	r6, [r3, #20]
 755:USB/core/usb_dcd_int.c ****   return 1;
 1312              		.loc 1 755 3 is_stmt 1 view .LVU424
 755:USB/core/usb_dcd_int.c ****   return 1;
ARM GAS  /tmp/ccbsMsTN.s 			page 44


 1313              		.loc 1 755 20 is_stmt 0 view .LVU425
 1314 0084 034B     		ldr	r3, .L69
 1315 0086 1B68     		ldr	r3, [r3]
 1316 0088 1B69     		ldr	r3, [r3, #16]
 755:USB/core/usb_dcd_int.c ****   return 1;
 1317              		.loc 1 755 3 view .LVU426
 1318 008a 2046     		mov	r0, r4
 1319 008c 9847     		blx	r3
 1320              	.LVL128:
 756:USB/core/usb_dcd_int.c **** }
 1321              		.loc 1 756 3 is_stmt 1 view .LVU427
 757:USB/core/usb_dcd_int.c **** 
 1322              		.loc 1 757 1 is_stmt 0 view .LVU428
 1323 008e 4846     		mov	r0, r9
 1324 0090 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1325              	.LVL129:
 1326              	.L70:
 757:USB/core/usb_dcd_int.c **** 
 1327              		.loc 1 757 1 view .LVU429
 1328              		.align	2
 1329              	.L69:
 1330 0094 00000000 		.word	USBD_DCD_INT_fops
 1331              		.cfi_endproc
 1332              	.LFE134:
 1334              		.section	.text.DCD_HandleEnumDone_ISR,"ax",%progbits
 1335              		.align	1
 1336              		.syntax unified
 1337              		.thumb
 1338              		.thumb_func
 1339              		.fpu fpv4-sp-d16
 1341              	DCD_HandleEnumDone_ISR:
 1342              	.LVL130:
 1343              	.LFB135:
 766:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 1344              		.loc 1 766 1 is_stmt 1 view -0
 1345              		.cfi_startproc
 1346              		@ args = 0, pretend = 0, frame = 0
 1347              		@ frame_needed = 0, uses_anonymous_args = 0
 766:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 1348              		.loc 1 766 1 is_stmt 0 view .LVU431
 1349 0000 38B5     		push	{r3, r4, r5, lr}
 1350              	.LCFI15:
 1351              		.cfi_def_cfa_offset 16
 1352              		.cfi_offset 3, -16
 1353              		.cfi_offset 4, -12
 1354              		.cfi_offset 5, -8
 1355              		.cfi_offset 14, -4
 1356 0002 0446     		mov	r4, r0
 767:USB/core/usb_dcd_int.c ****   USB_OTG_GUSBCFG_TypeDef  gusbcfg;
 1357              		.loc 1 767 3 is_stmt 1 view .LVU432
 768:USB/core/usb_dcd_int.c ****   
 1358              		.loc 1 768 3 view .LVU433
 770:USB/core/usb_dcd_int.c ****   
 1359              		.loc 1 770 3 view .LVU434
 1360 0004 FFF7FEFF 		bl	USB_OTG_EP0Activate
 1361              	.LVL131:
 773:USB/core/usb_dcd_int.c ****   
ARM GAS  /tmp/ccbsMsTN.s 			page 45


 1362              		.loc 1 773 3 view .LVU435
 773:USB/core/usb_dcd_int.c ****   
 1363              		.loc 1 773 17 is_stmt 0 view .LVU436
 1364 0008 E368     		ldr	r3, [r4, #12]
 1365 000a DD68     		ldr	r5, [r3, #12]
 1366              	.LVL132:
 776:USB/core/usb_dcd_int.c ****   {
 1367              		.loc 1 776 3 is_stmt 1 view .LVU437
 776:USB/core/usb_dcd_int.c ****   {
 1368              		.loc 1 776 8 is_stmt 0 view .LVU438
 1369 000c 2046     		mov	r0, r4
 1370 000e FFF7FEFF 		bl	USB_OTG_GetDeviceSpeed
 1371              	.LVL133:
 776:USB/core/usb_dcd_int.c ****   {
 1372              		.loc 1 776 6 view .LVU439
 1373 0012 0328     		cmp	r0, #3
 1374 0014 0ED0     		beq	.L75
 784:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_FS_MAX_PACKET_SIZE ;  
 1375              		.loc 1 784 5 is_stmt 1 view .LVU440
 784:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_FS_MAX_PACKET_SIZE ;  
 1376              		.loc 1 784 32 is_stmt 0 view .LVU441
 1377 0016 0123     		movs	r3, #1
 1378 0018 A370     		strb	r3, [r4, #2]
 785:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 5;
 1379              		.loc 1 785 5 is_stmt 1 view .LVU442
 785:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 5;
 1380              		.loc 1 785 32 is_stmt 0 view .LVU443
 1381 001a 4023     		movs	r3, #64
 1382 001c A380     		strh	r3, [r4, #4]	@ movhi
 786:USB/core/usb_dcd_int.c ****   }
 1383              		.loc 1 786 5 is_stmt 1 view .LVU444
 786:USB/core/usb_dcd_int.c ****   }
 1384              		.loc 1 786 25 is_stmt 0 view .LVU445
 1385 001e 0523     		movs	r3, #5
 1386 0020 63F38D25 		bfi	r5, r3, #10, #4
 1387              	.L73:
 789:USB/core/usb_dcd_int.c ****   
 1388              		.loc 1 789 3 is_stmt 1 view .LVU446
 1389 0024 E368     		ldr	r3, [r4, #12]
 1390 0026 DD60     		str	r5, [r3, #12]
 792:USB/core/usb_dcd_int.c ****   gintsts.b.enumdone = 1;
 1391              		.loc 1 792 3 view .LVU447
 793:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.GREGS->GINTSTS, gintsts.d32 );
 1392              		.loc 1 793 3 view .LVU448
 793:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.GREGS->GINTSTS, gintsts.d32 );
 1393              		.loc 1 793 22 is_stmt 0 view .LVU449
 1394 0028 4FF40053 		mov	r3, #8192
 1395              	.LVL134:
 794:USB/core/usb_dcd_int.c ****   return 1;
 1396              		.loc 1 794 3 is_stmt 1 view .LVU450
 1397 002c E268     		ldr	r2, [r4, #12]
 1398              	.LVL135:
 794:USB/core/usb_dcd_int.c ****   return 1;
 1399              		.loc 1 794 3 is_stmt 0 view .LVU451
 1400 002e 5361     		str	r3, [r2, #20]
 795:USB/core/usb_dcd_int.c **** }
 1401              		.loc 1 795 3 is_stmt 1 view .LVU452
ARM GAS  /tmp/ccbsMsTN.s 			page 46


 796:USB/core/usb_dcd_int.c **** 
 1402              		.loc 1 796 1 is_stmt 0 view .LVU453
 1403 0030 0120     		movs	r0, #1
 1404 0032 38BD     		pop	{r3, r4, r5, pc}
 1405              	.LVL136:
 1406              	.L75:
 778:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_HS_MAX_PACKET_SIZE ;    
 1407              		.loc 1 778 5 is_stmt 1 view .LVU454
 778:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_HS_MAX_PACKET_SIZE ;    
 1408              		.loc 1 778 32 is_stmt 0 view .LVU455
 1409 0034 0023     		movs	r3, #0
 1410 0036 A370     		strb	r3, [r4, #2]
 779:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 9;
 1411              		.loc 1 779 5 is_stmt 1 view .LVU456
 779:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 9;
 1412              		.loc 1 779 32 is_stmt 0 view .LVU457
 1413 0038 4FF40073 		mov	r3, #512
 1414 003c A380     		strh	r3, [r4, #4]	@ movhi
 780:USB/core/usb_dcd_int.c ****   }
 1415              		.loc 1 780 5 is_stmt 1 view .LVU458
 780:USB/core/usb_dcd_int.c ****   }
 1416              		.loc 1 780 25 is_stmt 0 view .LVU459
 1417 003e 0923     		movs	r3, #9
 1418 0040 63F38D25 		bfi	r5, r3, #10, #4
 1419 0044 EEE7     		b	.L73
 1420              		.cfi_endproc
 1421              	.LFE135:
 1423              		.section	.text.USBD_OTG_ISR_Handler,"ax",%progbits
 1424              		.align	1
 1425              		.global	USBD_OTG_ISR_Handler
 1426              		.syntax unified
 1427              		.thumb
 1428              		.thumb_func
 1429              		.fpu fpv4-sp-d16
 1431              	USBD_OTG_ISR_Handler:
 1432              	.LVL137:
 1433              	.LFB126:
 210:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintr_status;
 1434              		.loc 1 210 1 is_stmt 1 view -0
 1435              		.cfi_startproc
 1436              		@ args = 0, pretend = 0, frame = 0
 1437              		@ frame_needed = 0, uses_anonymous_args = 0
 210:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintr_status;
 1438              		.loc 1 210 1 is_stmt 0 view .LVU461
 1439 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1440              	.LCFI16:
 1441              		.cfi_def_cfa_offset 24
 1442              		.cfi_offset 4, -24
 1443              		.cfi_offset 5, -20
 1444              		.cfi_offset 6, -16
 1445              		.cfi_offset 7, -12
 1446              		.cfi_offset 8, -8
 1447              		.cfi_offset 14, -4
 1448 0004 0646     		mov	r6, r0
 211:USB/core/usb_dcd_int.c ****   uint32_t retval = 0;
 1449              		.loc 1 211 3 is_stmt 1 view .LVU462
 212:USB/core/usb_dcd_int.c ****   
ARM GAS  /tmp/ccbsMsTN.s 			page 47


 1450              		.loc 1 212 3 view .LVU463
 1451              	.LVL138:
 214:USB/core/usb_dcd_int.c ****   {
 1452              		.loc 1 214 3 view .LVU464
 214:USB/core/usb_dcd_int.c ****   {
 1453              		.loc 1 214 7 is_stmt 0 view .LVU465
 1454 0006 FFF7FEFF 		bl	USB_OTG_IsDeviceMode
 1455              	.LVL139:
 214:USB/core/usb_dcd_int.c ****   {
 1456              		.loc 1 214 6 view .LVU466
 1457 000a 18B9     		cbnz	r0, .L92
 212:USB/core/usb_dcd_int.c ****   
 1458              		.loc 1 212 12 view .LVU467
 1459 000c 0024     		movs	r4, #0
 1460              	.LVL140:
 1461              	.L76:
 295:USB/core/usb_dcd_int.c **** 
 1462              		.loc 1 295 1 view .LVU468
 1463 000e 2046     		mov	r0, r4
 1464 0010 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1465              	.LVL141:
 1466              	.L92:
 216:USB/core/usb_dcd_int.c ****     if (!gintr_status.d32) /* avoid spurious interrupt */
 1467              		.loc 1 216 5 is_stmt 1 view .LVU469
 216:USB/core/usb_dcd_int.c ****     if (!gintr_status.d32) /* avoid spurious interrupt */
 1468              		.loc 1 216 24 is_stmt 0 view .LVU470
 1469 0014 3046     		mov	r0, r6
 1470 0016 FFF7FEFF 		bl	USB_OTG_ReadCoreItr
 1471              	.LVL142:
 217:USB/core/usb_dcd_int.c ****     {
 1472              		.loc 1 217 5 is_stmt 1 view .LVU471
 217:USB/core/usb_dcd_int.c ****     {
 1473              		.loc 1 217 8 is_stmt 0 view .LVU472
 1474 001a 0546     		mov	r5, r0
 1475 001c 0028     		cmp	r0, #0
 1476 001e 5BD0     		beq	.L89
 222:USB/core/usb_dcd_int.c ****     {
 1477              		.loc 1 222 5 is_stmt 1 view .LVU473
 1478 0020 C0F30747 		ubfx	r7, r0, #16, #8
 222:USB/core/usb_dcd_int.c ****     {
 1479              		.loc 1 222 8 is_stmt 0 view .LVU474
 1480 0024 17F0080F 		tst	r7, #8
 1481 0028 29D1     		bne	.L93
 212:USB/core/usb_dcd_int.c ****   
 1482              		.loc 1 212 12 view .LVU475
 1483 002a 0024     		movs	r4, #0
 1484              	.LVL143:
 1485              	.L78:
 227:USB/core/usb_dcd_int.c ****     {
 1486              		.loc 1 227 5 is_stmt 1 view .LVU476
 227:USB/core/usb_dcd_int.c ****     {
 1487              		.loc 1 227 8 is_stmt 0 view .LVU477
 1488 002c 17F0040F 		tst	r7, #4
 1489 0030 2AD1     		bne	.L94
 1490              	.L79:
 232:USB/core/usb_dcd_int.c ****     {
 1491              		.loc 1 232 5 is_stmt 1 view .LVU478
ARM GAS  /tmp/ccbsMsTN.s 			page 48


 1492 0032 5FFA85F8 		uxtb	r8, r5
 232:USB/core/usb_dcd_int.c ****     {
 1493              		.loc 1 232 8 is_stmt 0 view .LVU479
 1494 0036 18F0020F 		tst	r8, #2
 1495 003a 02D0     		beq	.L80
 1496              	.LBB2:
 234:USB/core/usb_dcd_int.c ****       
 1497              		.loc 1 234 7 is_stmt 1 view .LVU480
 237:USB/core/usb_dcd_int.c ****       gintsts.b.modemismatch = 1;
 1498              		.loc 1 237 7 view .LVU481
 238:USB/core/usb_dcd_int.c ****       USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 1499              		.loc 1 238 7 view .LVU482
 238:USB/core/usb_dcd_int.c ****       USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 1500              		.loc 1 238 30 is_stmt 0 view .LVU483
 1501 003c 0223     		movs	r3, #2
 239:USB/core/usb_dcd_int.c ****     }
 1502              		.loc 1 239 7 is_stmt 1 view .LVU484
 1503 003e F268     		ldr	r2, [r6, #12]
 1504              	.LVL144:
 239:USB/core/usb_dcd_int.c ****     }
 1505              		.loc 1 239 7 is_stmt 0 view .LVU485
 1506 0040 5361     		str	r3, [r2, #20]
 1507              	.L80:
 239:USB/core/usb_dcd_int.c ****     }
 1508              		.loc 1 239 7 view .LVU486
 1509              	.LBE2:
 242:USB/core/usb_dcd_int.c ****     {
 1510              		.loc 1 242 5 is_stmt 1 view .LVU487
 242:USB/core/usb_dcd_int.c ****     {
 1511              		.loc 1 242 8 is_stmt 0 view .LVU488
 1512 0042 002D     		cmp	r5, #0
 1513 0044 25DB     		blt	.L95
 1514              	.L81:
 247:USB/core/usb_dcd_int.c ****     {
 1515              		.loc 1 247 5 is_stmt 1 view .LVU489
 1516 0046 C5F30725 		ubfx	r5, r5, #8, #8
 247:USB/core/usb_dcd_int.c ****     {
 1517              		.loc 1 247 8 is_stmt 0 view .LVU490
 1518 004a 15F0080F 		tst	r5, #8
 1519 004e 25D1     		bne	.L96
 1520              	.L82:
 251:USB/core/usb_dcd_int.c ****     {
 1521              		.loc 1 251 5 is_stmt 1 view .LVU491
 251:USB/core/usb_dcd_int.c ****     {
 1522              		.loc 1 251 8 is_stmt 0 view .LVU492
 1523 0050 18F0080F 		tst	r8, #8
 1524 0054 27D1     		bne	.L97
 1525              	.L83:
 257:USB/core/usb_dcd_int.c ****     {
 1526              		.loc 1 257 5 is_stmt 1 view .LVU493
 257:USB/core/usb_dcd_int.c ****     {
 1527              		.loc 1 257 8 is_stmt 0 view .LVU494
 1528 0056 18F0100F 		tst	r8, #16
 1529 005a 29D1     		bne	.L98
 1530              	.L84:
 263:USB/core/usb_dcd_int.c ****     {
 1531              		.loc 1 263 5 is_stmt 1 view .LVU495
ARM GAS  /tmp/ccbsMsTN.s 			page 49


 263:USB/core/usb_dcd_int.c ****     {
 1532              		.loc 1 263 8 is_stmt 0 view .LVU496
 1533 005c 15F0100F 		tst	r5, #16
 1534 0060 2BD1     		bne	.L99
 1535              	.L85:
 268:USB/core/usb_dcd_int.c ****     {
 1536              		.loc 1 268 5 is_stmt 1 view .LVU497
 268:USB/core/usb_dcd_int.c ****     {
 1537              		.loc 1 268 8 is_stmt 0 view .LVU498
 1538 0062 15F0200F 		tst	r5, #32
 1539 0066 2DD1     		bne	.L100
 1540              	.L86:
 273:USB/core/usb_dcd_int.c ****     {
 1541              		.loc 1 273 5 is_stmt 1 view .LVU499
 273:USB/core/usb_dcd_int.c ****     {
 1542              		.loc 1 273 8 is_stmt 0 view .LVU500
 1543 0068 17F0100F 		tst	r7, #16
 1544 006c 2FD1     		bne	.L101
 1545              	.L87:
 278:USB/core/usb_dcd_int.c ****     {
 1546              		.loc 1 278 5 is_stmt 1 view .LVU501
 278:USB/core/usb_dcd_int.c ****     {
 1547              		.loc 1 278 8 is_stmt 0 view .LVU502
 1548 006e 17F0200F 		tst	r7, #32
 1549 0072 CCD0     		beq	.L76
 280:USB/core/usb_dcd_int.c ****     }    
 1550              		.loc 1 280 7 is_stmt 1 view .LVU503
 280:USB/core/usb_dcd_int.c ****     }    
 1551              		.loc 1 280 17 is_stmt 0 view .LVU504
 1552 0074 3046     		mov	r0, r6
 1553 0076 FFF7FEFF 		bl	DCD_IsoOUTIncomplete_ISR
 1554              	.LVL145:
 280:USB/core/usb_dcd_int.c ****     }    
 1555              		.loc 1 280 14 view .LVU505
 1556 007a 0443     		orrs	r4, r4, r0
 1557              	.LVL146:
 280:USB/core/usb_dcd_int.c ****     }    
 1558              		.loc 1 280 14 view .LVU506
 1559 007c C7E7     		b	.L76
 1560              	.LVL147:
 1561              	.L93:
 224:USB/core/usb_dcd_int.c ****     }    
 1562              		.loc 1 224 7 is_stmt 1 view .LVU507
 224:USB/core/usb_dcd_int.c ****     }    
 1563              		.loc 1 224 17 is_stmt 0 view .LVU508
 1564 007e 3046     		mov	r0, r6
 1565 0080 FFF7FEFF 		bl	DCD_HandleOutEP_ISR
 1566              	.LVL148:
 1567 0084 0446     		mov	r4, r0
 1568              	.LVL149:
 224:USB/core/usb_dcd_int.c ****     }    
 1569              		.loc 1 224 17 view .LVU509
 1570 0086 D1E7     		b	.L78
 1571              	.LVL150:
 1572              	.L94:
 229:USB/core/usb_dcd_int.c ****     }
 1573              		.loc 1 229 7 is_stmt 1 view .LVU510
ARM GAS  /tmp/ccbsMsTN.s 			page 50


 229:USB/core/usb_dcd_int.c ****     }
 1574              		.loc 1 229 17 is_stmt 0 view .LVU511
 1575 0088 3046     		mov	r0, r6
 1576 008a FFF7FEFF 		bl	DCD_HandleInEP_ISR
 1577              	.LVL151:
 229:USB/core/usb_dcd_int.c ****     }
 1578              		.loc 1 229 14 view .LVU512
 1579 008e 0443     		orrs	r4, r4, r0
 1580              	.LVL152:
 229:USB/core/usb_dcd_int.c ****     }
 1581              		.loc 1 229 14 view .LVU513
 1582 0090 CFE7     		b	.L79
 1583              	.LVL153:
 1584              	.L95:
 244:USB/core/usb_dcd_int.c ****     }
 1585              		.loc 1 244 7 is_stmt 1 view .LVU514
 244:USB/core/usb_dcd_int.c ****     }
 1586              		.loc 1 244 17 is_stmt 0 view .LVU515
 1587 0092 3046     		mov	r0, r6
 1588 0094 FFF7FEFF 		bl	DCD_HandleResume_ISR
 1589              	.LVL154:
 244:USB/core/usb_dcd_int.c ****     }
 1590              		.loc 1 244 14 view .LVU516
 1591 0098 0443     		orrs	r4, r4, r0
 1592              	.LVL155:
 244:USB/core/usb_dcd_int.c ****     }
 1593              		.loc 1 244 14 view .LVU517
 1594 009a D4E7     		b	.L81
 1595              	.LVL156:
 1596              	.L96:
 249:USB/core/usb_dcd_int.c ****     }
 1597              		.loc 1 249 7 is_stmt 1 view .LVU518
 249:USB/core/usb_dcd_int.c ****     }
 1598              		.loc 1 249 17 is_stmt 0 view .LVU519
 1599 009c 3046     		mov	r0, r6
 1600 009e FFF7FEFF 		bl	DCD_HandleUSBSuspend_ISR
 1601              	.LVL157:
 249:USB/core/usb_dcd_int.c ****     }
 1602              		.loc 1 249 14 view .LVU520
 1603 00a2 0443     		orrs	r4, r4, r0
 1604              	.LVL158:
 249:USB/core/usb_dcd_int.c ****     }
 1605              		.loc 1 249 14 view .LVU521
 1606 00a4 D4E7     		b	.L82
 1607              	.LVL159:
 1608              	.L97:
 253:USB/core/usb_dcd_int.c ****       
 1609              		.loc 1 253 7 is_stmt 1 view .LVU522
 253:USB/core/usb_dcd_int.c ****       
 1610              		.loc 1 253 17 is_stmt 0 view .LVU523
 1611 00a6 3046     		mov	r0, r6
 1612 00a8 FFF7FEFF 		bl	DCD_HandleSof_ISR
 1613              	.LVL160:
 253:USB/core/usb_dcd_int.c ****       
 1614              		.loc 1 253 14 view .LVU524
 1615 00ac 0443     		orrs	r4, r4, r0
 1616              	.LVL161:
ARM GAS  /tmp/ccbsMsTN.s 			page 51


 253:USB/core/usb_dcd_int.c ****       
 1617              		.loc 1 253 14 view .LVU525
 1618 00ae D2E7     		b	.L83
 1619              	.LVL162:
 1620              	.L98:
 259:USB/core/usb_dcd_int.c ****       
 1621              		.loc 1 259 7 is_stmt 1 view .LVU526
 259:USB/core/usb_dcd_int.c ****       
 1622              		.loc 1 259 17 is_stmt 0 view .LVU527
 1623 00b0 3046     		mov	r0, r6
 1624 00b2 FFF7FEFF 		bl	DCD_HandleRxStatusQueueLevel_ISR
 1625              	.LVL163:
 259:USB/core/usb_dcd_int.c ****       
 1626              		.loc 1 259 14 view .LVU528
 1627 00b6 0443     		orrs	r4, r4, r0
 1628              	.LVL164:
 259:USB/core/usb_dcd_int.c ****       
 1629              		.loc 1 259 14 view .LVU529
 1630 00b8 D0E7     		b	.L84
 1631              	.LVL165:
 1632              	.L99:
 265:USB/core/usb_dcd_int.c ****       
 1633              		.loc 1 265 7 is_stmt 1 view .LVU530
 265:USB/core/usb_dcd_int.c ****       
 1634              		.loc 1 265 17 is_stmt 0 view .LVU531
 1635 00ba 3046     		mov	r0, r6
 1636 00bc FFF7FEFF 		bl	DCD_HandleUsbReset_ISR
 1637              	.LVL166:
 265:USB/core/usb_dcd_int.c ****       
 1638              		.loc 1 265 14 view .LVU532
 1639 00c0 0443     		orrs	r4, r4, r0
 1640              	.LVL167:
 265:USB/core/usb_dcd_int.c ****       
 1641              		.loc 1 265 14 view .LVU533
 1642 00c2 CEE7     		b	.L85
 1643              	.LVL168:
 1644              	.L100:
 270:USB/core/usb_dcd_int.c ****     }
 1645              		.loc 1 270 7 is_stmt 1 view .LVU534
 270:USB/core/usb_dcd_int.c ****     }
 1646              		.loc 1 270 17 is_stmt 0 view .LVU535
 1647 00c4 3046     		mov	r0, r6
 1648 00c6 FFF7FEFF 		bl	DCD_HandleEnumDone_ISR
 1649              	.LVL169:
 270:USB/core/usb_dcd_int.c ****     }
 1650              		.loc 1 270 14 view .LVU536
 1651 00ca 0443     		orrs	r4, r4, r0
 1652              	.LVL170:
 270:USB/core/usb_dcd_int.c ****     }
 1653              		.loc 1 270 14 view .LVU537
 1654 00cc CCE7     		b	.L86
 1655              	.LVL171:
 1656              	.L101:
 275:USB/core/usb_dcd_int.c ****     }
 1657              		.loc 1 275 7 is_stmt 1 view .LVU538
 275:USB/core/usb_dcd_int.c ****     }
 1658              		.loc 1 275 17 is_stmt 0 view .LVU539
ARM GAS  /tmp/ccbsMsTN.s 			page 52


 1659 00ce 3046     		mov	r0, r6
 1660 00d0 FFF7FEFF 		bl	DCD_IsoINIncomplete_ISR
 1661              	.LVL172:
 275:USB/core/usb_dcd_int.c ****     }
 1662              		.loc 1 275 14 view .LVU540
 1663 00d4 0443     		orrs	r4, r4, r0
 1664              	.LVL173:
 275:USB/core/usb_dcd_int.c ****     }
 1665              		.loc 1 275 14 view .LVU541
 1666 00d6 CAE7     		b	.L87
 1667              	.LVL174:
 1668              	.L89:
 219:USB/core/usb_dcd_int.c ****     }
 1669              		.loc 1 219 14 view .LVU542
 1670 00d8 0446     		mov	r4, r0
 1671 00da 98E7     		b	.L76
 1672              		.cfi_endproc
 1673              	.LFE126:
 1675              		.text
 1676              	.Letext0:
 1677              		.file 2 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1678              		.file 3 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1679              		.file 4 "F4_CORE/core_cm4.h"
 1680              		.file 5 "USER/system_stm32f4xx.h"
 1681              		.file 6 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1682              		.file 7 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1683              		.file 8 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1684              		.file 9 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1685              		.file 10 "USB/core/usb_regs.h"
 1686              		.file 11 "USB/core/usb_core.h"
 1687              		.file 12 "USB/core/usb_dcd_int.h"
 1688              		.file 13 "USB/core/usb_defines.h"
ARM GAS  /tmp/ccbsMsTN.s 			page 53


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usb_dcd_int.c
     /tmp/ccbsMsTN.s:18     .text.DCD_HandleResume_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:25     .text.DCD_HandleResume_ISR:0000000000000000 DCD_HandleResume_ISR
     /tmp/ccbsMsTN.s:101    .text.DCD_HandleResume_ISR:000000000000003c $d
     /tmp/ccbsMsTN.s:106    .text.DCD_HandleUSBSuspend_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:112    .text.DCD_HandleUSBSuspend_ISR:0000000000000000 DCD_HandleUSBSuspend_ISR
     /tmp/ccbsMsTN.s:220    .text.DCD_HandleUSBSuspend_ISR:0000000000000070 $d
     /tmp/ccbsMsTN.s:226    .text.DCD_HandleSof_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:232    .text.DCD_HandleSof_ISR:0000000000000000 DCD_HandleSof_ISR
     /tmp/ccbsMsTN.s:274    .text.DCD_HandleSof_ISR:0000000000000018 $d
     /tmp/ccbsMsTN.s:279    .text.DCD_IsoINIncomplete_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:285    .text.DCD_IsoINIncomplete_ISR:0000000000000000 DCD_IsoINIncomplete_ISR
     /tmp/ccbsMsTN.s:327    .text.DCD_IsoINIncomplete_ISR:0000000000000018 $d
     /tmp/ccbsMsTN.s:332    .text.DCD_IsoOUTIncomplete_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:338    .text.DCD_IsoOUTIncomplete_ISR:0000000000000000 DCD_IsoOUTIncomplete_ISR
     /tmp/ccbsMsTN.s:380    .text.DCD_IsoOUTIncomplete_ISR:0000000000000018 $d
     /tmp/ccbsMsTN.s:385    .text.DCD_ReadDevInEP:0000000000000000 $t
     /tmp/ccbsMsTN.s:391    .text.DCD_ReadDevInEP:0000000000000000 DCD_ReadDevInEP
     /tmp/ccbsMsTN.s:450    .text.DCD_HandleOutEP_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:456    .text.DCD_HandleOutEP_ISR:0000000000000000 DCD_HandleOutEP_ISR
     /tmp/ccbsMsTN.s:649    .text.DCD_HandleOutEP_ISR:00000000000000c8 $d
     /tmp/ccbsMsTN.s:654    .text.DCD_WriteEmptyTxFifo:0000000000000000 $t
     /tmp/ccbsMsTN.s:660    .text.DCD_WriteEmptyTxFifo:0000000000000000 DCD_WriteEmptyTxFifo
     /tmp/ccbsMsTN.s:813    .text.DCD_HandleInEP_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:819    .text.DCD_HandleInEP_ISR:0000000000000000 DCD_HandleInEP_ISR
     /tmp/ccbsMsTN.s:1040   .text.DCD_HandleInEP_ISR:00000000000000e0 $d
     /tmp/ccbsMsTN.s:1045   .text.DCD_HandleRxStatusQueueLevel_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:1051   .text.DCD_HandleRxStatusQueueLevel_ISR:0000000000000000 DCD_HandleRxStatusQueueLevel_ISR
     /tmp/ccbsMsTN.s:1160   .text.DCD_HandleUsbReset_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:1166   .text.DCD_HandleUsbReset_ISR:0000000000000000 DCD_HandleUsbReset_ISR
     /tmp/ccbsMsTN.s:1330   .text.DCD_HandleUsbReset_ISR:0000000000000094 $d
     /tmp/ccbsMsTN.s:1335   .text.DCD_HandleEnumDone_ISR:0000000000000000 $t
     /tmp/ccbsMsTN.s:1341   .text.DCD_HandleEnumDone_ISR:0000000000000000 DCD_HandleEnumDone_ISR
     /tmp/ccbsMsTN.s:1424   .text.USBD_OTG_ISR_Handler:0000000000000000 $t
     /tmp/ccbsMsTN.s:1431   .text.USBD_OTG_ISR_Handler:0000000000000000 USBD_OTG_ISR_Handler

UNDEFINED SYMBOLS
USBD_DCD_INT_fops
USB_OTG_ReadDevAllOutEp_itr
USB_OTG_ReadDevOutEP_itr
USB_OTG_EP0_OutStart
USB_OTG_WritePacket
USB_OTG_ReadDevAllInEPItr
USB_OTG_ReadPacket
USB_OTG_FlushTxFifo
USB_OTG_EP0Activate
USB_OTG_GetDeviceSpeed
USB_OTG_IsDeviceMode
USB_OTG_ReadCoreItr
