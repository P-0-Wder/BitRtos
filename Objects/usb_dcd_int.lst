ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"usb_dcd_int.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.DCD_HandleResume_ISR,"ax",%progbits
  22              		.align	2
  23              		.thumb
  24              		.thumb_func
  26              	DCD_HandleResume_ISR:
  27              	.LFB125:
  28              		.file 1 "USB/core/usb_dcd_int.c"
   1:USB/core/usb_dcd_int.c **** /**
   2:USB/core/usb_dcd_int.c ****   ******************************************************************************
   3:USB/core/usb_dcd_int.c ****   * @file    usb_dcd_int.c
   4:USB/core/usb_dcd_int.c ****   * @author  MCD Application Team
   5:USB/core/usb_dcd_int.c ****   * @version V2.1.0
   6:USB/core/usb_dcd_int.c ****   * @date    19-March-2012
   7:USB/core/usb_dcd_int.c ****   * @brief   Peripheral Device interrupt subroutines
   8:USB/core/usb_dcd_int.c ****   ******************************************************************************
   9:USB/core/usb_dcd_int.c ****   * @attention
  10:USB/core/usb_dcd_int.c ****   *
  11:USB/core/usb_dcd_int.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  12:USB/core/usb_dcd_int.c ****   *
  13:USB/core/usb_dcd_int.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  14:USB/core/usb_dcd_int.c ****   * You may not use this file except in compliance with the License.
  15:USB/core/usb_dcd_int.c ****   * You may obtain a copy of the License at:
  16:USB/core/usb_dcd_int.c ****   *
  17:USB/core/usb_dcd_int.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  18:USB/core/usb_dcd_int.c ****   *
  19:USB/core/usb_dcd_int.c ****   * Unless required by applicable law or agreed to in writing, software 
  20:USB/core/usb_dcd_int.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  21:USB/core/usb_dcd_int.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:USB/core/usb_dcd_int.c ****   * See the License for the specific language governing permissions and
  23:USB/core/usb_dcd_int.c ****   * limitations under the License.
  24:USB/core/usb_dcd_int.c ****   *
  25:USB/core/usb_dcd_int.c ****   ******************************************************************************
  26:USB/core/usb_dcd_int.c ****   */
  27:USB/core/usb_dcd_int.c **** 
  28:USB/core/usb_dcd_int.c **** /* Includes ------------------------------------------------------------------*/
  29:USB/core/usb_dcd_int.c **** #include "usb_dcd_int.h"
  30:USB/core/usb_dcd_int.c **** /** @addtogroup USB_OTG_DRIVER
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 2


  31:USB/core/usb_dcd_int.c **** * @{
  32:USB/core/usb_dcd_int.c **** */
  33:USB/core/usb_dcd_int.c **** 
  34:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT 
  35:USB/core/usb_dcd_int.c **** * @brief This file contains the interrupt subroutines for the Device mode.
  36:USB/core/usb_dcd_int.c **** * @{
  37:USB/core/usb_dcd_int.c **** */
  38:USB/core/usb_dcd_int.c **** 
  39:USB/core/usb_dcd_int.c **** 
  40:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_Defines
  41:USB/core/usb_dcd_int.c **** * @{
  42:USB/core/usb_dcd_int.c **** */ 
  43:USB/core/usb_dcd_int.c **** /**
  44:USB/core/usb_dcd_int.c **** * @}
  45:USB/core/usb_dcd_int.c **** */ 
  46:USB/core/usb_dcd_int.c **** 
  47:USB/core/usb_dcd_int.c **** 
  48:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_TypesDefinitions
  49:USB/core/usb_dcd_int.c **** * @{
  50:USB/core/usb_dcd_int.c **** */ 
  51:USB/core/usb_dcd_int.c **** /**
  52:USB/core/usb_dcd_int.c **** * @}
  53:USB/core/usb_dcd_int.c **** */ 
  54:USB/core/usb_dcd_int.c **** 
  55:USB/core/usb_dcd_int.c **** 
  56:USB/core/usb_dcd_int.c **** 
  57:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_Macros
  58:USB/core/usb_dcd_int.c **** * @{
  59:USB/core/usb_dcd_int.c **** */ 
  60:USB/core/usb_dcd_int.c **** /**
  61:USB/core/usb_dcd_int.c **** * @}
  62:USB/core/usb_dcd_int.c **** */ 
  63:USB/core/usb_dcd_int.c **** 
  64:USB/core/usb_dcd_int.c **** 
  65:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_Variables
  66:USB/core/usb_dcd_int.c **** * @{
  67:USB/core/usb_dcd_int.c **** */ 
  68:USB/core/usb_dcd_int.c **** /**
  69:USB/core/usb_dcd_int.c **** * @}
  70:USB/core/usb_dcd_int.c **** */ 
  71:USB/core/usb_dcd_int.c **** 
  72:USB/core/usb_dcd_int.c **** 
  73:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_FunctionPrototypes
  74:USB/core/usb_dcd_int.c **** * @{
  75:USB/core/usb_dcd_int.c **** */ 
  76:USB/core/usb_dcd_int.c **** /* static functions */
  77:USB/core/usb_dcd_int.c **** static uint32_t DCD_ReadDevInEP (USB_OTG_CORE_HANDLE *pdev, uint8_t epnum);
  78:USB/core/usb_dcd_int.c **** 
  79:USB/core/usb_dcd_int.c **** /* Interrupt Handlers */
  80:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleInEP_ISR(USB_OTG_CORE_HANDLE *pdev);
  81:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleOutEP_ISR(USB_OTG_CORE_HANDLE *pdev);
  82:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleSof_ISR(USB_OTG_CORE_HANDLE *pdev);
  83:USB/core/usb_dcd_int.c **** 
  84:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleRxStatusQueueLevel_ISR(USB_OTG_CORE_HANDLE *pdev);
  85:USB/core/usb_dcd_int.c **** static uint32_t DCD_WriteEmptyTxFifo(USB_OTG_CORE_HANDLE *pdev , uint32_t epnum);
  86:USB/core/usb_dcd_int.c **** 
  87:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleUsbReset_ISR(USB_OTG_CORE_HANDLE *pdev);
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 3


  88:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleEnumDone_ISR(USB_OTG_CORE_HANDLE *pdev);
  89:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleResume_ISR(USB_OTG_CORE_HANDLE *pdev);
  90:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleUSBSuspend_ISR(USB_OTG_CORE_HANDLE *pdev);
  91:USB/core/usb_dcd_int.c **** 
  92:USB/core/usb_dcd_int.c **** static uint32_t DCD_IsoINIncomplete_ISR(USB_OTG_CORE_HANDLE *pdev);
  93:USB/core/usb_dcd_int.c **** static uint32_t DCD_IsoOUTIncomplete_ISR(USB_OTG_CORE_HANDLE *pdev);
  94:USB/core/usb_dcd_int.c **** #ifdef VBUS_SENSING_ENABLED
  95:USB/core/usb_dcd_int.c **** static uint32_t DCD_SessionRequest_ISR(USB_OTG_CORE_HANDLE *pdev);
  96:USB/core/usb_dcd_int.c **** static uint32_t DCD_OTG_ISR(USB_OTG_CORE_HANDLE *pdev);
  97:USB/core/usb_dcd_int.c **** #endif
  98:USB/core/usb_dcd_int.c **** 
  99:USB/core/usb_dcd_int.c **** /**
 100:USB/core/usb_dcd_int.c **** * @}
 101:USB/core/usb_dcd_int.c **** */ 
 102:USB/core/usb_dcd_int.c **** 
 103:USB/core/usb_dcd_int.c **** 
 104:USB/core/usb_dcd_int.c **** /** @defgroup USB_DCD_INT_Private_Functions
 105:USB/core/usb_dcd_int.c **** * @{
 106:USB/core/usb_dcd_int.c **** */ 
 107:USB/core/usb_dcd_int.c **** 
 108:USB/core/usb_dcd_int.c **** 
 109:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED  
 110:USB/core/usb_dcd_int.c **** /**
 111:USB/core/usb_dcd_int.c **** * @brief  USBD_OTG_EP1OUT_ISR_Handler
 112:USB/core/usb_dcd_int.c **** *         handles all USB Interrupts
 113:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 114:USB/core/usb_dcd_int.c **** * @retval status
 115:USB/core/usb_dcd_int.c **** */
 116:USB/core/usb_dcd_int.c **** uint32_t USBD_OTG_EP1OUT_ISR_Handler (USB_OTG_CORE_HANDLE *pdev)
 117:USB/core/usb_dcd_int.c **** {
 118:USB/core/usb_dcd_int.c ****   
 119:USB/core/usb_dcd_int.c ****   USB_OTG_DOEPINTn_TypeDef  doepint;
 120:USB/core/usb_dcd_int.c ****   USB_OTG_DEPXFRSIZ_TypeDef  deptsiz;  
 121:USB/core/usb_dcd_int.c ****   
 122:USB/core/usb_dcd_int.c ****   doepint.d32 = USB_OTG_READ_REG32(&pdev->regs.OUTEP_REGS[1]->DOEPINT);
 123:USB/core/usb_dcd_int.c ****   doepint.d32&= USB_OTG_READ_REG32(&pdev->regs.DREGS->DOUTEP1MSK);
 124:USB/core/usb_dcd_int.c ****   
 125:USB/core/usb_dcd_int.c ****   /* Transfer complete */
 126:USB/core/usb_dcd_int.c ****   if ( doepint.b.xfercompl )
 127:USB/core/usb_dcd_int.c ****   {
 128:USB/core/usb_dcd_int.c ****     /* Clear the bit in DOEPINTn for this interrupt */
 129:USB/core/usb_dcd_int.c ****     CLEAR_OUT_EP_INTR(1, xfercompl);
 130:USB/core/usb_dcd_int.c ****     if (pdev->cfg.dma_enable == 1)
 131:USB/core/usb_dcd_int.c ****     {
 132:USB/core/usb_dcd_int.c ****       deptsiz.d32 = USB_OTG_READ_REG32(&(pdev->regs.OUTEP_REGS[1]->DOEPTSIZ));
 133:USB/core/usb_dcd_int.c ****       /*ToDo : handle more than one single MPS size packet */
 134:USB/core/usb_dcd_int.c ****       pdev->dev.out_ep[1].xfer_count = pdev->dev.out_ep[1].maxpacket - \
 135:USB/core/usb_dcd_int.c ****         deptsiz.b.xfersize;
 136:USB/core/usb_dcd_int.c ****     }    
 137:USB/core/usb_dcd_int.c ****     /* Inform upper layer: data ready */
 138:USB/core/usb_dcd_int.c ****     /* RX COMPLETE */
 139:USB/core/usb_dcd_int.c ****     USBD_DCD_INT_fops->DataOutStage(pdev , 1);
 140:USB/core/usb_dcd_int.c ****     
 141:USB/core/usb_dcd_int.c ****   }
 142:USB/core/usb_dcd_int.c ****   
 143:USB/core/usb_dcd_int.c ****   /* Endpoint disable  */
 144:USB/core/usb_dcd_int.c ****   if ( doepint.b.epdisabled )
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 4


 145:USB/core/usb_dcd_int.c ****   {
 146:USB/core/usb_dcd_int.c ****     /* Clear the bit in DOEPINTn for this interrupt */
 147:USB/core/usb_dcd_int.c ****     CLEAR_OUT_EP_INTR(1, epdisabled);
 148:USB/core/usb_dcd_int.c ****   }
 149:USB/core/usb_dcd_int.c **** 
 150:USB/core/usb_dcd_int.c ****   return 1;
 151:USB/core/usb_dcd_int.c **** }
 152:USB/core/usb_dcd_int.c **** 
 153:USB/core/usb_dcd_int.c **** /**
 154:USB/core/usb_dcd_int.c **** * @brief  USBD_OTG_EP1IN_ISR_Handler
 155:USB/core/usb_dcd_int.c **** *         handles all USB Interrupts
 156:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 157:USB/core/usb_dcd_int.c **** * @retval status
 158:USB/core/usb_dcd_int.c **** */
 159:USB/core/usb_dcd_int.c **** uint32_t USBD_OTG_EP1IN_ISR_Handler (USB_OTG_CORE_HANDLE *pdev)
 160:USB/core/usb_dcd_int.c **** {
 161:USB/core/usb_dcd_int.c ****   
 162:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPINTn_TypeDef  diepint;
 163:USB/core/usb_dcd_int.c ****   uint32_t fifoemptymsk, msk, emp;
 164:USB/core/usb_dcd_int.c ****   
 165:USB/core/usb_dcd_int.c ****   msk = USB_OTG_READ_REG32(&pdev->regs.DREGS->DINEP1MSK);
 166:USB/core/usb_dcd_int.c ****   emp = USB_OTG_READ_REG32(&pdev->regs.DREGS->DIEPEMPMSK);
 167:USB/core/usb_dcd_int.c ****   msk |= ((emp >> 1 ) & 0x1) << 7;
 168:USB/core/usb_dcd_int.c ****   diepint.d32  = USB_OTG_READ_REG32(&pdev->regs.INEP_REGS[1]->DIEPINT) & msk;  
 169:USB/core/usb_dcd_int.c ****   
 170:USB/core/usb_dcd_int.c ****   if ( diepint.b.xfercompl )
 171:USB/core/usb_dcd_int.c ****   {
 172:USB/core/usb_dcd_int.c ****     fifoemptymsk = 0x1 << 1;
 173:USB/core/usb_dcd_int.c ****     USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DIEPEMPMSK, fifoemptymsk, 0);
 174:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, xfercompl);
 175:USB/core/usb_dcd_int.c ****     /* TX COMPLETE */
 176:USB/core/usb_dcd_int.c ****     USBD_DCD_INT_fops->DataInStage(pdev , 1);
 177:USB/core/usb_dcd_int.c ****   }
 178:USB/core/usb_dcd_int.c ****   if ( diepint.b.epdisabled )
 179:USB/core/usb_dcd_int.c ****   {
 180:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, epdisabled);
 181:USB/core/usb_dcd_int.c ****   }  
 182:USB/core/usb_dcd_int.c ****   if ( diepint.b.timeout )
 183:USB/core/usb_dcd_int.c ****   {
 184:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, timeout);
 185:USB/core/usb_dcd_int.c ****   }
 186:USB/core/usb_dcd_int.c ****   if (diepint.b.intktxfemp)
 187:USB/core/usb_dcd_int.c ****   {
 188:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, intktxfemp);
 189:USB/core/usb_dcd_int.c ****   }
 190:USB/core/usb_dcd_int.c ****   if (diepint.b.inepnakeff)
 191:USB/core/usb_dcd_int.c ****   {
 192:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, inepnakeff);
 193:USB/core/usb_dcd_int.c ****   }
 194:USB/core/usb_dcd_int.c ****   if (diepint.b.emptyintr)
 195:USB/core/usb_dcd_int.c ****   {
 196:USB/core/usb_dcd_int.c ****     DCD_WriteEmptyTxFifo(pdev , 1);
 197:USB/core/usb_dcd_int.c ****     CLEAR_IN_EP_INTR(1, emptyintr);
 198:USB/core/usb_dcd_int.c ****   }
 199:USB/core/usb_dcd_int.c ****   return 1;
 200:USB/core/usb_dcd_int.c **** }
 201:USB/core/usb_dcd_int.c **** #endif
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 5


 202:USB/core/usb_dcd_int.c **** 
 203:USB/core/usb_dcd_int.c **** /**
 204:USB/core/usb_dcd_int.c **** * @brief  STM32_USBF_OTG_ISR_Handler
 205:USB/core/usb_dcd_int.c **** *         handles all USB Interrupts
 206:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 207:USB/core/usb_dcd_int.c **** * @retval status
 208:USB/core/usb_dcd_int.c **** */
 209:USB/core/usb_dcd_int.c **** uint32_t USBD_OTG_ISR_Handler (USB_OTG_CORE_HANDLE *pdev)
 210:USB/core/usb_dcd_int.c **** {
 211:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintr_status;
 212:USB/core/usb_dcd_int.c ****   uint32_t retval = 0;
 213:USB/core/usb_dcd_int.c ****   
 214:USB/core/usb_dcd_int.c ****   if (USB_OTG_IsDeviceMode(pdev)) /* ensure that we are in device mode */
 215:USB/core/usb_dcd_int.c ****   {
 216:USB/core/usb_dcd_int.c ****     gintr_status.d32 = USB_OTG_ReadCoreItr(pdev);
 217:USB/core/usb_dcd_int.c ****     if (!gintr_status.d32) /* avoid spurious interrupt */
 218:USB/core/usb_dcd_int.c ****     {
 219:USB/core/usb_dcd_int.c ****       return 0;
 220:USB/core/usb_dcd_int.c ****     }
 221:USB/core/usb_dcd_int.c ****     
 222:USB/core/usb_dcd_int.c ****     if (gintr_status.b.outepintr)
 223:USB/core/usb_dcd_int.c ****     {
 224:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleOutEP_ISR(pdev);
 225:USB/core/usb_dcd_int.c ****     }    
 226:USB/core/usb_dcd_int.c ****     
 227:USB/core/usb_dcd_int.c ****     if (gintr_status.b.inepint)
 228:USB/core/usb_dcd_int.c ****     {
 229:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleInEP_ISR(pdev);
 230:USB/core/usb_dcd_int.c ****     }
 231:USB/core/usb_dcd_int.c ****     
 232:USB/core/usb_dcd_int.c ****     if (gintr_status.b.modemismatch)
 233:USB/core/usb_dcd_int.c ****     {
 234:USB/core/usb_dcd_int.c ****       USB_OTG_GINTSTS_TypeDef  gintsts;
 235:USB/core/usb_dcd_int.c ****       
 236:USB/core/usb_dcd_int.c ****       /* Clear interrupt */
 237:USB/core/usb_dcd_int.c ****       gintsts.d32 = 0;
 238:USB/core/usb_dcd_int.c ****       gintsts.b.modemismatch = 1;
 239:USB/core/usb_dcd_int.c ****       USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 240:USB/core/usb_dcd_int.c ****     }
 241:USB/core/usb_dcd_int.c ****     
 242:USB/core/usb_dcd_int.c ****     if (gintr_status.b.wkupintr)
 243:USB/core/usb_dcd_int.c ****     {
 244:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleResume_ISR(pdev);
 245:USB/core/usb_dcd_int.c ****     }
 246:USB/core/usb_dcd_int.c ****     
 247:USB/core/usb_dcd_int.c ****     if (gintr_status.b.usbsuspend)
 248:USB/core/usb_dcd_int.c ****     {
 249:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleUSBSuspend_ISR(pdev);
 250:USB/core/usb_dcd_int.c ****     }
 251:USB/core/usb_dcd_int.c ****     if (gintr_status.b.sofintr)
 252:USB/core/usb_dcd_int.c ****     {
 253:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleSof_ISR(pdev);
 254:USB/core/usb_dcd_int.c ****       
 255:USB/core/usb_dcd_int.c ****     }
 256:USB/core/usb_dcd_int.c ****     
 257:USB/core/usb_dcd_int.c ****     if (gintr_status.b.rxstsqlvl)
 258:USB/core/usb_dcd_int.c ****     {
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 6


 259:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleRxStatusQueueLevel_ISR(pdev);
 260:USB/core/usb_dcd_int.c ****       
 261:USB/core/usb_dcd_int.c ****     }
 262:USB/core/usb_dcd_int.c ****     
 263:USB/core/usb_dcd_int.c ****     if (gintr_status.b.usbreset)
 264:USB/core/usb_dcd_int.c ****     {
 265:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleUsbReset_ISR(pdev);
 266:USB/core/usb_dcd_int.c ****       
 267:USB/core/usb_dcd_int.c ****     }
 268:USB/core/usb_dcd_int.c ****     if (gintr_status.b.enumdone)
 269:USB/core/usb_dcd_int.c ****     {
 270:USB/core/usb_dcd_int.c ****       retval |= DCD_HandleEnumDone_ISR(pdev);
 271:USB/core/usb_dcd_int.c ****     }
 272:USB/core/usb_dcd_int.c ****     
 273:USB/core/usb_dcd_int.c ****     if (gintr_status.b.incomplisoin)
 274:USB/core/usb_dcd_int.c ****     {
 275:USB/core/usb_dcd_int.c ****       retval |= DCD_IsoINIncomplete_ISR(pdev);
 276:USB/core/usb_dcd_int.c ****     }
 277:USB/core/usb_dcd_int.c **** 
 278:USB/core/usb_dcd_int.c ****     if (gintr_status.b.incomplisoout)
 279:USB/core/usb_dcd_int.c ****     {
 280:USB/core/usb_dcd_int.c ****       retval |= DCD_IsoOUTIncomplete_ISR(pdev);
 281:USB/core/usb_dcd_int.c ****     }    
 282:USB/core/usb_dcd_int.c **** #ifdef VBUS_SENSING_ENABLED
 283:USB/core/usb_dcd_int.c ****     if (gintr_status.b.sessreqintr)
 284:USB/core/usb_dcd_int.c ****     {
 285:USB/core/usb_dcd_int.c ****       retval |= DCD_SessionRequest_ISR(pdev);
 286:USB/core/usb_dcd_int.c ****     }
 287:USB/core/usb_dcd_int.c **** 
 288:USB/core/usb_dcd_int.c ****     if (gintr_status.b.otgintr)
 289:USB/core/usb_dcd_int.c ****     {
 290:USB/core/usb_dcd_int.c ****       retval |= DCD_OTG_ISR(pdev);
 291:USB/core/usb_dcd_int.c ****     }   
 292:USB/core/usb_dcd_int.c **** #endif    
 293:USB/core/usb_dcd_int.c ****   }
 294:USB/core/usb_dcd_int.c ****   return retval;
 295:USB/core/usb_dcd_int.c **** }
 296:USB/core/usb_dcd_int.c **** 
 297:USB/core/usb_dcd_int.c **** #ifdef VBUS_SENSING_ENABLED
 298:USB/core/usb_dcd_int.c **** /**
 299:USB/core/usb_dcd_int.c **** * @brief  DCD_SessionRequest_ISR
 300:USB/core/usb_dcd_int.c **** *         Indicates that the USB_OTG controller has detected a connection
 301:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 302:USB/core/usb_dcd_int.c **** * @retval status
 303:USB/core/usb_dcd_int.c **** */
 304:USB/core/usb_dcd_int.c **** static uint32_t DCD_SessionRequest_ISR(USB_OTG_CORE_HANDLE *pdev)
 305:USB/core/usb_dcd_int.c **** {
 306:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;  
 307:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->DevConnected (pdev);
 308:USB/core/usb_dcd_int.c **** 
 309:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 310:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 311:USB/core/usb_dcd_int.c ****   gintsts.b.sessreqintr = 1;
 312:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, gintsts.d32);   
 313:USB/core/usb_dcd_int.c ****   return 1;
 314:USB/core/usb_dcd_int.c **** }
 315:USB/core/usb_dcd_int.c **** 
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 7


 316:USB/core/usb_dcd_int.c **** /**
 317:USB/core/usb_dcd_int.c **** * @brief  DCD_OTG_ISR
 318:USB/core/usb_dcd_int.c **** *         Indicates that the USB_OTG controller has detected an OTG event:
 319:USB/core/usb_dcd_int.c **** *                 used to detect the end of session i.e. disconnection
 320:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 321:USB/core/usb_dcd_int.c **** * @retval status
 322:USB/core/usb_dcd_int.c **** */
 323:USB/core/usb_dcd_int.c **** static uint32_t DCD_OTG_ISR(USB_OTG_CORE_HANDLE *pdev)
 324:USB/core/usb_dcd_int.c **** {
 325:USB/core/usb_dcd_int.c **** 
 326:USB/core/usb_dcd_int.c ****   USB_OTG_GOTGINT_TypeDef  gotgint;
 327:USB/core/usb_dcd_int.c **** 
 328:USB/core/usb_dcd_int.c ****   gotgint.d32 = USB_OTG_READ_REG32(&pdev->regs.GREGS->GOTGINT);
 329:USB/core/usb_dcd_int.c ****   
 330:USB/core/usb_dcd_int.c ****   if (gotgint.b.sesenddet)
 331:USB/core/usb_dcd_int.c ****   {
 332:USB/core/usb_dcd_int.c ****     USBD_DCD_INT_fops->DevDisconnected (pdev);
 333:USB/core/usb_dcd_int.c ****   }
 334:USB/core/usb_dcd_int.c ****   /* Clear OTG interrupt */
 335:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GOTGINT, gotgint.d32); 
 336:USB/core/usb_dcd_int.c ****   return 1;
 337:USB/core/usb_dcd_int.c **** }
 338:USB/core/usb_dcd_int.c **** #endif
 339:USB/core/usb_dcd_int.c **** /**
 340:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleResume_ISR
 341:USB/core/usb_dcd_int.c **** *         Indicates that the USB_OTG controller has detected a resume or
 342:USB/core/usb_dcd_int.c **** *                 remote Wake-up sequence
 343:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 344:USB/core/usb_dcd_int.c **** * @retval status
 345:USB/core/usb_dcd_int.c **** */
 346:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleResume_ISR(USB_OTG_CORE_HANDLE *pdev)
 347:USB/core/usb_dcd_int.c **** {
  29              		.loc 1 347 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34 0000 10B5     		push	{r4, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  39 0002 0446     		mov	r4, r0
 348:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 349:USB/core/usb_dcd_int.c ****   USB_OTG_DCTL_TypeDef     devctl;
 350:USB/core/usb_dcd_int.c ****   USB_OTG_PCGCCTL_TypeDef  power;
 351:USB/core/usb_dcd_int.c ****   
 352:USB/core/usb_dcd_int.c ****   if(pdev->cfg.low_power)
  40              		.loc 1 352 0
  41 0004 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
  42 0006 43B1     		cbz	r3, .L2
 353:USB/core/usb_dcd_int.c ****   {
 354:USB/core/usb_dcd_int.c ****     /* un-gate USB Core clock */
 355:USB/core/usb_dcd_int.c ****     power.d32 = USB_OTG_READ_REG32(&pdev->regs.PCGCCTL);
  43              		.loc 1 355 0
  44 0008 D0F80C31 		ldr	r3, [r0, #268]
 356:USB/core/usb_dcd_int.c ****     power.b.gatehclk = 0;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 8


  45              		.loc 1 356 0
  46 000c 6FF34103 		bfc	r3, #1, #1
  47              	.LVL1:
 357:USB/core/usb_dcd_int.c ****     power.b.stoppclk = 0;
  48              		.loc 1 357 0
  49 0010 6FF30003 		bfc	r3, #0, #1
 358:USB/core/usb_dcd_int.c ****     USB_OTG_WRITE_REG32(pdev->regs.PCGCCTL, power.d32);
  50              		.loc 1 358 0
  51 0014 D0F80C21 		ldr	r2, [r0, #268]
  52 0018 1360     		str	r3, [r2]
  53              	.L2:
 359:USB/core/usb_dcd_int.c ****   }
 360:USB/core/usb_dcd_int.c ****   
 361:USB/core/usb_dcd_int.c ****   /* Clear the Remote Wake-up Signaling */
 362:USB/core/usb_dcd_int.c ****   devctl.d32 = 0;
 363:USB/core/usb_dcd_int.c ****   devctl.b.rmtwkupsig = 1;
 364:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DCTL, devctl.d32, 0);
  54              		.loc 1 364 0
  55 001a 2269     		ldr	r2, [r4, #16]
  56 001c 5368     		ldr	r3, [r2, #4]
  57              	.LVL2:
  58 001e 23F00103 		bic	r3, r3, #1
  59 0022 5360     		str	r3, [r2, #4]
 365:USB/core/usb_dcd_int.c ****   
 366:USB/core/usb_dcd_int.c ****   /* Inform upper layer by the Resume Event */
 367:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->Resume (pdev);
  60              		.loc 1 367 0
  61 0024 054B     		ldr	r3, .L4
  62 0026 1B68     		ldr	r3, [r3]
  63 0028 9B69     		ldr	r3, [r3, #24]
  64 002a 2046     		mov	r0, r4
  65              	.LVL3:
  66 002c 9847     		blx	r3
  67              	.LVL4:
 368:USB/core/usb_dcd_int.c ****   
 369:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 370:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 371:USB/core/usb_dcd_int.c ****   gintsts.b.wkupintr = 1;
  68              		.loc 1 371 0
  69 002e 4FF00043 		mov	r3, #-2147483648
  70              	.LVL5:
 372:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, gintsts.d32);
  71              		.loc 1 372 0
  72 0032 E268     		ldr	r2, [r4, #12]
  73              	.LVL6:
  74 0034 5361     		str	r3, [r2, #20]
 373:USB/core/usb_dcd_int.c ****   return 1;
 374:USB/core/usb_dcd_int.c **** }
  75              		.loc 1 374 0
  76 0036 0120     		movs	r0, #1
  77 0038 10BD     		pop	{r4, pc}
  78              	.LVL7:
  79              	.L5:
  80 003a 00BF     		.align	2
  81              	.L4:
  82 003c 00000000 		.word	USBD_DCD_INT_fops
  83              		.cfi_endproc
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 9


  84              	.LFE125:
  86              		.section	.text.DCD_HandleUSBSuspend_ISR,"ax",%progbits
  87              		.align	2
  88              		.thumb
  89              		.thumb_func
  91              	DCD_HandleUSBSuspend_ISR:
  92              	.LFB126:
 375:USB/core/usb_dcd_int.c **** 
 376:USB/core/usb_dcd_int.c **** /**
 377:USB/core/usb_dcd_int.c **** * @brief  USB_OTG_HandleUSBSuspend_ISR
 378:USB/core/usb_dcd_int.c **** *         Indicates that SUSPEND state has been detected on the USB
 379:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 380:USB/core/usb_dcd_int.c **** * @retval status
 381:USB/core/usb_dcd_int.c **** */
 382:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleUSBSuspend_ISR(USB_OTG_CORE_HANDLE *pdev)
 383:USB/core/usb_dcd_int.c **** {
  93              		.loc 1 383 0
  94              		.cfi_startproc
  95              		@ args = 0, pretend = 0, frame = 8
  96              		@ frame_needed = 0, uses_anonymous_args = 0
  97              	.LVL8:
  98 0000 30B5     		push	{r4, r5, lr}
  99              	.LCFI1:
 100              		.cfi_def_cfa_offset 12
 101              		.cfi_offset 4, -12
 102              		.cfi_offset 5, -8
 103              		.cfi_offset 14, -4
 104 0002 83B0     		sub	sp, sp, #12
 105              	.LCFI2:
 106              		.cfi_def_cfa_offset 24
 107 0004 0546     		mov	r5, r0
 384:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 385:USB/core/usb_dcd_int.c ****   USB_OTG_PCGCCTL_TypeDef  power;
 386:USB/core/usb_dcd_int.c ****   USB_OTG_DSTS_TypeDef     dsts;
 387:USB/core/usb_dcd_int.c ****   __IO uint8_t prev_status = 0;
 108              		.loc 1 387 0
 109 0006 0024     		movs	r4, #0
 110 0008 8DF80740 		strb	r4, [sp, #7]
 388:USB/core/usb_dcd_int.c ****   
 389:USB/core/usb_dcd_int.c ****   prev_status = pdev->dev.device_status;
 111              		.loc 1 389 0
 112 000c 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 113 0010 8DF80730 		strb	r3, [sp, #7]
 390:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->Suspend (pdev);      
 114              		.loc 1 390 0
 115 0014 154B     		ldr	r3, .L9
 116 0016 1B68     		ldr	r3, [r3]
 117 0018 5B69     		ldr	r3, [r3, #20]
 118 001a 9847     		blx	r3
 119              	.LVL9:
 391:USB/core/usb_dcd_int.c ****   
 392:USB/core/usb_dcd_int.c ****   dsts.d32 = USB_OTG_READ_REG32(&pdev->regs.DREGS->DSTS);
 120              		.loc 1 392 0
 121 001c 2B69     		ldr	r3, [r5, #16]
 122 001e 9A68     		ldr	r2, [r3, #8]
 123              	.LVL10:
 393:USB/core/usb_dcd_int.c ****     
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 10


 394:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 395:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 396:USB/core/usb_dcd_int.c ****   gintsts.b.usbsuspend = 1;
 124              		.loc 1 396 0
 125 0020 4FF40064 		mov	r4, #2048
 126              	.LVL11:
 397:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 127              		.loc 1 397 0
 128 0024 EB68     		ldr	r3, [r5, #12]
 129              	.LVL12:
 130 0026 5C61     		str	r4, [r3, #20]
 398:USB/core/usb_dcd_int.c ****   
 399:USB/core/usb_dcd_int.c ****   if((pdev->cfg.low_power) && (dsts.b.suspsts == 1)  && 
 131              		.loc 1 399 0
 132 0028 AB7A     		ldrb	r3, [r5, #10]	@ zero_extendqisi2
 133 002a E3B1     		cbz	r3, .L7
 134              		.loc 1 399 0 is_stmt 0 discriminator 1
 135 002c 12F0010F 		tst	r2, #1
 136 0030 19D0     		beq	.L7
 400:USB/core/usb_dcd_int.c ****     (pdev->dev.connection_status == 1) && 
 137              		.loc 1 400 0 is_stmt 1 discriminator 2
 138 0032 95F81531 		ldrb	r3, [r5, #277]	@ zero_extendqisi2
 399:USB/core/usb_dcd_int.c ****     (pdev->dev.connection_status == 1) && 
 139              		.loc 1 399 0 discriminator 2
 140 0036 012B     		cmp	r3, #1
 141 0038 15D1     		bne	.L7
 401:USB/core/usb_dcd_int.c ****     (prev_status  == USB_OTG_CONFIGURED))
 142              		.loc 1 401 0
 143 003a 9DF80730 		ldrb	r3, [sp, #7]	@ zero_extendqisi2
 144 003e DBB2     		uxtb	r3, r3
 400:USB/core/usb_dcd_int.c ****     (pdev->dev.connection_status == 1) && 
 145              		.loc 1 400 0
 146 0040 032B     		cmp	r3, #3
 147 0042 10D1     		bne	.L7
 402:USB/core/usb_dcd_int.c ****   {
 403:USB/core/usb_dcd_int.c **** 	/*  switch-off the clocks */
 404:USB/core/usb_dcd_int.c ****     power.d32 = 0;
 405:USB/core/usb_dcd_int.c ****     power.b.stoppclk = 1;
 406:USB/core/usb_dcd_int.c ****     USB_OTG_MODIFY_REG32(pdev->regs.PCGCCTL, 0, power.d32);  
 148              		.loc 1 406 0
 149 0044 D5F80C21 		ldr	r2, [r5, #268]
 150              	.LVL13:
 151 0048 1368     		ldr	r3, [r2]
 152 004a 43F00103 		orr	r3, r3, #1
 153 004e 1360     		str	r3, [r2]
 407:USB/core/usb_dcd_int.c ****     
 408:USB/core/usb_dcd_int.c ****     power.b.gatehclk = 1;
 409:USB/core/usb_dcd_int.c ****     USB_OTG_MODIFY_REG32(pdev->regs.PCGCCTL, 0, power.d32);
 154              		.loc 1 409 0
 155 0050 D5F80C21 		ldr	r2, [r5, #268]
 156 0054 1368     		ldr	r3, [r2]
 157 0056 43F00303 		orr	r3, r3, #3
 158 005a 1360     		str	r3, [r2]
 410:USB/core/usb_dcd_int.c ****     
 411:USB/core/usb_dcd_int.c ****     /* Request to enter Sleep mode after exit from current ISR */
 412:USB/core/usb_dcd_int.c ****     SCB->SCR |= (SCB_SCR_SLEEPDEEP_Msk | SCB_SCR_SLEEPONEXIT_Msk);
 159              		.loc 1 412 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 11


 160 005c 044A     		ldr	r2, .L9+4
 161 005e 1369     		ldr	r3, [r2, #16]
 162 0060 43F00603 		orr	r3, r3, #6
 163 0064 1361     		str	r3, [r2, #16]
 164              	.LVL14:
 165              	.L7:
 413:USB/core/usb_dcd_int.c ****   }
 414:USB/core/usb_dcd_int.c ****   return 1;
 415:USB/core/usb_dcd_int.c **** }
 166              		.loc 1 415 0
 167 0066 0120     		movs	r0, #1
 168 0068 03B0     		add	sp, sp, #12
 169              	.LCFI3:
 170              		.cfi_def_cfa_offset 12
 171              		@ sp needed
 172 006a 30BD     		pop	{r4, r5, pc}
 173              	.LVL15:
 174              	.L10:
 175              		.align	2
 176              	.L9:
 177 006c 00000000 		.word	USBD_DCD_INT_fops
 178 0070 00ED00E0 		.word	-536810240
 179              		.cfi_endproc
 180              	.LFE126:
 182              		.section	.text.DCD_HandleSof_ISR,"ax",%progbits
 183              		.align	2
 184              		.thumb
 185              		.thumb_func
 187              	DCD_HandleSof_ISR:
 188              	.LFB129:
 416:USB/core/usb_dcd_int.c **** 
 417:USB/core/usb_dcd_int.c **** /**
 418:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleInEP_ISR
 419:USB/core/usb_dcd_int.c **** *         Indicates that an IN EP has a pending Interrupt
 420:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 421:USB/core/usb_dcd_int.c **** * @retval status
 422:USB/core/usb_dcd_int.c **** */
 423:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleInEP_ISR(USB_OTG_CORE_HANDLE *pdev)
 424:USB/core/usb_dcd_int.c **** {
 425:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPINTn_TypeDef  diepint;
 426:USB/core/usb_dcd_int.c ****   
 427:USB/core/usb_dcd_int.c ****   uint32_t ep_intr;
 428:USB/core/usb_dcd_int.c ****   uint32_t epnum = 0;
 429:USB/core/usb_dcd_int.c ****   uint32_t fifoemptymsk;
 430:USB/core/usb_dcd_int.c ****   diepint.d32 = 0;
 431:USB/core/usb_dcd_int.c ****   ep_intr = USB_OTG_ReadDevAllInEPItr(pdev);
 432:USB/core/usb_dcd_int.c ****   
 433:USB/core/usb_dcd_int.c ****   while ( ep_intr )
 434:USB/core/usb_dcd_int.c ****   {
 435:USB/core/usb_dcd_int.c ****     if (ep_intr&0x1) /* In ITR */
 436:USB/core/usb_dcd_int.c ****     {
 437:USB/core/usb_dcd_int.c ****       diepint.d32 = DCD_ReadDevInEP(pdev , epnum); /* Get In ITR status */
 438:USB/core/usb_dcd_int.c ****       if ( diepint.b.xfercompl )
 439:USB/core/usb_dcd_int.c ****       {
 440:USB/core/usb_dcd_int.c ****         fifoemptymsk = 0x1 << epnum;
 441:USB/core/usb_dcd_int.c ****         USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DIEPEMPMSK, fifoemptymsk, 0);
 442:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, xfercompl);
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 12


 443:USB/core/usb_dcd_int.c ****         /* TX COMPLETE */
 444:USB/core/usb_dcd_int.c ****         USBD_DCD_INT_fops->DataInStage(pdev , epnum);
 445:USB/core/usb_dcd_int.c ****         
 446:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 447:USB/core/usb_dcd_int.c ****         {
 448:USB/core/usb_dcd_int.c ****           if((epnum == 0) && (pdev->dev.device_state == USB_OTG_EP0_STATUS_IN))
 449:USB/core/usb_dcd_int.c ****           {
 450:USB/core/usb_dcd_int.c ****             /* prepare to rx more setup packets */
 451:USB/core/usb_dcd_int.c ****             USB_OTG_EP0_OutStart(pdev);
 452:USB/core/usb_dcd_int.c ****           }
 453:USB/core/usb_dcd_int.c ****         }           
 454:USB/core/usb_dcd_int.c ****       }
 455:USB/core/usb_dcd_int.c ****       if ( diepint.b.timeout )
 456:USB/core/usb_dcd_int.c ****       {
 457:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, timeout);
 458:USB/core/usb_dcd_int.c ****       }
 459:USB/core/usb_dcd_int.c ****       if (diepint.b.intktxfemp)
 460:USB/core/usb_dcd_int.c ****       {
 461:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, intktxfemp);
 462:USB/core/usb_dcd_int.c ****       }
 463:USB/core/usb_dcd_int.c ****       if (diepint.b.inepnakeff)
 464:USB/core/usb_dcd_int.c ****       {
 465:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, inepnakeff);
 466:USB/core/usb_dcd_int.c ****       }
 467:USB/core/usb_dcd_int.c ****       if ( diepint.b.epdisabled )
 468:USB/core/usb_dcd_int.c ****       {
 469:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, epdisabled);
 470:USB/core/usb_dcd_int.c ****       }       
 471:USB/core/usb_dcd_int.c ****       if (diepint.b.emptyintr)
 472:USB/core/usb_dcd_int.c ****       {
 473:USB/core/usb_dcd_int.c ****         
 474:USB/core/usb_dcd_int.c ****         DCD_WriteEmptyTxFifo(pdev , epnum);
 475:USB/core/usb_dcd_int.c ****         
 476:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, emptyintr);
 477:USB/core/usb_dcd_int.c ****       }
 478:USB/core/usb_dcd_int.c ****     }
 479:USB/core/usb_dcd_int.c ****     epnum++;
 480:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 481:USB/core/usb_dcd_int.c ****   }
 482:USB/core/usb_dcd_int.c ****   
 483:USB/core/usb_dcd_int.c ****   return 1;
 484:USB/core/usb_dcd_int.c **** }
 485:USB/core/usb_dcd_int.c **** 
 486:USB/core/usb_dcd_int.c **** /**
 487:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleOutEP_ISR
 488:USB/core/usb_dcd_int.c **** *         Indicates that an OUT EP has a pending Interrupt
 489:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 490:USB/core/usb_dcd_int.c **** * @retval status
 491:USB/core/usb_dcd_int.c **** */
 492:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleOutEP_ISR(USB_OTG_CORE_HANDLE *pdev)
 493:USB/core/usb_dcd_int.c **** {
 494:USB/core/usb_dcd_int.c ****   uint32_t ep_intr;
 495:USB/core/usb_dcd_int.c ****   USB_OTG_DOEPINTn_TypeDef  doepint;
 496:USB/core/usb_dcd_int.c ****   USB_OTG_DEPXFRSIZ_TypeDef  deptsiz;
 497:USB/core/usb_dcd_int.c ****   uint32_t epnum = 0;
 498:USB/core/usb_dcd_int.c ****   
 499:USB/core/usb_dcd_int.c ****   doepint.d32 = 0;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 13


 500:USB/core/usb_dcd_int.c ****   
 501:USB/core/usb_dcd_int.c ****   /* Read in the device interrupt bits */
 502:USB/core/usb_dcd_int.c ****   ep_intr = USB_OTG_ReadDevAllOutEp_itr(pdev);
 503:USB/core/usb_dcd_int.c ****   
 504:USB/core/usb_dcd_int.c ****   while ( ep_intr )
 505:USB/core/usb_dcd_int.c ****   {
 506:USB/core/usb_dcd_int.c ****     if (ep_intr&0x1)
 507:USB/core/usb_dcd_int.c ****     {
 508:USB/core/usb_dcd_int.c ****       
 509:USB/core/usb_dcd_int.c ****       doepint.d32 = USB_OTG_ReadDevOutEP_itr(pdev, epnum);
 510:USB/core/usb_dcd_int.c ****       
 511:USB/core/usb_dcd_int.c ****       /* Transfer complete */
 512:USB/core/usb_dcd_int.c ****       if ( doepint.b.xfercompl )
 513:USB/core/usb_dcd_int.c ****       {
 514:USB/core/usb_dcd_int.c ****         /* Clear the bit in DOEPINTn for this interrupt */
 515:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, xfercompl);
 516:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 517:USB/core/usb_dcd_int.c ****         {
 518:USB/core/usb_dcd_int.c ****           deptsiz.d32 = USB_OTG_READ_REG32(&(pdev->regs.OUTEP_REGS[epnum]->DOEPTSIZ));
 519:USB/core/usb_dcd_int.c ****           /*ToDo : handle more than one single MPS size packet */
 520:USB/core/usb_dcd_int.c ****           pdev->dev.out_ep[epnum].xfer_count = pdev->dev.out_ep[epnum].maxpacket - \
 521:USB/core/usb_dcd_int.c ****             deptsiz.b.xfersize;
 522:USB/core/usb_dcd_int.c ****         }
 523:USB/core/usb_dcd_int.c ****         /* Inform upper layer: data ready */
 524:USB/core/usb_dcd_int.c ****         /* RX COMPLETE */
 525:USB/core/usb_dcd_int.c ****         USBD_DCD_INT_fops->DataOutStage(pdev , epnum);
 526:USB/core/usb_dcd_int.c ****         
 527:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 528:USB/core/usb_dcd_int.c ****         {
 529:USB/core/usb_dcd_int.c ****           if((epnum == 0) && (pdev->dev.device_state == USB_OTG_EP0_STATUS_OUT))
 530:USB/core/usb_dcd_int.c ****           {
 531:USB/core/usb_dcd_int.c ****             /* prepare to rx more setup packets */
 532:USB/core/usb_dcd_int.c ****             USB_OTG_EP0_OutStart(pdev);
 533:USB/core/usb_dcd_int.c ****           }
 534:USB/core/usb_dcd_int.c ****         }        
 535:USB/core/usb_dcd_int.c ****       }
 536:USB/core/usb_dcd_int.c ****       /* Endpoint disable  */
 537:USB/core/usb_dcd_int.c ****       if ( doepint.b.epdisabled )
 538:USB/core/usb_dcd_int.c ****       {
 539:USB/core/usb_dcd_int.c ****         /* Clear the bit in DOEPINTn for this interrupt */
 540:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, epdisabled);
 541:USB/core/usb_dcd_int.c ****       }
 542:USB/core/usb_dcd_int.c ****       /* Setup Phase Done (control EPs) */
 543:USB/core/usb_dcd_int.c ****       if ( doepint.b.setup )
 544:USB/core/usb_dcd_int.c ****       {
 545:USB/core/usb_dcd_int.c ****         
 546:USB/core/usb_dcd_int.c ****         /* inform the upper layer that a setup packet is available */
 547:USB/core/usb_dcd_int.c ****         /* SETUP COMPLETE */
 548:USB/core/usb_dcd_int.c ****         USBD_DCD_INT_fops->SetupStage(pdev);
 549:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, setup);
 550:USB/core/usb_dcd_int.c ****       }
 551:USB/core/usb_dcd_int.c ****     }
 552:USB/core/usb_dcd_int.c ****     epnum++;
 553:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 554:USB/core/usb_dcd_int.c ****   }
 555:USB/core/usb_dcd_int.c ****   return 1;
 556:USB/core/usb_dcd_int.c **** }
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 14


 557:USB/core/usb_dcd_int.c **** 
 558:USB/core/usb_dcd_int.c **** /**
 559:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleSof_ISR
 560:USB/core/usb_dcd_int.c **** *         Handles the SOF Interrupts
 561:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 562:USB/core/usb_dcd_int.c **** * @retval status
 563:USB/core/usb_dcd_int.c **** */
 564:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleSof_ISR(USB_OTG_CORE_HANDLE *pdev)
 565:USB/core/usb_dcd_int.c **** {
 189              		.loc 1 565 0
 190              		.cfi_startproc
 191              		@ args = 0, pretend = 0, frame = 0
 192              		@ frame_needed = 0, uses_anonymous_args = 0
 193              	.LVL16:
 194 0000 10B5     		push	{r4, lr}
 195              	.LCFI4:
 196              		.cfi_def_cfa_offset 8
 197              		.cfi_offset 4, -8
 198              		.cfi_offset 14, -4
 199 0002 0446     		mov	r4, r0
 566:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  GINTSTS;
 567:USB/core/usb_dcd_int.c ****   
 568:USB/core/usb_dcd_int.c ****   
 569:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->SOF(pdev);
 200              		.loc 1 569 0
 201 0004 044B     		ldr	r3, .L13
 202 0006 1B68     		ldr	r3, [r3]
 203 0008 DB68     		ldr	r3, [r3, #12]
 204 000a 9847     		blx	r3
 205              	.LVL17:
 570:USB/core/usb_dcd_int.c ****   
 571:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 572:USB/core/usb_dcd_int.c ****   GINTSTS.d32 = 0;
 573:USB/core/usb_dcd_int.c ****   GINTSTS.b.sofintr = 1;
 206              		.loc 1 573 0
 207 000c 0823     		movs	r3, #8
 208              	.LVL18:
 574:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, GINTSTS.d32);
 209              		.loc 1 574 0
 210 000e E268     		ldr	r2, [r4, #12]
 211              	.LVL19:
 212 0010 5361     		str	r3, [r2, #20]
 575:USB/core/usb_dcd_int.c ****   
 576:USB/core/usb_dcd_int.c ****   return 1;
 577:USB/core/usb_dcd_int.c **** }
 213              		.loc 1 577 0
 214 0012 0120     		movs	r0, #1
 215 0014 10BD     		pop	{r4, pc}
 216              	.LVL20:
 217              	.L14:
 218 0016 00BF     		.align	2
 219              	.L13:
 220 0018 00000000 		.word	USBD_DCD_INT_fops
 221              		.cfi_endproc
 222              	.LFE129:
 224              		.section	.text.DCD_IsoINIncomplete_ISR,"ax",%progbits
 225              		.align	2
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 15


 226              		.thumb
 227              		.thumb_func
 229              	DCD_IsoINIncomplete_ISR:
 230              	.LFB134:
 578:USB/core/usb_dcd_int.c **** 
 579:USB/core/usb_dcd_int.c **** /**
 580:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleRxStatusQueueLevel_ISR
 581:USB/core/usb_dcd_int.c **** *         Handles the Rx Status Queue Level Interrupt
 582:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 583:USB/core/usb_dcd_int.c **** * @retval status
 584:USB/core/usb_dcd_int.c **** */
 585:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleRxStatusQueueLevel_ISR(USB_OTG_CORE_HANDLE *pdev)
 586:USB/core/usb_dcd_int.c **** {
 587:USB/core/usb_dcd_int.c ****   USB_OTG_GINTMSK_TypeDef  int_mask;
 588:USB/core/usb_dcd_int.c ****   USB_OTG_DRXSTS_TypeDef   status;
 589:USB/core/usb_dcd_int.c ****   USB_OTG_EP *ep;
 590:USB/core/usb_dcd_int.c ****   
 591:USB/core/usb_dcd_int.c ****   /* Disable the Rx Status Queue Level interrupt */
 592:USB/core/usb_dcd_int.c ****   int_mask.d32 = 0;
 593:USB/core/usb_dcd_int.c ****   int_mask.b.rxstsqlvl = 1;
 594:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32( &pdev->regs.GREGS->GINTMSK, int_mask.d32, 0);
 595:USB/core/usb_dcd_int.c ****   
 596:USB/core/usb_dcd_int.c ****   /* Get the Status from the top of the FIFO */
 597:USB/core/usb_dcd_int.c ****   status.d32 = USB_OTG_READ_REG32( &pdev->regs.GREGS->GRXSTSP );
 598:USB/core/usb_dcd_int.c ****   
 599:USB/core/usb_dcd_int.c ****   ep = &pdev->dev.out_ep[status.b.epnum];
 600:USB/core/usb_dcd_int.c ****   
 601:USB/core/usb_dcd_int.c ****   switch (status.b.pktsts)
 602:USB/core/usb_dcd_int.c ****   {
 603:USB/core/usb_dcd_int.c ****   case STS_GOUT_NAK:
 604:USB/core/usb_dcd_int.c ****     break;
 605:USB/core/usb_dcd_int.c ****   case STS_DATA_UPDT:
 606:USB/core/usb_dcd_int.c ****     if (status.b.bcnt)
 607:USB/core/usb_dcd_int.c ****     {
 608:USB/core/usb_dcd_int.c ****       USB_OTG_ReadPacket(pdev,ep->xfer_buff, status.b.bcnt);
 609:USB/core/usb_dcd_int.c ****       ep->xfer_buff += status.b.bcnt;
 610:USB/core/usb_dcd_int.c ****       ep->xfer_count += status.b.bcnt;
 611:USB/core/usb_dcd_int.c ****     }
 612:USB/core/usb_dcd_int.c ****     break;
 613:USB/core/usb_dcd_int.c ****   case STS_XFER_COMP:
 614:USB/core/usb_dcd_int.c ****     break;
 615:USB/core/usb_dcd_int.c ****   case STS_SETUP_COMP:
 616:USB/core/usb_dcd_int.c ****     break;
 617:USB/core/usb_dcd_int.c ****   case STS_SETUP_UPDT:
 618:USB/core/usb_dcd_int.c ****     /* Copy the setup packet received in FIFO into the setup buffer in RAM */
 619:USB/core/usb_dcd_int.c ****     USB_OTG_ReadPacket(pdev , pdev->dev.setup_packet, 8);
 620:USB/core/usb_dcd_int.c ****     ep->xfer_count += status.b.bcnt;
 621:USB/core/usb_dcd_int.c ****     break;
 622:USB/core/usb_dcd_int.c ****   default:
 623:USB/core/usb_dcd_int.c ****     break;
 624:USB/core/usb_dcd_int.c ****   }
 625:USB/core/usb_dcd_int.c ****   
 626:USB/core/usb_dcd_int.c ****   /* Enable the Rx Status Queue Level interrupt */
 627:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32( &pdev->regs.GREGS->GINTMSK, 0, int_mask.d32);
 628:USB/core/usb_dcd_int.c ****   
 629:USB/core/usb_dcd_int.c ****   return 1;
 630:USB/core/usb_dcd_int.c **** }
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 16


 631:USB/core/usb_dcd_int.c **** 
 632:USB/core/usb_dcd_int.c **** /**
 633:USB/core/usb_dcd_int.c **** * @brief  DCD_WriteEmptyTxFifo
 634:USB/core/usb_dcd_int.c **** *         check FIFO for the next packet to be loaded
 635:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 636:USB/core/usb_dcd_int.c **** * @retval status
 637:USB/core/usb_dcd_int.c **** */
 638:USB/core/usb_dcd_int.c **** static uint32_t DCD_WriteEmptyTxFifo(USB_OTG_CORE_HANDLE *pdev, uint32_t epnum)
 639:USB/core/usb_dcd_int.c **** {
 640:USB/core/usb_dcd_int.c ****   USB_OTG_DTXFSTSn_TypeDef  txstatus;
 641:USB/core/usb_dcd_int.c ****   USB_OTG_EP *ep;
 642:USB/core/usb_dcd_int.c ****   uint32_t len = 0;
 643:USB/core/usb_dcd_int.c ****   uint32_t len32b;
 644:USB/core/usb_dcd_int.c ****   txstatus.d32 = 0;
 645:USB/core/usb_dcd_int.c ****   
 646:USB/core/usb_dcd_int.c ****   ep = &pdev->dev.in_ep[epnum];    
 647:USB/core/usb_dcd_int.c ****   
 648:USB/core/usb_dcd_int.c ****   len = ep->xfer_len - ep->xfer_count;
 649:USB/core/usb_dcd_int.c ****   
 650:USB/core/usb_dcd_int.c ****   if (len > ep->maxpacket)
 651:USB/core/usb_dcd_int.c ****   {
 652:USB/core/usb_dcd_int.c ****     len = ep->maxpacket;
 653:USB/core/usb_dcd_int.c ****   }
 654:USB/core/usb_dcd_int.c ****   
 655:USB/core/usb_dcd_int.c ****   len32b = (len + 3) / 4;
 656:USB/core/usb_dcd_int.c ****   txstatus.d32 = USB_OTG_READ_REG32( &pdev->regs.INEP_REGS[epnum]->DTXFSTS);
 657:USB/core/usb_dcd_int.c ****   
 658:USB/core/usb_dcd_int.c ****   
 659:USB/core/usb_dcd_int.c ****   
 660:USB/core/usb_dcd_int.c ****   while  (txstatus.b.txfspcavail > len32b &&
 661:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 662:USB/core/usb_dcd_int.c ****             ep->xfer_len != 0)
 663:USB/core/usb_dcd_int.c ****   {
 664:USB/core/usb_dcd_int.c ****     /* Write the FIFO */
 665:USB/core/usb_dcd_int.c ****     len = ep->xfer_len - ep->xfer_count;
 666:USB/core/usb_dcd_int.c ****     
 667:USB/core/usb_dcd_int.c ****     if (len > ep->maxpacket)
 668:USB/core/usb_dcd_int.c ****     {
 669:USB/core/usb_dcd_int.c ****       len = ep->maxpacket;
 670:USB/core/usb_dcd_int.c ****     }
 671:USB/core/usb_dcd_int.c ****     len32b = (len + 3) / 4;
 672:USB/core/usb_dcd_int.c ****     
 673:USB/core/usb_dcd_int.c ****     USB_OTG_WritePacket (pdev , ep->xfer_buff, epnum, len);
 674:USB/core/usb_dcd_int.c ****     
 675:USB/core/usb_dcd_int.c ****     ep->xfer_buff  += len;
 676:USB/core/usb_dcd_int.c ****     ep->xfer_count += len;
 677:USB/core/usb_dcd_int.c ****     
 678:USB/core/usb_dcd_int.c ****     txstatus.d32 = USB_OTG_READ_REG32(&pdev->regs.INEP_REGS[epnum]->DTXFSTS);
 679:USB/core/usb_dcd_int.c ****   }
 680:USB/core/usb_dcd_int.c ****   
 681:USB/core/usb_dcd_int.c ****   return 1;
 682:USB/core/usb_dcd_int.c **** }
 683:USB/core/usb_dcd_int.c **** 
 684:USB/core/usb_dcd_int.c **** /**
 685:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleUsbReset_ISR
 686:USB/core/usb_dcd_int.c **** *         This interrupt occurs when a USB Reset is detected
 687:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 17


 688:USB/core/usb_dcd_int.c **** * @retval status
 689:USB/core/usb_dcd_int.c **** */
 690:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleUsbReset_ISR(USB_OTG_CORE_HANDLE *pdev)
 691:USB/core/usb_dcd_int.c **** {
 692:USB/core/usb_dcd_int.c ****   USB_OTG_DAINT_TypeDef    daintmsk;
 693:USB/core/usb_dcd_int.c ****   USB_OTG_DOEPMSK_TypeDef  doepmsk;
 694:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPMSK_TypeDef  diepmsk;
 695:USB/core/usb_dcd_int.c ****   USB_OTG_DCFG_TypeDef     dcfg;
 696:USB/core/usb_dcd_int.c ****   USB_OTG_DCTL_TypeDef     dctl;
 697:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 698:USB/core/usb_dcd_int.c ****   uint32_t i;
 699:USB/core/usb_dcd_int.c ****   
 700:USB/core/usb_dcd_int.c ****   dctl.d32 = 0;
 701:USB/core/usb_dcd_int.c ****   daintmsk.d32 = 0;
 702:USB/core/usb_dcd_int.c ****   doepmsk.d32 = 0;
 703:USB/core/usb_dcd_int.c ****   diepmsk.d32 = 0;
 704:USB/core/usb_dcd_int.c ****   dcfg.d32 = 0;
 705:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 706:USB/core/usb_dcd_int.c ****   
 707:USB/core/usb_dcd_int.c ****   /* Clear the Remote Wake-up Signaling */
 708:USB/core/usb_dcd_int.c ****   dctl.b.rmtwkupsig = 1;
 709:USB/core/usb_dcd_int.c ****   USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DCTL, dctl.d32, 0 );
 710:USB/core/usb_dcd_int.c ****   
 711:USB/core/usb_dcd_int.c ****   /* Flush the Tx FIFO */
 712:USB/core/usb_dcd_int.c ****   USB_OTG_FlushTxFifo(pdev ,  0 );
 713:USB/core/usb_dcd_int.c ****   
 714:USB/core/usb_dcd_int.c ****   for (i = 0; i < pdev->cfg.dev_endpoints ; i++)
 715:USB/core/usb_dcd_int.c ****   {
 716:USB/core/usb_dcd_int.c ****     USB_OTG_WRITE_REG32( &pdev->regs.INEP_REGS[i]->DIEPINT, 0xFF);
 717:USB/core/usb_dcd_int.c ****     USB_OTG_WRITE_REG32( &pdev->regs.OUTEP_REGS[i]->DOEPINT, 0xFF);
 718:USB/core/usb_dcd_int.c ****   }
 719:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DAINT, 0xFFFFFFFF );
 720:USB/core/usb_dcd_int.c ****   
 721:USB/core/usb_dcd_int.c ****   daintmsk.ep.in = 1;
 722:USB/core/usb_dcd_int.c ****   daintmsk.ep.out = 1;
 723:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DAINTMSK, daintmsk.d32 );
 724:USB/core/usb_dcd_int.c ****   
 725:USB/core/usb_dcd_int.c ****   doepmsk.b.setup = 1;
 726:USB/core/usb_dcd_int.c ****   doepmsk.b.xfercompl = 1;
 727:USB/core/usb_dcd_int.c ****   doepmsk.b.epdisabled = 1;
 728:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DOEPMSK, doepmsk.d32 );
 729:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED   
 730:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DOUTEP1MSK, doepmsk.d32 );
 731:USB/core/usb_dcd_int.c **** #endif
 732:USB/core/usb_dcd_int.c ****   diepmsk.b.xfercompl = 1;
 733:USB/core/usb_dcd_int.c ****   diepmsk.b.timeout = 1;
 734:USB/core/usb_dcd_int.c ****   diepmsk.b.epdisabled = 1;
 735:USB/core/usb_dcd_int.c **** 
 736:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DIEPMSK, diepmsk.d32 );
 737:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED  
 738:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DINEP1MSK, diepmsk.d32 );
 739:USB/core/usb_dcd_int.c **** #endif
 740:USB/core/usb_dcd_int.c ****   /* Reset Device Address */
 741:USB/core/usb_dcd_int.c ****   dcfg.d32 = USB_OTG_READ_REG32( &pdev->regs.DREGS->DCFG);
 742:USB/core/usb_dcd_int.c ****   dcfg.b.devaddr = 0;
 743:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DCFG, dcfg.d32);
 744:USB/core/usb_dcd_int.c ****   
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 18


 745:USB/core/usb_dcd_int.c ****   
 746:USB/core/usb_dcd_int.c ****   /* setup EP0 to receive SETUP packets */
 747:USB/core/usb_dcd_int.c ****   USB_OTG_EP0_OutStart(pdev);
 748:USB/core/usb_dcd_int.c ****   
 749:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 750:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 751:USB/core/usb_dcd_int.c ****   gintsts.b.usbreset = 1;
 752:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 753:USB/core/usb_dcd_int.c ****   
 754:USB/core/usb_dcd_int.c ****   /*Reset internal state machine */
 755:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->Reset(pdev);
 756:USB/core/usb_dcd_int.c ****   return 1;
 757:USB/core/usb_dcd_int.c **** }
 758:USB/core/usb_dcd_int.c **** 
 759:USB/core/usb_dcd_int.c **** /**
 760:USB/core/usb_dcd_int.c **** * @brief  DCD_HandleEnumDone_ISR
 761:USB/core/usb_dcd_int.c **** *         Read the device status register and set the device speed
 762:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 763:USB/core/usb_dcd_int.c **** * @retval status
 764:USB/core/usb_dcd_int.c **** */
 765:USB/core/usb_dcd_int.c **** static uint32_t DCD_HandleEnumDone_ISR(USB_OTG_CORE_HANDLE *pdev)
 766:USB/core/usb_dcd_int.c **** {
 767:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 768:USB/core/usb_dcd_int.c ****   USB_OTG_GUSBCFG_TypeDef  gusbcfg;
 769:USB/core/usb_dcd_int.c ****   
 770:USB/core/usb_dcd_int.c ****   USB_OTG_EP0Activate(pdev);
 771:USB/core/usb_dcd_int.c ****   
 772:USB/core/usb_dcd_int.c ****   /* Set USB turn-around time based on device speed and PHY interface. */
 773:USB/core/usb_dcd_int.c ****   gusbcfg.d32 = USB_OTG_READ_REG32(&pdev->regs.GREGS->GUSBCFG);
 774:USB/core/usb_dcd_int.c ****   
 775:USB/core/usb_dcd_int.c ****   /* Full or High speed */
 776:USB/core/usb_dcd_int.c ****   if ( USB_OTG_GetDeviceSpeed(pdev) == USB_SPEED_HIGH)
 777:USB/core/usb_dcd_int.c ****   {
 778:USB/core/usb_dcd_int.c ****     pdev->cfg.speed            = USB_OTG_SPEED_HIGH;
 779:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_HS_MAX_PACKET_SIZE ;    
 780:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 9;
 781:USB/core/usb_dcd_int.c ****   }
 782:USB/core/usb_dcd_int.c ****   else
 783:USB/core/usb_dcd_int.c ****   {
 784:USB/core/usb_dcd_int.c ****     pdev->cfg.speed            = USB_OTG_SPEED_FULL;
 785:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_FS_MAX_PACKET_SIZE ;  
 786:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 5;
 787:USB/core/usb_dcd_int.c ****   }
 788:USB/core/usb_dcd_int.c ****   
 789:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GUSBCFG, gusbcfg.d32);
 790:USB/core/usb_dcd_int.c ****   
 791:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 792:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 793:USB/core/usb_dcd_int.c ****   gintsts.b.enumdone = 1;
 794:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.GREGS->GINTSTS, gintsts.d32 );
 795:USB/core/usb_dcd_int.c ****   return 1;
 796:USB/core/usb_dcd_int.c **** }
 797:USB/core/usb_dcd_int.c **** 
 798:USB/core/usb_dcd_int.c **** 
 799:USB/core/usb_dcd_int.c **** /**
 800:USB/core/usb_dcd_int.c **** * @brief  DCD_IsoINIncomplete_ISR
 801:USB/core/usb_dcd_int.c **** *         handle the ISO IN incomplete interrupt
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 19


 802:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 803:USB/core/usb_dcd_int.c **** * @retval status
 804:USB/core/usb_dcd_int.c **** */
 805:USB/core/usb_dcd_int.c **** static uint32_t DCD_IsoINIncomplete_ISR(USB_OTG_CORE_HANDLE *pdev)
 806:USB/core/usb_dcd_int.c **** {
 231              		.loc 1 806 0
 232              		.cfi_startproc
 233              		@ args = 0, pretend = 0, frame = 0
 234              		@ frame_needed = 0, uses_anonymous_args = 0
 235              	.LVL21:
 236 0000 10B5     		push	{r4, lr}
 237              	.LCFI5:
 238              		.cfi_def_cfa_offset 8
 239              		.cfi_offset 4, -8
 240              		.cfi_offset 14, -4
 241 0002 0446     		mov	r4, r0
 807:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef gintsts;  
 808:USB/core/usb_dcd_int.c ****   
 809:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 810:USB/core/usb_dcd_int.c **** 
 811:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->IsoINIncomplete (pdev); 
 242              		.loc 1 811 0
 243 0004 044B     		ldr	r3, .L17
 244 0006 1B68     		ldr	r3, [r3]
 245 0008 DB69     		ldr	r3, [r3, #28]
 246 000a 9847     		blx	r3
 247              	.LVL22:
 812:USB/core/usb_dcd_int.c ****   
 813:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 814:USB/core/usb_dcd_int.c ****   gintsts.b.incomplisoin = 1;
 248              		.loc 1 814 0
 249 000c 4FF48013 		mov	r3, #1048576
 250              	.LVL23:
 815:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 251              		.loc 1 815 0
 252 0010 E268     		ldr	r2, [r4, #12]
 253              	.LVL24:
 254 0012 5361     		str	r3, [r2, #20]
 816:USB/core/usb_dcd_int.c ****   
 817:USB/core/usb_dcd_int.c ****   return 1;
 818:USB/core/usb_dcd_int.c **** }
 255              		.loc 1 818 0
 256 0014 0120     		movs	r0, #1
 257 0016 10BD     		pop	{r4, pc}
 258              	.LVL25:
 259              	.L18:
 260              		.align	2
 261              	.L17:
 262 0018 00000000 		.word	USBD_DCD_INT_fops
 263              		.cfi_endproc
 264              	.LFE134:
 266              		.section	.text.DCD_IsoOUTIncomplete_ISR,"ax",%progbits
 267              		.align	2
 268              		.thumb
 269              		.thumb_func
 271              	DCD_IsoOUTIncomplete_ISR:
 272              	.LFB135:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 20


 819:USB/core/usb_dcd_int.c **** 
 820:USB/core/usb_dcd_int.c **** /**
 821:USB/core/usb_dcd_int.c **** * @brief  DCD_IsoOUTIncomplete_ISR
 822:USB/core/usb_dcd_int.c **** *         handle the ISO OUT incomplete interrupt
 823:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 824:USB/core/usb_dcd_int.c **** * @retval status
 825:USB/core/usb_dcd_int.c **** */
 826:USB/core/usb_dcd_int.c **** static uint32_t DCD_IsoOUTIncomplete_ISR(USB_OTG_CORE_HANDLE *pdev)
 827:USB/core/usb_dcd_int.c **** {
 273              		.loc 1 827 0
 274              		.cfi_startproc
 275              		@ args = 0, pretend = 0, frame = 0
 276              		@ frame_needed = 0, uses_anonymous_args = 0
 277              	.LVL26:
 278 0000 10B5     		push	{r4, lr}
 279              	.LCFI6:
 280              		.cfi_def_cfa_offset 8
 281              		.cfi_offset 4, -8
 282              		.cfi_offset 14, -4
 283 0002 0446     		mov	r4, r0
 828:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef gintsts;  
 829:USB/core/usb_dcd_int.c ****   
 830:USB/core/usb_dcd_int.c ****   gintsts.d32 = 0;
 831:USB/core/usb_dcd_int.c **** 
 832:USB/core/usb_dcd_int.c ****   USBD_DCD_INT_fops->IsoOUTIncomplete (pdev); 
 284              		.loc 1 832 0
 285 0004 044B     		ldr	r3, .L21
 286 0006 1B68     		ldr	r3, [r3]
 287 0008 1B6A     		ldr	r3, [r3, #32]
 288 000a 9847     		blx	r3
 289              	.LVL27:
 833:USB/core/usb_dcd_int.c ****   
 834:USB/core/usb_dcd_int.c ****   /* Clear interrupt */
 835:USB/core/usb_dcd_int.c ****   gintsts.b.incomplisoout = 1;
 290              		.loc 1 835 0
 291 000c 4FF40013 		mov	r3, #2097152
 292              	.LVL28:
 836:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 293              		.loc 1 836 0
 294 0010 E268     		ldr	r2, [r4, #12]
 295              	.LVL29:
 296 0012 5361     		str	r3, [r2, #20]
 837:USB/core/usb_dcd_int.c ****   return 1;
 838:USB/core/usb_dcd_int.c **** }
 297              		.loc 1 838 0
 298 0014 0120     		movs	r0, #1
 299 0016 10BD     		pop	{r4, pc}
 300              	.LVL30:
 301              	.L22:
 302              		.align	2
 303              	.L21:
 304 0018 00000000 		.word	USBD_DCD_INT_fops
 305              		.cfi_endproc
 306              	.LFE135:
 308              		.section	.text.DCD_ReadDevInEP,"ax",%progbits
 309              		.align	2
 310              		.thumb
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 21


 311              		.thumb_func
 313              	DCD_ReadDevInEP:
 314              	.LFB136:
 839:USB/core/usb_dcd_int.c **** /**
 840:USB/core/usb_dcd_int.c **** * @brief  DCD_ReadDevInEP
 841:USB/core/usb_dcd_int.c **** *         Reads ep flags
 842:USB/core/usb_dcd_int.c **** * @param  pdev: device instance
 843:USB/core/usb_dcd_int.c **** * @retval status
 844:USB/core/usb_dcd_int.c **** */
 845:USB/core/usb_dcd_int.c **** static uint32_t DCD_ReadDevInEP (USB_OTG_CORE_HANDLE *pdev, uint8_t epnum)
 846:USB/core/usb_dcd_int.c **** {
 315              		.loc 1 846 0
 316              		.cfi_startproc
 317              		@ args = 0, pretend = 0, frame = 0
 318              		@ frame_needed = 0, uses_anonymous_args = 0
 319              		@ link register save eliminated.
 320              	.LVL31:
 321 0000 10B4     		push	{r4}
 322              	.LCFI7:
 323              		.cfi_def_cfa_offset 4
 324              		.cfi_offset 4, -4
 847:USB/core/usb_dcd_int.c ****   uint32_t v, msk, emp;
 848:USB/core/usb_dcd_int.c ****   msk = USB_OTG_READ_REG32(&pdev->regs.DREGS->DIEPMSK);
 325              		.loc 1 848 0
 326 0002 0269     		ldr	r2, [r0, #16]
 327 0004 1469     		ldr	r4, [r2, #16]
 328              	.LVL32:
 849:USB/core/usb_dcd_int.c ****   emp = USB_OTG_READ_REG32(&pdev->regs.DREGS->DIEPEMPMSK);
 329              		.loc 1 849 0
 330 0006 536B     		ldr	r3, [r2, #52]
 331              	.LVL33:
 850:USB/core/usb_dcd_int.c ****   msk |= ((emp >> epnum) & 0x1) << 7;
 332              		.loc 1 850 0
 333 0008 CB40     		lsrs	r3, r3, r1
 334              	.LVL34:
 335 000a DB01     		lsls	r3, r3, #7
 336 000c DBB2     		uxtb	r3, r3
 337 000e 2343     		orrs	r3, r3, r4
 338              	.LVL35:
 851:USB/core/usb_dcd_int.c ****   v = USB_OTG_READ_REG32(&pdev->regs.INEP_REGS[epnum]->DIEPINT) & msk;
 339              		.loc 1 851 0
 340 0010 0431     		adds	r1, r1, #4
 341              	.LVL36:
 342 0012 00EB8100 		add	r0, r0, r1, lsl #2
 343              	.LVL37:
 344 0016 8268     		ldr	r2, [r0, #8]
 345 0018 9068     		ldr	r0, [r2, #8]
 346              	.LVL38:
 852:USB/core/usb_dcd_int.c ****   return v;
 853:USB/core/usb_dcd_int.c **** }
 347              		.loc 1 853 0
 348 001a 1840     		ands	r0, r0, r3
 349              	.LVL39:
 350 001c 5DF8044B 		ldr	r4, [sp], #4
 351              	.LCFI8:
 352              		.cfi_restore 4
 353              		.cfi_def_cfa_offset 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 22


 354 0020 7047     		bx	lr
 355              		.cfi_endproc
 356              	.LFE136:
 358 0022 00BF     		.section	.text.DCD_HandleOutEP_ISR,"ax",%progbits
 359              		.align	2
 360              		.thumb
 361              		.thumb_func
 363              	DCD_HandleOutEP_ISR:
 364              	.LFB128:
 493:USB/core/usb_dcd_int.c ****   uint32_t ep_intr;
 365              		.loc 1 493 0
 366              		.cfi_startproc
 367              		@ args = 0, pretend = 0, frame = 0
 368              		@ frame_needed = 0, uses_anonymous_args = 0
 369              	.LVL40:
 370 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 371              	.LCFI9:
 372              		.cfi_def_cfa_offset 24
 373              		.cfi_offset 4, -24
 374              		.cfi_offset 5, -20
 375              		.cfi_offset 6, -16
 376              		.cfi_offset 7, -12
 377              		.cfi_offset 8, -8
 378              		.cfi_offset 14, -4
 379 0004 0746     		mov	r7, r0
 380              	.LVL41:
 502:USB/core/usb_dcd_int.c ****   
 381              		.loc 1 502 0
 382 0006 FFF7FEFF 		bl	USB_OTG_ReadDevAllOutEp_itr
 383              	.LVL42:
 384 000a 0446     		mov	r4, r0
 385              	.LVL43:
 497:USB/core/usb_dcd_int.c ****   
 386              		.loc 1 497 0
 387 000c 0025     		movs	r5, #0
 504:USB/core/usb_dcd_int.c ****   {
 388              		.loc 1 504 0
 389 000e 53E0     		b	.L26
 390              	.LVL44:
 391              	.L31:
 506:USB/core/usb_dcd_int.c ****     {
 392              		.loc 1 506 0
 393 0010 14F0010F 		tst	r4, #1
 394 0014 4ED0     		beq	.L27
 509:USB/core/usb_dcd_int.c ****       
 395              		.loc 1 509 0
 396 0016 5FFA85F8 		uxtb	r8, r5
 397 001a 4146     		mov	r1, r8
 398 001c 3846     		mov	r0, r7
 399 001e FFF7FEFF 		bl	USB_OTG_ReadDevOutEP_itr
 400              	.LVL45:
 401 0022 0646     		mov	r6, r0
 402              	.LVL46:
 512:USB/core/usb_dcd_int.c ****       {
 403              		.loc 1 512 0
 404 0024 10F0010F 		tst	r0, #1
 405 0028 2BD0     		beq	.L28
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 23


 515:USB/core/usb_dcd_int.c ****         if (pdev->cfg.dma_enable == 1)
 406              		.loc 1 515 0
 407 002a 0126     		movs	r6, #1
 408              	.LVL47:
 409 002c 05F11403 		add	r3, r5, #20
 410 0030 07EB8303 		add	r3, r7, r3, lsl #2
 411 0034 5B68     		ldr	r3, [r3, #4]
 412              	.LVL48:
 413 0036 9E60     		str	r6, [r3, #8]
 516:USB/core/usb_dcd_int.c ****         {
 414              		.loc 1 516 0
 415 0038 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 416 003a B342     		cmp	r3, r6
 417              	.LVL49:
 418 003c 10D1     		bne	.L29
 518:USB/core/usb_dcd_int.c ****           /*ToDo : handle more than one single MPS size packet */
 419              		.loc 1 518 0
 420 003e 05F11403 		add	r3, r5, #20
 421 0042 07EB8303 		add	r3, r7, r3, lsl #2
 422 0046 5B68     		ldr	r3, [r3, #4]
 423 0048 1969     		ldr	r1, [r3, #16]
 520:USB/core/usb_dcd_int.c ****             deptsiz.b.xfersize;
 424              		.loc 1 520 0
 425 004a AA00     		lsls	r2, r5, #2
 426 004c 2A44     		add	r2, r2, r5
 427 004e D300     		lsls	r3, r2, #3
 428 0050 3B44     		add	r3, r3, r7
 429 0052 D3F87C23 		ldr	r2, [r3, #892]
 521:USB/core/usb_dcd_int.c ****         }
 430              		.loc 1 521 0
 431 0056 C1F31201 		ubfx	r1, r1, #0, #19
 520:USB/core/usb_dcd_int.c ****             deptsiz.b.xfersize;
 432              		.loc 1 520 0
 433 005a 521A     		subs	r2, r2, r1
 434 005c C3F88C23 		str	r2, [r3, #908]
 435              	.L29:
 525:USB/core/usb_dcd_int.c ****         
 436              		.loc 1 525 0
 437 0060 184B     		ldr	r3, .L33
 438 0062 1B68     		ldr	r3, [r3]
 439 0064 1B68     		ldr	r3, [r3]
 440 0066 4146     		mov	r1, r8
 441 0068 3846     		mov	r0, r7
 442 006a 9847     		blx	r3
 443              	.LVL50:
 527:USB/core/usb_dcd_int.c ****         {
 444              		.loc 1 527 0
 445 006c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 446 006e 012B     		cmp	r3, #1
 447 0070 07D1     		bne	.L28
 529:USB/core/usb_dcd_int.c ****           {
 448              		.loc 1 529 0
 449 0072 35B9     		cbnz	r5, .L28
 529:USB/core/usb_dcd_int.c ****           {
 450              		.loc 1 529 0 is_stmt 0 discriminator 1
 451 0074 97F81131 		ldrb	r3, [r7, #273]	@ zero_extendqisi2
 452 0078 052B     		cmp	r3, #5
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 24


 453 007a 02D1     		bne	.L28
 532:USB/core/usb_dcd_int.c ****           }
 454              		.loc 1 532 0 is_stmt 1
 455 007c 3846     		mov	r0, r7
 456 007e FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 457              	.LVL51:
 458              	.L28:
 537:USB/core/usb_dcd_int.c ****       {
 459              		.loc 1 537 0
 460 0082 16F0020F 		tst	r6, #2
 461 0086 06D0     		beq	.L30
 540:USB/core/usb_dcd_int.c ****       }
 462              		.loc 1 540 0
 463 0088 0226     		movs	r6, #2
 464              	.LVL52:
 465 008a 05F11403 		add	r3, r5, #20
 466 008e 07EB8303 		add	r3, r7, r3, lsl #2
 467 0092 5B68     		ldr	r3, [r3, #4]
 468              	.LVL53:
 469 0094 9E60     		str	r6, [r3, #8]
 470              	.L30:
 543:USB/core/usb_dcd_int.c ****       {
 471              		.loc 1 543 0
 472 0096 16F0080F 		tst	r6, #8
 473 009a 0BD0     		beq	.L27
 548:USB/core/usb_dcd_int.c ****         CLEAR_OUT_EP_INTR(epnum, setup);
 474              		.loc 1 548 0
 475 009c 094B     		ldr	r3, .L33
 476 009e 1B68     		ldr	r3, [r3]
 477 00a0 9B68     		ldr	r3, [r3, #8]
 478 00a2 3846     		mov	r0, r7
 479 00a4 9847     		blx	r3
 480              	.LVL54:
 549:USB/core/usb_dcd_int.c ****       }
 481              		.loc 1 549 0
 482 00a6 0826     		movs	r6, #8
 483              	.LVL55:
 484 00a8 05F11403 		add	r3, r5, #20
 485 00ac 07EB8303 		add	r3, r7, r3, lsl #2
 486 00b0 5B68     		ldr	r3, [r3, #4]
 487              	.LVL56:
 488 00b2 9E60     		str	r6, [r3, #8]
 489              	.L27:
 552:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 490              		.loc 1 552 0
 491 00b4 0135     		adds	r5, r5, #1
 492              	.LVL57:
 553:USB/core/usb_dcd_int.c ****   }
 493              		.loc 1 553 0
 494 00b6 6408     		lsrs	r4, r4, #1
 495              	.LVL58:
 496              	.L26:
 504:USB/core/usb_dcd_int.c ****   {
 497              		.loc 1 504 0
 498 00b8 002C     		cmp	r4, #0
 499 00ba A9D1     		bne	.L31
 556:USB/core/usb_dcd_int.c **** 
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 25


 500              		.loc 1 556 0
 501 00bc 0120     		movs	r0, #1
 502 00be BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 503              	.LVL59:
 504              	.L34:
 505 00c2 00BF     		.align	2
 506              	.L33:
 507 00c4 00000000 		.word	USBD_DCD_INT_fops
 508              		.cfi_endproc
 509              	.LFE128:
 511              		.section	.text.DCD_WriteEmptyTxFifo,"ax",%progbits
 512              		.align	2
 513              		.thumb
 514              		.thumb_func
 516              	DCD_WriteEmptyTxFifo:
 517              	.LFB131:
 639:USB/core/usb_dcd_int.c ****   USB_OTG_DTXFSTSn_TypeDef  txstatus;
 518              		.loc 1 639 0
 519              		.cfi_startproc
 520              		@ args = 0, pretend = 0, frame = 0
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 522              	.LVL60:
 523 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 524              	.LCFI10:
 525              		.cfi_def_cfa_offset 24
 526              		.cfi_offset 4, -24
 527              		.cfi_offset 5, -20
 528              		.cfi_offset 6, -16
 529              		.cfi_offset 7, -12
 530              		.cfi_offset 8, -8
 531              		.cfi_offset 14, -4
 532 0004 0746     		mov	r7, r0
 533 0006 0D46     		mov	r5, r1
 534              	.LVL61:
 648:USB/core/usb_dcd_int.c ****   
 535              		.loc 1 648 0
 536 0008 8A00     		lsls	r2, r1, #2
 537 000a 0A44     		add	r2, r2, r1
 538 000c D300     		lsls	r3, r2, #3
 539 000e 0344     		add	r3, r3, r0
 540 0010 D3F83021 		ldr	r2, [r3, #304]
 541 0014 D3F83411 		ldr	r1, [r3, #308]
 542              	.LVL62:
 543 0018 521A     		subs	r2, r2, r1
 544              	.LVL63:
 650:USB/core/usb_dcd_int.c ****   {
 545              		.loc 1 650 0
 546 001a D3F82431 		ldr	r3, [r3, #292]
 547 001e 9A42     		cmp	r2, r3
 548 0020 00D8     		bhi	.L36
 648:USB/core/usb_dcd_int.c ****   
 549              		.loc 1 648 0
 550 0022 1346     		mov	r3, r2
 551              	.L36:
 552              	.LVL64:
 655:USB/core/usb_dcd_int.c ****   txstatus.d32 = USB_OTG_READ_REG32( &pdev->regs.INEP_REGS[epnum]->DTXFSTS);
 553              		.loc 1 655 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 26


 554 0024 03F10308 		add	r8, r3, #3
 555 0028 4FEA9808 		lsr	r8, r8, #2
 556              	.LVL65:
 656:USB/core/usb_dcd_int.c ****   
 557              		.loc 1 656 0
 558 002c 2B1D     		adds	r3, r5, #4
 559              	.LVL66:
 560 002e 07EB8303 		add	r3, r7, r3, lsl #2
 561 0032 9B68     		ldr	r3, [r3, #8]
 562 0034 9B69     		ldr	r3, [r3, #24]
 563              	.LVL67:
 660:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 564              		.loc 1 660 0
 565 0036 27E0     		b	.L37
 566              	.LVL68:
 567              	.L40:
 665:USB/core/usb_dcd_int.c ****     
 568              		.loc 1 665 0
 569 0038 5B1A     		subs	r3, r3, r1
 570              	.LVL69:
 667:USB/core/usb_dcd_int.c ****     {
 571              		.loc 1 667 0
 572 003a 05EB8501 		add	r1, r5, r5, lsl #2
 573 003e CA00     		lsls	r2, r1, #3
 574 0040 3A44     		add	r2, r2, r7
 575 0042 D2F82461 		ldr	r6, [r2, #292]
 576 0046 B342     		cmp	r3, r6
 577 0048 00D8     		bhi	.L38
 665:USB/core/usb_dcd_int.c ****     
 578              		.loc 1 665 0
 579 004a 1E46     		mov	r6, r3
 580              	.L38:
 581              	.LVL70:
 671:USB/core/usb_dcd_int.c ****     
 582              		.loc 1 671 0
 583 004c 06F10308 		add	r8, r6, #3
 584              	.LVL71:
 585 0050 4FEA9808 		lsr	r8, r8, #2
 586              	.LVL72:
 673:USB/core/usb_dcd_int.c ****     
 587              		.loc 1 673 0
 588 0054 AB00     		lsls	r3, r5, #2
 589 0056 2B44     		add	r3, r3, r5
 590 0058 DC00     		lsls	r4, r3, #3
 591 005a 3C44     		add	r4, r4, r7
 592 005c B3B2     		uxth	r3, r6
 593 005e EAB2     		uxtb	r2, r5
 594 0060 D4F82811 		ldr	r1, [r4, #296]
 595 0064 3846     		mov	r0, r7
 596 0066 FFF7FEFF 		bl	USB_OTG_WritePacket
 597              	.LVL73:
 675:USB/core/usb_dcd_int.c ****     ep->xfer_count += len;
 598              		.loc 1 675 0
 599 006a D4F82831 		ldr	r3, [r4, #296]
 600 006e 3344     		add	r3, r3, r6
 601 0070 C4F82831 		str	r3, [r4, #296]
 676:USB/core/usb_dcd_int.c ****     
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 27


 602              		.loc 1 676 0
 603 0074 D4F83431 		ldr	r3, [r4, #308]
 604 0078 1E44     		add	r6, r6, r3
 605              	.LVL74:
 606 007a C4F83461 		str	r6, [r4, #308]
 678:USB/core/usb_dcd_int.c ****   }
 607              		.loc 1 678 0
 608 007e 2B1D     		adds	r3, r5, #4
 609 0080 07EB8303 		add	r3, r7, r3, lsl #2
 610 0084 9B68     		ldr	r3, [r3, #8]
 611 0086 9B69     		ldr	r3, [r3, #24]
 612              	.LVL75:
 613              	.L37:
 660:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 614              		.loc 1 660 0
 615 0088 9BB2     		uxth	r3, r3
 616              	.LVL76:
 617 008a 9845     		cmp	r8, r3
 618 008c 0BD2     		bcs	.L39
 661:USB/core/usb_dcd_int.c ****             ep->xfer_len != 0)
 619              		.loc 1 661 0 discriminator 1
 620 008e AB00     		lsls	r3, r5, #2
 621 0090 2B44     		add	r3, r3, r5
 622 0092 DA00     		lsls	r2, r3, #3
 623 0094 3A44     		add	r2, r2, r7
 624 0096 D2F83411 		ldr	r1, [r2, #308]
 625 009a D2F83031 		ldr	r3, [r2, #304]
 660:USB/core/usb_dcd_int.c ****           ep->xfer_count < ep->xfer_len &&
 626              		.loc 1 660 0 discriminator 1
 627 009e 9942     		cmp	r1, r3
 628 00a0 01D2     		bcs	.L39
 661:USB/core/usb_dcd_int.c ****             ep->xfer_len != 0)
 629              		.loc 1 661 0
 630 00a2 002B     		cmp	r3, #0
 631 00a4 C8D1     		bne	.L40
 632              	.L39:
 682:USB/core/usb_dcd_int.c **** 
 633              		.loc 1 682 0
 634 00a6 0120     		movs	r0, #1
 635 00a8 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 636              		.cfi_endproc
 637              	.LFE131:
 639              		.section	.text.DCD_HandleInEP_ISR,"ax",%progbits
 640              		.align	2
 641              		.thumb
 642              		.thumb_func
 644              	DCD_HandleInEP_ISR:
 645              	.LFB127:
 424:USB/core/usb_dcd_int.c ****   USB_OTG_DIEPINTn_TypeDef  diepint;
 646              		.loc 1 424 0
 647              		.cfi_startproc
 648              		@ args = 0, pretend = 0, frame = 0
 649              		@ frame_needed = 0, uses_anonymous_args = 0
 650              	.LVL77:
 651 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 652              	.LCFI11:
 653              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 28


 654              		.cfi_offset 4, -24
 655              		.cfi_offset 5, -20
 656              		.cfi_offset 6, -16
 657              		.cfi_offset 7, -12
 658              		.cfi_offset 8, -8
 659              		.cfi_offset 14, -4
 660 0004 0746     		mov	r7, r0
 661              	.LVL78:
 431:USB/core/usb_dcd_int.c ****   
 662              		.loc 1 431 0
 663 0006 FFF7FEFF 		bl	USB_OTG_ReadDevAllInEPItr
 664              	.LVL79:
 665 000a 0446     		mov	r4, r0
 666              	.LVL80:
 428:USB/core/usb_dcd_int.c ****   uint32_t fifoemptymsk;
 667              		.loc 1 428 0
 668 000c 0026     		movs	r6, #0
 433:USB/core/usb_dcd_int.c ****   {
 669              		.loc 1 433 0
 670 000e 5EE0     		b	.L43
 671              	.LVL81:
 672              	.L50:
 435:USB/core/usb_dcd_int.c ****     {
 673              		.loc 1 435 0
 674 0010 14F0010F 		tst	r4, #1
 675 0014 59D0     		beq	.L44
 437:USB/core/usb_dcd_int.c ****       if ( diepint.b.xfercompl )
 676              		.loc 1 437 0
 677 0016 5FFA86F8 		uxtb	r8, r6
 678 001a 4146     		mov	r1, r8
 679 001c 3846     		mov	r0, r7
 680 001e FFF7FEFF 		bl	DCD_ReadDevInEP
 681              	.LVL82:
 682 0022 0546     		mov	r5, r0
 683              	.LVL83:
 438:USB/core/usb_dcd_int.c ****       {
 684              		.loc 1 438 0
 685 0024 10F0010F 		tst	r0, #1
 686 0028 1ED0     		beq	.L45
 440:USB/core/usb_dcd_int.c ****         USB_OTG_MODIFY_REG32(&pdev->regs.DREGS->DIEPEMPMSK, fifoemptymsk, 0);
 687              		.loc 1 440 0
 688 002a 0123     		movs	r3, #1
 689 002c 03FA06F0 		lsl	r0, r3, r6
 690              	.LVL84:
 441:USB/core/usb_dcd_int.c ****         CLEAR_IN_EP_INTR(epnum, xfercompl);
 691              		.loc 1 441 0
 692 0030 3969     		ldr	r1, [r7, #16]
 693 0032 4A6B     		ldr	r2, [r1, #52]
 694 0034 22EA0002 		bic	r2, r2, r0
 695 0038 4A63     		str	r2, [r1, #52]
 442:USB/core/usb_dcd_int.c ****         /* TX COMPLETE */
 696              		.loc 1 442 0
 697 003a 1D46     		mov	r5, r3
 698 003c 321D     		adds	r2, r6, #4
 699 003e 07EB8202 		add	r2, r7, r2, lsl #2
 700 0042 9268     		ldr	r2, [r2, #8]
 701 0044 9360     		str	r3, [r2, #8]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 29


 444:USB/core/usb_dcd_int.c ****         
 702              		.loc 1 444 0
 703 0046 244B     		ldr	r3, .L52
 704 0048 1B68     		ldr	r3, [r3]
 705 004a 5B68     		ldr	r3, [r3, #4]
 706 004c 4146     		mov	r1, r8
 707 004e 3846     		mov	r0, r7
 708              	.LVL85:
 709 0050 9847     		blx	r3
 710              	.LVL86:
 446:USB/core/usb_dcd_int.c ****         {
 711              		.loc 1 446 0
 712 0052 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 713 0054 AB42     		cmp	r3, r5
 714 0056 07D1     		bne	.L45
 448:USB/core/usb_dcd_int.c ****           {
 715              		.loc 1 448 0
 716 0058 36B9     		cbnz	r6, .L45
 448:USB/core/usb_dcd_int.c ****           {
 717              		.loc 1 448 0 is_stmt 0 discriminator 1
 718 005a 97F81131 		ldrb	r3, [r7, #273]	@ zero_extendqisi2
 719 005e 042B     		cmp	r3, #4
 720 0060 02D1     		bne	.L45
 451:USB/core/usb_dcd_int.c ****           }
 721              		.loc 1 451 0 is_stmt 1
 722 0062 3846     		mov	r0, r7
 723 0064 FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 724              	.LVL87:
 725              	.L45:
 455:USB/core/usb_dcd_int.c ****       {
 726              		.loc 1 455 0
 727 0068 15F0080F 		tst	r5, #8
 728 006c 05D0     		beq	.L46
 457:USB/core/usb_dcd_int.c ****       }
 729              		.loc 1 457 0
 730 006e 0825     		movs	r5, #8
 731              	.LVL88:
 732 0070 331D     		adds	r3, r6, #4
 733 0072 07EB8303 		add	r3, r7, r3, lsl #2
 734 0076 9B68     		ldr	r3, [r3, #8]
 735              	.LVL89:
 736 0078 9D60     		str	r5, [r3, #8]
 737              	.L46:
 459:USB/core/usb_dcd_int.c ****       {
 738              		.loc 1 459 0
 739 007a 15F0100F 		tst	r5, #16
 740 007e 05D0     		beq	.L47
 461:USB/core/usb_dcd_int.c ****       }
 741              		.loc 1 461 0
 742 0080 1025     		movs	r5, #16
 743              	.LVL90:
 744 0082 331D     		adds	r3, r6, #4
 745 0084 07EB8303 		add	r3, r7, r3, lsl #2
 746 0088 9B68     		ldr	r3, [r3, #8]
 747              	.LVL91:
 748 008a 9D60     		str	r5, [r3, #8]
 749              	.L47:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 30


 463:USB/core/usb_dcd_int.c ****       {
 750              		.loc 1 463 0
 751 008c 15F0400F 		tst	r5, #64
 752 0090 05D0     		beq	.L48
 465:USB/core/usb_dcd_int.c ****       }
 753              		.loc 1 465 0
 754 0092 4025     		movs	r5, #64
 755              	.LVL92:
 756 0094 331D     		adds	r3, r6, #4
 757 0096 07EB8303 		add	r3, r7, r3, lsl #2
 758 009a 9B68     		ldr	r3, [r3, #8]
 759              	.LVL93:
 760 009c 9D60     		str	r5, [r3, #8]
 761              	.L48:
 467:USB/core/usb_dcd_int.c ****       {
 762              		.loc 1 467 0
 763 009e 15F0020F 		tst	r5, #2
 764 00a2 05D0     		beq	.L49
 469:USB/core/usb_dcd_int.c ****       }       
 765              		.loc 1 469 0
 766 00a4 0225     		movs	r5, #2
 767              	.LVL94:
 768 00a6 331D     		adds	r3, r6, #4
 769 00a8 07EB8303 		add	r3, r7, r3, lsl #2
 770 00ac 9B68     		ldr	r3, [r3, #8]
 771              	.LVL95:
 772 00ae 9D60     		str	r5, [r3, #8]
 773              	.L49:
 471:USB/core/usb_dcd_int.c ****       {
 774              		.loc 1 471 0
 775 00b0 15F0800F 		tst	r5, #128
 776 00b4 09D0     		beq	.L44
 474:USB/core/usb_dcd_int.c ****         
 777              		.loc 1 474 0
 778 00b6 3146     		mov	r1, r6
 779 00b8 3846     		mov	r0, r7
 780 00ba FFF7FEFF 		bl	DCD_WriteEmptyTxFifo
 781              	.LVL96:
 476:USB/core/usb_dcd_int.c ****       }
 782              		.loc 1 476 0
 783 00be 8025     		movs	r5, #128
 784              	.LVL97:
 785 00c0 331D     		adds	r3, r6, #4
 786 00c2 07EB8303 		add	r3, r7, r3, lsl #2
 787 00c6 9B68     		ldr	r3, [r3, #8]
 788              	.LVL98:
 789 00c8 9D60     		str	r5, [r3, #8]
 790              	.L44:
 479:USB/core/usb_dcd_int.c ****     ep_intr >>= 1;
 791              		.loc 1 479 0
 792 00ca 0136     		adds	r6, r6, #1
 793              	.LVL99:
 480:USB/core/usb_dcd_int.c ****   }
 794              		.loc 1 480 0
 795 00cc 6408     		lsrs	r4, r4, #1
 796              	.LVL100:
 797              	.L43:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 31


 433:USB/core/usb_dcd_int.c ****   {
 798              		.loc 1 433 0
 799 00ce 002C     		cmp	r4, #0
 800 00d0 9ED1     		bne	.L50
 484:USB/core/usb_dcd_int.c **** 
 801              		.loc 1 484 0
 802 00d2 0120     		movs	r0, #1
 803 00d4 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 804              	.LVL101:
 805              	.L53:
 806              		.align	2
 807              	.L52:
 808 00d8 00000000 		.word	USBD_DCD_INT_fops
 809              		.cfi_endproc
 810              	.LFE127:
 812              		.section	.text.DCD_HandleRxStatusQueueLevel_ISR,"ax",%progbits
 813              		.align	2
 814              		.thumb
 815              		.thumb_func
 817              	DCD_HandleRxStatusQueueLevel_ISR:
 818              	.LFB130:
 586:USB/core/usb_dcd_int.c ****   USB_OTG_GINTMSK_TypeDef  int_mask;
 819              		.loc 1 586 0
 820              		.cfi_startproc
 821              		@ args = 0, pretend = 0, frame = 0
 822              		@ frame_needed = 0, uses_anonymous_args = 0
 823              	.LVL102:
 824 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 825              	.LCFI12:
 826              		.cfi_def_cfa_offset 24
 827              		.cfi_offset 4, -24
 828              		.cfi_offset 5, -20
 829              		.cfi_offset 6, -16
 830              		.cfi_offset 7, -12
 831              		.cfi_offset 8, -8
 832              		.cfi_offset 14, -4
 833 0004 0546     		mov	r5, r0
 594:USB/core/usb_dcd_int.c ****   
 834              		.loc 1 594 0
 835 0006 C268     		ldr	r2, [r0, #12]
 836 0008 9369     		ldr	r3, [r2, #24]
 837 000a 23F01003 		bic	r3, r3, #16
 838 000e 9361     		str	r3, [r2, #24]
 597:USB/core/usb_dcd_int.c ****   
 839              		.loc 1 597 0
 840 0010 C368     		ldr	r3, [r0, #12]
 841 0012 1C6A     		ldr	r4, [r3, #32]
 842              	.LVL103:
 599:USB/core/usb_dcd_int.c ****   
 843              		.loc 1 599 0
 844 0014 04F00F06 		and	r6, r4, #15
 845              	.LVL104:
 601:USB/core/usb_dcd_int.c ****   {
 846              		.loc 1 601 0
 847 0018 C4F34343 		ubfx	r3, r4, #17, #4
 848 001c 022B     		cmp	r3, #2
 849 001e 02D0     		beq	.L56
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 32


 850 0020 062B     		cmp	r3, #6
 851 0022 1CD0     		beq	.L57
 852 0024 2BE0     		b	.L55
 853              	.L56:
 606:USB/core/usb_dcd_int.c ****     {
 854              		.loc 1 606 0
 855 0026 47F6F073 		movw	r3, #32752
 856 002a 2342     		tst	r3, r4
 857 002c 27D0     		beq	.L55
 608:USB/core/usb_dcd_int.c ****       ep->xfer_buff += status.b.bcnt;
 858              		.loc 1 608 0
 859 002e C4F30A14 		ubfx	r4, r4, #4, #11
 860              	.LVL105:
 861 0032 4FEA8608 		lsl	r8, r6, #2
 862 0036 08EB0603 		add	r3, r8, r6
 863 003a DF00     		lsls	r7, r3, #3
 864 003c 0744     		add	r7, r7, r0
 865 003e 2246     		mov	r2, r4
 866 0040 D7F88013 		ldr	r1, [r7, #896]
 867 0044 FFF7FEFF 		bl	USB_OTG_ReadPacket
 868              	.LVL106:
 609:USB/core/usb_dcd_int.c ****       ep->xfer_count += status.b.bcnt;
 869              		.loc 1 609 0
 870 0048 D7F88033 		ldr	r3, [r7, #896]
 871 004c 2344     		add	r3, r3, r4
 872 004e C7F88033 		str	r3, [r7, #896]
 610:USB/core/usb_dcd_int.c ****     }
 873              		.loc 1 610 0
 874 0052 D7F88C33 		ldr	r3, [r7, #908]
 875 0056 1C44     		add	r4, r4, r3
 876 0058 C7F88C43 		str	r4, [r7, #908]
 877 005c 0FE0     		b	.L55
 878              	.LVL107:
 879              	.L57:
 619:USB/core/usb_dcd_int.c ****     ep->xfer_count += status.b.bcnt;
 880              		.loc 1 619 0
 881 005e 0822     		movs	r2, #8
 882 0060 00F2CC51 		addw	r1, r0, #1484
 883 0064 FFF7FEFF 		bl	USB_OTG_ReadPacket
 884              	.LVL108:
 620:USB/core/usb_dcd_int.c ****     break;
 885              		.loc 1 620 0
 886 0068 C4F30A14 		ubfx	r4, r4, #4, #11
 887              	.LVL109:
 888 006c B200     		lsls	r2, r6, #2
 889 006e 9119     		adds	r1, r2, r6
 890 0070 CB00     		lsls	r3, r1, #3
 891 0072 2B44     		add	r3, r3, r5
 892 0074 D3F88C23 		ldr	r2, [r3, #908]
 893 0078 1444     		add	r4, r4, r2
 894 007a C3F88C43 		str	r4, [r3, #908]
 895              	.LVL110:
 896              	.L55:
 627:USB/core/usb_dcd_int.c ****   
 897              		.loc 1 627 0
 898 007e EA68     		ldr	r2, [r5, #12]
 899 0080 9369     		ldr	r3, [r2, #24]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 33


 900 0082 43F01003 		orr	r3, r3, #16
 901 0086 9361     		str	r3, [r2, #24]
 630:USB/core/usb_dcd_int.c **** 
 902              		.loc 1 630 0
 903 0088 0120     		movs	r0, #1
 904 008a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 905              		.cfi_endproc
 906              	.LFE130:
 908 008e 00BF     		.section	.text.DCD_HandleUsbReset_ISR,"ax",%progbits
 909              		.align	2
 910              		.thumb
 911              		.thumb_func
 913              	DCD_HandleUsbReset_ISR:
 914              	.LFB132:
 691:USB/core/usb_dcd_int.c ****   USB_OTG_DAINT_TypeDef    daintmsk;
 915              		.loc 1 691 0
 916              		.cfi_startproc
 917              		@ args = 0, pretend = 0, frame = 0
 918              		@ frame_needed = 0, uses_anonymous_args = 0
 919              	.LVL111:
 920 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 921              	.LCFI13:
 922              		.cfi_def_cfa_offset 32
 923              		.cfi_offset 3, -32
 924              		.cfi_offset 4, -28
 925              		.cfi_offset 5, -24
 926              		.cfi_offset 6, -20
 927              		.cfi_offset 7, -16
 928              		.cfi_offset 8, -12
 929              		.cfi_offset 9, -8
 930              		.cfi_offset 14, -4
 931 0004 0446     		mov	r4, r0
 700:USB/core/usb_dcd_int.c ****   daintmsk.d32 = 0;
 932              		.loc 1 700 0
 933 0006 0025     		movs	r5, #0
 934              	.LVL112:
 702:USB/core/usb_dcd_int.c ****   diepmsk.d32 = 0;
 935              		.loc 1 702 0
 936 0008 A846     		mov	r8, r5
 937              	.LVL113:
 703:USB/core/usb_dcd_int.c ****   dcfg.d32 = 0;
 938              		.loc 1 703 0
 939 000a 2F46     		mov	r7, r5
 940              	.LVL114:
 705:USB/core/usb_dcd_int.c ****   
 941              		.loc 1 705 0
 942 000c 2E46     		mov	r6, r5
 943              	.LVL115:
 709:USB/core/usb_dcd_int.c ****   
 944              		.loc 1 709 0
 945 000e 0269     		ldr	r2, [r0, #16]
 946 0010 5368     		ldr	r3, [r2, #4]
 947 0012 23F00103 		bic	r3, r3, #1
 948 0016 5360     		str	r3, [r2, #4]
 712:USB/core/usb_dcd_int.c ****   
 949              		.loc 1 712 0
 950 0018 2946     		mov	r1, r5
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 34


 951 001a FFF7FEFF 		bl	USB_OTG_FlushTxFifo
 952              	.LVL116:
 714:USB/core/usb_dcd_int.c ****   {
 953              		.loc 1 714 0
 954 001e 2B46     		mov	r3, r5
 955 0020 0CE0     		b	.L60
 956              	.LVL117:
 957              	.L61:
 716:USB/core/usb_dcd_int.c ****     USB_OTG_WRITE_REG32( &pdev->regs.OUTEP_REGS[i]->DOEPINT, 0xFF);
 958              		.loc 1 716 0 discriminator 3
 959 0022 1A1D     		adds	r2, r3, #4
 960 0024 04EB8202 		add	r2, r4, r2, lsl #2
 961 0028 9268     		ldr	r2, [r2, #8]
 962 002a FF21     		movs	r1, #255
 963 002c 9160     		str	r1, [r2, #8]
 717:USB/core/usb_dcd_int.c ****   }
 964              		.loc 1 717 0 discriminator 3
 965 002e 03F11402 		add	r2, r3, #20
 966 0032 04EB8202 		add	r2, r4, r2, lsl #2
 967 0036 5268     		ldr	r2, [r2, #4]
 968 0038 9160     		str	r1, [r2, #8]
 714:USB/core/usb_dcd_int.c ****   {
 969              		.loc 1 714 0 discriminator 3
 970 003a 0133     		adds	r3, r3, #1
 971              	.LVL118:
 972              	.L60:
 714:USB/core/usb_dcd_int.c ****   {
 973              		.loc 1 714 0 is_stmt 0 discriminator 1
 974 003c 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
 975 003e 9342     		cmp	r3, r2
 976 0040 EFD3     		bcc	.L61
 719:USB/core/usb_dcd_int.c ****   
 977              		.loc 1 719 0 is_stmt 1
 978 0042 2369     		ldr	r3, [r4, #16]
 979              	.LVL119:
 980 0044 4FF0FF32 		mov	r2, #-1
 981 0048 9A61     		str	r2, [r3, #24]
 721:USB/core/usb_dcd_int.c ****   daintmsk.ep.out = 1;
 982              		.loc 1 721 0
 983 004a 4FF00109 		mov	r9, #1
 984 004e 69F30F05 		bfi	r5, r9, #0, #16
 722:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DAINTMSK, daintmsk.d32 );
 985              		.loc 1 722 0
 986 0052 69F31F45 		bfi	r5, r9, #16, #16
 723:USB/core/usb_dcd_int.c ****   
 987              		.loc 1 723 0
 988 0056 2369     		ldr	r3, [r4, #16]
 989 0058 DD61     		str	r5, [r3, #28]
 990              	.LVL120:
 727:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DOEPMSK, doepmsk.d32 );
 991              		.loc 1 727 0
 992 005a 48F00B08 		orr	r8, r8, #11
 993              	.LVL121:
 728:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED   
 994              		.loc 1 728 0
 995 005e 2369     		ldr	r3, [r4, #16]
 996              	.LVL122:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 35


 997 0060 C3F81480 		str	r8, [r3, #20]
 998              	.LVL123:
 734:USB/core/usb_dcd_int.c **** 
 999              		.loc 1 734 0
 1000 0064 47F00B07 		orr	r7, r7, #11
 1001              	.LVL124:
 736:USB/core/usb_dcd_int.c **** #ifdef USB_OTG_HS_DEDICATED_EP1_ENABLED  
 1002              		.loc 1 736 0
 1003 0068 2369     		ldr	r3, [r4, #16]
 1004              	.LVL125:
 1005 006a 1F61     		str	r7, [r3, #16]
 741:USB/core/usb_dcd_int.c ****   dcfg.b.devaddr = 0;
 1006              		.loc 1 741 0
 1007 006c 2269     		ldr	r2, [r4, #16]
 1008 006e 1368     		ldr	r3, [r2]
 742:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.DREGS->DCFG, dcfg.d32);
 1009              		.loc 1 742 0
 1010 0070 6FF30A13 		bfc	r3, #4, #7
 1011              	.LVL126:
 743:USB/core/usb_dcd_int.c ****   
 1012              		.loc 1 743 0
 1013 0074 1360     		str	r3, [r2]
 747:USB/core/usb_dcd_int.c ****   
 1014              		.loc 1 747 0
 1015 0076 2046     		mov	r0, r4
 1016 0078 FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 1017              	.LVL127:
 751:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32 (&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 1018              		.loc 1 751 0
 1019 007c 46F48056 		orr	r6, r6, #4096
 1020              	.LVL128:
 752:USB/core/usb_dcd_int.c ****   
 1021              		.loc 1 752 0
 1022 0080 E368     		ldr	r3, [r4, #12]
 1023              	.LVL129:
 1024 0082 5E61     		str	r6, [r3, #20]
 755:USB/core/usb_dcd_int.c ****   return 1;
 1025              		.loc 1 755 0
 1026 0084 034B     		ldr	r3, .L63
 1027 0086 1B68     		ldr	r3, [r3]
 1028 0088 1B69     		ldr	r3, [r3, #16]
 1029 008a 2046     		mov	r0, r4
 1030 008c 9847     		blx	r3
 1031              	.LVL130:
 757:USB/core/usb_dcd_int.c **** 
 1032              		.loc 1 757 0
 1033 008e 4846     		mov	r0, r9
 1034 0090 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 1035              	.LVL131:
 1036              	.L64:
 1037              		.align	2
 1038              	.L63:
 1039 0094 00000000 		.word	USBD_DCD_INT_fops
 1040              		.cfi_endproc
 1041              	.LFE132:
 1043              		.section	.text.DCD_HandleEnumDone_ISR,"ax",%progbits
 1044              		.align	2
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 36


 1045              		.thumb
 1046              		.thumb_func
 1048              	DCD_HandleEnumDone_ISR:
 1049              	.LFB133:
 766:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintsts;
 1050              		.loc 1 766 0
 1051              		.cfi_startproc
 1052              		@ args = 0, pretend = 0, frame = 0
 1053              		@ frame_needed = 0, uses_anonymous_args = 0
 1054              	.LVL132:
 1055 0000 38B5     		push	{r3, r4, r5, lr}
 1056              	.LCFI14:
 1057              		.cfi_def_cfa_offset 16
 1058              		.cfi_offset 3, -16
 1059              		.cfi_offset 4, -12
 1060              		.cfi_offset 5, -8
 1061              		.cfi_offset 14, -4
 1062 0002 0446     		mov	r4, r0
 770:USB/core/usb_dcd_int.c ****   
 1063              		.loc 1 770 0
 1064 0004 FFF7FEFF 		bl	USB_OTG_EP0Activate
 1065              	.LVL133:
 773:USB/core/usb_dcd_int.c ****   
 1066              		.loc 1 773 0
 1067 0008 E368     		ldr	r3, [r4, #12]
 1068 000a DD68     		ldr	r5, [r3, #12]
 1069              	.LVL134:
 776:USB/core/usb_dcd_int.c ****   {
 1070              		.loc 1 776 0
 1071 000c 2046     		mov	r0, r4
 1072 000e FFF7FEFF 		bl	USB_OTG_GetDeviceSpeed
 1073              	.LVL135:
 1074 0012 0328     		cmp	r0, #3
 1075 0014 08D1     		bne	.L66
 778:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_HS_MAX_PACKET_SIZE ;    
 1076              		.loc 1 778 0
 1077 0016 0023     		movs	r3, #0
 1078 0018 A370     		strb	r3, [r4, #2]
 779:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 9;
 1079              		.loc 1 779 0
 1080 001a 4FF40073 		mov	r3, #512
 1081 001e A380     		strh	r3, [r4, #4]	@ movhi
 780:USB/core/usb_dcd_int.c ****   }
 1082              		.loc 1 780 0
 1083 0020 0923     		movs	r3, #9
 1084 0022 63F38D25 		bfi	r5, r3, #10, #4
 1085 0026 06E0     		b	.L67
 1086              	.L66:
 784:USB/core/usb_dcd_int.c ****     pdev->cfg.mps              = USB_OTG_FS_MAX_PACKET_SIZE ;  
 1087              		.loc 1 784 0
 1088 0028 0123     		movs	r3, #1
 1089 002a A370     		strb	r3, [r4, #2]
 785:USB/core/usb_dcd_int.c ****     gusbcfg.b.usbtrdtim = 5;
 1090              		.loc 1 785 0
 1091 002c 4023     		movs	r3, #64
 1092 002e A380     		strh	r3, [r4, #4]	@ movhi
 786:USB/core/usb_dcd_int.c ****   }
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 37


 1093              		.loc 1 786 0
 1094 0030 0523     		movs	r3, #5
 1095 0032 63F38D25 		bfi	r5, r3, #10, #4
 1096              	.L67:
 789:USB/core/usb_dcd_int.c ****   
 1097              		.loc 1 789 0
 1098 0036 E368     		ldr	r3, [r4, #12]
 1099 0038 DD60     		str	r5, [r3, #12]
 793:USB/core/usb_dcd_int.c ****   USB_OTG_WRITE_REG32( &pdev->regs.GREGS->GINTSTS, gintsts.d32 );
 1100              		.loc 1 793 0
 1101 003a 4FF40053 		mov	r3, #8192
 1102              	.LVL136:
 794:USB/core/usb_dcd_int.c ****   return 1;
 1103              		.loc 1 794 0
 1104 003e E268     		ldr	r2, [r4, #12]
 1105              	.LVL137:
 1106 0040 5361     		str	r3, [r2, #20]
 796:USB/core/usb_dcd_int.c **** 
 1107              		.loc 1 796 0
 1108 0042 0120     		movs	r0, #1
 1109 0044 38BD     		pop	{r3, r4, r5, pc}
 1110              		.cfi_endproc
 1111              	.LFE133:
 1113 0046 00BF     		.section	.text.USBD_OTG_ISR_Handler,"ax",%progbits
 1114              		.align	2
 1115              		.global	USBD_OTG_ISR_Handler
 1116              		.thumb
 1117              		.thumb_func
 1119              	USBD_OTG_ISR_Handler:
 1120              	.LFB124:
 210:USB/core/usb_dcd_int.c ****   USB_OTG_GINTSTS_TypeDef  gintr_status;
 1121              		.loc 1 210 0
 1122              		.cfi_startproc
 1123              		@ args = 0, pretend = 0, frame = 0
 1124              		@ frame_needed = 0, uses_anonymous_args = 0
 1125              	.LVL138:
 1126 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 1127              	.LCFI15:
 1128              		.cfi_def_cfa_offset 24
 1129              		.cfi_offset 4, -24
 1130              		.cfi_offset 5, -20
 1131              		.cfi_offset 6, -16
 1132              		.cfi_offset 7, -12
 1133              		.cfi_offset 8, -8
 1134              		.cfi_offset 14, -4
 1135 0004 0546     		mov	r5, r0
 1136              	.LVL139:
 214:USB/core/usb_dcd_int.c ****   {
 1137              		.loc 1 214 0
 1138 0006 FFF7FEFF 		bl	USB_OTG_IsDeviceMode
 1139              	.LVL140:
 1140 000a 0028     		cmp	r0, #0
 1141 000c 5AD0     		beq	.L81
 216:USB/core/usb_dcd_int.c ****     if (!gintr_status.d32) /* avoid spurious interrupt */
 1142              		.loc 1 216 0
 1143 000e 2846     		mov	r0, r5
 1144 0010 FFF7FEFF 		bl	USB_OTG_ReadCoreItr
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 38


 1145              	.LVL141:
 1146 0014 0646     		mov	r6, r0
 1147              	.LVL142:
 217:USB/core/usb_dcd_int.c ****     {
 1148              		.loc 1 217 0
 1149 0016 0028     		cmp	r0, #0
 1150 0018 58D0     		beq	.L70
 222:USB/core/usb_dcd_int.c ****     {
 1151              		.loc 1 222 0
 1152 001a C0F30747 		ubfx	r7, r0, #16, #8
 1153 001e 17F0080F 		tst	r7, #8
 1154 0022 04D0     		beq	.L82
 224:USB/core/usb_dcd_int.c ****     }    
 1155              		.loc 1 224 0
 1156 0024 2846     		mov	r0, r5
 1157 0026 FFF7FEFF 		bl	DCD_HandleOutEP_ISR
 1158              	.LVL143:
 1159 002a 0446     		mov	r4, r0
 1160              	.LVL144:
 1161 002c 00E0     		b	.L71
 1162              	.LVL145:
 1163              	.L82:
 212:USB/core/usb_dcd_int.c ****   
 1164              		.loc 1 212 0
 1165 002e 0024     		movs	r4, #0
 1166              	.LVL146:
 1167              	.L71:
 227:USB/core/usb_dcd_int.c ****     {
 1168              		.loc 1 227 0
 1169 0030 17F0040F 		tst	r7, #4
 1170 0034 03D0     		beq	.L72
 229:USB/core/usb_dcd_int.c ****     }
 1171              		.loc 1 229 0
 1172 0036 2846     		mov	r0, r5
 1173 0038 FFF7FEFF 		bl	DCD_HandleInEP_ISR
 1174              	.LVL147:
 1175 003c 0443     		orrs	r4, r4, r0
 1176              	.LVL148:
 1177              	.L72:
 232:USB/core/usb_dcd_int.c ****     {
 1178              		.loc 1 232 0
 1179 003e 5FFA86F8 		uxtb	r8, r6
 1180 0042 18F0020F 		tst	r8, #2
 1181 0046 02D0     		beq	.L73
 1182              	.LBB2:
 238:USB/core/usb_dcd_int.c ****       USB_OTG_WRITE_REG32(&pdev->regs.GREGS->GINTSTS, gintsts.d32);
 1183              		.loc 1 238 0
 1184 0048 0223     		movs	r3, #2
 1185              	.LVL149:
 239:USB/core/usb_dcd_int.c ****     }
 1186              		.loc 1 239 0
 1187 004a EA68     		ldr	r2, [r5, #12]
 1188              	.LVL150:
 1189 004c 5361     		str	r3, [r2, #20]
 1190              	.L73:
 1191              	.LBE2:
 242:USB/core/usb_dcd_int.c ****     {
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 39


 1192              		.loc 1 242 0
 1193 004e 002E     		cmp	r6, #0
 1194 0050 03DA     		bge	.L74
 244:USB/core/usb_dcd_int.c ****     }
 1195              		.loc 1 244 0
 1196 0052 2846     		mov	r0, r5
 1197 0054 FFF7FEFF 		bl	DCD_HandleResume_ISR
 1198              	.LVL151:
 1199 0058 0443     		orrs	r4, r4, r0
 1200              	.LVL152:
 1201              	.L74:
 247:USB/core/usb_dcd_int.c ****     {
 1202              		.loc 1 247 0
 1203 005a C6F30726 		ubfx	r6, r6, #8, #8
 1204 005e 16F0080F 		tst	r6, #8
 1205 0062 03D0     		beq	.L75
 249:USB/core/usb_dcd_int.c ****     }
 1206              		.loc 1 249 0
 1207 0064 2846     		mov	r0, r5
 1208 0066 FFF7FEFF 		bl	DCD_HandleUSBSuspend_ISR
 1209              	.LVL153:
 1210 006a 0443     		orrs	r4, r4, r0
 1211              	.LVL154:
 1212              	.L75:
 251:USB/core/usb_dcd_int.c ****     {
 1213              		.loc 1 251 0
 1214 006c 18F0080F 		tst	r8, #8
 1215 0070 03D0     		beq	.L76
 253:USB/core/usb_dcd_int.c ****       
 1216              		.loc 1 253 0
 1217 0072 2846     		mov	r0, r5
 1218 0074 FFF7FEFF 		bl	DCD_HandleSof_ISR
 1219              	.LVL155:
 1220 0078 0443     		orrs	r4, r4, r0
 1221              	.LVL156:
 1222              	.L76:
 257:USB/core/usb_dcd_int.c ****     {
 1223              		.loc 1 257 0
 1224 007a 18F0100F 		tst	r8, #16
 1225 007e 03D0     		beq	.L77
 259:USB/core/usb_dcd_int.c ****       
 1226              		.loc 1 259 0
 1227 0080 2846     		mov	r0, r5
 1228 0082 FFF7FEFF 		bl	DCD_HandleRxStatusQueueLevel_ISR
 1229              	.LVL157:
 1230 0086 0443     		orrs	r4, r4, r0
 1231              	.LVL158:
 1232              	.L77:
 263:USB/core/usb_dcd_int.c ****     {
 1233              		.loc 1 263 0
 1234 0088 16F0100F 		tst	r6, #16
 1235 008c 03D0     		beq	.L78
 265:USB/core/usb_dcd_int.c ****       
 1236              		.loc 1 265 0
 1237 008e 2846     		mov	r0, r5
 1238 0090 FFF7FEFF 		bl	DCD_HandleUsbReset_ISR
 1239              	.LVL159:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 40


 1240 0094 0443     		orrs	r4, r4, r0
 1241              	.LVL160:
 1242              	.L78:
 268:USB/core/usb_dcd_int.c ****     {
 1243              		.loc 1 268 0
 1244 0096 16F0200F 		tst	r6, #32
 1245 009a 03D0     		beq	.L79
 270:USB/core/usb_dcd_int.c ****     }
 1246              		.loc 1 270 0
 1247 009c 2846     		mov	r0, r5
 1248 009e FFF7FEFF 		bl	DCD_HandleEnumDone_ISR
 1249              	.LVL161:
 1250 00a2 0443     		orrs	r4, r4, r0
 1251              	.LVL162:
 1252              	.L79:
 273:USB/core/usb_dcd_int.c ****     {
 1253              		.loc 1 273 0
 1254 00a4 17F0100F 		tst	r7, #16
 1255 00a8 03D0     		beq	.L80
 275:USB/core/usb_dcd_int.c ****     }
 1256              		.loc 1 275 0
 1257 00aa 2846     		mov	r0, r5
 1258 00ac FFF7FEFF 		bl	DCD_IsoINIncomplete_ISR
 1259              	.LVL163:
 1260 00b0 0443     		orrs	r4, r4, r0
 1261              	.LVL164:
 1262              	.L80:
 278:USB/core/usb_dcd_int.c ****     {
 1263              		.loc 1 278 0
 1264 00b2 17F0200F 		tst	r7, #32
 1265 00b6 08D0     		beq	.L83
 280:USB/core/usb_dcd_int.c ****     }    
 1266              		.loc 1 280 0
 1267 00b8 2846     		mov	r0, r5
 1268 00ba FFF7FEFF 		bl	DCD_IsoOUTIncomplete_ISR
 1269              	.LVL165:
 1270 00be 2043     		orrs	r0, r0, r4
 1271              	.LVL166:
 1272 00c0 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1273              	.LVL167:
 1274              	.L81:
 212:USB/core/usb_dcd_int.c ****   
 1275              		.loc 1 212 0
 1276 00c4 0020     		movs	r0, #0
 1277 00c6 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1278              	.LVL168:
 1279              	.L83:
 1280 00ca 2046     		mov	r0, r4
 1281              	.LVL169:
 1282              	.L70:
 295:USB/core/usb_dcd_int.c **** 
 1283              		.loc 1 295 0
 1284 00cc BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 1285              		.cfi_endproc
 1286              	.LFE124:
 1288              		.text
 1289              	.Letext0:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 41


 1290              		.file 2 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\machine\\_default_types.h"
 1291              		.file 3 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\sys\\_stdint.h"
 1292              		.file 4 "F4_CORE/core_cm4.h"
 1293              		.file 5 "USB/core/usb_regs.h"
 1294              		.file 6 "USB/core/usb_core.h"
 1295              		.file 7 "USB/core/usb_dcd_int.h"
 1296              		.file 8 "USB/core/usb_defines.h"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s 			page 42


DEFINED SYMBOLS
                            *ABS*:00000000 usb_dcd_int.c
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:22     .text.DCD_HandleResume_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:26     .text.DCD_HandleResume_ISR:00000000 DCD_HandleResume_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:82     .text.DCD_HandleResume_ISR:0000003c $d
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:87     .text.DCD_HandleUSBSuspend_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:91     .text.DCD_HandleUSBSuspend_ISR:00000000 DCD_HandleUSBSuspend_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:177    .text.DCD_HandleUSBSuspend_ISR:0000006c $d
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:183    .text.DCD_HandleSof_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:187    .text.DCD_HandleSof_ISR:00000000 DCD_HandleSof_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:220    .text.DCD_HandleSof_ISR:00000018 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:225    .text.DCD_IsoINIncomplete_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:229    .text.DCD_IsoINIncomplete_ISR:00000000 DCD_IsoINIncomplete_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:262    .text.DCD_IsoINIncomplete_ISR:00000018 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:267    .text.DCD_IsoOUTIncomplete_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:271    .text.DCD_IsoOUTIncomplete_ISR:00000000 DCD_IsoOUTIncomplete_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:304    .text.DCD_IsoOUTIncomplete_ISR:00000018 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:309    .text.DCD_ReadDevInEP:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:313    .text.DCD_ReadDevInEP:00000000 DCD_ReadDevInEP
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:359    .text.DCD_HandleOutEP_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:363    .text.DCD_HandleOutEP_ISR:00000000 DCD_HandleOutEP_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:507    .text.DCD_HandleOutEP_ISR:000000c4 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:512    .text.DCD_WriteEmptyTxFifo:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:516    .text.DCD_WriteEmptyTxFifo:00000000 DCD_WriteEmptyTxFifo
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:640    .text.DCD_HandleInEP_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:644    .text.DCD_HandleInEP_ISR:00000000 DCD_HandleInEP_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:808    .text.DCD_HandleInEP_ISR:000000d8 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:813    .text.DCD_HandleRxStatusQueueLevel_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:817    .text.DCD_HandleRxStatusQueueLevel_ISR:00000000 DCD_HandleRxStatusQueueLevel_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:909    .text.DCD_HandleUsbReset_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:913    .text.DCD_HandleUsbReset_ISR:00000000 DCD_HandleUsbReset_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:1039   .text.DCD_HandleUsbReset_ISR:00000094 $d
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:1044   .text.DCD_HandleEnumDone_ISR:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:1048   .text.DCD_HandleEnumDone_ISR:00000000 DCD_HandleEnumDone_ISR
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:1114   .text.USBD_OTG_ISR_Handler:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\cca27BEL.s:1119   .text.USBD_OTG_ISR_Handler:00000000 USBD_OTG_ISR_Handler
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
USBD_DCD_INT_fops
USB_OTG_ReadDevAllOutEp_itr
USB_OTG_ReadDevOutEP_itr
USB_OTG_EP0_OutStart
USB_OTG_WritePacket
USB_OTG_ReadDevAllInEPItr
USB_OTG_ReadPacket
USB_OTG_FlushTxFifo
USB_OTG_EP0Activate
USB_OTG_GetDeviceSpeed
USB_OTG_IsDeviceMode
USB_OTG_ReadCoreItr
