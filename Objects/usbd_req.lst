ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbd_req.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USBD_GetLen,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	USBD_GetLen:
  26              	.LVL0:
  27              	.LFB139:
  28              		.file 1 "USB/core/usbd_req.c"
   1:USB/core/usbd_req.c **** /**
   2:USB/core/usbd_req.c ****   ******************************************************************************
   3:USB/core/usbd_req.c ****   * @file    usbd_req.c
   4:USB/core/usbd_req.c ****   * @author  MCD Application Team
   5:USB/core/usbd_req.c ****   * @version V1.1.0
   6:USB/core/usbd_req.c ****   * @date    19-March-2012 
   7:USB/core/usbd_req.c ****   * @brief   This file provides the standard USB requests following chapter 9.
   8:USB/core/usbd_req.c ****   ******************************************************************************
   9:USB/core/usbd_req.c ****   * @attention
  10:USB/core/usbd_req.c ****   *
  11:USB/core/usbd_req.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  12:USB/core/usbd_req.c ****   *
  13:USB/core/usbd_req.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  14:USB/core/usbd_req.c ****   * You may not use this file except in compliance with the License.
  15:USB/core/usbd_req.c ****   * You may obtain a copy of the License at:
  16:USB/core/usbd_req.c ****   *
  17:USB/core/usbd_req.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  18:USB/core/usbd_req.c ****   *
  19:USB/core/usbd_req.c ****   * Unless required by applicable law or agreed to in writing, software 
  20:USB/core/usbd_req.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  21:USB/core/usbd_req.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:USB/core/usbd_req.c ****   * See the License for the specific language governing permissions and
  23:USB/core/usbd_req.c ****   * limitations under the License.
  24:USB/core/usbd_req.c ****   *
  25:USB/core/usbd_req.c ****   ******************************************************************************
  26:USB/core/usbd_req.c ****   */ 
  27:USB/core/usbd_req.c **** 
  28:USB/core/usbd_req.c **** /* Includes ------------------------------------------------------------------*/
  29:USB/core/usbd_req.c **** #include "usbd_req.h"
  30:USB/core/usbd_req.c **** #include "usbd_ioreq.h"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 2


  31:USB/core/usbd_req.c **** #include "usbd_desc.h"
  32:USB/core/usbd_req.c **** 
  33:USB/core/usbd_req.c **** 
  34:USB/core/usbd_req.c **** /** @addtogroup STM32_USB_OTG_DEVICE_LIBRARY
  35:USB/core/usbd_req.c ****   * @{
  36:USB/core/usbd_req.c ****   */
  37:USB/core/usbd_req.c **** 
  38:USB/core/usbd_req.c **** 
  39:USB/core/usbd_req.c **** /** @defgroup USBD_REQ 
  40:USB/core/usbd_req.c ****   * @brief USB standard requests module
  41:USB/core/usbd_req.c ****   * @{
  42:USB/core/usbd_req.c ****   */ 
  43:USB/core/usbd_req.c **** 
  44:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_TypesDefinitions
  45:USB/core/usbd_req.c ****   * @{
  46:USB/core/usbd_req.c ****   */ 
  47:USB/core/usbd_req.c **** /**
  48:USB/core/usbd_req.c ****   * @}
  49:USB/core/usbd_req.c ****   */ 
  50:USB/core/usbd_req.c **** 
  51:USB/core/usbd_req.c **** 
  52:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_Defines
  53:USB/core/usbd_req.c ****   * @{
  54:USB/core/usbd_req.c ****   */ 
  55:USB/core/usbd_req.c **** 
  56:USB/core/usbd_req.c **** /**
  57:USB/core/usbd_req.c ****   * @}
  58:USB/core/usbd_req.c ****   */ 
  59:USB/core/usbd_req.c **** 
  60:USB/core/usbd_req.c **** 
  61:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_Macros
  62:USB/core/usbd_req.c ****   * @{
  63:USB/core/usbd_req.c ****   */ 
  64:USB/core/usbd_req.c **** /**
  65:USB/core/usbd_req.c ****   * @}
  66:USB/core/usbd_req.c ****   */ 
  67:USB/core/usbd_req.c **** 
  68:USB/core/usbd_req.c **** 
  69:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_Variables
  70:USB/core/usbd_req.c ****   * @{
  71:USB/core/usbd_req.c ****   */ 
  72:USB/core/usbd_req.c **** extern __IO USB_OTG_DCTL_TypeDef SET_TEST_MODE;
  73:USB/core/usbd_req.c **** 
  74:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
  75:USB/core/usbd_req.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
  76:USB/core/usbd_req.c ****     #pragma data_alignment=4   
  77:USB/core/usbd_req.c ****   #endif
  78:USB/core/usbd_req.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */  
  79:USB/core/usbd_req.c **** __ALIGN_BEGIN uint32_t USBD_ep_status __ALIGN_END  = 0; 
  80:USB/core/usbd_req.c **** 
  81:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
  82:USB/core/usbd_req.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
  83:USB/core/usbd_req.c ****     #pragma data_alignment=4   
  84:USB/core/usbd_req.c ****   #endif
  85:USB/core/usbd_req.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
  86:USB/core/usbd_req.c **** __ALIGN_BEGIN uint32_t  USBD_default_cfg __ALIGN_END  = 0;
  87:USB/core/usbd_req.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 3


  88:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
  89:USB/core/usbd_req.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
  90:USB/core/usbd_req.c ****     #pragma data_alignment=4   
  91:USB/core/usbd_req.c ****   #endif
  92:USB/core/usbd_req.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
  93:USB/core/usbd_req.c **** __ALIGN_BEGIN uint32_t  USBD_cfg_status __ALIGN_END  = 0;  
  94:USB/core/usbd_req.c **** 
  95:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
  96:USB/core/usbd_req.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
  97:USB/core/usbd_req.c ****     #pragma data_alignment=4   
  98:USB/core/usbd_req.c ****   #endif
  99:USB/core/usbd_req.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
 100:USB/core/usbd_req.c **** __ALIGN_BEGIN uint8_t USBD_StrDesc[USB_MAX_STR_DESC_SIZ] __ALIGN_END ;
 101:USB/core/usbd_req.c **** /**
 102:USB/core/usbd_req.c ****   * @}
 103:USB/core/usbd_req.c ****   */ 
 104:USB/core/usbd_req.c **** 
 105:USB/core/usbd_req.c **** 
 106:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_FunctionPrototypes
 107:USB/core/usbd_req.c ****   * @{
 108:USB/core/usbd_req.c ****   */ 
 109:USB/core/usbd_req.c **** static void USBD_GetDescriptor(USB_OTG_CORE_HANDLE  *pdev, 
 110:USB/core/usbd_req.c ****                                USB_SETUP_REQ *req);
 111:USB/core/usbd_req.c **** 
 112:USB/core/usbd_req.c **** static void USBD_SetAddress(USB_OTG_CORE_HANDLE  *pdev, 
 113:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req);
 114:USB/core/usbd_req.c **** 
 115:USB/core/usbd_req.c **** static void USBD_SetConfig(USB_OTG_CORE_HANDLE  *pdev, 
 116:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req);
 117:USB/core/usbd_req.c **** 
 118:USB/core/usbd_req.c **** static void USBD_GetConfig(USB_OTG_CORE_HANDLE  *pdev, 
 119:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req);
 120:USB/core/usbd_req.c **** 
 121:USB/core/usbd_req.c **** static void USBD_GetStatus(USB_OTG_CORE_HANDLE  *pdev, 
 122:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req);
 123:USB/core/usbd_req.c **** 
 124:USB/core/usbd_req.c **** static void USBD_SetFeature(USB_OTG_CORE_HANDLE  *pdev, 
 125:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req);
 126:USB/core/usbd_req.c **** 
 127:USB/core/usbd_req.c **** static void USBD_ClrFeature(USB_OTG_CORE_HANDLE  *pdev, 
 128:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req);
 129:USB/core/usbd_req.c **** 
 130:USB/core/usbd_req.c **** static uint8_t USBD_GetLen(uint8_t *buf);
 131:USB/core/usbd_req.c **** /**
 132:USB/core/usbd_req.c ****   * @}
 133:USB/core/usbd_req.c ****   */ 
 134:USB/core/usbd_req.c **** 
 135:USB/core/usbd_req.c **** 
 136:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_Functions
 137:USB/core/usbd_req.c ****   * @{
 138:USB/core/usbd_req.c ****   */ 
 139:USB/core/usbd_req.c **** 
 140:USB/core/usbd_req.c **** 
 141:USB/core/usbd_req.c **** /**
 142:USB/core/usbd_req.c **** * @brief  USBD_StdDevReq
 143:USB/core/usbd_req.c **** *         Handle standard usb device requests
 144:USB/core/usbd_req.c **** * @param  pdev: device instance
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 4


 145:USB/core/usbd_req.c **** * @param  req: usb request
 146:USB/core/usbd_req.c **** * @retval status
 147:USB/core/usbd_req.c **** */
 148:USB/core/usbd_req.c **** USBD_Status  USBD_StdDevReq (USB_OTG_CORE_HANDLE  *pdev, USB_SETUP_REQ  *req)
 149:USB/core/usbd_req.c **** {
 150:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK;  
 151:USB/core/usbd_req.c ****   
 152:USB/core/usbd_req.c ****   switch (req->bRequest) 
 153:USB/core/usbd_req.c ****   {
 154:USB/core/usbd_req.c ****   case USB_REQ_GET_DESCRIPTOR: 
 155:USB/core/usbd_req.c ****     
 156:USB/core/usbd_req.c ****     USBD_GetDescriptor (pdev, req) ;
 157:USB/core/usbd_req.c ****     break;
 158:USB/core/usbd_req.c ****     
 159:USB/core/usbd_req.c ****   case USB_REQ_SET_ADDRESS:                      
 160:USB/core/usbd_req.c ****     USBD_SetAddress(pdev, req);
 161:USB/core/usbd_req.c ****     break;
 162:USB/core/usbd_req.c ****     
 163:USB/core/usbd_req.c ****   case USB_REQ_SET_CONFIGURATION:                    
 164:USB/core/usbd_req.c ****     USBD_SetConfig (pdev , req);
 165:USB/core/usbd_req.c ****     break;
 166:USB/core/usbd_req.c ****     
 167:USB/core/usbd_req.c ****   case USB_REQ_GET_CONFIGURATION:                 
 168:USB/core/usbd_req.c ****     USBD_GetConfig (pdev , req);
 169:USB/core/usbd_req.c ****     break;
 170:USB/core/usbd_req.c ****     
 171:USB/core/usbd_req.c ****   case USB_REQ_GET_STATUS:                                  
 172:USB/core/usbd_req.c ****     USBD_GetStatus (pdev , req);
 173:USB/core/usbd_req.c ****     break;
 174:USB/core/usbd_req.c ****     
 175:USB/core/usbd_req.c ****     
 176:USB/core/usbd_req.c ****   case USB_REQ_SET_FEATURE:   
 177:USB/core/usbd_req.c ****     USBD_SetFeature (pdev , req);    
 178:USB/core/usbd_req.c ****     break;
 179:USB/core/usbd_req.c ****     
 180:USB/core/usbd_req.c ****   case USB_REQ_CLEAR_FEATURE:                                   
 181:USB/core/usbd_req.c ****     USBD_ClrFeature (pdev , req);
 182:USB/core/usbd_req.c ****     break;
 183:USB/core/usbd_req.c ****     
 184:USB/core/usbd_req.c ****   default:  
 185:USB/core/usbd_req.c ****     USBD_CtlError(pdev , req);
 186:USB/core/usbd_req.c ****     break;
 187:USB/core/usbd_req.c ****   }
 188:USB/core/usbd_req.c ****   
 189:USB/core/usbd_req.c ****   return ret;
 190:USB/core/usbd_req.c **** }
 191:USB/core/usbd_req.c **** 
 192:USB/core/usbd_req.c **** /**
 193:USB/core/usbd_req.c **** * @brief  USBD_StdItfReq
 194:USB/core/usbd_req.c **** *         Handle standard usb interface requests
 195:USB/core/usbd_req.c **** * @param  pdev: USB OTG device instance
 196:USB/core/usbd_req.c **** * @param  req: usb request
 197:USB/core/usbd_req.c **** * @retval status
 198:USB/core/usbd_req.c **** */
 199:USB/core/usbd_req.c **** USBD_Status  USBD_StdItfReq (USB_OTG_CORE_HANDLE  *pdev, USB_SETUP_REQ  *req)
 200:USB/core/usbd_req.c **** {
 201:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 5


 202:USB/core/usbd_req.c ****   
 203:USB/core/usbd_req.c ****   switch (pdev->dev.device_status) 
 204:USB/core/usbd_req.c ****   {
 205:USB/core/usbd_req.c ****   case USB_OTG_CONFIGURED:
 206:USB/core/usbd_req.c ****     
 207:USB/core/usbd_req.c ****     if (LOBYTE(req->wIndex) <= USBD_ITF_MAX_NUM) 
 208:USB/core/usbd_req.c ****     {
 209:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req); 
 210:USB/core/usbd_req.c ****       
 211:USB/core/usbd_req.c ****       if((req->wLength == 0)&& (ret == USBD_OK))
 212:USB/core/usbd_req.c ****       {
 213:USB/core/usbd_req.c ****          USBD_CtlSendStatus(pdev);
 214:USB/core/usbd_req.c ****       }
 215:USB/core/usbd_req.c ****     } 
 216:USB/core/usbd_req.c ****     else 
 217:USB/core/usbd_req.c ****     {                                               
 218:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 219:USB/core/usbd_req.c ****     }
 220:USB/core/usbd_req.c ****     break;
 221:USB/core/usbd_req.c ****     
 222:USB/core/usbd_req.c ****   default:
 223:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);
 224:USB/core/usbd_req.c ****     break;
 225:USB/core/usbd_req.c ****   }
 226:USB/core/usbd_req.c ****   return ret;
 227:USB/core/usbd_req.c **** }
 228:USB/core/usbd_req.c **** 
 229:USB/core/usbd_req.c **** /**
 230:USB/core/usbd_req.c **** * @brief  USBD_StdEPReq
 231:USB/core/usbd_req.c **** *         Handle standard usb endpoint requests
 232:USB/core/usbd_req.c **** * @param  pdev: USB OTG device instance
 233:USB/core/usbd_req.c **** * @param  req: usb request
 234:USB/core/usbd_req.c **** * @retval status
 235:USB/core/usbd_req.c **** */
 236:USB/core/usbd_req.c **** USBD_Status  USBD_StdEPReq (USB_OTG_CORE_HANDLE  *pdev, USB_SETUP_REQ  *req)
 237:USB/core/usbd_req.c **** {
 238:USB/core/usbd_req.c ****   
 239:USB/core/usbd_req.c ****   uint8_t   ep_addr;
 240:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
 241:USB/core/usbd_req.c ****   
 242:USB/core/usbd_req.c ****   ep_addr  = LOBYTE(req->wIndex);   
 243:USB/core/usbd_req.c ****   
 244:USB/core/usbd_req.c ****   switch (req->bRequest) 
 245:USB/core/usbd_req.c ****   {
 246:USB/core/usbd_req.c ****     
 247:USB/core/usbd_req.c ****   case USB_REQ_SET_FEATURE :
 248:USB/core/usbd_req.c ****     
 249:USB/core/usbd_req.c ****     switch (pdev->dev.device_status) 
 250:USB/core/usbd_req.c ****     {
 251:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:          
 252:USB/core/usbd_req.c ****       if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 253:USB/core/usbd_req.c ****       {
 254:USB/core/usbd_req.c ****         DCD_EP_Stall(pdev , ep_addr);
 255:USB/core/usbd_req.c ****       }
 256:USB/core/usbd_req.c ****       break;	
 257:USB/core/usbd_req.c ****       
 258:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:   
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 6


 259:USB/core/usbd_req.c ****       if (req->wValue == USB_FEATURE_EP_HALT)
 260:USB/core/usbd_req.c ****       {
 261:USB/core/usbd_req.c ****         if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 262:USB/core/usbd_req.c ****         { 
 263:USB/core/usbd_req.c ****           DCD_EP_Stall(pdev , ep_addr);
 264:USB/core/usbd_req.c ****           
 265:USB/core/usbd_req.c ****         }
 266:USB/core/usbd_req.c ****       }
 267:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req);   
 268:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 269:USB/core/usbd_req.c ****       
 270:USB/core/usbd_req.c ****       break;
 271:USB/core/usbd_req.c ****       
 272:USB/core/usbd_req.c ****     default:                         
 273:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 274:USB/core/usbd_req.c ****       break;    
 275:USB/core/usbd_req.c ****     }
 276:USB/core/usbd_req.c ****     break;
 277:USB/core/usbd_req.c ****     
 278:USB/core/usbd_req.c ****   case USB_REQ_CLEAR_FEATURE :
 279:USB/core/usbd_req.c ****     
 280:USB/core/usbd_req.c ****     switch (pdev->dev.device_status) 
 281:USB/core/usbd_req.c ****     {
 282:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:          
 283:USB/core/usbd_req.c ****       if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 284:USB/core/usbd_req.c ****       {
 285:USB/core/usbd_req.c ****         DCD_EP_Stall(pdev , ep_addr);
 286:USB/core/usbd_req.c ****       }
 287:USB/core/usbd_req.c ****       break;	
 288:USB/core/usbd_req.c ****       
 289:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:   
 290:USB/core/usbd_req.c ****       if (req->wValue == USB_FEATURE_EP_HALT)
 291:USB/core/usbd_req.c ****       {
 292:USB/core/usbd_req.c ****         if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 293:USB/core/usbd_req.c ****         {        
 294:USB/core/usbd_req.c ****           DCD_EP_ClrStall(pdev , ep_addr);
 295:USB/core/usbd_req.c ****           pdev->dev.class_cb->Setup (pdev, req);
 296:USB/core/usbd_req.c ****         }
 297:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 298:USB/core/usbd_req.c ****       }
 299:USB/core/usbd_req.c ****       break;
 300:USB/core/usbd_req.c ****       
 301:USB/core/usbd_req.c ****     default:                         
 302:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 303:USB/core/usbd_req.c ****       break;    
 304:USB/core/usbd_req.c ****     }
 305:USB/core/usbd_req.c ****     break;
 306:USB/core/usbd_req.c ****     
 307:USB/core/usbd_req.c ****   case USB_REQ_GET_STATUS:                  
 308:USB/core/usbd_req.c ****     switch (pdev->dev.device_status) 
 309:USB/core/usbd_req.c ****     {
 310:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:          
 311:USB/core/usbd_req.c ****       if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 312:USB/core/usbd_req.c ****       {
 313:USB/core/usbd_req.c ****         DCD_EP_Stall(pdev , ep_addr);
 314:USB/core/usbd_req.c ****       }
 315:USB/core/usbd_req.c ****       break;	
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 7


 316:USB/core/usbd_req.c ****       
 317:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:         
 318:USB/core/usbd_req.c ****       
 319:USB/core/usbd_req.c ****       
 320:USB/core/usbd_req.c ****       if ((ep_addr & 0x80)== 0x80)
 321:USB/core/usbd_req.c ****       {
 322:USB/core/usbd_req.c ****         if(pdev->dev.in_ep[ep_addr & 0x7F].is_stall)
 323:USB/core/usbd_req.c ****         {
 324:USB/core/usbd_req.c ****           USBD_ep_status = 0x0001;     
 325:USB/core/usbd_req.c ****         }
 326:USB/core/usbd_req.c ****         else
 327:USB/core/usbd_req.c ****         {
 328:USB/core/usbd_req.c ****           USBD_ep_status = 0x0000;  
 329:USB/core/usbd_req.c ****         }
 330:USB/core/usbd_req.c ****       }
 331:USB/core/usbd_req.c ****       else if ((ep_addr & 0x80)== 0x00)
 332:USB/core/usbd_req.c ****       {
 333:USB/core/usbd_req.c ****         if(pdev->dev.out_ep[ep_addr].is_stall)
 334:USB/core/usbd_req.c ****         {
 335:USB/core/usbd_req.c ****           USBD_ep_status = 0x0001;     
 336:USB/core/usbd_req.c ****         }
 337:USB/core/usbd_req.c ****         
 338:USB/core/usbd_req.c ****         else 
 339:USB/core/usbd_req.c ****         {
 340:USB/core/usbd_req.c ****           USBD_ep_status = 0x0000;     
 341:USB/core/usbd_req.c ****         }      
 342:USB/core/usbd_req.c ****       }
 343:USB/core/usbd_req.c ****       USBD_CtlSendData (pdev,
 344:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_ep_status,
 345:USB/core/usbd_req.c ****                         2);
 346:USB/core/usbd_req.c ****       break;
 347:USB/core/usbd_req.c ****       
 348:USB/core/usbd_req.c ****     default:                         
 349:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 350:USB/core/usbd_req.c ****       break;
 351:USB/core/usbd_req.c ****     }
 352:USB/core/usbd_req.c ****     break;
 353:USB/core/usbd_req.c ****     
 354:USB/core/usbd_req.c ****   default:
 355:USB/core/usbd_req.c ****     break;
 356:USB/core/usbd_req.c ****   }
 357:USB/core/usbd_req.c ****   return ret;
 358:USB/core/usbd_req.c **** }
 359:USB/core/usbd_req.c **** /**
 360:USB/core/usbd_req.c **** * @brief  USBD_GetDescriptor
 361:USB/core/usbd_req.c **** *         Handle Get Descriptor requests
 362:USB/core/usbd_req.c **** * @param  pdev: device instance
 363:USB/core/usbd_req.c **** * @param  req: usb request
 364:USB/core/usbd_req.c **** * @retval status
 365:USB/core/usbd_req.c **** */
 366:USB/core/usbd_req.c **** static void USBD_GetDescriptor(USB_OTG_CORE_HANDLE  *pdev, 
 367:USB/core/usbd_req.c ****                                USB_SETUP_REQ *req)
 368:USB/core/usbd_req.c **** {
 369:USB/core/usbd_req.c ****   uint16_t len;
 370:USB/core/usbd_req.c ****   uint8_t *pbuf;
 371:USB/core/usbd_req.c ****   
 372:USB/core/usbd_req.c ****     
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 8


 373:USB/core/usbd_req.c ****   switch (req->wValue >> 8)
 374:USB/core/usbd_req.c ****   {
 375:USB/core/usbd_req.c ****   case USB_DESC_TYPE_DEVICE:
 376:USB/core/usbd_req.c ****     pbuf = pdev->dev.usr_device->GetDeviceDescriptor(pdev->cfg.speed, &len);
 377:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 378:USB/core/usbd_req.c ****     {                  
 379:USB/core/usbd_req.c ****       len = 8;
 380:USB/core/usbd_req.c ****     }
 381:USB/core/usbd_req.c ****     break;
 382:USB/core/usbd_req.c ****     
 383:USB/core/usbd_req.c ****   case USB_DESC_TYPE_CONFIGURATION:
 384:USB/core/usbd_req.c ****       pbuf   = (uint8_t *)pdev->dev.class_cb->GetConfigDescriptor(pdev->cfg.speed, &len);
 385:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 386:USB/core/usbd_req.c ****     if((pdev->cfg.speed == USB_OTG_SPEED_FULL )&&
 387:USB/core/usbd_req.c ****        (pdev->cfg.phy_itface  == USB_OTG_ULPI_PHY))
 388:USB/core/usbd_req.c ****     {
 389:USB/core/usbd_req.c ****       pbuf   = (uint8_t *)pdev->dev.class_cb->GetOtherConfigDescriptor(pdev->cfg.speed, &len);
 390:USB/core/usbd_req.c ****     }
 391:USB/core/usbd_req.c **** #endif  
 392:USB/core/usbd_req.c ****     pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
 393:USB/core/usbd_req.c ****     pdev->dev.pConfig_descriptor = pbuf;    
 394:USB/core/usbd_req.c ****     break;
 395:USB/core/usbd_req.c ****     
 396:USB/core/usbd_req.c ****   case USB_DESC_TYPE_STRING:
 397:USB/core/usbd_req.c ****     switch ((uint8_t)(req->wValue))
 398:USB/core/usbd_req.c ****     {
 399:USB/core/usbd_req.c ****     case USBD_IDX_LANGID_STR:
 400:USB/core/usbd_req.c ****      pbuf = pdev->dev.usr_device->GetLangIDStrDescriptor(pdev->cfg.speed, &len);        
 401:USB/core/usbd_req.c ****       break;
 402:USB/core/usbd_req.c ****       
 403:USB/core/usbd_req.c ****     case USBD_IDX_MFC_STR:
 404:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetManufacturerStrDescriptor(pdev->cfg.speed, &len);
 405:USB/core/usbd_req.c ****       break;
 406:USB/core/usbd_req.c ****       
 407:USB/core/usbd_req.c ****     case USBD_IDX_PRODUCT_STR:
 408:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetProductStrDescriptor(pdev->cfg.speed, &len);
 409:USB/core/usbd_req.c ****       break;
 410:USB/core/usbd_req.c ****       
 411:USB/core/usbd_req.c ****     case USBD_IDX_SERIAL_STR:
 412:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetSerialStrDescriptor(pdev->cfg.speed, &len);
 413:USB/core/usbd_req.c ****       break;
 414:USB/core/usbd_req.c ****       
 415:USB/core/usbd_req.c ****     case USBD_IDX_CONFIG_STR:
 416:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetConfigurationStrDescriptor(pdev->cfg.speed, &len);
 417:USB/core/usbd_req.c ****       break;
 418:USB/core/usbd_req.c ****       
 419:USB/core/usbd_req.c ****     case USBD_IDX_INTERFACE_STR:
 420:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetInterfaceStrDescriptor(pdev->cfg.speed, &len);
 421:USB/core/usbd_req.c ****       break;
 422:USB/core/usbd_req.c ****       
 423:USB/core/usbd_req.c ****     default:
 424:USB/core/usbd_req.c **** #ifdef USB_SUPPORT_USER_STRING_DESC
 425:USB/core/usbd_req.c ****       pbuf = pdev->dev.class_cb->GetUsrStrDescriptor(pdev->cfg.speed, (req->wValue) , &len);
 426:USB/core/usbd_req.c ****       break;
 427:USB/core/usbd_req.c **** #else      
 428:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 429:USB/core/usbd_req.c ****       return;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 9


 430:USB/core/usbd_req.c **** #endif /* USBD_CtlError(pdev , req); */      
 431:USB/core/usbd_req.c ****     }
 432:USB/core/usbd_req.c ****     break;
 433:USB/core/usbd_req.c ****   case USB_DESC_TYPE_DEVICE_QUALIFIER:                   
 434:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 435:USB/core/usbd_req.c ****     if(pdev->cfg.speed == USB_OTG_SPEED_HIGH  )   
 436:USB/core/usbd_req.c ****     {
 437:USB/core/usbd_req.c ****       
 438:USB/core/usbd_req.c ****       pbuf   = (uint8_t *)pdev->dev.class_cb->GetConfigDescriptor(pdev->cfg.speed, &len);
 439:USB/core/usbd_req.c ****             
 440:USB/core/usbd_req.c ****       USBD_DeviceQualifierDesc[4]= pbuf[14];
 441:USB/core/usbd_req.c ****       USBD_DeviceQualifierDesc[5]= pbuf[15];
 442:USB/core/usbd_req.c ****       USBD_DeviceQualifierDesc[6]= pbuf[16];
 443:USB/core/usbd_req.c ****       
 444:USB/core/usbd_req.c ****       pbuf = USBD_DeviceQualifierDesc;
 445:USB/core/usbd_req.c ****       len  = USB_LEN_DEV_QUALIFIER_DESC;
 446:USB/core/usbd_req.c ****       break;
 447:USB/core/usbd_req.c ****     }
 448:USB/core/usbd_req.c ****     else
 449:USB/core/usbd_req.c ****     {
 450:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 451:USB/core/usbd_req.c ****       return;
 452:USB/core/usbd_req.c ****     }
 453:USB/core/usbd_req.c **** #else
 454:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 455:USB/core/usbd_req.c ****       return;
 456:USB/core/usbd_req.c **** #endif    
 457:USB/core/usbd_req.c **** 
 458:USB/core/usbd_req.c ****   case USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION:
 459:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE   
 460:USB/core/usbd_req.c **** 
 461:USB/core/usbd_req.c ****     if(pdev->cfg.speed == USB_OTG_SPEED_HIGH  )   
 462:USB/core/usbd_req.c ****     {
 463:USB/core/usbd_req.c ****       pbuf   = (uint8_t *)pdev->dev.class_cb->GetOtherConfigDescriptor(pdev->cfg.speed, &len);
 464:USB/core/usbd_req.c ****       pbuf[1] = USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION;
 465:USB/core/usbd_req.c ****       break; 
 466:USB/core/usbd_req.c ****     }
 467:USB/core/usbd_req.c ****     else
 468:USB/core/usbd_req.c ****     {
 469:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 470:USB/core/usbd_req.c ****       return;
 471:USB/core/usbd_req.c ****     }
 472:USB/core/usbd_req.c **** #else
 473:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 474:USB/core/usbd_req.c ****       return;
 475:USB/core/usbd_req.c **** #endif     
 476:USB/core/usbd_req.c **** 
 477:USB/core/usbd_req.c ****     
 478:USB/core/usbd_req.c ****   default: 
 479:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);
 480:USB/core/usbd_req.c ****     return;
 481:USB/core/usbd_req.c ****   }
 482:USB/core/usbd_req.c ****   
 483:USB/core/usbd_req.c ****   if((len != 0)&& (req->wLength != 0))
 484:USB/core/usbd_req.c ****   {
 485:USB/core/usbd_req.c ****     
 486:USB/core/usbd_req.c ****     len = MIN(len , req->wLength);
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 10


 487:USB/core/usbd_req.c ****     
 488:USB/core/usbd_req.c ****     USBD_CtlSendData (pdev, 
 489:USB/core/usbd_req.c ****                       pbuf,
 490:USB/core/usbd_req.c ****                       len);
 491:USB/core/usbd_req.c ****   }
 492:USB/core/usbd_req.c ****   
 493:USB/core/usbd_req.c **** }
 494:USB/core/usbd_req.c **** 
 495:USB/core/usbd_req.c **** /**
 496:USB/core/usbd_req.c **** * @brief  USBD_SetAddress
 497:USB/core/usbd_req.c **** *         Set device address
 498:USB/core/usbd_req.c **** * @param  pdev: device instance
 499:USB/core/usbd_req.c **** * @param  req: usb request
 500:USB/core/usbd_req.c **** * @retval status
 501:USB/core/usbd_req.c **** */
 502:USB/core/usbd_req.c **** static void USBD_SetAddress(USB_OTG_CORE_HANDLE  *pdev, 
 503:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 504:USB/core/usbd_req.c **** {
 505:USB/core/usbd_req.c ****   uint8_t  dev_addr; 
 506:USB/core/usbd_req.c ****   
 507:USB/core/usbd_req.c ****   if ((req->wIndex == 0) && (req->wLength == 0)) 
 508:USB/core/usbd_req.c ****   {
 509:USB/core/usbd_req.c ****     dev_addr = (uint8_t)(req->wValue) & 0x7F;     
 510:USB/core/usbd_req.c ****     
 511:USB/core/usbd_req.c ****     if (pdev->dev.device_status == USB_OTG_CONFIGURED) 
 512:USB/core/usbd_req.c ****     {
 513:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 514:USB/core/usbd_req.c ****     } 
 515:USB/core/usbd_req.c ****     else 
 516:USB/core/usbd_req.c ****     {
 517:USB/core/usbd_req.c ****       pdev->dev.device_address = dev_addr;
 518:USB/core/usbd_req.c ****       DCD_EP_SetAddress(pdev, dev_addr);               
 519:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);                         
 520:USB/core/usbd_req.c ****       
 521:USB/core/usbd_req.c ****       if (dev_addr != 0) 
 522:USB/core/usbd_req.c ****       {
 523:USB/core/usbd_req.c ****         pdev->dev.device_status  = USB_OTG_ADDRESSED;
 524:USB/core/usbd_req.c ****       } 
 525:USB/core/usbd_req.c ****       else 
 526:USB/core/usbd_req.c ****       {
 527:USB/core/usbd_req.c ****         pdev->dev.device_status  = USB_OTG_DEFAULT; 
 528:USB/core/usbd_req.c ****       }
 529:USB/core/usbd_req.c ****     }
 530:USB/core/usbd_req.c ****   } 
 531:USB/core/usbd_req.c ****   else 
 532:USB/core/usbd_req.c ****   {
 533:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);                        
 534:USB/core/usbd_req.c ****   } 
 535:USB/core/usbd_req.c **** }
 536:USB/core/usbd_req.c **** 
 537:USB/core/usbd_req.c **** /**
 538:USB/core/usbd_req.c **** * @brief  USBD_SetConfig
 539:USB/core/usbd_req.c **** *         Handle Set device configuration request
 540:USB/core/usbd_req.c **** * @param  pdev: device instance
 541:USB/core/usbd_req.c **** * @param  req: usb request
 542:USB/core/usbd_req.c **** * @retval status
 543:USB/core/usbd_req.c **** */
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 11


 544:USB/core/usbd_req.c **** static void USBD_SetConfig(USB_OTG_CORE_HANDLE  *pdev, 
 545:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req)
 546:USB/core/usbd_req.c **** {
 547:USB/core/usbd_req.c ****   
 548:USB/core/usbd_req.c ****   static uint8_t  cfgidx;
 549:USB/core/usbd_req.c ****   
 550:USB/core/usbd_req.c ****   cfgidx = (uint8_t)(req->wValue);                 
 551:USB/core/usbd_req.c ****   
 552:USB/core/usbd_req.c ****   if (cfgidx > USBD_CFG_MAX_NUM ) 
 553:USB/core/usbd_req.c ****   {            
 554:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);                              
 555:USB/core/usbd_req.c ****   } 
 556:USB/core/usbd_req.c ****   else 
 557:USB/core/usbd_req.c ****   {
 558:USB/core/usbd_req.c ****     switch (pdev->dev.device_status) 
 559:USB/core/usbd_req.c ****     {
 560:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:
 561:USB/core/usbd_req.c ****       if (cfgidx) 
 562:USB/core/usbd_req.c ****       {                                			   							   							   				
 563:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;
 564:USB/core/usbd_req.c ****         pdev->dev.device_status = USB_OTG_CONFIGURED;
 565:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 566:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 567:USB/core/usbd_req.c ****       }
 568:USB/core/usbd_req.c ****       else 
 569:USB/core/usbd_req.c ****       {
 570:USB/core/usbd_req.c ****          USBD_CtlSendStatus(pdev);
 571:USB/core/usbd_req.c ****       }
 572:USB/core/usbd_req.c ****       break;
 573:USB/core/usbd_req.c ****       
 574:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:
 575:USB/core/usbd_req.c ****       if (cfgidx == 0) 
 576:USB/core/usbd_req.c ****       {                           
 577:USB/core/usbd_req.c ****         pdev->dev.device_status = USB_OTG_ADDRESSED;
 578:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;          
 579:USB/core/usbd_req.c ****         USBD_ClrCfg(pdev , cfgidx);
 580:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 581:USB/core/usbd_req.c ****         
 582:USB/core/usbd_req.c ****       } 
 583:USB/core/usbd_req.c ****       else  if (cfgidx != pdev->dev.device_config) 
 584:USB/core/usbd_req.c ****       {
 585:USB/core/usbd_req.c ****         /* Clear old configuration */
 586:USB/core/usbd_req.c ****         USBD_ClrCfg(pdev , pdev->dev.device_config);
 587:USB/core/usbd_req.c ****         
 588:USB/core/usbd_req.c ****         /* set new configuration */
 589:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;
 590:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 591:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 592:USB/core/usbd_req.c ****       }
 593:USB/core/usbd_req.c ****       else
 594:USB/core/usbd_req.c ****       {
 595:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 596:USB/core/usbd_req.c ****       }
 597:USB/core/usbd_req.c ****       break;
 598:USB/core/usbd_req.c ****       
 599:USB/core/usbd_req.c ****     default:					
 600:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);                     
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 12


 601:USB/core/usbd_req.c ****       break;
 602:USB/core/usbd_req.c ****     }
 603:USB/core/usbd_req.c ****   }
 604:USB/core/usbd_req.c **** }
 605:USB/core/usbd_req.c **** 
 606:USB/core/usbd_req.c **** /**
 607:USB/core/usbd_req.c **** * @brief  USBD_GetConfig
 608:USB/core/usbd_req.c **** *         Handle Get device configuration request
 609:USB/core/usbd_req.c **** * @param  pdev: device instance
 610:USB/core/usbd_req.c **** * @param  req: usb request
 611:USB/core/usbd_req.c **** * @retval status
 612:USB/core/usbd_req.c **** */
 613:USB/core/usbd_req.c **** static void USBD_GetConfig(USB_OTG_CORE_HANDLE  *pdev, 
 614:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req)
 615:USB/core/usbd_req.c **** {
 616:USB/core/usbd_req.c ****  
 617:USB/core/usbd_req.c ****   if (req->wLength != 1) 
 618:USB/core/usbd_req.c ****   {                   
 619:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);
 620:USB/core/usbd_req.c ****   }
 621:USB/core/usbd_req.c ****   else 
 622:USB/core/usbd_req.c ****   {
 623:USB/core/usbd_req.c ****     switch (pdev->dev.device_status )  
 624:USB/core/usbd_req.c ****     {
 625:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:                     
 626:USB/core/usbd_req.c ****       
 627:USB/core/usbd_req.c ****       USBD_CtlSendData (pdev, 
 628:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_default_cfg,
 629:USB/core/usbd_req.c ****                         1);
 630:USB/core/usbd_req.c ****       break;
 631:USB/core/usbd_req.c ****       
 632:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:                   
 633:USB/core/usbd_req.c ****       
 634:USB/core/usbd_req.c ****       USBD_CtlSendData (pdev, 
 635:USB/core/usbd_req.c ****                         &pdev->dev.device_config,
 636:USB/core/usbd_req.c ****                         1);
 637:USB/core/usbd_req.c ****       break;
 638:USB/core/usbd_req.c ****       
 639:USB/core/usbd_req.c ****     default:
 640:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 641:USB/core/usbd_req.c ****       break;
 642:USB/core/usbd_req.c ****     }
 643:USB/core/usbd_req.c ****   }
 644:USB/core/usbd_req.c **** }
 645:USB/core/usbd_req.c **** 
 646:USB/core/usbd_req.c **** /**
 647:USB/core/usbd_req.c **** * @brief  USBD_GetStatus
 648:USB/core/usbd_req.c **** *         Handle Get Status request
 649:USB/core/usbd_req.c **** * @param  pdev: device instance
 650:USB/core/usbd_req.c **** * @param  req: usb request
 651:USB/core/usbd_req.c **** * @retval status
 652:USB/core/usbd_req.c **** */
 653:USB/core/usbd_req.c **** static void USBD_GetStatus(USB_OTG_CORE_HANDLE  *pdev, 
 654:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req)
 655:USB/core/usbd_req.c **** {
 656:USB/core/usbd_req.c ****   
 657:USB/core/usbd_req.c ****     
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 13


 658:USB/core/usbd_req.c ****   switch (pdev->dev.device_status) 
 659:USB/core/usbd_req.c ****   {
 660:USB/core/usbd_req.c ****   case USB_OTG_ADDRESSED:
 661:USB/core/usbd_req.c ****   case USB_OTG_CONFIGURED:
 662:USB/core/usbd_req.c ****     
 663:USB/core/usbd_req.c **** #ifdef USBD_SELF_POWERED
 664:USB/core/usbd_req.c ****     USBD_cfg_status = USB_CONFIG_SELF_POWERED;                                    
 665:USB/core/usbd_req.c **** #else
 666:USB/core/usbd_req.c ****     USBD_cfg_status = 0x00;                                    
 667:USB/core/usbd_req.c **** #endif
 668:USB/core/usbd_req.c ****                       
 669:USB/core/usbd_req.c ****     if (pdev->dev.DevRemoteWakeup) 
 670:USB/core/usbd_req.c ****     {
 671:USB/core/usbd_req.c ****       USBD_cfg_status |= USB_CONFIG_REMOTE_WAKEUP;                                
 672:USB/core/usbd_req.c ****     }
 673:USB/core/usbd_req.c ****     
 674:USB/core/usbd_req.c ****     USBD_CtlSendData (pdev, 
 675:USB/core/usbd_req.c ****                       (uint8_t *)&USBD_cfg_status,
 676:USB/core/usbd_req.c ****                       2);
 677:USB/core/usbd_req.c ****     break;
 678:USB/core/usbd_req.c ****     
 679:USB/core/usbd_req.c ****   default :
 680:USB/core/usbd_req.c ****     USBD_CtlError(pdev , req);                        
 681:USB/core/usbd_req.c ****     break;
 682:USB/core/usbd_req.c ****   }
 683:USB/core/usbd_req.c **** }
 684:USB/core/usbd_req.c **** 
 685:USB/core/usbd_req.c **** 
 686:USB/core/usbd_req.c **** /**
 687:USB/core/usbd_req.c **** * @brief  USBD_SetFeature
 688:USB/core/usbd_req.c **** *         Handle Set device feature request
 689:USB/core/usbd_req.c **** * @param  pdev: device instance
 690:USB/core/usbd_req.c **** * @param  req: usb request
 691:USB/core/usbd_req.c **** * @retval status
 692:USB/core/usbd_req.c **** */
 693:USB/core/usbd_req.c **** static void USBD_SetFeature(USB_OTG_CORE_HANDLE  *pdev, 
 694:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 695:USB/core/usbd_req.c **** {
 696:USB/core/usbd_req.c **** 
 697:USB/core/usbd_req.c ****   USB_OTG_DCTL_TypeDef     dctl;
 698:USB/core/usbd_req.c ****   uint8_t test_mode = 0;
 699:USB/core/usbd_req.c ****  
 700:USB/core/usbd_req.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
 701:USB/core/usbd_req.c ****   {
 702:USB/core/usbd_req.c ****     pdev->dev.DevRemoteWakeup = 1;  
 703:USB/core/usbd_req.c ****     pdev->dev.class_cb->Setup (pdev, req);   
 704:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 705:USB/core/usbd_req.c ****   }
 706:USB/core/usbd_req.c **** 
 707:USB/core/usbd_req.c ****   else if ((req->wValue == USB_FEATURE_TEST_MODE) && 
 708:USB/core/usbd_req.c ****            ((req->wIndex & 0xFF) == 0))
 709:USB/core/usbd_req.c ****   {
 710:USB/core/usbd_req.c ****     dctl.d32 = USB_OTG_READ_REG32(&pdev->regs.DREGS->DCTL);
 711:USB/core/usbd_req.c ****     
 712:USB/core/usbd_req.c ****     test_mode = req->wIndex >> 8;
 713:USB/core/usbd_req.c ****     switch (test_mode) 
 714:USB/core/usbd_req.c ****     {
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 14


 715:USB/core/usbd_req.c ****     case 1: // TEST_J
 716:USB/core/usbd_req.c ****       dctl.b.tstctl = 1;
 717:USB/core/usbd_req.c ****       break;
 718:USB/core/usbd_req.c ****       
 719:USB/core/usbd_req.c ****     case 2: // TEST_K	
 720:USB/core/usbd_req.c ****       dctl.b.tstctl = 2;
 721:USB/core/usbd_req.c ****       break;
 722:USB/core/usbd_req.c ****       
 723:USB/core/usbd_req.c ****     case 3: // TEST_SE0_NAK
 724:USB/core/usbd_req.c ****       dctl.b.tstctl = 3;
 725:USB/core/usbd_req.c ****       break;
 726:USB/core/usbd_req.c ****       
 727:USB/core/usbd_req.c ****     case 4: // TEST_PACKET
 728:USB/core/usbd_req.c ****       dctl.b.tstctl = 4;
 729:USB/core/usbd_req.c ****       break;
 730:USB/core/usbd_req.c ****       
 731:USB/core/usbd_req.c ****     case 5: // TEST_FORCE_ENABLE
 732:USB/core/usbd_req.c ****       dctl.b.tstctl = 5;
 733:USB/core/usbd_req.c ****       break;
 734:USB/core/usbd_req.c ****     }
 735:USB/core/usbd_req.c ****     SET_TEST_MODE = dctl;
 736:USB/core/usbd_req.c ****     pdev->dev.test_mode = 1;
 737:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 738:USB/core/usbd_req.c ****   }
 739:USB/core/usbd_req.c **** 
 740:USB/core/usbd_req.c **** }
 741:USB/core/usbd_req.c **** 
 742:USB/core/usbd_req.c **** 
 743:USB/core/usbd_req.c **** /**
 744:USB/core/usbd_req.c **** * @brief  USBD_ClrFeature
 745:USB/core/usbd_req.c **** *         Handle clear device feature request
 746:USB/core/usbd_req.c **** * @param  pdev: device instance
 747:USB/core/usbd_req.c **** * @param  req: usb request
 748:USB/core/usbd_req.c **** * @retval status
 749:USB/core/usbd_req.c **** */
 750:USB/core/usbd_req.c **** static void USBD_ClrFeature(USB_OTG_CORE_HANDLE  *pdev, 
 751:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 752:USB/core/usbd_req.c **** {
 753:USB/core/usbd_req.c ****   switch (pdev->dev.device_status)
 754:USB/core/usbd_req.c ****   {
 755:USB/core/usbd_req.c ****   case USB_OTG_ADDRESSED:
 756:USB/core/usbd_req.c ****   case USB_OTG_CONFIGURED:
 757:USB/core/usbd_req.c ****     if (req->wValue == USB_FEATURE_REMOTE_WAKEUP) 
 758:USB/core/usbd_req.c ****     {
 759:USB/core/usbd_req.c ****       pdev->dev.DevRemoteWakeup = 0; 
 760:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req);   
 761:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 762:USB/core/usbd_req.c ****     }
 763:USB/core/usbd_req.c ****     break;
 764:USB/core/usbd_req.c ****     
 765:USB/core/usbd_req.c ****   default :
 766:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);
 767:USB/core/usbd_req.c ****     break;
 768:USB/core/usbd_req.c ****   }
 769:USB/core/usbd_req.c **** }
 770:USB/core/usbd_req.c **** 
 771:USB/core/usbd_req.c **** /**
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 15


 772:USB/core/usbd_req.c **** * @brief  USBD_ParseSetupRequest 
 773:USB/core/usbd_req.c **** *         Copy buffer into setup structure
 774:USB/core/usbd_req.c **** * @param  pdev: device instance
 775:USB/core/usbd_req.c **** * @param  req: usb request
 776:USB/core/usbd_req.c **** * @retval None
 777:USB/core/usbd_req.c **** */
 778:USB/core/usbd_req.c **** 
 779:USB/core/usbd_req.c **** void USBD_ParseSetupRequest( USB_OTG_CORE_HANDLE  *pdev,
 780:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 781:USB/core/usbd_req.c **** {
 782:USB/core/usbd_req.c ****   req->bmRequest     = *(uint8_t *)  (pdev->dev.setup_packet);
 783:USB/core/usbd_req.c ****   req->bRequest      = *(uint8_t *)  (pdev->dev.setup_packet +  1);
 784:USB/core/usbd_req.c ****   req->wValue        = SWAPBYTE      (pdev->dev.setup_packet +  2);
 785:USB/core/usbd_req.c ****   req->wIndex        = SWAPBYTE      (pdev->dev.setup_packet +  4);
 786:USB/core/usbd_req.c ****   req->wLength       = SWAPBYTE      (pdev->dev.setup_packet +  6);
 787:USB/core/usbd_req.c ****   
 788:USB/core/usbd_req.c ****   pdev->dev.in_ep[0].ctl_data_len = req->wLength  ;
 789:USB/core/usbd_req.c ****   pdev->dev.device_state = USB_OTG_EP0_SETUP;
 790:USB/core/usbd_req.c **** }
 791:USB/core/usbd_req.c **** 
 792:USB/core/usbd_req.c **** /**
 793:USB/core/usbd_req.c **** * @brief  USBD_CtlError 
 794:USB/core/usbd_req.c **** *         Handle USB low level Error
 795:USB/core/usbd_req.c **** * @param  pdev: device instance
 796:USB/core/usbd_req.c **** * @param  req: usb request
 797:USB/core/usbd_req.c **** * @retval None
 798:USB/core/usbd_req.c **** */
 799:USB/core/usbd_req.c **** 
 800:USB/core/usbd_req.c **** void USBD_CtlError( USB_OTG_CORE_HANDLE  *pdev,
 801:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 802:USB/core/usbd_req.c **** {
 803:USB/core/usbd_req.c ****   
 804:USB/core/usbd_req.c ****   DCD_EP_Stall(pdev , 0x80);
 805:USB/core/usbd_req.c ****   DCD_EP_Stall(pdev , 0);
 806:USB/core/usbd_req.c ****   USB_OTG_EP0_OutStart(pdev);  
 807:USB/core/usbd_req.c **** }
 808:USB/core/usbd_req.c **** 
 809:USB/core/usbd_req.c **** 
 810:USB/core/usbd_req.c **** /**
 811:USB/core/usbd_req.c ****   * @brief  USBD_GetString
 812:USB/core/usbd_req.c ****   *         Convert Ascii string into unicode one
 813:USB/core/usbd_req.c ****   * @param  desc : descriptor buffer
 814:USB/core/usbd_req.c ****   * @param  unicode : Formatted string buffer (unicode)
 815:USB/core/usbd_req.c ****   * @param  len : descriptor length
 816:USB/core/usbd_req.c ****   * @retval None
 817:USB/core/usbd_req.c ****   */
 818:USB/core/usbd_req.c **** void USBD_GetString(uint8_t *desc, uint8_t *unicode, uint16_t *len)
 819:USB/core/usbd_req.c **** {
 820:USB/core/usbd_req.c ****   uint8_t idx = 0;
 821:USB/core/usbd_req.c ****   
 822:USB/core/usbd_req.c ****   if (desc != NULL) 
 823:USB/core/usbd_req.c ****   {
 824:USB/core/usbd_req.c ****     *len =  USBD_GetLen(desc) * 2 + 2;    
 825:USB/core/usbd_req.c ****     unicode[idx++] = *len;
 826:USB/core/usbd_req.c ****     unicode[idx++] =  USB_DESC_TYPE_STRING;
 827:USB/core/usbd_req.c ****     
 828:USB/core/usbd_req.c ****     while (*desc != NULL) 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 16


 829:USB/core/usbd_req.c ****     {
 830:USB/core/usbd_req.c ****       unicode[idx++] = *desc++;
 831:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 832:USB/core/usbd_req.c ****     }
 833:USB/core/usbd_req.c ****   } 
 834:USB/core/usbd_req.c **** }
 835:USB/core/usbd_req.c **** 
 836:USB/core/usbd_req.c **** /**
 837:USB/core/usbd_req.c ****   * @brief  USBD_GetLen
 838:USB/core/usbd_req.c ****   *         return the string length
 839:USB/core/usbd_req.c ****    * @param  buf : pointer to the ascii string buffer
 840:USB/core/usbd_req.c ****   * @retval string length
 841:USB/core/usbd_req.c ****   */
 842:USB/core/usbd_req.c **** static uint8_t USBD_GetLen(uint8_t *buf)
 843:USB/core/usbd_req.c **** {
  29              		.loc 1 843 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              		.loc 1 843 1 is_stmt 0 view .LVU1
  35 0000 0346     		mov	r3, r0
 844:USB/core/usbd_req.c ****     uint8_t  len = 0;
  36              		.loc 1 844 5 is_stmt 1 view .LVU2
  37              	.LVL1:
 845:USB/core/usbd_req.c **** 
 846:USB/core/usbd_req.c ****     while (*buf != NULL) 
  38              		.loc 1 846 5 view .LVU3
 844:USB/core/usbd_req.c ****     uint8_t  len = 0;
  39              		.loc 1 844 14 is_stmt 0 view .LVU4
  40 0002 0020     		movs	r0, #0
  41              	.LVL2:
  42              		.loc 1 846 11 view .LVU5
  43 0004 02E0     		b	.L2
  44              	.LVL3:
  45              	.L3:
 847:USB/core/usbd_req.c ****     {
 848:USB/core/usbd_req.c ****         len++;
  46              		.loc 1 848 9 is_stmt 1 view .LVU6
  47              		.loc 1 848 12 is_stmt 0 view .LVU7
  48 0006 0130     		adds	r0, r0, #1
  49              	.LVL4:
  50              		.loc 1 848 12 view .LVU8
  51 0008 C0B2     		uxtb	r0, r0
  52              	.LVL5:
 849:USB/core/usbd_req.c ****         buf++;
  53              		.loc 1 849 9 is_stmt 1 view .LVU9
  54              		.loc 1 849 12 is_stmt 0 view .LVU10
  55 000a 0133     		adds	r3, r3, #1
  56              	.LVL6:
  57              	.L2:
 846:USB/core/usbd_req.c ****     {
  58              		.loc 1 846 11 is_stmt 1 view .LVU11
 846:USB/core/usbd_req.c ****     {
  59              		.loc 1 846 12 is_stmt 0 view .LVU12
  60 000c 1A78     		ldrb	r2, [r3]	@ zero_extendqisi2
 846:USB/core/usbd_req.c ****     {
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 17


  61              		.loc 1 846 11 view .LVU13
  62 000e 002A     		cmp	r2, #0
  63 0010 F9D1     		bne	.L3
 850:USB/core/usbd_req.c ****     }
 851:USB/core/usbd_req.c **** 
 852:USB/core/usbd_req.c ****     return len;
  64              		.loc 1 852 5 is_stmt 1 view .LVU14
 853:USB/core/usbd_req.c **** }
  65              		.loc 1 853 1 is_stmt 0 view .LVU15
  66 0012 7047     		bx	lr
  67              		.cfi_endproc
  68              	.LFE139:
  70              		.section	.text.USBD_SetFeature,"ax",%progbits
  71              		.align	1
  72              		.syntax unified
  73              		.thumb
  74              		.thumb_func
  75              		.fpu fpv4-sp-d16
  77              	USBD_SetFeature:
  78              	.LVL7:
  79              	.LFB134:
 695:USB/core/usbd_req.c **** 
  80              		.loc 1 695 1 is_stmt 1 view -0
  81              		.cfi_startproc
  82              		@ args = 0, pretend = 0, frame = 0
  83              		@ frame_needed = 0, uses_anonymous_args = 0
 695:USB/core/usbd_req.c **** 
  84              		.loc 1 695 1 is_stmt 0 view .LVU17
  85 0000 10B5     		push	{r4, lr}
  86              	.LCFI0:
  87              		.cfi_def_cfa_offset 8
  88              		.cfi_offset 4, -8
  89              		.cfi_offset 14, -4
  90 0002 0446     		mov	r4, r0
 697:USB/core/usbd_req.c ****   uint8_t test_mode = 0;
  91              		.loc 1 697 3 is_stmt 1 view .LVU18
 698:USB/core/usbd_req.c ****  
  92              		.loc 1 698 3 view .LVU19
  93              	.LVL8:
 700:USB/core/usbd_req.c ****   {
  94              		.loc 1 700 3 view .LVU20
 700:USB/core/usbd_req.c ****   {
  95              		.loc 1 700 10 is_stmt 0 view .LVU21
  96 0004 4B88     		ldrh	r3, [r1, #2]
 700:USB/core/usbd_req.c ****   {
  97              		.loc 1 700 6 view .LVU22
  98 0006 012B     		cmp	r3, #1
  99 0008 02D0     		beq	.L15
 707:USB/core/usbd_req.c ****            ((req->wIndex & 0xFF) == 0))
 100              		.loc 1 707 8 is_stmt 1 view .LVU23
 707:USB/core/usbd_req.c ****            ((req->wIndex & 0xFF) == 0))
 101              		.loc 1 707 11 is_stmt 0 view .LVU24
 102 000a 022B     		cmp	r3, #2
 103 000c 0AD0     		beq	.L16
 104              	.LVL9:
 105              	.L4:
 740:USB/core/usbd_req.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 18


 106              		.loc 1 740 1 view .LVU25
 107 000e 10BD     		pop	{r4, pc}
 108              	.LVL10:
 109              	.L15:
 702:USB/core/usbd_req.c ****     pdev->dev.class_cb->Setup (pdev, req);   
 110              		.loc 1 702 5 is_stmt 1 view .LVU26
 702:USB/core/usbd_req.c ****     pdev->dev.class_cb->Setup (pdev, req);   
 111              		.loc 1 702 31 is_stmt 0 view .LVU27
 112 0010 C0F81831 		str	r3, [r0, #280]
 703:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 113              		.loc 1 703 5 is_stmt 1 view .LVU28
 703:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 114              		.loc 1 703 14 is_stmt 0 view .LVU29
 115 0014 D0F8E435 		ldr	r3, [r0, #1508]
 703:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 116              		.loc 1 703 23 view .LVU30
 117 0018 9B68     		ldr	r3, [r3, #8]
 703:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 118              		.loc 1 703 5 view .LVU31
 119 001a 9847     		blx	r3
 120              	.LVL11:
 704:USB/core/usbd_req.c ****   }
 121              		.loc 1 704 5 is_stmt 1 view .LVU32
 122 001c 2046     		mov	r0, r4
 123 001e FFF7FEFF 		bl	USBD_CtlSendStatus
 124              	.LVL12:
 125 0022 F4E7     		b	.L4
 126              	.LVL13:
 127              	.L16:
 708:USB/core/usbd_req.c ****   {
 128              		.loc 1 708 17 is_stmt 0 discriminator 1 view .LVU33
 129 0024 8B88     		ldrh	r3, [r1, #4]
 707:USB/core/usbd_req.c ****            ((req->wIndex & 0xFF) == 0))
 130              		.loc 1 707 51 discriminator 1 view .LVU34
 131 0026 13F0FF0F 		tst	r3, #255
 132 002a F0D1     		bne	.L4
 710:USB/core/usbd_req.c ****     
 133              		.loc 1 710 5 is_stmt 1 view .LVU35
 710:USB/core/usbd_req.c ****     
 134              		.loc 1 710 16 is_stmt 0 view .LVU36
 135 002c 0269     		ldr	r2, [r0, #16]
 136 002e 5268     		ldr	r2, [r2, #4]
 137              	.LVL14:
 712:USB/core/usbd_req.c ****     switch (test_mode) 
 138              		.loc 1 712 5 is_stmt 1 view .LVU37
 712:USB/core/usbd_req.c ****     switch (test_mode) 
 139              		.loc 1 712 15 is_stmt 0 view .LVU38
 140 0030 1B0A     		lsrs	r3, r3, #8
 141              	.LVL15:
 713:USB/core/usbd_req.c ****     {
 142              		.loc 1 713 5 is_stmt 1 view .LVU39
 143 0032 013B     		subs	r3, r3, #1
 144              	.LVL16:
 713:USB/core/usbd_req.c ****     {
 145              		.loc 1 713 5 is_stmt 0 view .LVU40
 146 0034 042B     		cmp	r3, #4
 147 0036 07D8     		bhi	.L7
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 19


 148 0038 DFE803F0 		tbb	[pc, r3]
 149              	.LVL17:
 150              	.L9:
 151 003c 03       		.byte	(.L13-.L9)/2
 152 003d 0F       		.byte	(.L12-.L9)/2
 153 003e 13       		.byte	(.L11-.L9)/2
 154 003f 17       		.byte	(.L10-.L9)/2
 155 0040 1B       		.byte	(.L8-.L9)/2
 156 0041 00       		.p2align 1
 157              	.L13:
 716:USB/core/usbd_req.c ****       break;
 158              		.loc 1 716 7 is_stmt 1 view .LVU41
 716:USB/core/usbd_req.c ****       break;
 159              		.loc 1 716 21 is_stmt 0 view .LVU42
 160 0042 0123     		movs	r3, #1
 161              	.LVL18:
 716:USB/core/usbd_req.c ****       break;
 162              		.loc 1 716 21 view .LVU43
 163 0044 63F30612 		bfi	r2, r3, #4, #3
 717:USB/core/usbd_req.c ****       
 164              		.loc 1 717 7 is_stmt 1 view .LVU44
 165              	.L7:
 735:USB/core/usbd_req.c ****     pdev->dev.test_mode = 1;
 166              		.loc 1 735 5 view .LVU45
 735:USB/core/usbd_req.c ****     pdev->dev.test_mode = 1;
 167              		.loc 1 735 19 is_stmt 0 view .LVU46
 168 0048 0C4B     		ldr	r3, .L17
 169 004a 1A60     		str	r2, [r3]
 736:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 170              		.loc 1 736 5 is_stmt 1 view .LVU47
 736:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 171              		.loc 1 736 25 is_stmt 0 view .LVU48
 172 004c 0123     		movs	r3, #1
 173 004e 84F81631 		strb	r3, [r4, #278]
 174              	.LVL19:
 737:USB/core/usbd_req.c ****   }
 175              		.loc 1 737 5 is_stmt 1 view .LVU49
 176 0052 2046     		mov	r0, r4
 177              	.LVL20:
 737:USB/core/usbd_req.c ****   }
 178              		.loc 1 737 5 is_stmt 0 view .LVU50
 179 0054 FFF7FEFF 		bl	USBD_CtlSendStatus
 180              	.LVL21:
 740:USB/core/usbd_req.c **** 
 181              		.loc 1 740 1 view .LVU51
 182 0058 D9E7     		b	.L4
 183              	.LVL22:
 184              	.L12:
 720:USB/core/usbd_req.c ****       break;
 185              		.loc 1 720 7 is_stmt 1 view .LVU52
 720:USB/core/usbd_req.c ****       break;
 186              		.loc 1 720 21 is_stmt 0 view .LVU53
 187 005a 0223     		movs	r3, #2
 188              	.LVL23:
 720:USB/core/usbd_req.c ****       break;
 189              		.loc 1 720 21 view .LVU54
 190 005c 63F30612 		bfi	r2, r3, #4, #3
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 20


 721:USB/core/usbd_req.c ****       
 191              		.loc 1 721 7 is_stmt 1 view .LVU55
 192 0060 F2E7     		b	.L7
 193              	.L11:
 724:USB/core/usbd_req.c ****       break;
 194              		.loc 1 724 7 view .LVU56
 724:USB/core/usbd_req.c ****       break;
 195              		.loc 1 724 21 is_stmt 0 view .LVU57
 196 0062 0323     		movs	r3, #3
 197 0064 63F30612 		bfi	r2, r3, #4, #3
 725:USB/core/usbd_req.c ****       
 198              		.loc 1 725 7 is_stmt 1 view .LVU58
 199 0068 EEE7     		b	.L7
 200              	.L10:
 728:USB/core/usbd_req.c ****       break;
 201              		.loc 1 728 7 view .LVU59
 728:USB/core/usbd_req.c ****       break;
 202              		.loc 1 728 21 is_stmt 0 view .LVU60
 203 006a 0423     		movs	r3, #4
 204 006c 63F30612 		bfi	r2, r3, #4, #3
 729:USB/core/usbd_req.c ****       
 205              		.loc 1 729 7 is_stmt 1 view .LVU61
 206 0070 EAE7     		b	.L7
 207              	.L8:
 732:USB/core/usbd_req.c ****       break;
 208              		.loc 1 732 7 view .LVU62
 732:USB/core/usbd_req.c ****       break;
 209              		.loc 1 732 21 is_stmt 0 view .LVU63
 210 0072 0523     		movs	r3, #5
 211 0074 63F30612 		bfi	r2, r3, #4, #3
 733:USB/core/usbd_req.c ****     }
 212              		.loc 1 733 7 is_stmt 1 view .LVU64
 213 0078 E6E7     		b	.L7
 214              	.L18:
 215 007a 00BF     		.align	2
 216              	.L17:
 217 007c 00000000 		.word	SET_TEST_MODE
 218              		.cfi_endproc
 219              	.LFE134:
 221              		.section	.text.USBD_ParseSetupRequest,"ax",%progbits
 222              		.align	1
 223              		.global	USBD_ParseSetupRequest
 224              		.syntax unified
 225              		.thumb
 226              		.thumb_func
 227              		.fpu fpv4-sp-d16
 229              	USBD_ParseSetupRequest:
 230              	.LVL24:
 231              	.LFB136:
 781:USB/core/usbd_req.c ****   req->bmRequest     = *(uint8_t *)  (pdev->dev.setup_packet);
 232              		.loc 1 781 1 view -0
 233              		.cfi_startproc
 234              		@ args = 0, pretend = 0, frame = 0
 235              		@ frame_needed = 0, uses_anonymous_args = 0
 236              		@ link register save eliminated.
 782:USB/core/usbd_req.c ****   req->bRequest      = *(uint8_t *)  (pdev->dev.setup_packet +  1);
 237              		.loc 1 782 3 view .LVU66
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 21


 782:USB/core/usbd_req.c ****   req->bRequest      = *(uint8_t *)  (pdev->dev.setup_packet +  1);
 238              		.loc 1 782 22 is_stmt 0 view .LVU67
 239 0000 90F8CC35 		ldrb	r3, [r0, #1484]	@ zero_extendqisi2
 240 0004 0B70     		strb	r3, [r1]
 783:USB/core/usbd_req.c ****   req->wValue        = SWAPBYTE      (pdev->dev.setup_packet +  2);
 241              		.loc 1 783 3 is_stmt 1 view .LVU68
 783:USB/core/usbd_req.c ****   req->wValue        = SWAPBYTE      (pdev->dev.setup_packet +  2);
 242              		.loc 1 783 24 is_stmt 0 view .LVU69
 243 0006 90F8CD35 		ldrb	r3, [r0, #1485]	@ zero_extendqisi2
 783:USB/core/usbd_req.c ****   req->wValue        = SWAPBYTE      (pdev->dev.setup_packet +  2);
 244              		.loc 1 783 22 view .LVU70
 245 000a 4B70     		strb	r3, [r1, #1]
 784:USB/core/usbd_req.c ****   req->wIndex        = SWAPBYTE      (pdev->dev.setup_packet +  4);
 246              		.loc 1 784 3 is_stmt 1 view .LVU71
 784:USB/core/usbd_req.c ****   req->wIndex        = SWAPBYTE      (pdev->dev.setup_packet +  4);
 247              		.loc 1 784 24 is_stmt 0 view .LVU72
 248 000c 90F8CE35 		ldrb	r3, [r0, #1486]	@ zero_extendqisi2
 249 0010 90F8CF25 		ldrb	r2, [r0, #1487]	@ zero_extendqisi2
 250 0014 03EB0223 		add	r3, r3, r2, lsl #8
 784:USB/core/usbd_req.c ****   req->wIndex        = SWAPBYTE      (pdev->dev.setup_packet +  4);
 251              		.loc 1 784 22 view .LVU73
 252 0018 4B80     		strh	r3, [r1, #2]	@ movhi
 785:USB/core/usbd_req.c ****   req->wLength       = SWAPBYTE      (pdev->dev.setup_packet +  6);
 253              		.loc 1 785 3 is_stmt 1 view .LVU74
 785:USB/core/usbd_req.c ****   req->wLength       = SWAPBYTE      (pdev->dev.setup_packet +  6);
 254              		.loc 1 785 24 is_stmt 0 view .LVU75
 255 001a 90F8D035 		ldrb	r3, [r0, #1488]	@ zero_extendqisi2
 256 001e 90F8D125 		ldrb	r2, [r0, #1489]	@ zero_extendqisi2
 257 0022 03EB0223 		add	r3, r3, r2, lsl #8
 785:USB/core/usbd_req.c ****   req->wLength       = SWAPBYTE      (pdev->dev.setup_packet +  6);
 258              		.loc 1 785 22 view .LVU76
 259 0026 8B80     		strh	r3, [r1, #4]	@ movhi
 786:USB/core/usbd_req.c ****   
 260              		.loc 1 786 3 is_stmt 1 view .LVU77
 786:USB/core/usbd_req.c ****   
 261              		.loc 1 786 24 is_stmt 0 view .LVU78
 262 0028 90F8D235 		ldrb	r3, [r0, #1490]	@ zero_extendqisi2
 263 002c 90F8D325 		ldrb	r2, [r0, #1491]	@ zero_extendqisi2
 264 0030 03EB0223 		add	r3, r3, r2, lsl #8
 265 0034 9BB2     		uxth	r3, r3
 786:USB/core/usbd_req.c ****   
 266              		.loc 1 786 22 view .LVU79
 267 0036 CB80     		strh	r3, [r1, #6]	@ movhi
 788:USB/core/usbd_req.c ****   pdev->dev.device_state = USB_OTG_EP0_SETUP;
 268              		.loc 1 788 3 is_stmt 1 view .LVU80
 788:USB/core/usbd_req.c ****   pdev->dev.device_state = USB_OTG_EP0_SETUP;
 269              		.loc 1 788 35 is_stmt 0 view .LVU81
 270 0038 C0F84031 		str	r3, [r0, #320]
 789:USB/core/usbd_req.c **** }
 271              		.loc 1 789 3 is_stmt 1 view .LVU82
 789:USB/core/usbd_req.c **** }
 272              		.loc 1 789 26 is_stmt 0 view .LVU83
 273 003c 0123     		movs	r3, #1
 274 003e 80F81131 		strb	r3, [r0, #273]
 790:USB/core/usbd_req.c **** 
 275              		.loc 1 790 1 view .LVU84
 276 0042 7047     		bx	lr
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 22


 277              		.cfi_endproc
 278              	.LFE136:
 280              		.section	.text.USBD_CtlError,"ax",%progbits
 281              		.align	1
 282              		.global	USBD_CtlError
 283              		.syntax unified
 284              		.thumb
 285              		.thumb_func
 286              		.fpu fpv4-sp-d16
 288              	USBD_CtlError:
 289              	.LVL25:
 290              	.LFB137:
 802:USB/core/usbd_req.c ****   
 291              		.loc 1 802 1 is_stmt 1 view -0
 292              		.cfi_startproc
 293              		@ args = 0, pretend = 0, frame = 0
 294              		@ frame_needed = 0, uses_anonymous_args = 0
 802:USB/core/usbd_req.c ****   
 295              		.loc 1 802 1 is_stmt 0 view .LVU86
 296 0000 10B5     		push	{r4, lr}
 297              	.LCFI1:
 298              		.cfi_def_cfa_offset 8
 299              		.cfi_offset 4, -8
 300              		.cfi_offset 14, -4
 301 0002 0446     		mov	r4, r0
 804:USB/core/usbd_req.c ****   DCD_EP_Stall(pdev , 0);
 302              		.loc 1 804 3 is_stmt 1 view .LVU87
 303 0004 8021     		movs	r1, #128
 304              	.LVL26:
 804:USB/core/usbd_req.c ****   DCD_EP_Stall(pdev , 0);
 305              		.loc 1 804 3 is_stmt 0 view .LVU88
 306 0006 FFF7FEFF 		bl	DCD_EP_Stall
 307              	.LVL27:
 805:USB/core/usbd_req.c ****   USB_OTG_EP0_OutStart(pdev);  
 308              		.loc 1 805 3 is_stmt 1 view .LVU89
 309 000a 0021     		movs	r1, #0
 310 000c 2046     		mov	r0, r4
 311 000e FFF7FEFF 		bl	DCD_EP_Stall
 312              	.LVL28:
 806:USB/core/usbd_req.c **** }
 313              		.loc 1 806 3 view .LVU90
 314 0012 2046     		mov	r0, r4
 315 0014 FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 316              	.LVL29:
 807:USB/core/usbd_req.c **** 
 317              		.loc 1 807 1 is_stmt 0 view .LVU91
 318 0018 10BD     		pop	{r4, pc}
 807:USB/core/usbd_req.c **** 
 319              		.loc 1 807 1 view .LVU92
 320              		.cfi_endproc
 321              	.LFE137:
 323              		.section	.text.USBD_GetDescriptor,"ax",%progbits
 324              		.align	1
 325              		.syntax unified
 326              		.thumb
 327              		.thumb_func
 328              		.fpu fpv4-sp-d16
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 23


 330              	USBD_GetDescriptor:
 331              	.LVL30:
 332              	.LFB129:
 368:USB/core/usbd_req.c ****   uint16_t len;
 333              		.loc 1 368 1 is_stmt 1 view -0
 334              		.cfi_startproc
 335              		@ args = 0, pretend = 0, frame = 8
 336              		@ frame_needed = 0, uses_anonymous_args = 0
 368:USB/core/usbd_req.c ****   uint16_t len;
 337              		.loc 1 368 1 is_stmt 0 view .LVU94
 338 0000 30B5     		push	{r4, r5, lr}
 339              	.LCFI2:
 340              		.cfi_def_cfa_offset 12
 341              		.cfi_offset 4, -12
 342              		.cfi_offset 5, -8
 343              		.cfi_offset 14, -4
 344 0002 83B0     		sub	sp, sp, #12
 345              	.LCFI3:
 346              		.cfi_def_cfa_offset 24
 347 0004 0546     		mov	r5, r0
 348 0006 0C46     		mov	r4, r1
 369:USB/core/usbd_req.c ****   uint8_t *pbuf;
 349              		.loc 1 369 3 is_stmt 1 view .LVU95
 370:USB/core/usbd_req.c ****   
 350              		.loc 1 370 3 view .LVU96
 373:USB/core/usbd_req.c ****   {
 351              		.loc 1 373 3 view .LVU97
 373:USB/core/usbd_req.c ****   {
 352              		.loc 1 373 14 is_stmt 0 view .LVU98
 353 0008 4A88     		ldrh	r2, [r1, #2]
 373:USB/core/usbd_req.c ****   {
 354              		.loc 1 373 23 view .LVU99
 355 000a 130A     		lsrs	r3, r2, #8
 356 000c 013B     		subs	r3, r3, #1
 357 000e 062B     		cmp	r3, #6
 358 0010 78D8     		bhi	.L23
 359 0012 DFE803F0 		tbb	[pc, r3]
 360              	.LVL31:
 361              	.L25:
 362 0016 04       		.byte	(.L29-.L25)/2
 363 0017 16       		.byte	(.L28-.L25)/2
 364 0018 32       		.byte	(.L27-.L25)/2
 365 0019 77       		.byte	(.L23-.L25)/2
 366 001a 77       		.byte	(.L23-.L25)/2
 367 001b 6E       		.byte	(.L26-.L25)/2
 368 001c 73       		.byte	(.L24-.L25)/2
 369 001d 00       		.p2align 1
 370              	.L29:
 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 371              		.loc 1 376 5 is_stmt 1 view .LVU100
 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 372              		.loc 1 376 21 is_stmt 0 view .LVU101
 373 001e D0F8EC35 		ldr	r3, [r0, #1516]
 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 374              		.loc 1 376 32 view .LVU102
 375 0022 1B68     		ldr	r3, [r3]
 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 24


 376              		.loc 1 376 12 view .LVU103
 377 0024 0DF10601 		add	r1, sp, #6
 378 0028 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 379              	.LVL32:
 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 380              		.loc 1 376 12 view .LVU104
 381 002a 9847     		blx	r3
 382              	.LVL33:
 377:USB/core/usbd_req.c ****     {                  
 383              		.loc 1 377 5 is_stmt 1 view .LVU105
 377:USB/core/usbd_req.c ****     {                  
 384              		.loc 1 377 13 is_stmt 0 view .LVU106
 385 002c E388     		ldrh	r3, [r4, #6]
 377:USB/core/usbd_req.c ****     {                  
 386              		.loc 1 377 8 view .LVU107
 387 002e 402B     		cmp	r3, #64
 388 0030 03D0     		beq	.L30
 377:USB/core/usbd_req.c ****     {                  
 389              		.loc 1 377 43 discriminator 1 view .LVU108
 390 0032 95F81231 		ldrb	r3, [r5, #274]	@ zero_extendqisi2
 377:USB/core/usbd_req.c ****     {                  
 391              		.loc 1 377 30 discriminator 1 view .LVU109
 392 0036 012B     		cmp	r3, #1
 393 0038 0ED1     		bne	.L31
 394              	.L30:
 379:USB/core/usbd_req.c ****     }
 395              		.loc 1 379 7 is_stmt 1 view .LVU110
 379:USB/core/usbd_req.c ****     }
 396              		.loc 1 379 11 is_stmt 0 view .LVU111
 397 003a 0823     		movs	r3, #8
 398 003c ADF80630 		strh	r3, [sp, #6]	@ movhi
 399 0040 0AE0     		b	.L31
 400              	.LVL34:
 401              	.L28:
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 402              		.loc 1 384 7 is_stmt 1 view .LVU112
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 403              		.loc 1 384 36 is_stmt 0 view .LVU113
 404 0042 D0F8E435 		ldr	r3, [r0, #1508]
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 405              		.loc 1 384 45 view .LVU114
 406 0046 9B6A     		ldr	r3, [r3, #40]
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 407              		.loc 1 384 16 view .LVU115
 408 0048 0DF10601 		add	r1, sp, #6
 409 004c 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 410              	.LVL35:
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 411              		.loc 1 384 16 view .LVU116
 412 004e 9847     		blx	r3
 413              	.LVL36:
 392:USB/core/usbd_req.c ****     pdev->dev.pConfig_descriptor = pbuf;    
 414              		.loc 1 392 5 is_stmt 1 view .LVU117
 392:USB/core/usbd_req.c ****     pdev->dev.pConfig_descriptor = pbuf;    
 415              		.loc 1 392 13 is_stmt 0 view .LVU118
 416 0050 0223     		movs	r3, #2
 417 0052 4370     		strb	r3, [r0, #1]
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 25


 393:USB/core/usbd_req.c ****     break;
 418              		.loc 1 393 5 is_stmt 1 view .LVU119
 393:USB/core/usbd_req.c ****     break;
 419              		.loc 1 393 34 is_stmt 0 view .LVU120
 420 0054 C5F8F005 		str	r0, [r5, #1520]
 394:USB/core/usbd_req.c ****     
 421              		.loc 1 394 5 is_stmt 1 view .LVU121
 422              	.L31:
 483:USB/core/usbd_req.c ****   {
 423              		.loc 1 483 3 view .LVU122
 483:USB/core/usbd_req.c ****   {
 424              		.loc 1 483 11 is_stmt 0 view .LVU123
 425 0058 BDF80620 		ldrh	r2, [sp, #6]
 483:USB/core/usbd_req.c ****   {
 426              		.loc 1 483 5 view .LVU124
 427 005c 002A     		cmp	r2, #0
 428 005e 4BD0     		beq	.L22
 483:USB/core/usbd_req.c ****   {
 429              		.loc 1 483 23 discriminator 1 view .LVU125
 430 0060 E388     		ldrh	r3, [r4, #6]
 483:USB/core/usbd_req.c ****   {
 431              		.loc 1 483 16 discriminator 1 view .LVU126
 432 0062 002B     		cmp	r3, #0
 433 0064 48D0     		beq	.L22
 486:USB/core/usbd_req.c ****     
 434              		.loc 1 486 5 is_stmt 1 view .LVU127
 486:USB/core/usbd_req.c ****     
 435              		.loc 1 486 11 is_stmt 0 view .LVU128
 436 0066 9A42     		cmp	r2, r3
 437 0068 28BF     		it	cs
 438 006a 1A46     		movcs	r2, r3
 486:USB/core/usbd_req.c ****     
 439              		.loc 1 486 9 view .LVU129
 440 006c ADF80620 		strh	r2, [sp, #6]	@ movhi
 488:USB/core/usbd_req.c ****                       pbuf,
 441              		.loc 1 488 5 is_stmt 1 view .LVU130
 442 0070 0146     		mov	r1, r0
 443 0072 2846     		mov	r0, r5
 444              	.LVL37:
 488:USB/core/usbd_req.c ****                       pbuf,
 445              		.loc 1 488 5 is_stmt 0 view .LVU131
 446 0074 FFF7FEFF 		bl	USBD_CtlSendData
 447              	.LVL38:
 488:USB/core/usbd_req.c ****                       pbuf,
 448              		.loc 1 488 5 view .LVU132
 449 0078 3EE0     		b	.L22
 450              	.LVL39:
 451              	.L27:
 397:USB/core/usbd_req.c ****     {
 452              		.loc 1 397 5 is_stmt 1 view .LVU133
 397:USB/core/usbd_req.c ****     {
 453              		.loc 1 397 13 is_stmt 0 view .LVU134
 454 007a D2B2     		uxtb	r2, r2
 455 007c 052A     		cmp	r2, #5
 456 007e 34D8     		bhi	.L32
 457 0080 DFE802F0 		tbb	[pc, r2]
 458              	.L34:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 26


 459 0084 03       		.byte	(.L39-.L34)/2
 460 0085 0B       		.byte	(.L38-.L34)/2
 461 0086 13       		.byte	(.L37-.L34)/2
 462 0087 1B       		.byte	(.L36-.L34)/2
 463 0088 23       		.byte	(.L35-.L34)/2
 464 0089 2B       		.byte	(.L33-.L34)/2
 465              		.p2align 1
 466              	.L39:
 400:USB/core/usbd_req.c ****       break;
 467              		.loc 1 400 6 is_stmt 1 view .LVU135
 400:USB/core/usbd_req.c ****       break;
 468              		.loc 1 400 22 is_stmt 0 view .LVU136
 469 008a D0F8EC35 		ldr	r3, [r0, #1516]
 400:USB/core/usbd_req.c ****       break;
 470              		.loc 1 400 33 view .LVU137
 471 008e 5B68     		ldr	r3, [r3, #4]
 400:USB/core/usbd_req.c ****       break;
 472              		.loc 1 400 13 view .LVU138
 473 0090 0DF10601 		add	r1, sp, #6
 474 0094 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 475              	.LVL40:
 400:USB/core/usbd_req.c ****       break;
 476              		.loc 1 400 13 view .LVU139
 477 0096 9847     		blx	r3
 478              	.LVL41:
 401:USB/core/usbd_req.c ****       
 479              		.loc 1 401 7 is_stmt 1 view .LVU140
 480 0098 DEE7     		b	.L31
 481              	.LVL42:
 482              	.L38:
 404:USB/core/usbd_req.c ****       break;
 483              		.loc 1 404 7 view .LVU141
 404:USB/core/usbd_req.c ****       break;
 484              		.loc 1 404 23 is_stmt 0 view .LVU142
 485 009a D0F8EC35 		ldr	r3, [r0, #1516]
 404:USB/core/usbd_req.c ****       break;
 486              		.loc 1 404 34 view .LVU143
 487 009e 9B68     		ldr	r3, [r3, #8]
 404:USB/core/usbd_req.c ****       break;
 488              		.loc 1 404 14 view .LVU144
 489 00a0 0DF10601 		add	r1, sp, #6
 490 00a4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 491              	.LVL43:
 404:USB/core/usbd_req.c ****       break;
 492              		.loc 1 404 14 view .LVU145
 493 00a6 9847     		blx	r3
 494              	.LVL44:
 405:USB/core/usbd_req.c ****       
 495              		.loc 1 405 7 is_stmt 1 view .LVU146
 496 00a8 D6E7     		b	.L31
 497              	.LVL45:
 498              	.L37:
 408:USB/core/usbd_req.c ****       break;
 499              		.loc 1 408 7 view .LVU147
 408:USB/core/usbd_req.c ****       break;
 500              		.loc 1 408 23 is_stmt 0 view .LVU148
 501 00aa D0F8EC35 		ldr	r3, [r0, #1516]
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 27


 408:USB/core/usbd_req.c ****       break;
 502              		.loc 1 408 34 view .LVU149
 503 00ae DB68     		ldr	r3, [r3, #12]
 408:USB/core/usbd_req.c ****       break;
 504              		.loc 1 408 14 view .LVU150
 505 00b0 0DF10601 		add	r1, sp, #6
 506 00b4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 507              	.LVL46:
 408:USB/core/usbd_req.c ****       break;
 508              		.loc 1 408 14 view .LVU151
 509 00b6 9847     		blx	r3
 510              	.LVL47:
 409:USB/core/usbd_req.c ****       
 511              		.loc 1 409 7 is_stmt 1 view .LVU152
 512 00b8 CEE7     		b	.L31
 513              	.LVL48:
 514              	.L36:
 412:USB/core/usbd_req.c ****       break;
 515              		.loc 1 412 7 view .LVU153
 412:USB/core/usbd_req.c ****       break;
 516              		.loc 1 412 23 is_stmt 0 view .LVU154
 517 00ba D0F8EC35 		ldr	r3, [r0, #1516]
 412:USB/core/usbd_req.c ****       break;
 518              		.loc 1 412 34 view .LVU155
 519 00be 1B69     		ldr	r3, [r3, #16]
 412:USB/core/usbd_req.c ****       break;
 520              		.loc 1 412 14 view .LVU156
 521 00c0 0DF10601 		add	r1, sp, #6
 522 00c4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 523              	.LVL49:
 412:USB/core/usbd_req.c ****       break;
 524              		.loc 1 412 14 view .LVU157
 525 00c6 9847     		blx	r3
 526              	.LVL50:
 413:USB/core/usbd_req.c ****       
 527              		.loc 1 413 7 is_stmt 1 view .LVU158
 528 00c8 C6E7     		b	.L31
 529              	.LVL51:
 530              	.L35:
 416:USB/core/usbd_req.c ****       break;
 531              		.loc 1 416 7 view .LVU159
 416:USB/core/usbd_req.c ****       break;
 532              		.loc 1 416 23 is_stmt 0 view .LVU160
 533 00ca D0F8EC35 		ldr	r3, [r0, #1516]
 416:USB/core/usbd_req.c ****       break;
 534              		.loc 1 416 34 view .LVU161
 535 00ce 5B69     		ldr	r3, [r3, #20]
 416:USB/core/usbd_req.c ****       break;
 536              		.loc 1 416 14 view .LVU162
 537 00d0 0DF10601 		add	r1, sp, #6
 538 00d4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 539              	.LVL52:
 416:USB/core/usbd_req.c ****       break;
 540              		.loc 1 416 14 view .LVU163
 541 00d6 9847     		blx	r3
 542              	.LVL53:
 417:USB/core/usbd_req.c ****       
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 28


 543              		.loc 1 417 7 is_stmt 1 view .LVU164
 544 00d8 BEE7     		b	.L31
 545              	.LVL54:
 546              	.L33:
 420:USB/core/usbd_req.c ****       break;
 547              		.loc 1 420 7 view .LVU165
 420:USB/core/usbd_req.c ****       break;
 548              		.loc 1 420 23 is_stmt 0 view .LVU166
 549 00da D0F8EC35 		ldr	r3, [r0, #1516]
 420:USB/core/usbd_req.c ****       break;
 550              		.loc 1 420 34 view .LVU167
 551 00de 9B69     		ldr	r3, [r3, #24]
 420:USB/core/usbd_req.c ****       break;
 552              		.loc 1 420 14 view .LVU168
 553 00e0 0DF10601 		add	r1, sp, #6
 554 00e4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 555              	.LVL55:
 420:USB/core/usbd_req.c ****       break;
 556              		.loc 1 420 14 view .LVU169
 557 00e6 9847     		blx	r3
 558              	.LVL56:
 421:USB/core/usbd_req.c ****       
 559              		.loc 1 421 7 is_stmt 1 view .LVU170
 560 00e8 B6E7     		b	.L31
 561              	.LVL57:
 562              	.L32:
 428:USB/core/usbd_req.c ****       return;
 563              		.loc 1 428 8 view .LVU171
 564 00ea 2146     		mov	r1, r4
 565 00ec FFF7FEFF 		bl	USBD_CtlError
 566              	.LVL58:
 429:USB/core/usbd_req.c **** #endif /* USBD_CtlError(pdev , req); */      
 567              		.loc 1 429 7 view .LVU172
 568 00f0 02E0     		b	.L22
 569              	.LVL59:
 570              	.L26:
 454:USB/core/usbd_req.c ****       return;
 571              		.loc 1 454 7 view .LVU173
 572 00f2 2146     		mov	r1, r4
 573 00f4 FFF7FEFF 		bl	USBD_CtlError
 574              	.LVL60:
 455:USB/core/usbd_req.c **** #endif    
 575              		.loc 1 455 7 view .LVU174
 576              	.L22:
 493:USB/core/usbd_req.c **** 
 577              		.loc 1 493 1 is_stmt 0 view .LVU175
 578 00f8 03B0     		add	sp, sp, #12
 579              	.LCFI4:
 580              		.cfi_remember_state
 581              		.cfi_def_cfa_offset 12
 582              		@ sp needed
 583 00fa 30BD     		pop	{r4, r5, pc}
 584              	.LVL61:
 585              	.L24:
 586              	.LCFI5:
 587              		.cfi_restore_state
 473:USB/core/usbd_req.c ****       return;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 29


 588              		.loc 1 473 7 is_stmt 1 view .LVU176
 589 00fc 2146     		mov	r1, r4
 590 00fe FFF7FEFF 		bl	USBD_CtlError
 591              	.LVL62:
 474:USB/core/usbd_req.c **** #endif     
 592              		.loc 1 474 7 view .LVU177
 593 0102 F9E7     		b	.L22
 594              	.LVL63:
 595              	.L23:
 479:USB/core/usbd_req.c ****     return;
 596              		.loc 1 479 6 view .LVU178
 597 0104 2146     		mov	r1, r4
 598 0106 FFF7FEFF 		bl	USBD_CtlError
 599              	.LVL64:
 480:USB/core/usbd_req.c ****   }
 600              		.loc 1 480 5 view .LVU179
 601 010a F5E7     		b	.L22
 602              		.cfi_endproc
 603              	.LFE129:
 605              		.section	.text.USBD_SetAddress,"ax",%progbits
 606              		.align	1
 607              		.syntax unified
 608              		.thumb
 609              		.thumb_func
 610              		.fpu fpv4-sp-d16
 612              	USBD_SetAddress:
 613              	.LVL65:
 614              	.LFB130:
 504:USB/core/usbd_req.c ****   uint8_t  dev_addr; 
 615              		.loc 1 504 1 view -0
 616              		.cfi_startproc
 617              		@ args = 0, pretend = 0, frame = 0
 618              		@ frame_needed = 0, uses_anonymous_args = 0
 504:USB/core/usbd_req.c ****   uint8_t  dev_addr; 
 619              		.loc 1 504 1 is_stmt 0 view .LVU181
 620 0000 38B5     		push	{r3, r4, r5, lr}
 621              	.LCFI6:
 622              		.cfi_def_cfa_offset 16
 623              		.cfi_offset 3, -16
 624              		.cfi_offset 4, -12
 625              		.cfi_offset 5, -8
 626              		.cfi_offset 14, -4
 627 0002 0446     		mov	r4, r0
 505:USB/core/usbd_req.c ****   
 628              		.loc 1 505 3 is_stmt 1 view .LVU182
 507:USB/core/usbd_req.c ****   {
 629              		.loc 1 507 3 view .LVU183
 507:USB/core/usbd_req.c ****   {
 630              		.loc 1 507 11 is_stmt 0 view .LVU184
 631 0004 8B88     		ldrh	r3, [r1, #4]
 507:USB/core/usbd_req.c ****   {
 632              		.loc 1 507 6 view .LVU185
 633 0006 E3B9     		cbnz	r3, .L45
 507:USB/core/usbd_req.c ****   {
 634              		.loc 1 507 33 discriminator 1 view .LVU186
 635 0008 CB88     		ldrh	r3, [r1, #6]
 507:USB/core/usbd_req.c ****   {
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 30


 636              		.loc 1 507 26 discriminator 1 view .LVU187
 637 000a D3B9     		cbnz	r3, .L45
 509:USB/core/usbd_req.c ****     
 638              		.loc 1 509 5 is_stmt 1 view .LVU188
 509:USB/core/usbd_req.c ****     
 639              		.loc 1 509 39 is_stmt 0 view .LVU189
 640 000c 8D78     		ldrb	r5, [r1, #2]	@ zero_extendqisi2
 509:USB/core/usbd_req.c ****     
 641              		.loc 1 509 14 view .LVU190
 642 000e 05F07F05 		and	r5, r5, #127
 643              	.LVL66:
 511:USB/core/usbd_req.c ****     {
 644              		.loc 1 511 5 is_stmt 1 view .LVU191
 511:USB/core/usbd_req.c ****     {
 645              		.loc 1 511 18 is_stmt 0 view .LVU192
 646 0012 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 511:USB/core/usbd_req.c ****     {
 647              		.loc 1 511 8 view .LVU193
 648 0016 032B     		cmp	r3, #3
 649 0018 0CD0     		beq	.L50
 517:USB/core/usbd_req.c ****       DCD_EP_SetAddress(pdev, dev_addr);               
 650              		.loc 1 517 7 is_stmt 1 view .LVU194
 517:USB/core/usbd_req.c ****       DCD_EP_SetAddress(pdev, dev_addr);               
 651              		.loc 1 517 32 is_stmt 0 view .LVU195
 652 001a 80F81451 		strb	r5, [r0, #276]
 518:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);                         
 653              		.loc 1 518 7 is_stmt 1 view .LVU196
 654 001e 2946     		mov	r1, r5
 655              	.LVL67:
 518:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);                         
 656              		.loc 1 518 7 is_stmt 0 view .LVU197
 657 0020 FFF7FEFF 		bl	DCD_EP_SetAddress
 658              	.LVL68:
 519:USB/core/usbd_req.c ****       
 659              		.loc 1 519 7 is_stmt 1 view .LVU198
 660 0024 2046     		mov	r0, r4
 661 0026 FFF7FEFF 		bl	USBD_CtlSendStatus
 662              	.LVL69:
 521:USB/core/usbd_req.c ****       {
 663              		.loc 1 521 7 view .LVU199
 521:USB/core/usbd_req.c ****       {
 664              		.loc 1 521 10 is_stmt 0 view .LVU200
 665 002a 35B1     		cbz	r5, .L48
 523:USB/core/usbd_req.c ****       } 
 666              		.loc 1 523 9 is_stmt 1 view .LVU201
 523:USB/core/usbd_req.c ****       } 
 667              		.loc 1 523 34 is_stmt 0 view .LVU202
 668 002c 0223     		movs	r3, #2
 669 002e 84F81231 		strb	r3, [r4, #274]
 670 0032 09E0     		b	.L44
 671              	.LVL70:
 672              	.L50:
 513:USB/core/usbd_req.c ****     } 
 673              		.loc 1 513 7 is_stmt 1 view .LVU203
 674 0034 FFF7FEFF 		bl	USBD_CtlError
 675              	.LVL71:
 513:USB/core/usbd_req.c ****     } 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 31


 676              		.loc 1 513 7 is_stmt 0 view .LVU204
 677 0038 06E0     		b	.L44
 678              	.L48:
 527:USB/core/usbd_req.c ****       }
 679              		.loc 1 527 9 is_stmt 1 view .LVU205
 527:USB/core/usbd_req.c ****       }
 680              		.loc 1 527 34 is_stmt 0 view .LVU206
 681 003a 0123     		movs	r3, #1
 682 003c 84F81231 		strb	r3, [r4, #274]
 683 0040 02E0     		b	.L44
 684              	.LVL72:
 685              	.L45:
 533:USB/core/usbd_req.c ****   } 
 686              		.loc 1 533 6 is_stmt 1 view .LVU207
 687 0042 2046     		mov	r0, r4
 688              	.LVL73:
 533:USB/core/usbd_req.c ****   } 
 689              		.loc 1 533 6 is_stmt 0 view .LVU208
 690 0044 FFF7FEFF 		bl	USBD_CtlError
 691              	.LVL74:
 692              	.L44:
 535:USB/core/usbd_req.c **** 
 693              		.loc 1 535 1 view .LVU209
 694 0048 38BD     		pop	{r3, r4, r5, pc}
 535:USB/core/usbd_req.c **** 
 695              		.loc 1 535 1 view .LVU210
 696              		.cfi_endproc
 697              	.LFE130:
 699              		.section	.text.USBD_SetConfig,"ax",%progbits
 700              		.align	1
 701              		.syntax unified
 702              		.thumb
 703              		.thumb_func
 704              		.fpu fpv4-sp-d16
 706              	USBD_SetConfig:
 707              	.LVL75:
 708              	.LFB131:
 546:USB/core/usbd_req.c ****   
 709              		.loc 1 546 1 is_stmt 1 view -0
 710              		.cfi_startproc
 711              		@ args = 0, pretend = 0, frame = 0
 712              		@ frame_needed = 0, uses_anonymous_args = 0
 546:USB/core/usbd_req.c ****   
 713              		.loc 1 546 1 is_stmt 0 view .LVU212
 714 0000 10B5     		push	{r4, lr}
 715              	.LCFI7:
 716              		.cfi_def_cfa_offset 8
 717              		.cfi_offset 4, -8
 718              		.cfi_offset 14, -4
 719 0002 0446     		mov	r4, r0
 548:USB/core/usbd_req.c ****   
 720              		.loc 1 548 3 is_stmt 1 view .LVU213
 550:USB/core/usbd_req.c ****   
 721              		.loc 1 550 3 view .LVU214
 550:USB/core/usbd_req.c ****   
 722              		.loc 1 550 12 is_stmt 0 view .LVU215
 723 0004 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 32


 550:USB/core/usbd_req.c ****   
 724              		.loc 1 550 10 view .LVU216
 725 0006 204A     		ldr	r2, .L64
 726 0008 1370     		strb	r3, [r2]
 552:USB/core/usbd_req.c ****   {            
 727              		.loc 1 552 3 is_stmt 1 view .LVU217
 552:USB/core/usbd_req.c ****   {            
 728              		.loc 1 552 6 is_stmt 0 view .LVU218
 729 000a 012B     		cmp	r3, #1
 730 000c 08D8     		bhi	.L62
 558:USB/core/usbd_req.c ****     {
 731              		.loc 1 558 5 is_stmt 1 view .LVU219
 558:USB/core/usbd_req.c ****     {
 732              		.loc 1 558 22 is_stmt 0 view .LVU220
 733 000e 90F81221 		ldrb	r2, [r0, #274]	@ zero_extendqisi2
 558:USB/core/usbd_req.c ****     {
 734              		.loc 1 558 5 view .LVU221
 735 0012 022A     		cmp	r2, #2
 736 0014 07D0     		beq	.L54
 737 0016 032A     		cmp	r2, #3
 738 0018 15D0     		beq	.L55
 600:USB/core/usbd_req.c ****       break;
 739              		.loc 1 600 8 is_stmt 1 view .LVU222
 740 001a FFF7FEFF 		bl	USBD_CtlError
 741              	.LVL76:
 601:USB/core/usbd_req.c ****     }
 742              		.loc 1 601 7 view .LVU223
 604:USB/core/usbd_req.c **** 
 743              		.loc 1 604 1 is_stmt 0 view .LVU224
 744 001e 01E0     		b	.L51
 745              	.LVL77:
 746              	.L62:
 554:USB/core/usbd_req.c ****   } 
 747              		.loc 1 554 6 is_stmt 1 view .LVU225
 748 0020 FFF7FEFF 		bl	USBD_CtlError
 749              	.LVL78:
 750              	.L51:
 604:USB/core/usbd_req.c **** 
 751              		.loc 1 604 1 is_stmt 0 view .LVU226
 752 0024 10BD     		pop	{r4, pc}
 753              	.LVL79:
 754              	.L54:
 561:USB/core/usbd_req.c ****       {                                			   							   							   				
 755              		.loc 1 561 7 is_stmt 1 view .LVU227
 561:USB/core/usbd_req.c ****       {                                			   							   							   				
 756              		.loc 1 561 10 is_stmt 0 view .LVU228
 757 0026 5BB1     		cbz	r3, .L57
 563:USB/core/usbd_req.c ****         pdev->dev.device_status = USB_OTG_CONFIGURED;
 758              		.loc 1 563 9 is_stmt 1 view .LVU229
 563:USB/core/usbd_req.c ****         pdev->dev.device_status = USB_OTG_CONFIGURED;
 759              		.loc 1 563 33 is_stmt 0 view .LVU230
 760 0028 80F81031 		strb	r3, [r0, #272]
 564:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 761              		.loc 1 564 9 is_stmt 1 view .LVU231
 564:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 762              		.loc 1 564 33 is_stmt 0 view .LVU232
 763 002c 0322     		movs	r2, #3
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 33


 764 002e 80F81221 		strb	r2, [r0, #274]
 565:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 765              		.loc 1 565 9 is_stmt 1 view .LVU233
 766 0032 1946     		mov	r1, r3
 767              	.LVL80:
 565:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 768              		.loc 1 565 9 is_stmt 0 view .LVU234
 769 0034 FFF7FEFF 		bl	USBD_SetCfg
 770              	.LVL81:
 566:USB/core/usbd_req.c ****       }
 771              		.loc 1 566 9 is_stmt 1 view .LVU235
 772 0038 2046     		mov	r0, r4
 773 003a FFF7FEFF 		bl	USBD_CtlSendStatus
 774              	.LVL82:
 775 003e F1E7     		b	.L51
 776              	.LVL83:
 777              	.L57:
 570:USB/core/usbd_req.c ****       }
 778              		.loc 1 570 10 view .LVU236
 779 0040 FFF7FEFF 		bl	USBD_CtlSendStatus
 780              	.LVL84:
 570:USB/core/usbd_req.c ****       }
 781              		.loc 1 570 10 is_stmt 0 view .LVU237
 782 0044 EEE7     		b	.L51
 783              	.LVL85:
 784              	.L55:
 575:USB/core/usbd_req.c ****       {                           
 785              		.loc 1 575 7 is_stmt 1 view .LVU238
 575:USB/core/usbd_req.c ****       {                           
 786              		.loc 1 575 10 is_stmt 0 view .LVU239
 787 0046 83B1     		cbz	r3, .L63
 583:USB/core/usbd_req.c ****       {
 788              		.loc 1 583 13 is_stmt 1 view .LVU240
 583:USB/core/usbd_req.c ****       {
 789              		.loc 1 583 36 is_stmt 0 view .LVU241
 790 0048 90F81011 		ldrb	r1, [r0, #272]	@ zero_extendqisi2
 791              	.LVL86:
 583:USB/core/usbd_req.c ****       {
 792              		.loc 1 583 16 view .LVU242
 793 004c 8B42     		cmp	r3, r1
 794 004e 18D0     		beq	.L59
 586:USB/core/usbd_req.c ****         
 795              		.loc 1 586 9 is_stmt 1 view .LVU243
 796 0050 FFF7FEFF 		bl	USBD_ClrCfg
 797              	.LVL87:
 589:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 798              		.loc 1 589 9 view .LVU244
 589:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 799              		.loc 1 589 33 is_stmt 0 view .LVU245
 800 0054 0C4B     		ldr	r3, .L64
 801 0056 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 802 0058 84F81011 		strb	r1, [r4, #272]
 590:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 803              		.loc 1 590 9 is_stmt 1 view .LVU246
 804 005c 2046     		mov	r0, r4
 805 005e FFF7FEFF 		bl	USBD_SetCfg
 806              	.LVL88:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 34


 591:USB/core/usbd_req.c ****       }
 807              		.loc 1 591 9 view .LVU247
 808 0062 2046     		mov	r0, r4
 809 0064 FFF7FEFF 		bl	USBD_CtlSendStatus
 810              	.LVL89:
 811 0068 DCE7     		b	.L51
 812              	.LVL90:
 813              	.L63:
 577:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;          
 814              		.loc 1 577 9 view .LVU248
 577:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;          
 815              		.loc 1 577 33 is_stmt 0 view .LVU249
 816 006a 0222     		movs	r2, #2
 817 006c 80F81221 		strb	r2, [r0, #274]
 578:USB/core/usbd_req.c ****         USBD_ClrCfg(pdev , cfgidx);
 818              		.loc 1 578 9 is_stmt 1 view .LVU250
 578:USB/core/usbd_req.c ****         USBD_ClrCfg(pdev , cfgidx);
 819              		.loc 1 578 33 is_stmt 0 view .LVU251
 820 0070 80F81031 		strb	r3, [r0, #272]
 579:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 821              		.loc 1 579 9 is_stmt 1 view .LVU252
 822 0074 1946     		mov	r1, r3
 823              	.LVL91:
 579:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 824              		.loc 1 579 9 is_stmt 0 view .LVU253
 825 0076 FFF7FEFF 		bl	USBD_ClrCfg
 826              	.LVL92:
 580:USB/core/usbd_req.c ****         
 827              		.loc 1 580 9 is_stmt 1 view .LVU254
 828 007a 2046     		mov	r0, r4
 829 007c FFF7FEFF 		bl	USBD_CtlSendStatus
 830              	.LVL93:
 831 0080 D0E7     		b	.L51
 832              	.LVL94:
 833              	.L59:
 595:USB/core/usbd_req.c ****       }
 834              		.loc 1 595 9 view .LVU255
 835 0082 FFF7FEFF 		bl	USBD_CtlSendStatus
 836              	.LVL95:
 595:USB/core/usbd_req.c ****       }
 837              		.loc 1 595 9 is_stmt 0 view .LVU256
 838 0086 CDE7     		b	.L51
 839              	.L65:
 840              		.align	2
 841              	.L64:
 842 0088 00000000 		.word	.LANCHOR0
 843              		.cfi_endproc
 844              	.LFE131:
 846              		.section	.text.USBD_GetConfig,"ax",%progbits
 847              		.align	1
 848              		.syntax unified
 849              		.thumb
 850              		.thumb_func
 851              		.fpu fpv4-sp-d16
 853              	USBD_GetConfig:
 854              	.LVL96:
 855              	.LFB132:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 35


 615:USB/core/usbd_req.c ****  
 856              		.loc 1 615 1 is_stmt 1 view -0
 857              		.cfi_startproc
 858              		@ args = 0, pretend = 0, frame = 0
 859              		@ frame_needed = 0, uses_anonymous_args = 0
 615:USB/core/usbd_req.c ****  
 860              		.loc 1 615 1 is_stmt 0 view .LVU258
 861 0000 08B5     		push	{r3, lr}
 862              	.LCFI8:
 863              		.cfi_def_cfa_offset 8
 864              		.cfi_offset 3, -8
 865              		.cfi_offset 14, -4
 617:USB/core/usbd_req.c ****   {                   
 866              		.loc 1 617 3 is_stmt 1 view .LVU259
 617:USB/core/usbd_req.c ****   {                   
 867              		.loc 1 617 10 is_stmt 0 view .LVU260
 868 0002 CB88     		ldrh	r3, [r1, #6]
 617:USB/core/usbd_req.c ****   {                   
 869              		.loc 1 617 6 view .LVU261
 870 0004 012B     		cmp	r3, #1
 871 0006 08D1     		bne	.L74
 623:USB/core/usbd_req.c ****     {
 872              		.loc 1 623 5 is_stmt 1 view .LVU262
 623:USB/core/usbd_req.c ****     {
 873              		.loc 1 623 22 is_stmt 0 view .LVU263
 874 0008 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 623:USB/core/usbd_req.c ****     {
 875              		.loc 1 623 5 view .LVU264
 876 000c 022B     		cmp	r3, #2
 877 000e 07D0     		beq	.L69
 878 0010 032B     		cmp	r3, #3
 879 0012 0AD0     		beq	.L70
 640:USB/core/usbd_req.c ****       break;
 880              		.loc 1 640 8 is_stmt 1 view .LVU265
 881 0014 FFF7FEFF 		bl	USBD_CtlError
 882              	.LVL97:
 641:USB/core/usbd_req.c ****     }
 883              		.loc 1 641 7 view .LVU266
 644:USB/core/usbd_req.c **** 
 884              		.loc 1 644 1 is_stmt 0 view .LVU267
 885 0018 01E0     		b	.L66
 886              	.LVL98:
 887              	.L74:
 619:USB/core/usbd_req.c ****   }
 888              		.loc 1 619 6 is_stmt 1 view .LVU268
 889 001a FFF7FEFF 		bl	USBD_CtlError
 890              	.LVL99:
 891              	.L66:
 644:USB/core/usbd_req.c **** 
 892              		.loc 1 644 1 is_stmt 0 view .LVU269
 893 001e 08BD     		pop	{r3, pc}
 894              	.LVL100:
 895              	.L69:
 627:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_default_cfg,
 896              		.loc 1 627 7 is_stmt 1 view .LVU270
 897 0020 0122     		movs	r2, #1
 898 0022 0549     		ldr	r1, .L75
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 36


 899              	.LVL101:
 627:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_default_cfg,
 900              		.loc 1 627 7 is_stmt 0 view .LVU271
 901 0024 FFF7FEFF 		bl	USBD_CtlSendData
 902              	.LVL102:
 630:USB/core/usbd_req.c ****       
 903              		.loc 1 630 7 is_stmt 1 view .LVU272
 904 0028 F9E7     		b	.L66
 905              	.LVL103:
 906              	.L70:
 634:USB/core/usbd_req.c ****                         &pdev->dev.device_config,
 907              		.loc 1 634 7 view .LVU273
 908 002a 0122     		movs	r2, #1
 909 002c 00F58871 		add	r1, r0, #272
 910              	.LVL104:
 634:USB/core/usbd_req.c ****                         &pdev->dev.device_config,
 911              		.loc 1 634 7 is_stmt 0 view .LVU274
 912 0030 FFF7FEFF 		bl	USBD_CtlSendData
 913              	.LVL105:
 637:USB/core/usbd_req.c ****       
 914              		.loc 1 637 7 is_stmt 1 view .LVU275
 915 0034 F3E7     		b	.L66
 916              	.L76:
 917 0036 00BF     		.align	2
 918              	.L75:
 919 0038 00000000 		.word	.LANCHOR1
 920              		.cfi_endproc
 921              	.LFE132:
 923              		.section	.text.USBD_GetStatus,"ax",%progbits
 924              		.align	1
 925              		.syntax unified
 926              		.thumb
 927              		.thumb_func
 928              		.fpu fpv4-sp-d16
 930              	USBD_GetStatus:
 931              	.LVL106:
 932              	.LFB133:
 655:USB/core/usbd_req.c ****   
 933              		.loc 1 655 1 view -0
 934              		.cfi_startproc
 935              		@ args = 0, pretend = 0, frame = 0
 936              		@ frame_needed = 0, uses_anonymous_args = 0
 655:USB/core/usbd_req.c ****   
 937              		.loc 1 655 1 is_stmt 0 view .LVU277
 938 0000 08B5     		push	{r3, lr}
 939              	.LCFI9:
 940              		.cfi_def_cfa_offset 8
 941              		.cfi_offset 3, -8
 942              		.cfi_offset 14, -4
 658:USB/core/usbd_req.c ****   {
 943              		.loc 1 658 3 is_stmt 1 view .LVU278
 658:USB/core/usbd_req.c ****   {
 944              		.loc 1 658 20 is_stmt 0 view .LVU279
 945 0002 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 658:USB/core/usbd_req.c ****   {
 946              		.loc 1 658 3 view .LVU280
 947 0006 023B     		subs	r3, r3, #2
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 37


 948 0008 012B     		cmp	r3, #1
 949 000a 0DD8     		bhi	.L78
 664:USB/core/usbd_req.c **** #else
 950              		.loc 1 664 5 is_stmt 1 view .LVU281
 664:USB/core/usbd_req.c **** #else
 951              		.loc 1 664 21 is_stmt 0 view .LVU282
 952 000c 084B     		ldr	r3, .L82
 953 000e 0122     		movs	r2, #1
 954 0010 1A60     		str	r2, [r3]
 669:USB/core/usbd_req.c ****     {
 955              		.loc 1 669 5 is_stmt 1 view .LVU283
 669:USB/core/usbd_req.c ****     {
 956              		.loc 1 669 18 is_stmt 0 view .LVU284
 957 0012 D0F81831 		ldr	r3, [r0, #280]
 669:USB/core/usbd_req.c ****     {
 958              		.loc 1 669 8 view .LVU285
 959 0016 13B1     		cbz	r3, .L79
 671:USB/core/usbd_req.c ****     }
 960              		.loc 1 671 7 is_stmt 1 view .LVU286
 671:USB/core/usbd_req.c ****     }
 961              		.loc 1 671 23 is_stmt 0 view .LVU287
 962 0018 054B     		ldr	r3, .L82
 963 001a 0322     		movs	r2, #3
 964 001c 1A60     		str	r2, [r3]
 965              	.L79:
 674:USB/core/usbd_req.c ****                       (uint8_t *)&USBD_cfg_status,
 966              		.loc 1 674 5 is_stmt 1 view .LVU288
 967 001e 0222     		movs	r2, #2
 968 0020 0349     		ldr	r1, .L82
 969              	.LVL107:
 674:USB/core/usbd_req.c ****                       (uint8_t *)&USBD_cfg_status,
 970              		.loc 1 674 5 is_stmt 0 view .LVU289
 971 0022 FFF7FEFF 		bl	USBD_CtlSendData
 972              	.LVL108:
 677:USB/core/usbd_req.c ****     
 973              		.loc 1 677 5 is_stmt 1 view .LVU290
 974              	.L77:
 683:USB/core/usbd_req.c **** 
 975              		.loc 1 683 1 is_stmt 0 view .LVU291
 976 0026 08BD     		pop	{r3, pc}
 977              	.LVL109:
 978              	.L78:
 680:USB/core/usbd_req.c ****     break;
 979              		.loc 1 680 5 is_stmt 1 view .LVU292
 980 0028 FFF7FEFF 		bl	USBD_CtlError
 981              	.LVL110:
 681:USB/core/usbd_req.c ****   }
 982              		.loc 1 681 5 view .LVU293
 683:USB/core/usbd_req.c **** 
 983              		.loc 1 683 1 is_stmt 0 view .LVU294
 984 002c FBE7     		b	.L77
 985              	.L83:
 986 002e 00BF     		.align	2
 987              	.L82:
 988 0030 00000000 		.word	.LANCHOR2
 989              		.cfi_endproc
 990              	.LFE133:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 38


 992              		.section	.text.USBD_ClrFeature,"ax",%progbits
 993              		.align	1
 994              		.syntax unified
 995              		.thumb
 996              		.thumb_func
 997              		.fpu fpv4-sp-d16
 999              	USBD_ClrFeature:
 1000              	.LVL111:
 1001              	.LFB135:
 752:USB/core/usbd_req.c ****   switch (pdev->dev.device_status)
 1002              		.loc 1 752 1 is_stmt 1 view -0
 1003              		.cfi_startproc
 1004              		@ args = 0, pretend = 0, frame = 0
 1005              		@ frame_needed = 0, uses_anonymous_args = 0
 752:USB/core/usbd_req.c ****   switch (pdev->dev.device_status)
 1006              		.loc 1 752 1 is_stmt 0 view .LVU296
 1007 0000 10B5     		push	{r4, lr}
 1008              	.LCFI10:
 1009              		.cfi_def_cfa_offset 8
 1010              		.cfi_offset 4, -8
 1011              		.cfi_offset 14, -4
 1012 0002 0446     		mov	r4, r0
 753:USB/core/usbd_req.c ****   {
 1013              		.loc 1 753 3 is_stmt 1 view .LVU297
 753:USB/core/usbd_req.c ****   {
 1014              		.loc 1 753 20 is_stmt 0 view .LVU298
 1015 0004 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 753:USB/core/usbd_req.c ****   {
 1016              		.loc 1 753 3 view .LVU299
 1017 0008 023B     		subs	r3, r3, #2
 1018 000a 012B     		cmp	r3, #1
 1019 000c 0DD8     		bhi	.L85
 757:USB/core/usbd_req.c ****     {
 1020              		.loc 1 757 5 is_stmt 1 view .LVU300
 757:USB/core/usbd_req.c ****     {
 1021              		.loc 1 757 12 is_stmt 0 view .LVU301
 1022 000e 4B88     		ldrh	r3, [r1, #2]
 757:USB/core/usbd_req.c ****     {
 1023              		.loc 1 757 8 view .LVU302
 1024 0010 012B     		cmp	r3, #1
 1025 0012 0CD1     		bne	.L84
 759:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req);   
 1026              		.loc 1 759 7 is_stmt 1 view .LVU303
 759:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req);   
 1027              		.loc 1 759 33 is_stmt 0 view .LVU304
 1028 0014 0023     		movs	r3, #0
 1029 0016 C0F81831 		str	r3, [r0, #280]
 760:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1030              		.loc 1 760 7 is_stmt 1 view .LVU305
 760:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1031              		.loc 1 760 16 is_stmt 0 view .LVU306
 1032 001a D0F8E435 		ldr	r3, [r0, #1508]
 760:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1033              		.loc 1 760 25 view .LVU307
 1034 001e 9B68     		ldr	r3, [r3, #8]
 760:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1035              		.loc 1 760 7 view .LVU308
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 39


 1036 0020 9847     		blx	r3
 1037              	.LVL112:
 761:USB/core/usbd_req.c ****     }
 1038              		.loc 1 761 7 is_stmt 1 view .LVU309
 1039 0022 2046     		mov	r0, r4
 1040 0024 FFF7FEFF 		bl	USBD_CtlSendStatus
 1041              	.LVL113:
 1042 0028 01E0     		b	.L84
 1043              	.LVL114:
 1044              	.L85:
 766:USB/core/usbd_req.c ****     break;
 1045              		.loc 1 766 6 view .LVU310
 1046 002a FFF7FEFF 		bl	USBD_CtlError
 1047              	.LVL115:
 767:USB/core/usbd_req.c ****   }
 1048              		.loc 1 767 5 view .LVU311
 1049              	.L84:
 769:USB/core/usbd_req.c **** 
 1050              		.loc 1 769 1 is_stmt 0 view .LVU312
 1051 002e 10BD     		pop	{r4, pc}
 769:USB/core/usbd_req.c **** 
 1052              		.loc 1 769 1 view .LVU313
 1053              		.cfi_endproc
 1054              	.LFE135:
 1056              		.section	.text.USBD_StdDevReq,"ax",%progbits
 1057              		.align	1
 1058              		.global	USBD_StdDevReq
 1059              		.syntax unified
 1060              		.thumb
 1061              		.thumb_func
 1062              		.fpu fpv4-sp-d16
 1064              	USBD_StdDevReq:
 1065              	.LVL116:
 1066              	.LFB126:
 149:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK;  
 1067              		.loc 1 149 1 is_stmt 1 view -0
 1068              		.cfi_startproc
 1069              		@ args = 0, pretend = 0, frame = 0
 1070              		@ frame_needed = 0, uses_anonymous_args = 0
 149:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK;  
 1071              		.loc 1 149 1 is_stmt 0 view .LVU315
 1072 0000 08B5     		push	{r3, lr}
 1073              	.LCFI11:
 1074              		.cfi_def_cfa_offset 8
 1075              		.cfi_offset 3, -8
 1076              		.cfi_offset 14, -4
 150:USB/core/usbd_req.c ****   
 1077              		.loc 1 150 3 is_stmt 1 view .LVU316
 1078              	.LVL117:
 152:USB/core/usbd_req.c ****   {
 1079              		.loc 1 152 3 view .LVU317
 152:USB/core/usbd_req.c ****   {
 1080              		.loc 1 152 14 is_stmt 0 view .LVU318
 1081 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 1082 0004 092B     		cmp	r3, #9
 1083 0006 1CD8     		bhi	.L89
 1084 0008 DFE803F0 		tbb	[pc, r3]
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 40


 1085              	.L91:
 1086 000c 12       		.byte	(.L97-.L91)/2
 1087 000d 18       		.byte	(.L96-.L91)/2
 1088 000e 1B       		.byte	(.L89-.L91)/2
 1089 000f 15       		.byte	(.L95-.L91)/2
 1090 0010 1B       		.byte	(.L89-.L91)/2
 1091 0011 09       		.byte	(.L94-.L91)/2
 1092 0012 05       		.byte	(.L93-.L91)/2
 1093 0013 1B       		.byte	(.L89-.L91)/2
 1094 0014 0F       		.byte	(.L92-.L91)/2
 1095 0015 0C       		.byte	(.L90-.L91)/2
 1096              		.p2align 1
 1097              	.L93:
 156:USB/core/usbd_req.c ****     break;
 1098              		.loc 1 156 5 is_stmt 1 view .LVU319
 1099 0016 FFF7FEFF 		bl	USBD_GetDescriptor
 1100              	.LVL118:
 157:USB/core/usbd_req.c ****     
 1101              		.loc 1 157 5 view .LVU320
 1102              	.L98:
 189:USB/core/usbd_req.c **** }
 1103              		.loc 1 189 3 view .LVU321
 190:USB/core/usbd_req.c **** 
 1104              		.loc 1 190 1 is_stmt 0 view .LVU322
 1105 001a 0020     		movs	r0, #0
 1106 001c 08BD     		pop	{r3, pc}
 1107              	.LVL119:
 1108              	.L94:
 160:USB/core/usbd_req.c ****     break;
 1109              		.loc 1 160 5 is_stmt 1 view .LVU323
 1110 001e FFF7FEFF 		bl	USBD_SetAddress
 1111              	.LVL120:
 161:USB/core/usbd_req.c ****     
 1112              		.loc 1 161 5 view .LVU324
 1113 0022 FAE7     		b	.L98
 1114              	.LVL121:
 1115              	.L90:
 164:USB/core/usbd_req.c ****     break;
 1116              		.loc 1 164 5 view .LVU325
 1117 0024 FFF7FEFF 		bl	USBD_SetConfig
 1118              	.LVL122:
 165:USB/core/usbd_req.c ****     
 1119              		.loc 1 165 5 view .LVU326
 1120 0028 F7E7     		b	.L98
 1121              	.LVL123:
 1122              	.L92:
 168:USB/core/usbd_req.c ****     break;
 1123              		.loc 1 168 5 view .LVU327
 1124 002a FFF7FEFF 		bl	USBD_GetConfig
 1125              	.LVL124:
 169:USB/core/usbd_req.c ****     
 1126              		.loc 1 169 5 view .LVU328
 1127 002e F4E7     		b	.L98
 1128              	.LVL125:
 1129              	.L97:
 172:USB/core/usbd_req.c ****     break;
 1130              		.loc 1 172 5 view .LVU329
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 41


 1131 0030 FFF7FEFF 		bl	USBD_GetStatus
 1132              	.LVL126:
 173:USB/core/usbd_req.c ****     
 1133              		.loc 1 173 5 view .LVU330
 1134 0034 F1E7     		b	.L98
 1135              	.LVL127:
 1136              	.L95:
 177:USB/core/usbd_req.c ****     break;
 1137              		.loc 1 177 5 view .LVU331
 1138 0036 FFF7FEFF 		bl	USBD_SetFeature
 1139              	.LVL128:
 178:USB/core/usbd_req.c ****     
 1140              		.loc 1 178 5 view .LVU332
 1141 003a EEE7     		b	.L98
 1142              	.LVL129:
 1143              	.L96:
 181:USB/core/usbd_req.c ****     break;
 1144              		.loc 1 181 5 view .LVU333
 1145 003c FFF7FEFF 		bl	USBD_ClrFeature
 1146              	.LVL130:
 182:USB/core/usbd_req.c ****     
 1147              		.loc 1 182 5 view .LVU334
 1148 0040 EBE7     		b	.L98
 1149              	.LVL131:
 1150              	.L89:
 185:USB/core/usbd_req.c ****     break;
 1151              		.loc 1 185 5 view .LVU335
 1152 0042 FFF7FEFF 		bl	USBD_CtlError
 1153              	.LVL132:
 186:USB/core/usbd_req.c ****   }
 1154              		.loc 1 186 5 view .LVU336
 1155 0046 E8E7     		b	.L98
 1156              		.cfi_endproc
 1157              	.LFE126:
 1159              		.section	.text.USBD_StdItfReq,"ax",%progbits
 1160              		.align	1
 1161              		.global	USBD_StdItfReq
 1162              		.syntax unified
 1163              		.thumb
 1164              		.thumb_func
 1165              		.fpu fpv4-sp-d16
 1167              	USBD_StdItfReq:
 1168              	.LVL133:
 1169              	.LFB127:
 200:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
 1170              		.loc 1 200 1 view -0
 1171              		.cfi_startproc
 1172              		@ args = 0, pretend = 0, frame = 0
 1173              		@ frame_needed = 0, uses_anonymous_args = 0
 200:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
 1174              		.loc 1 200 1 is_stmt 0 view .LVU338
 1175 0000 38B5     		push	{r3, r4, r5, lr}
 1176              	.LCFI12:
 1177              		.cfi_def_cfa_offset 16
 1178              		.cfi_offset 3, -16
 1179              		.cfi_offset 4, -12
 1180              		.cfi_offset 5, -8
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 42


 1181              		.cfi_offset 14, -4
 1182 0002 0446     		mov	r4, r0
 1183 0004 0D46     		mov	r5, r1
 201:USB/core/usbd_req.c ****   
 1184              		.loc 1 201 3 is_stmt 1 view .LVU339
 1185              	.LVL134:
 203:USB/core/usbd_req.c ****   {
 1186              		.loc 1 203 3 view .LVU340
 203:USB/core/usbd_req.c ****   {
 1187              		.loc 1 203 20 is_stmt 0 view .LVU341
 1188 0006 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 203:USB/core/usbd_req.c ****   {
 1189              		.loc 1 203 3 view .LVU342
 1190 000a 032B     		cmp	r3, #3
 1191 000c 0FD1     		bne	.L101
 207:USB/core/usbd_req.c ****     {
 1192              		.loc 1 207 5 is_stmt 1 view .LVU343
 207:USB/core/usbd_req.c ****     {
 1193              		.loc 1 207 9 is_stmt 0 view .LVU344
 1194 000e 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 207:USB/core/usbd_req.c ****     {
 1195              		.loc 1 207 8 view .LVU345
 1196 0010 012B     		cmp	r3, #1
 1197 0012 09D8     		bhi	.L102
 209:USB/core/usbd_req.c ****       
 1198              		.loc 1 209 7 is_stmt 1 view .LVU346
 209:USB/core/usbd_req.c ****       
 1199              		.loc 1 209 16 is_stmt 0 view .LVU347
 1200 0014 D0F8E435 		ldr	r3, [r0, #1508]
 209:USB/core/usbd_req.c ****       
 1201              		.loc 1 209 25 view .LVU348
 1202 0018 9B68     		ldr	r3, [r3, #8]
 209:USB/core/usbd_req.c ****       
 1203              		.loc 1 209 7 view .LVU349
 1204 001a 9847     		blx	r3
 1205              	.LVL135:
 211:USB/core/usbd_req.c ****       {
 1206              		.loc 1 211 7 is_stmt 1 view .LVU350
 211:USB/core/usbd_req.c ****       {
 1207              		.loc 1 211 14 is_stmt 0 view .LVU351
 1208 001c EB88     		ldrh	r3, [r5, #6]
 211:USB/core/usbd_req.c ****       {
 1209              		.loc 1 211 9 view .LVU352
 1210 001e 43B9     		cbnz	r3, .L103
 213:USB/core/usbd_req.c ****       }
 1211              		.loc 1 213 10 is_stmt 1 view .LVU353
 1212 0020 2046     		mov	r0, r4
 1213 0022 FFF7FEFF 		bl	USBD_CtlSendStatus
 1214              	.LVL136:
 1215 0026 04E0     		b	.L103
 1216              	.LVL137:
 1217              	.L102:
 218:USB/core/usbd_req.c ****     }
 1218              		.loc 1 218 8 view .LVU354
 1219 0028 FFF7FEFF 		bl	USBD_CtlError
 1220              	.LVL138:
 218:USB/core/usbd_req.c ****     }
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 43


 1221              		.loc 1 218 8 is_stmt 0 view .LVU355
 1222 002c 01E0     		b	.L103
 1223              	.LVL139:
 1224              	.L101:
 223:USB/core/usbd_req.c ****     break;
 1225              		.loc 1 223 6 is_stmt 1 view .LVU356
 1226 002e FFF7FEFF 		bl	USBD_CtlError
 1227              	.LVL140:
 224:USB/core/usbd_req.c ****   }
 1228              		.loc 1 224 5 view .LVU357
 1229              	.L103:
 226:USB/core/usbd_req.c **** }
 1230              		.loc 1 226 3 view .LVU358
 227:USB/core/usbd_req.c **** 
 1231              		.loc 1 227 1 is_stmt 0 view .LVU359
 1232 0032 0020     		movs	r0, #0
 1233 0034 38BD     		pop	{r3, r4, r5, pc}
 227:USB/core/usbd_req.c **** 
 1234              		.loc 1 227 1 view .LVU360
 1235              		.cfi_endproc
 1236              	.LFE127:
 1238              		.section	.text.USBD_StdEPReq,"ax",%progbits
 1239              		.align	1
 1240              		.global	USBD_StdEPReq
 1241              		.syntax unified
 1242              		.thumb
 1243              		.thumb_func
 1244              		.fpu fpv4-sp-d16
 1246              	USBD_StdEPReq:
 1247              	.LVL141:
 1248              	.LFB128:
 237:USB/core/usbd_req.c ****   
 1249              		.loc 1 237 1 is_stmt 1 view -0
 1250              		.cfi_startproc
 1251              		@ args = 0, pretend = 0, frame = 0
 1252              		@ frame_needed = 0, uses_anonymous_args = 0
 237:USB/core/usbd_req.c ****   
 1253              		.loc 1 237 1 is_stmt 0 view .LVU362
 1254 0000 38B5     		push	{r3, r4, r5, lr}
 1255              	.LCFI13:
 1256              		.cfi_def_cfa_offset 16
 1257              		.cfi_offset 3, -16
 1258              		.cfi_offset 4, -12
 1259              		.cfi_offset 5, -8
 1260              		.cfi_offset 14, -4
 1261 0002 0546     		mov	r5, r0
 1262 0004 0C46     		mov	r4, r1
 239:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
 1263              		.loc 1 239 3 is_stmt 1 view .LVU363
 240:USB/core/usbd_req.c ****   
 1264              		.loc 1 240 3 view .LVU364
 1265              	.LVL142:
 242:USB/core/usbd_req.c ****   
 1266              		.loc 1 242 3 view .LVU365
 242:USB/core/usbd_req.c ****   
 1267              		.loc 1 242 14 is_stmt 0 view .LVU366
 1268 0006 8A88     		ldrh	r2, [r1, #4]
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 44


 242:USB/core/usbd_req.c ****   
 1269              		.loc 1 242 12 view .LVU367
 1270 0008 D1B2     		uxtb	r1, r2
 1271              	.LVL143:
 244:USB/core/usbd_req.c ****   {
 1272              		.loc 1 244 3 is_stmt 1 view .LVU368
 244:USB/core/usbd_req.c ****   {
 1273              		.loc 1 244 14 is_stmt 0 view .LVU369
 1274 000a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 244:USB/core/usbd_req.c ****   {
 1275              		.loc 1 244 3 view .LVU370
 1276 000c 012B     		cmp	r3, #1
 1277 000e 28D0     		beq	.L106
 1278 0010 032B     		cmp	r3, #3
 1279 0012 03D0     		beq	.L107
 1280 0014 002B     		cmp	r3, #0
 1281 0016 48D0     		beq	.L129
 1282              	.LVL144:
 1283              	.L109:
 357:USB/core/usbd_req.c **** }
 1284              		.loc 1 357 3 is_stmt 1 view .LVU371
 358:USB/core/usbd_req.c **** /**
 1285              		.loc 1 358 1 is_stmt 0 view .LVU372
 1286 0018 0020     		movs	r0, #0
 1287 001a 38BD     		pop	{r3, r4, r5, pc}
 1288              	.LVL145:
 1289              	.L107:
 249:USB/core/usbd_req.c ****     {
 1290              		.loc 1 249 5 is_stmt 1 view .LVU373
 249:USB/core/usbd_req.c ****     {
 1291              		.loc 1 249 22 is_stmt 0 view .LVU374
 1292 001c 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 1293 0020 022B     		cmp	r3, #2
 1294 0022 05D0     		beq	.L110
 1295 0024 032B     		cmp	r3, #3
 1296 0026 0AD0     		beq	.L111
 273:USB/core/usbd_req.c ****       break;    
 1297              		.loc 1 273 7 is_stmt 1 view .LVU375
 1298 0028 2146     		mov	r1, r4
 1299              	.LVL146:
 273:USB/core/usbd_req.c ****       break;    
 1300              		.loc 1 273 7 is_stmt 0 view .LVU376
 1301 002a FFF7FEFF 		bl	USBD_CtlError
 1302              	.LVL147:
 274:USB/core/usbd_req.c ****     }
 1303              		.loc 1 274 7 is_stmt 1 view .LVU377
 1304 002e F3E7     		b	.L109
 1305              	.LVL148:
 1306              	.L110:
 252:USB/core/usbd_req.c ****       {
 1307              		.loc 1 252 7 view .LVU378
 252:USB/core/usbd_req.c ****       {
 1308              		.loc 1 252 10 is_stmt 0 view .LVU379
 1309 0030 0029     		cmp	r1, #0
 1310 0032 F1D0     		beq	.L109
 252:USB/core/usbd_req.c ****       {
 1311              		.loc 1 252 29 discriminator 1 view .LVU380
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 45


 1312 0034 8029     		cmp	r1, #128
 1313 0036 EFD0     		beq	.L109
 254:USB/core/usbd_req.c ****       }
 1314              		.loc 1 254 9 is_stmt 1 view .LVU381
 1315 0038 FFF7FEFF 		bl	DCD_EP_Stall
 1316              	.LVL149:
 254:USB/core/usbd_req.c ****       }
 1317              		.loc 1 254 9 is_stmt 0 view .LVU382
 1318 003c ECE7     		b	.L109
 1319              	.LVL150:
 1320              	.L111:
 259:USB/core/usbd_req.c ****       {
 1321              		.loc 1 259 7 is_stmt 1 view .LVU383
 259:USB/core/usbd_req.c ****       {
 1322              		.loc 1 259 14 is_stmt 0 view .LVU384
 1323 003e 6388     		ldrh	r3, [r4, #2]
 259:USB/core/usbd_req.c ****       {
 1324              		.loc 1 259 10 view .LVU385
 1325 0040 13B9     		cbnz	r3, .L113
 261:USB/core/usbd_req.c ****         { 
 1326              		.loc 1 261 9 is_stmt 1 view .LVU386
 261:USB/core/usbd_req.c ****         { 
 1327              		.loc 1 261 12 is_stmt 0 view .LVU387
 1328 0042 09B1     		cbz	r1, .L113
 261:USB/core/usbd_req.c ****         { 
 1329              		.loc 1 261 31 discriminator 1 view .LVU388
 1330 0044 8029     		cmp	r1, #128
 1331 0046 09D1     		bne	.L130
 1332              	.LVL151:
 1333              	.L113:
 267:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1334              		.loc 1 267 7 is_stmt 1 view .LVU389
 267:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1335              		.loc 1 267 16 is_stmt 0 view .LVU390
 1336 0048 D5F8E435 		ldr	r3, [r5, #1508]
 267:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1337              		.loc 1 267 25 view .LVU391
 1338 004c 9B68     		ldr	r3, [r3, #8]
 267:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1339              		.loc 1 267 7 view .LVU392
 1340 004e 2146     		mov	r1, r4
 1341 0050 2846     		mov	r0, r5
 1342 0052 9847     		blx	r3
 1343              	.LVL152:
 268:USB/core/usbd_req.c ****       
 1344              		.loc 1 268 7 is_stmt 1 view .LVU393
 1345 0054 2846     		mov	r0, r5
 1346 0056 FFF7FEFF 		bl	USBD_CtlSendStatus
 1347              	.LVL153:
 270:USB/core/usbd_req.c ****       
 1348              		.loc 1 270 7 view .LVU394
 1349 005a DDE7     		b	.L109
 1350              	.LVL154:
 1351              	.L130:
 263:USB/core/usbd_req.c ****           
 1352              		.loc 1 263 11 view .LVU395
 1353 005c FFF7FEFF 		bl	DCD_EP_Stall
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 46


 1354              	.LVL155:
 263:USB/core/usbd_req.c ****           
 1355              		.loc 1 263 11 is_stmt 0 view .LVU396
 1356 0060 F2E7     		b	.L113
 1357              	.LVL156:
 1358              	.L106:
 280:USB/core/usbd_req.c ****     {
 1359              		.loc 1 280 5 is_stmt 1 view .LVU397
 280:USB/core/usbd_req.c ****     {
 1360              		.loc 1 280 22 is_stmt 0 view .LVU398
 1361 0062 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 1362 0066 022B     		cmp	r3, #2
 1363 0068 05D0     		beq	.L114
 1364 006a 032B     		cmp	r3, #3
 1365 006c 0AD0     		beq	.L115
 302:USB/core/usbd_req.c ****       break;    
 1366              		.loc 1 302 8 is_stmt 1 view .LVU399
 1367 006e 2146     		mov	r1, r4
 1368              	.LVL157:
 302:USB/core/usbd_req.c ****       break;    
 1369              		.loc 1 302 8 is_stmt 0 view .LVU400
 1370 0070 FFF7FEFF 		bl	USBD_CtlError
 1371              	.LVL158:
 303:USB/core/usbd_req.c ****     }
 1372              		.loc 1 303 7 is_stmt 1 view .LVU401
 1373 0074 D0E7     		b	.L109
 1374              	.LVL159:
 1375              	.L114:
 283:USB/core/usbd_req.c ****       {
 1376              		.loc 1 283 7 view .LVU402
 283:USB/core/usbd_req.c ****       {
 1377              		.loc 1 283 10 is_stmt 0 view .LVU403
 1378 0076 0029     		cmp	r1, #0
 1379 0078 CED0     		beq	.L109
 283:USB/core/usbd_req.c ****       {
 1380              		.loc 1 283 29 discriminator 1 view .LVU404
 1381 007a 8029     		cmp	r1, #128
 1382 007c CCD0     		beq	.L109
 285:USB/core/usbd_req.c ****       }
 1383              		.loc 1 285 9 is_stmt 1 view .LVU405
 1384 007e FFF7FEFF 		bl	DCD_EP_Stall
 1385              	.LVL160:
 285:USB/core/usbd_req.c ****       }
 1386              		.loc 1 285 9 is_stmt 0 view .LVU406
 1387 0082 C9E7     		b	.L109
 1388              	.LVL161:
 1389              	.L115:
 290:USB/core/usbd_req.c ****       {
 1390              		.loc 1 290 7 is_stmt 1 view .LVU407
 290:USB/core/usbd_req.c ****       {
 1391              		.loc 1 290 14 is_stmt 0 view .LVU408
 1392 0084 6388     		ldrh	r3, [r4, #2]
 290:USB/core/usbd_req.c ****       {
 1393              		.loc 1 290 10 view .LVU409
 1394 0086 002B     		cmp	r3, #0
 1395 0088 C6D1     		bne	.L109
 292:USB/core/usbd_req.c ****         {        
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 47


 1396              		.loc 1 292 9 is_stmt 1 view .LVU410
 292:USB/core/usbd_req.c ****         {        
 1397              		.loc 1 292 12 is_stmt 0 view .LVU411
 1398 008a 09B1     		cbz	r1, .L117
 292:USB/core/usbd_req.c ****         {        
 1399              		.loc 1 292 31 discriminator 1 view .LVU412
 1400 008c 8029     		cmp	r1, #128
 1401 008e 03D1     		bne	.L131
 1402              	.LVL162:
 1403              	.L117:
 297:USB/core/usbd_req.c ****       }
 1404              		.loc 1 297 9 is_stmt 1 view .LVU413
 1405 0090 2846     		mov	r0, r5
 1406 0092 FFF7FEFF 		bl	USBD_CtlSendStatus
 1407              	.LVL163:
 1408 0096 BFE7     		b	.L109
 1409              	.LVL164:
 1410              	.L131:
 294:USB/core/usbd_req.c ****           pdev->dev.class_cb->Setup (pdev, req);
 1411              		.loc 1 294 11 view .LVU414
 1412 0098 FFF7FEFF 		bl	DCD_EP_ClrStall
 1413              	.LVL165:
 295:USB/core/usbd_req.c ****         }
 1414              		.loc 1 295 11 view .LVU415
 295:USB/core/usbd_req.c ****         }
 1415              		.loc 1 295 20 is_stmt 0 view .LVU416
 1416 009c D5F8E435 		ldr	r3, [r5, #1508]
 295:USB/core/usbd_req.c ****         }
 1417              		.loc 1 295 29 view .LVU417
 1418 00a0 9B68     		ldr	r3, [r3, #8]
 295:USB/core/usbd_req.c ****         }
 1419              		.loc 1 295 11 view .LVU418
 1420 00a2 2146     		mov	r1, r4
 1421 00a4 2846     		mov	r0, r5
 1422 00a6 9847     		blx	r3
 1423              	.LVL166:
 1424 00a8 F2E7     		b	.L117
 1425              	.LVL167:
 1426              	.L129:
 308:USB/core/usbd_req.c ****     {
 1427              		.loc 1 308 5 is_stmt 1 view .LVU419
 308:USB/core/usbd_req.c ****     {
 1428              		.loc 1 308 22 is_stmt 0 view .LVU420
 1429 00aa 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 1430 00ae 022B     		cmp	r3, #2
 1431 00b0 05D0     		beq	.L118
 1432 00b2 032B     		cmp	r3, #3
 1433 00b4 0AD0     		beq	.L119
 349:USB/core/usbd_req.c ****       break;
 1434              		.loc 1 349 8 is_stmt 1 view .LVU421
 1435 00b6 2146     		mov	r1, r4
 1436              	.LVL168:
 349:USB/core/usbd_req.c ****       break;
 1437              		.loc 1 349 8 is_stmt 0 view .LVU422
 1438 00b8 FFF7FEFF 		bl	USBD_CtlError
 1439              	.LVL169:
 350:USB/core/usbd_req.c ****     }
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 48


 1440              		.loc 1 350 7 is_stmt 1 view .LVU423
 1441 00bc ACE7     		b	.L109
 1442              	.LVL170:
 1443              	.L118:
 311:USB/core/usbd_req.c ****       {
 1444              		.loc 1 311 7 view .LVU424
 311:USB/core/usbd_req.c ****       {
 1445              		.loc 1 311 10 is_stmt 0 view .LVU425
 1446 00be 0029     		cmp	r1, #0
 1447 00c0 AAD0     		beq	.L109
 311:USB/core/usbd_req.c ****       {
 1448              		.loc 1 311 29 discriminator 1 view .LVU426
 1449 00c2 8029     		cmp	r1, #128
 1450 00c4 A8D0     		beq	.L109
 313:USB/core/usbd_req.c ****       }
 1451              		.loc 1 313 9 is_stmt 1 view .LVU427
 1452 00c6 FFF7FEFF 		bl	DCD_EP_Stall
 1453              	.LVL171:
 313:USB/core/usbd_req.c ****       }
 1454              		.loc 1 313 9 is_stmt 0 view .LVU428
 1455 00ca A5E7     		b	.L109
 1456              	.LVL172:
 1457              	.L119:
 320:USB/core/usbd_req.c ****       {
 1458              		.loc 1 320 7 is_stmt 1 view .LVU429
 320:USB/core/usbd_req.c ****       {
 1459              		.loc 1 320 10 is_stmt 0 view .LVU430
 1460 00cc 12F0800F 		tst	r2, #128
 1461 00d0 0FD1     		bne	.L132
 331:USB/core/usbd_req.c ****       {
 1462              		.loc 1 331 12 is_stmt 1 view .LVU431
 333:USB/core/usbd_req.c ****         {
 1463              		.loc 1 333 9 view .LVU432
 333:USB/core/usbd_req.c ****         {
 1464              		.loc 1 333 37 is_stmt 0 view .LVU433
 1465 00d2 01EB8101 		add	r1, r1, r1, lsl #2
 1466              	.LVL173:
 333:USB/core/usbd_req.c ****         {
 1467              		.loc 1 333 37 view .LVU434
 1468 00d6 00EBC101 		add	r1, r0, r1, lsl #3
 1469 00da 91F87633 		ldrb	r3, [r1, #886]	@ zero_extendqisi2
 333:USB/core/usbd_req.c ****         {
 1470              		.loc 1 333 11 view .LVU435
 1471 00de CBB1     		cbz	r3, .L124
 335:USB/core/usbd_req.c ****         }
 1472              		.loc 1 335 11 is_stmt 1 view .LVU436
 335:USB/core/usbd_req.c ****         }
 1473              		.loc 1 335 26 is_stmt 0 view .LVU437
 1474 00e0 0E4B     		ldr	r3, .L133
 1475 00e2 0122     		movs	r2, #1
 1476              	.LVL174:
 335:USB/core/usbd_req.c ****         }
 1477              		.loc 1 335 26 view .LVU438
 1478 00e4 1A60     		str	r2, [r3]
 1479              	.L123:
 343:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_ep_status,
 1480              		.loc 1 343 7 is_stmt 1 view .LVU439
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 49


 1481 00e6 0222     		movs	r2, #2
 1482 00e8 0C49     		ldr	r1, .L133
 1483 00ea 2846     		mov	r0, r5
 1484              	.LVL175:
 343:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_ep_status,
 1485              		.loc 1 343 7 is_stmt 0 view .LVU440
 1486 00ec FFF7FEFF 		bl	USBD_CtlSendData
 1487              	.LVL176:
 346:USB/core/usbd_req.c ****       
 1488              		.loc 1 346 7 is_stmt 1 view .LVU441
 1489 00f0 92E7     		b	.L109
 1490              	.LVL177:
 1491              	.L132:
 322:USB/core/usbd_req.c ****         {
 1492              		.loc 1 322 9 view .LVU442
 322:USB/core/usbd_req.c ****         {
 1493              		.loc 1 322 36 is_stmt 0 view .LVU443
 1494 00f2 01F07F01 		and	r1, r1, #127
 1495              	.LVL178:
 322:USB/core/usbd_req.c ****         {
 1496              		.loc 1 322 43 view .LVU444
 1497 00f6 01EB8101 		add	r1, r1, r1, lsl #2
 1498 00fa 00EBC101 		add	r1, r0, r1, lsl #3
 1499 00fe 91F81E31 		ldrb	r3, [r1, #286]	@ zero_extendqisi2
 322:USB/core/usbd_req.c ****         {
 1500              		.loc 1 322 11 view .LVU445
 1501 0102 1BB1     		cbz	r3, .L122
 324:USB/core/usbd_req.c ****         }
 1502              		.loc 1 324 11 is_stmt 1 view .LVU446
 324:USB/core/usbd_req.c ****         }
 1503              		.loc 1 324 26 is_stmt 0 view .LVU447
 1504 0104 054B     		ldr	r3, .L133
 1505 0106 0122     		movs	r2, #1
 1506              	.LVL179:
 324:USB/core/usbd_req.c ****         }
 1507              		.loc 1 324 26 view .LVU448
 1508 0108 1A60     		str	r2, [r3]
 1509 010a ECE7     		b	.L123
 1510              	.LVL180:
 1511              	.L122:
 328:USB/core/usbd_req.c ****         }
 1512              		.loc 1 328 11 is_stmt 1 view .LVU449
 328:USB/core/usbd_req.c ****         }
 1513              		.loc 1 328 26 is_stmt 0 view .LVU450
 1514 010c 034B     		ldr	r3, .L133
 1515 010e 0022     		movs	r2, #0
 1516              	.LVL181:
 328:USB/core/usbd_req.c ****         }
 1517              		.loc 1 328 26 view .LVU451
 1518 0110 1A60     		str	r2, [r3]
 1519 0112 E8E7     		b	.L123
 1520              	.LVL182:
 1521              	.L124:
 340:USB/core/usbd_req.c ****         }      
 1522              		.loc 1 340 11 is_stmt 1 view .LVU452
 340:USB/core/usbd_req.c ****         }      
 1523              		.loc 1 340 26 is_stmt 0 view .LVU453
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 50


 1524 0114 014B     		ldr	r3, .L133
 1525 0116 0022     		movs	r2, #0
 1526              	.LVL183:
 340:USB/core/usbd_req.c ****         }      
 1527              		.loc 1 340 26 view .LVU454
 1528 0118 1A60     		str	r2, [r3]
 1529 011a E4E7     		b	.L123
 1530              	.L134:
 1531              		.align	2
 1532              	.L133:
 1533 011c 00000000 		.word	.LANCHOR3
 1534              		.cfi_endproc
 1535              	.LFE128:
 1537              		.section	.text.USBD_GetString,"ax",%progbits
 1538              		.align	1
 1539              		.global	USBD_GetString
 1540              		.syntax unified
 1541              		.thumb
 1542              		.thumb_func
 1543              		.fpu fpv4-sp-d16
 1545              	USBD_GetString:
 1546              	.LVL184:
 1547              	.LFB138:
 819:USB/core/usbd_req.c ****   uint8_t idx = 0;
 1548              		.loc 1 819 1 is_stmt 1 view -0
 1549              		.cfi_startproc
 1550              		@ args = 0, pretend = 0, frame = 0
 1551              		@ frame_needed = 0, uses_anonymous_args = 0
 820:USB/core/usbd_req.c ****   
 1552              		.loc 1 820 3 view .LVU456
 822:USB/core/usbd_req.c ****   {
 1553              		.loc 1 822 3 view .LVU457
 822:USB/core/usbd_req.c ****   {
 1554              		.loc 1 822 6 is_stmt 0 view .LVU458
 1555 0000 D0B1     		cbz	r0, .L140
 819:USB/core/usbd_req.c ****   uint8_t idx = 0;
 1556              		.loc 1 819 1 view .LVU459
 1557 0002 70B5     		push	{r4, r5, r6, lr}
 1558              	.LCFI14:
 1559              		.cfi_def_cfa_offset 16
 1560              		.cfi_offset 4, -16
 1561              		.cfi_offset 5, -12
 1562              		.cfi_offset 6, -8
 1563              		.cfi_offset 14, -4
 1564 0004 0D46     		mov	r5, r1
 1565 0006 1646     		mov	r6, r2
 1566 0008 0446     		mov	r4, r0
 824:USB/core/usbd_req.c ****     unicode[idx++] = *len;
 1567              		.loc 1 824 5 is_stmt 1 view .LVU460
 824:USB/core/usbd_req.c ****     unicode[idx++] = *len;
 1568              		.loc 1 824 13 is_stmt 0 view .LVU461
 1569 000a FFF7FEFF 		bl	USBD_GetLen
 1570              	.LVL185:
 824:USB/core/usbd_req.c ****     unicode[idx++] = *len;
 1571              		.loc 1 824 35 view .LVU462
 1572 000e 431C     		adds	r3, r0, #1
 824:USB/core/usbd_req.c ****     unicode[idx++] = *len;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 51


 1573              		.loc 1 824 10 view .LVU463
 1574 0010 5B00     		lsls	r3, r3, #1
 1575 0012 9BB2     		uxth	r3, r3
 1576 0014 3380     		strh	r3, [r6]	@ movhi
 825:USB/core/usbd_req.c ****     unicode[idx++] =  USB_DESC_TYPE_STRING;
 1577              		.loc 1 825 5 is_stmt 1 view .LVU464
 1578              	.LVL186:
 825:USB/core/usbd_req.c ****     unicode[idx++] =  USB_DESC_TYPE_STRING;
 1579              		.loc 1 825 20 is_stmt 0 view .LVU465
 1580 0016 2B70     		strb	r3, [r5]
 826:USB/core/usbd_req.c ****     
 1581              		.loc 1 826 5 is_stmt 1 view .LVU466
 1582              	.LVL187:
 826:USB/core/usbd_req.c ****     
 1583              		.loc 1 826 20 is_stmt 0 view .LVU467
 1584 0018 0323     		movs	r3, #3
 1585 001a 6B70     		strb	r3, [r5, #1]
 828:USB/core/usbd_req.c ****     {
 1586              		.loc 1 828 5 is_stmt 1 view .LVU468
 826:USB/core/usbd_req.c ****     
 1587              		.loc 1 826 16 is_stmt 0 view .LVU469
 1588 001c 0223     		movs	r3, #2
 828:USB/core/usbd_req.c ****     {
 1589              		.loc 1 828 11 view .LVU470
 1590 001e 07E0     		b	.L137
 1591              	.LVL188:
 1592              	.L138:
 830:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 1593              		.loc 1 830 7 is_stmt 1 view .LVU471
 830:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 1594              		.loc 1 830 29 is_stmt 0 view .LVU472
 1595 0020 0134     		adds	r4, r4, #1
 1596              	.LVL189:
 830:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 1597              		.loc 1 830 18 view .LVU473
 1598 0022 5A1C     		adds	r2, r3, #1
 1599 0024 D2B2     		uxtb	r2, r2
 1600              	.LVL190:
 830:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 1601              		.loc 1 830 22 view .LVU474
 1602 0026 E854     		strb	r0, [r5, r3]
 831:USB/core/usbd_req.c ****     }
 1603              		.loc 1 831 7 is_stmt 1 view .LVU475
 831:USB/core/usbd_req.c ****     }
 1604              		.loc 1 831 18 is_stmt 0 view .LVU476
 1605 0028 0233     		adds	r3, r3, #2
 1606 002a DBB2     		uxtb	r3, r3
 1607              	.LVL191:
 831:USB/core/usbd_req.c ****     }
 1608              		.loc 1 831 22 view .LVU477
 1609 002c 0021     		movs	r1, #0
 1610 002e A954     		strb	r1, [r5, r2]
 1611              	.LVL192:
 1612              	.L137:
 828:USB/core/usbd_req.c ****     {
 1613              		.loc 1 828 11 is_stmt 1 view .LVU478
 828:USB/core/usbd_req.c ****     {
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 52


 1614              		.loc 1 828 12 is_stmt 0 view .LVU479
 1615 0030 2078     		ldrb	r0, [r4]	@ zero_extendqisi2
 828:USB/core/usbd_req.c ****     {
 1616              		.loc 1 828 11 view .LVU480
 1617 0032 0028     		cmp	r0, #0
 1618 0034 F4D1     		bne	.L138
 834:USB/core/usbd_req.c **** 
 1619              		.loc 1 834 1 view .LVU481
 1620 0036 70BD     		pop	{r4, r5, r6, pc}
 1621              	.LVL193:
 1622              	.L140:
 1623              	.LCFI15:
 1624              		.cfi_def_cfa_offset 0
 1625              		.cfi_restore 4
 1626              		.cfi_restore 5
 1627              		.cfi_restore 6
 1628              		.cfi_restore 14
 834:USB/core/usbd_req.c **** 
 1629              		.loc 1 834 1 view .LVU482
 1630 0038 7047     		bx	lr
 1631              		.cfi_endproc
 1632              	.LFE138:
 1634              		.global	USBD_StrDesc
 1635              		.global	USBD_cfg_status
 1636              		.global	USBD_default_cfg
 1637              		.global	USBD_ep_status
 1638              		.section	.bss.USBD_StrDesc,"aw",%nobits
 1639              		.align	2
 1642              	USBD_StrDesc:
 1643 0000 00000000 		.space	255
 1643      00000000 
 1643      00000000 
 1643      00000000 
 1643      00000000 
 1644              		.section	.bss.USBD_cfg_status,"aw",%nobits
 1645              		.align	2
 1646              		.set	.LANCHOR2,. + 0
 1649              	USBD_cfg_status:
 1650 0000 00000000 		.space	4
 1651              		.section	.bss.USBD_default_cfg,"aw",%nobits
 1652              		.align	2
 1653              		.set	.LANCHOR1,. + 0
 1656              	USBD_default_cfg:
 1657 0000 00000000 		.space	4
 1658              		.section	.bss.USBD_ep_status,"aw",%nobits
 1659              		.align	2
 1660              		.set	.LANCHOR3,. + 0
 1663              	USBD_ep_status:
 1664 0000 00000000 		.space	4
 1665              		.section	.bss.cfgidx.0,"aw",%nobits
 1666              		.set	.LANCHOR0,. + 0
 1669              	cfgidx.0:
 1670 0000 00       		.space	1
 1671              		.text
 1672              	.Letext0:
 1673              		.file 2 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/mac
 1674              		.file 3 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 53


 1675              		.file 4 "USB/core/usb_regs.h"
 1676              		.file 5 "USB/core/usb_core.h"
 1677              		.file 6 "USB/core/usbd_core.h"
 1678              		.file 7 "USB/core/usbd_desc.h"
 1679              		.file 8 "USB/core/usb_dcd.h"
 1680              		.file 9 "USB/core/usbd_ioreq.h"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 54


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_req.c
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:18     .text.USBD_GetLen:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:25     .text.USBD_GetLen:0000000000000000 USBD_GetLen
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:71     .text.USBD_SetFeature:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:77     .text.USBD_SetFeature:0000000000000000 USBD_SetFeature
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:151    .text.USBD_SetFeature:000000000000003c $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:217    .text.USBD_SetFeature:000000000000007c $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:222    .text.USBD_ParseSetupRequest:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:229    .text.USBD_ParseSetupRequest:0000000000000000 USBD_ParseSetupRequest
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:281    .text.USBD_CtlError:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:288    .text.USBD_CtlError:0000000000000000 USBD_CtlError
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:324    .text.USBD_GetDescriptor:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:330    .text.USBD_GetDescriptor:0000000000000000 USBD_GetDescriptor
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:362    .text.USBD_GetDescriptor:0000000000000016 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:459    .text.USBD_GetDescriptor:0000000000000084 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:465    .text.USBD_GetDescriptor:000000000000008a $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:606    .text.USBD_SetAddress:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:612    .text.USBD_SetAddress:0000000000000000 USBD_SetAddress
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:700    .text.USBD_SetConfig:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:706    .text.USBD_SetConfig:0000000000000000 USBD_SetConfig
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:842    .text.USBD_SetConfig:0000000000000088 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:847    .text.USBD_GetConfig:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:853    .text.USBD_GetConfig:0000000000000000 USBD_GetConfig
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:919    .text.USBD_GetConfig:0000000000000038 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:924    .text.USBD_GetStatus:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:930    .text.USBD_GetStatus:0000000000000000 USBD_GetStatus
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:988    .text.USBD_GetStatus:0000000000000030 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:993    .text.USBD_ClrFeature:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:999    .text.USBD_ClrFeature:0000000000000000 USBD_ClrFeature
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1057   .text.USBD_StdDevReq:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1064   .text.USBD_StdDevReq:0000000000000000 USBD_StdDevReq
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1086   .text.USBD_StdDevReq:000000000000000c $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1096   .text.USBD_StdDevReq:0000000000000016 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1160   .text.USBD_StdItfReq:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1167   .text.USBD_StdItfReq:0000000000000000 USBD_StdItfReq
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1239   .text.USBD_StdEPReq:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1246   .text.USBD_StdEPReq:0000000000000000 USBD_StdEPReq
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1533   .text.USBD_StdEPReq:000000000000011c $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1538   .text.USBD_GetString:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1545   .text.USBD_GetString:0000000000000000 USBD_GetString
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1642   .bss.USBD_StrDesc:0000000000000000 USBD_StrDesc
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1649   .bss.USBD_cfg_status:0000000000000000 USBD_cfg_status
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1656   .bss.USBD_default_cfg:0000000000000000 USBD_default_cfg
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1663   .bss.USBD_ep_status:0000000000000000 USBD_ep_status
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1639   .bss.USBD_StrDesc:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1645   .bss.USBD_cfg_status:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1652   .bss.USBD_default_cfg:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1659   .bss.USBD_ep_status:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1669   .bss.cfgidx.0:0000000000000000 cfgidx.0
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:1670   .bss.cfgidx.0:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:156    .text.USBD_SetFeature:0000000000000041 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:156    .text.USBD_SetFeature:0000000000000042 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:369    .text.USBD_GetDescriptor:000000000000001d $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s:369    .text.USBD_GetDescriptor:000000000000001e $t

UNDEFINED SYMBOLS
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccK4Tujh.s 			page 55


USBD_CtlSendStatus
SET_TEST_MODE
DCD_EP_Stall
USB_OTG_EP0_OutStart
USBD_CtlSendData
DCD_EP_SetAddress
USBD_SetCfg
USBD_ClrCfg
DCD_EP_ClrStall
