ARM GAS  /tmp/cc9npCpM.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbd_req.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USBD_GetLen,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	USBD_GetLen:
  26              	.LVL0:
  27              	.LFB139:
  28              		.file 1 "USB/core/usbd_req.c"
   1:USB/core/usbd_req.c **** /**
   2:USB/core/usbd_req.c ****   ******************************************************************************
   3:USB/core/usbd_req.c ****   * @file    usbd_req.c
   4:USB/core/usbd_req.c ****   * @author  MCD Application Team
   5:USB/core/usbd_req.c ****   * @version V1.1.0
   6:USB/core/usbd_req.c ****   * @date    19-March-2012 
   7:USB/core/usbd_req.c ****   * @brief   This file provides the standard USB requests following chapter 9.
   8:USB/core/usbd_req.c ****   ******************************************************************************
   9:USB/core/usbd_req.c ****   * @attention
  10:USB/core/usbd_req.c ****   *
  11:USB/core/usbd_req.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  12:USB/core/usbd_req.c ****   *
  13:USB/core/usbd_req.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  14:USB/core/usbd_req.c ****   * You may not use this file except in compliance with the License.
  15:USB/core/usbd_req.c ****   * You may obtain a copy of the License at:
  16:USB/core/usbd_req.c ****   *
  17:USB/core/usbd_req.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  18:USB/core/usbd_req.c ****   *
  19:USB/core/usbd_req.c ****   * Unless required by applicable law or agreed to in writing, software 
  20:USB/core/usbd_req.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  21:USB/core/usbd_req.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:USB/core/usbd_req.c ****   * See the License for the specific language governing permissions and
  23:USB/core/usbd_req.c ****   * limitations under the License.
  24:USB/core/usbd_req.c ****   *
  25:USB/core/usbd_req.c ****   ******************************************************************************
  26:USB/core/usbd_req.c ****   */ 
  27:USB/core/usbd_req.c **** 
  28:USB/core/usbd_req.c **** /* Includes ------------------------------------------------------------------*/
  29:USB/core/usbd_req.c **** #include "usbd_req.h"
  30:USB/core/usbd_req.c **** #include "usbd_ioreq.h"
ARM GAS  /tmp/cc9npCpM.s 			page 2


  31:USB/core/usbd_req.c **** #include "usbd_desc.h"
  32:USB/core/usbd_req.c **** 
  33:USB/core/usbd_req.c **** 
  34:USB/core/usbd_req.c **** /** @addtogroup STM32_USB_OTG_DEVICE_LIBRARY
  35:USB/core/usbd_req.c ****   * @{
  36:USB/core/usbd_req.c ****   */
  37:USB/core/usbd_req.c **** 
  38:USB/core/usbd_req.c **** 
  39:USB/core/usbd_req.c **** /** @defgroup USBD_REQ 
  40:USB/core/usbd_req.c ****   * @brief USB standard requests module
  41:USB/core/usbd_req.c ****   * @{
  42:USB/core/usbd_req.c ****   */ 
  43:USB/core/usbd_req.c **** 
  44:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_TypesDefinitions
  45:USB/core/usbd_req.c ****   * @{
  46:USB/core/usbd_req.c ****   */ 
  47:USB/core/usbd_req.c **** /**
  48:USB/core/usbd_req.c ****   * @}
  49:USB/core/usbd_req.c ****   */ 
  50:USB/core/usbd_req.c **** 
  51:USB/core/usbd_req.c **** 
  52:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_Defines
  53:USB/core/usbd_req.c ****   * @{
  54:USB/core/usbd_req.c ****   */ 
  55:USB/core/usbd_req.c **** 
  56:USB/core/usbd_req.c **** /**
  57:USB/core/usbd_req.c ****   * @}
  58:USB/core/usbd_req.c ****   */ 
  59:USB/core/usbd_req.c **** 
  60:USB/core/usbd_req.c **** 
  61:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_Macros
  62:USB/core/usbd_req.c ****   * @{
  63:USB/core/usbd_req.c ****   */ 
  64:USB/core/usbd_req.c **** /**
  65:USB/core/usbd_req.c ****   * @}
  66:USB/core/usbd_req.c ****   */ 
  67:USB/core/usbd_req.c **** 
  68:USB/core/usbd_req.c **** 
  69:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_Variables
  70:USB/core/usbd_req.c ****   * @{
  71:USB/core/usbd_req.c ****   */ 
  72:USB/core/usbd_req.c **** extern __IO USB_OTG_DCTL_TypeDef SET_TEST_MODE;
  73:USB/core/usbd_req.c **** 
  74:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
  75:USB/core/usbd_req.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
  76:USB/core/usbd_req.c ****     #pragma data_alignment=4   
  77:USB/core/usbd_req.c ****   #endif
  78:USB/core/usbd_req.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */  
  79:USB/core/usbd_req.c **** __ALIGN_BEGIN uint32_t USBD_ep_status __ALIGN_END  = 0; 
  80:USB/core/usbd_req.c **** 
  81:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
  82:USB/core/usbd_req.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
  83:USB/core/usbd_req.c ****     #pragma data_alignment=4   
  84:USB/core/usbd_req.c ****   #endif
  85:USB/core/usbd_req.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
  86:USB/core/usbd_req.c **** __ALIGN_BEGIN uint32_t  USBD_default_cfg __ALIGN_END  = 0;
  87:USB/core/usbd_req.c **** 
ARM GAS  /tmp/cc9npCpM.s 			page 3


  88:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
  89:USB/core/usbd_req.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
  90:USB/core/usbd_req.c ****     #pragma data_alignment=4   
  91:USB/core/usbd_req.c ****   #endif
  92:USB/core/usbd_req.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
  93:USB/core/usbd_req.c **** __ALIGN_BEGIN uint32_t  USBD_cfg_status __ALIGN_END  = 0;  
  94:USB/core/usbd_req.c **** 
  95:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_INTERNAL_DMA_ENABLED
  96:USB/core/usbd_req.c ****   #if defined ( __ICCARM__ ) /*!< IAR Compiler */
  97:USB/core/usbd_req.c ****     #pragma data_alignment=4   
  98:USB/core/usbd_req.c ****   #endif
  99:USB/core/usbd_req.c **** #endif /* USB_OTG_HS_INTERNAL_DMA_ENABLED */
 100:USB/core/usbd_req.c **** __ALIGN_BEGIN uint8_t USBD_StrDesc[USB_MAX_STR_DESC_SIZ] __ALIGN_END ;
 101:USB/core/usbd_req.c **** /**
 102:USB/core/usbd_req.c ****   * @}
 103:USB/core/usbd_req.c ****   */ 
 104:USB/core/usbd_req.c **** 
 105:USB/core/usbd_req.c **** 
 106:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_FunctionPrototypes
 107:USB/core/usbd_req.c ****   * @{
 108:USB/core/usbd_req.c ****   */ 
 109:USB/core/usbd_req.c **** static void USBD_GetDescriptor(USB_OTG_CORE_HANDLE  *pdev, 
 110:USB/core/usbd_req.c ****                                USB_SETUP_REQ *req);
 111:USB/core/usbd_req.c **** 
 112:USB/core/usbd_req.c **** static void USBD_SetAddress(USB_OTG_CORE_HANDLE  *pdev, 
 113:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req);
 114:USB/core/usbd_req.c **** 
 115:USB/core/usbd_req.c **** static void USBD_SetConfig(USB_OTG_CORE_HANDLE  *pdev, 
 116:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req);
 117:USB/core/usbd_req.c **** 
 118:USB/core/usbd_req.c **** static void USBD_GetConfig(USB_OTG_CORE_HANDLE  *pdev, 
 119:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req);
 120:USB/core/usbd_req.c **** 
 121:USB/core/usbd_req.c **** static void USBD_GetStatus(USB_OTG_CORE_HANDLE  *pdev, 
 122:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req);
 123:USB/core/usbd_req.c **** 
 124:USB/core/usbd_req.c **** static void USBD_SetFeature(USB_OTG_CORE_HANDLE  *pdev, 
 125:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req);
 126:USB/core/usbd_req.c **** 
 127:USB/core/usbd_req.c **** static void USBD_ClrFeature(USB_OTG_CORE_HANDLE  *pdev, 
 128:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req);
 129:USB/core/usbd_req.c **** 
 130:USB/core/usbd_req.c **** static uint8_t USBD_GetLen(uint8_t *buf);
 131:USB/core/usbd_req.c **** /**
 132:USB/core/usbd_req.c ****   * @}
 133:USB/core/usbd_req.c ****   */ 
 134:USB/core/usbd_req.c **** 
 135:USB/core/usbd_req.c **** 
 136:USB/core/usbd_req.c **** /** @defgroup USBD_REQ_Private_Functions
 137:USB/core/usbd_req.c ****   * @{
 138:USB/core/usbd_req.c ****   */ 
 139:USB/core/usbd_req.c **** 
 140:USB/core/usbd_req.c **** 
 141:USB/core/usbd_req.c **** /**
 142:USB/core/usbd_req.c **** * @brief  USBD_StdDevReq
 143:USB/core/usbd_req.c **** *         Handle standard usb device requests
 144:USB/core/usbd_req.c **** * @param  pdev: device instance
ARM GAS  /tmp/cc9npCpM.s 			page 4


 145:USB/core/usbd_req.c **** * @param  req: usb request
 146:USB/core/usbd_req.c **** * @retval status
 147:USB/core/usbd_req.c **** */
 148:USB/core/usbd_req.c **** USBD_Status  USBD_StdDevReq (USB_OTG_CORE_HANDLE  *pdev, USB_SETUP_REQ  *req)
 149:USB/core/usbd_req.c **** {
 150:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK;  
 151:USB/core/usbd_req.c ****   
 152:USB/core/usbd_req.c ****   switch (req->bRequest) 
 153:USB/core/usbd_req.c ****   {
 154:USB/core/usbd_req.c ****   case USB_REQ_GET_DESCRIPTOR: 
 155:USB/core/usbd_req.c ****     
 156:USB/core/usbd_req.c ****     USBD_GetDescriptor (pdev, req) ;
 157:USB/core/usbd_req.c ****     break;
 158:USB/core/usbd_req.c ****     
 159:USB/core/usbd_req.c ****   case USB_REQ_SET_ADDRESS:                      
 160:USB/core/usbd_req.c ****     USBD_SetAddress(pdev, req);
 161:USB/core/usbd_req.c ****     break;
 162:USB/core/usbd_req.c ****     
 163:USB/core/usbd_req.c ****   case USB_REQ_SET_CONFIGURATION:                    
 164:USB/core/usbd_req.c ****     USBD_SetConfig (pdev , req);
 165:USB/core/usbd_req.c ****     break;
 166:USB/core/usbd_req.c ****     
 167:USB/core/usbd_req.c ****   case USB_REQ_GET_CONFIGURATION:                 
 168:USB/core/usbd_req.c ****     USBD_GetConfig (pdev , req);
 169:USB/core/usbd_req.c ****     break;
 170:USB/core/usbd_req.c ****     
 171:USB/core/usbd_req.c ****   case USB_REQ_GET_STATUS:                                  
 172:USB/core/usbd_req.c ****     USBD_GetStatus (pdev , req);
 173:USB/core/usbd_req.c ****     break;
 174:USB/core/usbd_req.c ****     
 175:USB/core/usbd_req.c ****     
 176:USB/core/usbd_req.c ****   case USB_REQ_SET_FEATURE:   
 177:USB/core/usbd_req.c ****     USBD_SetFeature (pdev , req);    
 178:USB/core/usbd_req.c ****     break;
 179:USB/core/usbd_req.c ****     
 180:USB/core/usbd_req.c ****   case USB_REQ_CLEAR_FEATURE:                                   
 181:USB/core/usbd_req.c ****     USBD_ClrFeature (pdev , req);
 182:USB/core/usbd_req.c ****     break;
 183:USB/core/usbd_req.c ****     
 184:USB/core/usbd_req.c ****   default:  
 185:USB/core/usbd_req.c ****     USBD_CtlError(pdev , req);
 186:USB/core/usbd_req.c ****     break;
 187:USB/core/usbd_req.c ****   }
 188:USB/core/usbd_req.c ****   
 189:USB/core/usbd_req.c ****   return ret;
 190:USB/core/usbd_req.c **** }
 191:USB/core/usbd_req.c **** 
 192:USB/core/usbd_req.c **** /**
 193:USB/core/usbd_req.c **** * @brief  USBD_StdItfReq
 194:USB/core/usbd_req.c **** *         Handle standard usb interface requests
 195:USB/core/usbd_req.c **** * @param  pdev: USB OTG device instance
 196:USB/core/usbd_req.c **** * @param  req: usb request
 197:USB/core/usbd_req.c **** * @retval status
 198:USB/core/usbd_req.c **** */
 199:USB/core/usbd_req.c **** USBD_Status  USBD_StdItfReq (USB_OTG_CORE_HANDLE  *pdev, USB_SETUP_REQ  *req)
 200:USB/core/usbd_req.c **** {
 201:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
ARM GAS  /tmp/cc9npCpM.s 			page 5


 202:USB/core/usbd_req.c ****   
 203:USB/core/usbd_req.c ****   switch (pdev->dev.device_status) 
 204:USB/core/usbd_req.c ****   {
 205:USB/core/usbd_req.c ****   case USB_OTG_CONFIGURED:
 206:USB/core/usbd_req.c ****     
 207:USB/core/usbd_req.c ****     if (LOBYTE(req->wIndex) <= USBD_ITF_MAX_NUM) 
 208:USB/core/usbd_req.c ****     {
 209:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req); 
 210:USB/core/usbd_req.c ****       
 211:USB/core/usbd_req.c ****       if((req->wLength == 0)&& (ret == USBD_OK))
 212:USB/core/usbd_req.c ****       {
 213:USB/core/usbd_req.c ****          USBD_CtlSendStatus(pdev);
 214:USB/core/usbd_req.c ****       }
 215:USB/core/usbd_req.c ****     } 
 216:USB/core/usbd_req.c ****     else 
 217:USB/core/usbd_req.c ****     {                                               
 218:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 219:USB/core/usbd_req.c ****     }
 220:USB/core/usbd_req.c ****     break;
 221:USB/core/usbd_req.c ****     
 222:USB/core/usbd_req.c ****   default:
 223:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);
 224:USB/core/usbd_req.c ****     break;
 225:USB/core/usbd_req.c ****   }
 226:USB/core/usbd_req.c ****   return ret;
 227:USB/core/usbd_req.c **** }
 228:USB/core/usbd_req.c **** 
 229:USB/core/usbd_req.c **** /**
 230:USB/core/usbd_req.c **** * @brief  USBD_StdEPReq
 231:USB/core/usbd_req.c **** *         Handle standard usb endpoint requests
 232:USB/core/usbd_req.c **** * @param  pdev: USB OTG device instance
 233:USB/core/usbd_req.c **** * @param  req: usb request
 234:USB/core/usbd_req.c **** * @retval status
 235:USB/core/usbd_req.c **** */
 236:USB/core/usbd_req.c **** USBD_Status  USBD_StdEPReq (USB_OTG_CORE_HANDLE  *pdev, USB_SETUP_REQ  *req)
 237:USB/core/usbd_req.c **** {
 238:USB/core/usbd_req.c ****   
 239:USB/core/usbd_req.c ****   uint8_t   ep_addr;
 240:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
 241:USB/core/usbd_req.c ****   
 242:USB/core/usbd_req.c ****   ep_addr  = LOBYTE(req->wIndex);   
 243:USB/core/usbd_req.c ****   
 244:USB/core/usbd_req.c ****   switch (req->bRequest) 
 245:USB/core/usbd_req.c ****   {
 246:USB/core/usbd_req.c ****     
 247:USB/core/usbd_req.c ****   case USB_REQ_SET_FEATURE :
 248:USB/core/usbd_req.c ****     
 249:USB/core/usbd_req.c ****     switch (pdev->dev.device_status) 
 250:USB/core/usbd_req.c ****     {
 251:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:          
 252:USB/core/usbd_req.c ****       if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 253:USB/core/usbd_req.c ****       {
 254:USB/core/usbd_req.c ****         DCD_EP_Stall(pdev , ep_addr);
 255:USB/core/usbd_req.c ****       }
 256:USB/core/usbd_req.c ****       break;	
 257:USB/core/usbd_req.c ****       
 258:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:   
ARM GAS  /tmp/cc9npCpM.s 			page 6


 259:USB/core/usbd_req.c ****       if (req->wValue == USB_FEATURE_EP_HALT)
 260:USB/core/usbd_req.c ****       {
 261:USB/core/usbd_req.c ****         if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 262:USB/core/usbd_req.c ****         { 
 263:USB/core/usbd_req.c ****           DCD_EP_Stall(pdev , ep_addr);
 264:USB/core/usbd_req.c ****           
 265:USB/core/usbd_req.c ****         }
 266:USB/core/usbd_req.c ****       }
 267:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req);   
 268:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 269:USB/core/usbd_req.c ****       
 270:USB/core/usbd_req.c ****       break;
 271:USB/core/usbd_req.c ****       
 272:USB/core/usbd_req.c ****     default:                         
 273:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 274:USB/core/usbd_req.c ****       break;    
 275:USB/core/usbd_req.c ****     }
 276:USB/core/usbd_req.c ****     break;
 277:USB/core/usbd_req.c ****     
 278:USB/core/usbd_req.c ****   case USB_REQ_CLEAR_FEATURE :
 279:USB/core/usbd_req.c ****     
 280:USB/core/usbd_req.c ****     switch (pdev->dev.device_status) 
 281:USB/core/usbd_req.c ****     {
 282:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:          
 283:USB/core/usbd_req.c ****       if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 284:USB/core/usbd_req.c ****       {
 285:USB/core/usbd_req.c ****         DCD_EP_Stall(pdev , ep_addr);
 286:USB/core/usbd_req.c ****       }
 287:USB/core/usbd_req.c ****       break;	
 288:USB/core/usbd_req.c ****       
 289:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:   
 290:USB/core/usbd_req.c ****       if (req->wValue == USB_FEATURE_EP_HALT)
 291:USB/core/usbd_req.c ****       {
 292:USB/core/usbd_req.c ****         if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 293:USB/core/usbd_req.c ****         {        
 294:USB/core/usbd_req.c ****           DCD_EP_ClrStall(pdev , ep_addr);
 295:USB/core/usbd_req.c ****           pdev->dev.class_cb->Setup (pdev, req);
 296:USB/core/usbd_req.c ****         }
 297:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 298:USB/core/usbd_req.c ****       }
 299:USB/core/usbd_req.c ****       break;
 300:USB/core/usbd_req.c ****       
 301:USB/core/usbd_req.c ****     default:                         
 302:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 303:USB/core/usbd_req.c ****       break;    
 304:USB/core/usbd_req.c ****     }
 305:USB/core/usbd_req.c ****     break;
 306:USB/core/usbd_req.c ****     
 307:USB/core/usbd_req.c ****   case USB_REQ_GET_STATUS:                  
 308:USB/core/usbd_req.c ****     switch (pdev->dev.device_status) 
 309:USB/core/usbd_req.c ****     {
 310:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:          
 311:USB/core/usbd_req.c ****       if ((ep_addr != 0x00) && (ep_addr != 0x80)) 
 312:USB/core/usbd_req.c ****       {
 313:USB/core/usbd_req.c ****         DCD_EP_Stall(pdev , ep_addr);
 314:USB/core/usbd_req.c ****       }
 315:USB/core/usbd_req.c ****       break;	
ARM GAS  /tmp/cc9npCpM.s 			page 7


 316:USB/core/usbd_req.c ****       
 317:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:         
 318:USB/core/usbd_req.c ****       
 319:USB/core/usbd_req.c ****       
 320:USB/core/usbd_req.c ****       if ((ep_addr & 0x80)== 0x80)
 321:USB/core/usbd_req.c ****       {
 322:USB/core/usbd_req.c ****         if(pdev->dev.in_ep[ep_addr & 0x7F].is_stall)
 323:USB/core/usbd_req.c ****         {
 324:USB/core/usbd_req.c ****           USBD_ep_status = 0x0001;     
 325:USB/core/usbd_req.c ****         }
 326:USB/core/usbd_req.c ****         else
 327:USB/core/usbd_req.c ****         {
 328:USB/core/usbd_req.c ****           USBD_ep_status = 0x0000;  
 329:USB/core/usbd_req.c ****         }
 330:USB/core/usbd_req.c ****       }
 331:USB/core/usbd_req.c ****       else if ((ep_addr & 0x80)== 0x00)
 332:USB/core/usbd_req.c ****       {
 333:USB/core/usbd_req.c ****         if(pdev->dev.out_ep[ep_addr].is_stall)
 334:USB/core/usbd_req.c ****         {
 335:USB/core/usbd_req.c ****           USBD_ep_status = 0x0001;     
 336:USB/core/usbd_req.c ****         }
 337:USB/core/usbd_req.c ****         
 338:USB/core/usbd_req.c ****         else 
 339:USB/core/usbd_req.c ****         {
 340:USB/core/usbd_req.c ****           USBD_ep_status = 0x0000;     
 341:USB/core/usbd_req.c ****         }      
 342:USB/core/usbd_req.c ****       }
 343:USB/core/usbd_req.c ****       USBD_CtlSendData (pdev,
 344:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_ep_status,
 345:USB/core/usbd_req.c ****                         2);
 346:USB/core/usbd_req.c ****       break;
 347:USB/core/usbd_req.c ****       
 348:USB/core/usbd_req.c ****     default:                         
 349:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 350:USB/core/usbd_req.c ****       break;
 351:USB/core/usbd_req.c ****     }
 352:USB/core/usbd_req.c ****     break;
 353:USB/core/usbd_req.c ****     
 354:USB/core/usbd_req.c ****   default:
 355:USB/core/usbd_req.c ****     break;
 356:USB/core/usbd_req.c ****   }
 357:USB/core/usbd_req.c ****   return ret;
 358:USB/core/usbd_req.c **** }
 359:USB/core/usbd_req.c **** /**
 360:USB/core/usbd_req.c **** * @brief  USBD_GetDescriptor
 361:USB/core/usbd_req.c **** *         Handle Get Descriptor requests
 362:USB/core/usbd_req.c **** * @param  pdev: device instance
 363:USB/core/usbd_req.c **** * @param  req: usb request
 364:USB/core/usbd_req.c **** * @retval status
 365:USB/core/usbd_req.c **** */
 366:USB/core/usbd_req.c **** static void USBD_GetDescriptor(USB_OTG_CORE_HANDLE  *pdev, 
 367:USB/core/usbd_req.c ****                                USB_SETUP_REQ *req)
 368:USB/core/usbd_req.c **** {
 369:USB/core/usbd_req.c ****   uint16_t len;
 370:USB/core/usbd_req.c ****   uint8_t *pbuf;
 371:USB/core/usbd_req.c ****   
 372:USB/core/usbd_req.c ****     
ARM GAS  /tmp/cc9npCpM.s 			page 8


 373:USB/core/usbd_req.c ****   switch (req->wValue >> 8)
 374:USB/core/usbd_req.c ****   {
 375:USB/core/usbd_req.c ****   case USB_DESC_TYPE_DEVICE:
 376:USB/core/usbd_req.c ****     pbuf = pdev->dev.usr_device->GetDeviceDescriptor(pdev->cfg.speed, &len);
 377:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 378:USB/core/usbd_req.c ****     {                  
 379:USB/core/usbd_req.c ****       len = 8;
 380:USB/core/usbd_req.c ****     }
 381:USB/core/usbd_req.c ****     break;
 382:USB/core/usbd_req.c ****     
 383:USB/core/usbd_req.c ****   case USB_DESC_TYPE_CONFIGURATION:
 384:USB/core/usbd_req.c ****       pbuf   = (uint8_t *)pdev->dev.class_cb->GetConfigDescriptor(pdev->cfg.speed, &len);
 385:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 386:USB/core/usbd_req.c ****     if((pdev->cfg.speed == USB_OTG_SPEED_FULL )&&
 387:USB/core/usbd_req.c ****        (pdev->cfg.phy_itface  == USB_OTG_ULPI_PHY))
 388:USB/core/usbd_req.c ****     {
 389:USB/core/usbd_req.c ****       pbuf   = (uint8_t *)pdev->dev.class_cb->GetOtherConfigDescriptor(pdev->cfg.speed, &len);
 390:USB/core/usbd_req.c ****     }
 391:USB/core/usbd_req.c **** #endif  
 392:USB/core/usbd_req.c ****     pbuf[1] = USB_DESC_TYPE_CONFIGURATION;
 393:USB/core/usbd_req.c ****     pdev->dev.pConfig_descriptor = pbuf;    
 394:USB/core/usbd_req.c ****     break;
 395:USB/core/usbd_req.c ****     
 396:USB/core/usbd_req.c ****   case USB_DESC_TYPE_STRING:
 397:USB/core/usbd_req.c ****     switch ((uint8_t)(req->wValue))
 398:USB/core/usbd_req.c ****     {
 399:USB/core/usbd_req.c ****     case USBD_IDX_LANGID_STR:
 400:USB/core/usbd_req.c ****      pbuf = pdev->dev.usr_device->GetLangIDStrDescriptor(pdev->cfg.speed, &len);        
 401:USB/core/usbd_req.c ****       break;
 402:USB/core/usbd_req.c ****       
 403:USB/core/usbd_req.c ****     case USBD_IDX_MFC_STR:
 404:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetManufacturerStrDescriptor(pdev->cfg.speed, &len);
 405:USB/core/usbd_req.c ****       break;
 406:USB/core/usbd_req.c ****       
 407:USB/core/usbd_req.c ****     case USBD_IDX_PRODUCT_STR:
 408:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetProductStrDescriptor(pdev->cfg.speed, &len);
 409:USB/core/usbd_req.c ****       break;
 410:USB/core/usbd_req.c ****       
 411:USB/core/usbd_req.c ****     case USBD_IDX_SERIAL_STR:
 412:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetSerialStrDescriptor(pdev->cfg.speed, &len);
 413:USB/core/usbd_req.c ****       break;
 414:USB/core/usbd_req.c ****       
 415:USB/core/usbd_req.c ****     case USBD_IDX_CONFIG_STR:
 416:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetConfigurationStrDescriptor(pdev->cfg.speed, &len);
 417:USB/core/usbd_req.c ****       break;
 418:USB/core/usbd_req.c ****       
 419:USB/core/usbd_req.c ****     case USBD_IDX_INTERFACE_STR:
 420:USB/core/usbd_req.c ****       pbuf = pdev->dev.usr_device->GetInterfaceStrDescriptor(pdev->cfg.speed, &len);
 421:USB/core/usbd_req.c ****       break;
 422:USB/core/usbd_req.c ****       
 423:USB/core/usbd_req.c ****     default:
 424:USB/core/usbd_req.c **** #ifdef USB_SUPPORT_USER_STRING_DESC
 425:USB/core/usbd_req.c ****       pbuf = pdev->dev.class_cb->GetUsrStrDescriptor(pdev->cfg.speed, (req->wValue) , &len);
 426:USB/core/usbd_req.c ****       break;
 427:USB/core/usbd_req.c **** #else      
 428:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 429:USB/core/usbd_req.c ****       return;
ARM GAS  /tmp/cc9npCpM.s 			page 9


 430:USB/core/usbd_req.c **** #endif /* USBD_CtlError(pdev , req); */      
 431:USB/core/usbd_req.c ****     }
 432:USB/core/usbd_req.c ****     break;
 433:USB/core/usbd_req.c ****   case USB_DESC_TYPE_DEVICE_QUALIFIER:                   
 434:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 435:USB/core/usbd_req.c ****     if(pdev->cfg.speed == USB_OTG_SPEED_HIGH  )   
 436:USB/core/usbd_req.c ****     {
 437:USB/core/usbd_req.c ****       
 438:USB/core/usbd_req.c ****       pbuf   = (uint8_t *)pdev->dev.class_cb->GetConfigDescriptor(pdev->cfg.speed, &len);
 439:USB/core/usbd_req.c ****             
 440:USB/core/usbd_req.c ****       USBD_DeviceQualifierDesc[4]= pbuf[14];
 441:USB/core/usbd_req.c ****       USBD_DeviceQualifierDesc[5]= pbuf[15];
 442:USB/core/usbd_req.c ****       USBD_DeviceQualifierDesc[6]= pbuf[16];
 443:USB/core/usbd_req.c ****       
 444:USB/core/usbd_req.c ****       pbuf = USBD_DeviceQualifierDesc;
 445:USB/core/usbd_req.c ****       len  = USB_LEN_DEV_QUALIFIER_DESC;
 446:USB/core/usbd_req.c ****       break;
 447:USB/core/usbd_req.c ****     }
 448:USB/core/usbd_req.c ****     else
 449:USB/core/usbd_req.c ****     {
 450:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 451:USB/core/usbd_req.c ****       return;
 452:USB/core/usbd_req.c ****     }
 453:USB/core/usbd_req.c **** #else
 454:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 455:USB/core/usbd_req.c ****       return;
 456:USB/core/usbd_req.c **** #endif    
 457:USB/core/usbd_req.c **** 
 458:USB/core/usbd_req.c ****   case USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION:
 459:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE   
 460:USB/core/usbd_req.c **** 
 461:USB/core/usbd_req.c ****     if(pdev->cfg.speed == USB_OTG_SPEED_HIGH  )   
 462:USB/core/usbd_req.c ****     {
 463:USB/core/usbd_req.c ****       pbuf   = (uint8_t *)pdev->dev.class_cb->GetOtherConfigDescriptor(pdev->cfg.speed, &len);
 464:USB/core/usbd_req.c ****       pbuf[1] = USB_DESC_TYPE_OTHER_SPEED_CONFIGURATION;
 465:USB/core/usbd_req.c ****       break; 
 466:USB/core/usbd_req.c ****     }
 467:USB/core/usbd_req.c ****     else
 468:USB/core/usbd_req.c ****     {
 469:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 470:USB/core/usbd_req.c ****       return;
 471:USB/core/usbd_req.c ****     }
 472:USB/core/usbd_req.c **** #else
 473:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 474:USB/core/usbd_req.c ****       return;
 475:USB/core/usbd_req.c **** #endif     
 476:USB/core/usbd_req.c **** 
 477:USB/core/usbd_req.c ****     
 478:USB/core/usbd_req.c ****   default: 
 479:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);
 480:USB/core/usbd_req.c ****     return;
 481:USB/core/usbd_req.c ****   }
 482:USB/core/usbd_req.c ****   
 483:USB/core/usbd_req.c ****   if((len != 0)&& (req->wLength != 0))
 484:USB/core/usbd_req.c ****   {
 485:USB/core/usbd_req.c ****     
 486:USB/core/usbd_req.c ****     len = MIN(len , req->wLength);
ARM GAS  /tmp/cc9npCpM.s 			page 10


 487:USB/core/usbd_req.c ****     
 488:USB/core/usbd_req.c ****     USBD_CtlSendData (pdev, 
 489:USB/core/usbd_req.c ****                       pbuf,
 490:USB/core/usbd_req.c ****                       len);
 491:USB/core/usbd_req.c ****   }
 492:USB/core/usbd_req.c ****   
 493:USB/core/usbd_req.c **** }
 494:USB/core/usbd_req.c **** 
 495:USB/core/usbd_req.c **** /**
 496:USB/core/usbd_req.c **** * @brief  USBD_SetAddress
 497:USB/core/usbd_req.c **** *         Set device address
 498:USB/core/usbd_req.c **** * @param  pdev: device instance
 499:USB/core/usbd_req.c **** * @param  req: usb request
 500:USB/core/usbd_req.c **** * @retval status
 501:USB/core/usbd_req.c **** */
 502:USB/core/usbd_req.c **** static void USBD_SetAddress(USB_OTG_CORE_HANDLE  *pdev, 
 503:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 504:USB/core/usbd_req.c **** {
 505:USB/core/usbd_req.c ****   uint8_t  dev_addr; 
 506:USB/core/usbd_req.c ****   
 507:USB/core/usbd_req.c ****   if ((req->wIndex == 0) && (req->wLength == 0)) 
 508:USB/core/usbd_req.c ****   {
 509:USB/core/usbd_req.c ****     dev_addr = (uint8_t)(req->wValue) & 0x7F;     
 510:USB/core/usbd_req.c ****     
 511:USB/core/usbd_req.c ****     if (pdev->dev.device_status == USB_OTG_CONFIGURED) 
 512:USB/core/usbd_req.c ****     {
 513:USB/core/usbd_req.c ****       USBD_CtlError(pdev , req);
 514:USB/core/usbd_req.c ****     } 
 515:USB/core/usbd_req.c ****     else 
 516:USB/core/usbd_req.c ****     {
 517:USB/core/usbd_req.c ****       pdev->dev.device_address = dev_addr;
 518:USB/core/usbd_req.c ****       DCD_EP_SetAddress(pdev, dev_addr);               
 519:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);                         
 520:USB/core/usbd_req.c ****       
 521:USB/core/usbd_req.c ****       if (dev_addr != 0) 
 522:USB/core/usbd_req.c ****       {
 523:USB/core/usbd_req.c ****         pdev->dev.device_status  = USB_OTG_ADDRESSED;
 524:USB/core/usbd_req.c ****       } 
 525:USB/core/usbd_req.c ****       else 
 526:USB/core/usbd_req.c ****       {
 527:USB/core/usbd_req.c ****         pdev->dev.device_status  = USB_OTG_DEFAULT; 
 528:USB/core/usbd_req.c ****       }
 529:USB/core/usbd_req.c ****     }
 530:USB/core/usbd_req.c ****   } 
 531:USB/core/usbd_req.c ****   else 
 532:USB/core/usbd_req.c ****   {
 533:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);                        
 534:USB/core/usbd_req.c ****   } 
 535:USB/core/usbd_req.c **** }
 536:USB/core/usbd_req.c **** 
 537:USB/core/usbd_req.c **** /**
 538:USB/core/usbd_req.c **** * @brief  USBD_SetConfig
 539:USB/core/usbd_req.c **** *         Handle Set device configuration request
 540:USB/core/usbd_req.c **** * @param  pdev: device instance
 541:USB/core/usbd_req.c **** * @param  req: usb request
 542:USB/core/usbd_req.c **** * @retval status
 543:USB/core/usbd_req.c **** */
ARM GAS  /tmp/cc9npCpM.s 			page 11


 544:USB/core/usbd_req.c **** static void USBD_SetConfig(USB_OTG_CORE_HANDLE  *pdev, 
 545:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req)
 546:USB/core/usbd_req.c **** {
 547:USB/core/usbd_req.c ****   
 548:USB/core/usbd_req.c ****   static uint8_t  cfgidx;
 549:USB/core/usbd_req.c ****   
 550:USB/core/usbd_req.c ****   cfgidx = (uint8_t)(req->wValue);                 
 551:USB/core/usbd_req.c ****   
 552:USB/core/usbd_req.c ****   if (cfgidx > USBD_CFG_MAX_NUM ) 
 553:USB/core/usbd_req.c ****   {            
 554:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);                              
 555:USB/core/usbd_req.c ****   } 
 556:USB/core/usbd_req.c ****   else 
 557:USB/core/usbd_req.c ****   {
 558:USB/core/usbd_req.c ****     switch (pdev->dev.device_status) 
 559:USB/core/usbd_req.c ****     {
 560:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:
 561:USB/core/usbd_req.c ****       if (cfgidx) 
 562:USB/core/usbd_req.c ****       {                                			   							   							   				
 563:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;
 564:USB/core/usbd_req.c ****         pdev->dev.device_status = USB_OTG_CONFIGURED;
 565:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 566:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 567:USB/core/usbd_req.c ****       }
 568:USB/core/usbd_req.c ****       else 
 569:USB/core/usbd_req.c ****       {
 570:USB/core/usbd_req.c ****          USBD_CtlSendStatus(pdev);
 571:USB/core/usbd_req.c ****       }
 572:USB/core/usbd_req.c ****       break;
 573:USB/core/usbd_req.c ****       
 574:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:
 575:USB/core/usbd_req.c ****       if (cfgidx == 0) 
 576:USB/core/usbd_req.c ****       {                           
 577:USB/core/usbd_req.c ****         pdev->dev.device_status = USB_OTG_ADDRESSED;
 578:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;          
 579:USB/core/usbd_req.c ****         USBD_ClrCfg(pdev , cfgidx);
 580:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 581:USB/core/usbd_req.c ****         
 582:USB/core/usbd_req.c ****       } 
 583:USB/core/usbd_req.c ****       else  if (cfgidx != pdev->dev.device_config) 
 584:USB/core/usbd_req.c ****       {
 585:USB/core/usbd_req.c ****         /* Clear old configuration */
 586:USB/core/usbd_req.c ****         USBD_ClrCfg(pdev , pdev->dev.device_config);
 587:USB/core/usbd_req.c ****         
 588:USB/core/usbd_req.c ****         /* set new configuration */
 589:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;
 590:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 591:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 592:USB/core/usbd_req.c ****       }
 593:USB/core/usbd_req.c ****       else
 594:USB/core/usbd_req.c ****       {
 595:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 596:USB/core/usbd_req.c ****       }
 597:USB/core/usbd_req.c ****       break;
 598:USB/core/usbd_req.c ****       
 599:USB/core/usbd_req.c ****     default:					
 600:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);                     
ARM GAS  /tmp/cc9npCpM.s 			page 12


 601:USB/core/usbd_req.c ****       break;
 602:USB/core/usbd_req.c ****     }
 603:USB/core/usbd_req.c ****   }
 604:USB/core/usbd_req.c **** }
 605:USB/core/usbd_req.c **** 
 606:USB/core/usbd_req.c **** /**
 607:USB/core/usbd_req.c **** * @brief  USBD_GetConfig
 608:USB/core/usbd_req.c **** *         Handle Get device configuration request
 609:USB/core/usbd_req.c **** * @param  pdev: device instance
 610:USB/core/usbd_req.c **** * @param  req: usb request
 611:USB/core/usbd_req.c **** * @retval status
 612:USB/core/usbd_req.c **** */
 613:USB/core/usbd_req.c **** static void USBD_GetConfig(USB_OTG_CORE_HANDLE  *pdev, 
 614:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req)
 615:USB/core/usbd_req.c **** {
 616:USB/core/usbd_req.c ****  
 617:USB/core/usbd_req.c ****   if (req->wLength != 1) 
 618:USB/core/usbd_req.c ****   {                   
 619:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);
 620:USB/core/usbd_req.c ****   }
 621:USB/core/usbd_req.c ****   else 
 622:USB/core/usbd_req.c ****   {
 623:USB/core/usbd_req.c ****     switch (pdev->dev.device_status )  
 624:USB/core/usbd_req.c ****     {
 625:USB/core/usbd_req.c ****     case USB_OTG_ADDRESSED:                     
 626:USB/core/usbd_req.c ****       
 627:USB/core/usbd_req.c ****       USBD_CtlSendData (pdev, 
 628:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_default_cfg,
 629:USB/core/usbd_req.c ****                         1);
 630:USB/core/usbd_req.c ****       break;
 631:USB/core/usbd_req.c ****       
 632:USB/core/usbd_req.c ****     case USB_OTG_CONFIGURED:                   
 633:USB/core/usbd_req.c ****       
 634:USB/core/usbd_req.c ****       USBD_CtlSendData (pdev, 
 635:USB/core/usbd_req.c ****                         &pdev->dev.device_config,
 636:USB/core/usbd_req.c ****                         1);
 637:USB/core/usbd_req.c ****       break;
 638:USB/core/usbd_req.c ****       
 639:USB/core/usbd_req.c ****     default:
 640:USB/core/usbd_req.c ****        USBD_CtlError(pdev , req);
 641:USB/core/usbd_req.c ****       break;
 642:USB/core/usbd_req.c ****     }
 643:USB/core/usbd_req.c ****   }
 644:USB/core/usbd_req.c **** }
 645:USB/core/usbd_req.c **** 
 646:USB/core/usbd_req.c **** /**
 647:USB/core/usbd_req.c **** * @brief  USBD_GetStatus
 648:USB/core/usbd_req.c **** *         Handle Get Status request
 649:USB/core/usbd_req.c **** * @param  pdev: device instance
 650:USB/core/usbd_req.c **** * @param  req: usb request
 651:USB/core/usbd_req.c **** * @retval status
 652:USB/core/usbd_req.c **** */
 653:USB/core/usbd_req.c **** static void USBD_GetStatus(USB_OTG_CORE_HANDLE  *pdev, 
 654:USB/core/usbd_req.c ****                            USB_SETUP_REQ *req)
 655:USB/core/usbd_req.c **** {
 656:USB/core/usbd_req.c ****   
 657:USB/core/usbd_req.c ****     
ARM GAS  /tmp/cc9npCpM.s 			page 13


 658:USB/core/usbd_req.c ****   switch (pdev->dev.device_status) 
 659:USB/core/usbd_req.c ****   {
 660:USB/core/usbd_req.c ****   case USB_OTG_ADDRESSED:
 661:USB/core/usbd_req.c ****   case USB_OTG_CONFIGURED:
 662:USB/core/usbd_req.c ****     
 663:USB/core/usbd_req.c **** #ifdef USBD_SELF_POWERED
 664:USB/core/usbd_req.c ****     USBD_cfg_status = USB_CONFIG_SELF_POWERED;                                    
 665:USB/core/usbd_req.c **** #else
 666:USB/core/usbd_req.c ****     USBD_cfg_status = 0x00;                                    
 667:USB/core/usbd_req.c **** #endif
 668:USB/core/usbd_req.c ****                       
 669:USB/core/usbd_req.c ****     if (pdev->dev.DevRemoteWakeup) 
 670:USB/core/usbd_req.c ****     {
 671:USB/core/usbd_req.c ****       USBD_cfg_status |= USB_CONFIG_REMOTE_WAKEUP;                                
 672:USB/core/usbd_req.c ****     }
 673:USB/core/usbd_req.c ****     
 674:USB/core/usbd_req.c ****     USBD_CtlSendData (pdev, 
 675:USB/core/usbd_req.c ****                       (uint8_t *)&USBD_cfg_status,
 676:USB/core/usbd_req.c ****                       2);
 677:USB/core/usbd_req.c ****     break;
 678:USB/core/usbd_req.c ****     
 679:USB/core/usbd_req.c ****   default :
 680:USB/core/usbd_req.c ****     USBD_CtlError(pdev , req);                        
 681:USB/core/usbd_req.c ****     break;
 682:USB/core/usbd_req.c ****   }
 683:USB/core/usbd_req.c **** }
 684:USB/core/usbd_req.c **** 
 685:USB/core/usbd_req.c **** 
 686:USB/core/usbd_req.c **** /**
 687:USB/core/usbd_req.c **** * @brief  USBD_SetFeature
 688:USB/core/usbd_req.c **** *         Handle Set device feature request
 689:USB/core/usbd_req.c **** * @param  pdev: device instance
 690:USB/core/usbd_req.c **** * @param  req: usb request
 691:USB/core/usbd_req.c **** * @retval status
 692:USB/core/usbd_req.c **** */
 693:USB/core/usbd_req.c **** static void USBD_SetFeature(USB_OTG_CORE_HANDLE  *pdev, 
 694:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 695:USB/core/usbd_req.c **** {
 696:USB/core/usbd_req.c **** 
 697:USB/core/usbd_req.c ****   USB_OTG_DCTL_TypeDef     dctl;
 698:USB/core/usbd_req.c ****   uint8_t test_mode = 0;
 699:USB/core/usbd_req.c ****  
 700:USB/core/usbd_req.c ****   if (req->wValue == USB_FEATURE_REMOTE_WAKEUP)
 701:USB/core/usbd_req.c ****   {
 702:USB/core/usbd_req.c ****     pdev->dev.DevRemoteWakeup = 1;  
 703:USB/core/usbd_req.c ****     pdev->dev.class_cb->Setup (pdev, req);   
 704:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 705:USB/core/usbd_req.c ****   }
 706:USB/core/usbd_req.c **** 
 707:USB/core/usbd_req.c ****   else if ((req->wValue == USB_FEATURE_TEST_MODE) && 
 708:USB/core/usbd_req.c ****            ((req->wIndex & 0xFF) == 0))
 709:USB/core/usbd_req.c ****   {
 710:USB/core/usbd_req.c ****     dctl.d32 = USB_OTG_READ_REG32(&pdev->regs.DREGS->DCTL);
 711:USB/core/usbd_req.c ****     
 712:USB/core/usbd_req.c ****     test_mode = req->wIndex >> 8;
 713:USB/core/usbd_req.c ****     switch (test_mode) 
 714:USB/core/usbd_req.c ****     {
ARM GAS  /tmp/cc9npCpM.s 			page 14


 715:USB/core/usbd_req.c ****     case 1: // TEST_J
 716:USB/core/usbd_req.c ****       dctl.b.tstctl = 1;
 717:USB/core/usbd_req.c ****       break;
 718:USB/core/usbd_req.c ****       
 719:USB/core/usbd_req.c ****     case 2: // TEST_K	
 720:USB/core/usbd_req.c ****       dctl.b.tstctl = 2;
 721:USB/core/usbd_req.c ****       break;
 722:USB/core/usbd_req.c ****       
 723:USB/core/usbd_req.c ****     case 3: // TEST_SE0_NAK
 724:USB/core/usbd_req.c ****       dctl.b.tstctl = 3;
 725:USB/core/usbd_req.c ****       break;
 726:USB/core/usbd_req.c ****       
 727:USB/core/usbd_req.c ****     case 4: // TEST_PACKET
 728:USB/core/usbd_req.c ****       dctl.b.tstctl = 4;
 729:USB/core/usbd_req.c ****       break;
 730:USB/core/usbd_req.c ****       
 731:USB/core/usbd_req.c ****     case 5: // TEST_FORCE_ENABLE
 732:USB/core/usbd_req.c ****       dctl.b.tstctl = 5;
 733:USB/core/usbd_req.c ****       break;
 734:USB/core/usbd_req.c ****     }
 735:USB/core/usbd_req.c ****     SET_TEST_MODE = dctl;
 736:USB/core/usbd_req.c ****     pdev->dev.test_mode = 1;
 737:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 738:USB/core/usbd_req.c ****   }
 739:USB/core/usbd_req.c **** 
 740:USB/core/usbd_req.c **** }
 741:USB/core/usbd_req.c **** 
 742:USB/core/usbd_req.c **** 
 743:USB/core/usbd_req.c **** /**
 744:USB/core/usbd_req.c **** * @brief  USBD_ClrFeature
 745:USB/core/usbd_req.c **** *         Handle clear device feature request
 746:USB/core/usbd_req.c **** * @param  pdev: device instance
 747:USB/core/usbd_req.c **** * @param  req: usb request
 748:USB/core/usbd_req.c **** * @retval status
 749:USB/core/usbd_req.c **** */
 750:USB/core/usbd_req.c **** static void USBD_ClrFeature(USB_OTG_CORE_HANDLE  *pdev, 
 751:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 752:USB/core/usbd_req.c **** {
 753:USB/core/usbd_req.c ****   switch (pdev->dev.device_status)
 754:USB/core/usbd_req.c ****   {
 755:USB/core/usbd_req.c ****   case USB_OTG_ADDRESSED:
 756:USB/core/usbd_req.c ****   case USB_OTG_CONFIGURED:
 757:USB/core/usbd_req.c ****     if (req->wValue == USB_FEATURE_REMOTE_WAKEUP) 
 758:USB/core/usbd_req.c ****     {
 759:USB/core/usbd_req.c ****       pdev->dev.DevRemoteWakeup = 0; 
 760:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req);   
 761:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 762:USB/core/usbd_req.c ****     }
 763:USB/core/usbd_req.c ****     break;
 764:USB/core/usbd_req.c ****     
 765:USB/core/usbd_req.c ****   default :
 766:USB/core/usbd_req.c ****      USBD_CtlError(pdev , req);
 767:USB/core/usbd_req.c ****     break;
 768:USB/core/usbd_req.c ****   }
 769:USB/core/usbd_req.c **** }
 770:USB/core/usbd_req.c **** 
 771:USB/core/usbd_req.c **** /**
ARM GAS  /tmp/cc9npCpM.s 			page 15


 772:USB/core/usbd_req.c **** * @brief  USBD_ParseSetupRequest 
 773:USB/core/usbd_req.c **** *         Copy buffer into setup structure
 774:USB/core/usbd_req.c **** * @param  pdev: device instance
 775:USB/core/usbd_req.c **** * @param  req: usb request
 776:USB/core/usbd_req.c **** * @retval None
 777:USB/core/usbd_req.c **** */
 778:USB/core/usbd_req.c **** 
 779:USB/core/usbd_req.c **** void USBD_ParseSetupRequest( USB_OTG_CORE_HANDLE  *pdev,
 780:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 781:USB/core/usbd_req.c **** {
 782:USB/core/usbd_req.c ****   req->bmRequest     = *(uint8_t *)  (pdev->dev.setup_packet);
 783:USB/core/usbd_req.c ****   req->bRequest      = *(uint8_t *)  (pdev->dev.setup_packet +  1);
 784:USB/core/usbd_req.c ****   req->wValue        = SWAPBYTE      (pdev->dev.setup_packet +  2);
 785:USB/core/usbd_req.c ****   req->wIndex        = SWAPBYTE      (pdev->dev.setup_packet +  4);
 786:USB/core/usbd_req.c ****   req->wLength       = SWAPBYTE      (pdev->dev.setup_packet +  6);
 787:USB/core/usbd_req.c ****   
 788:USB/core/usbd_req.c ****   pdev->dev.in_ep[0].ctl_data_len = req->wLength  ;
 789:USB/core/usbd_req.c ****   pdev->dev.device_state = USB_OTG_EP0_SETUP;
 790:USB/core/usbd_req.c **** }
 791:USB/core/usbd_req.c **** 
 792:USB/core/usbd_req.c **** /**
 793:USB/core/usbd_req.c **** * @brief  USBD_CtlError 
 794:USB/core/usbd_req.c **** *         Handle USB low level Error
 795:USB/core/usbd_req.c **** * @param  pdev: device instance
 796:USB/core/usbd_req.c **** * @param  req: usb request
 797:USB/core/usbd_req.c **** * @retval None
 798:USB/core/usbd_req.c **** */
 799:USB/core/usbd_req.c **** 
 800:USB/core/usbd_req.c **** void USBD_CtlError( USB_OTG_CORE_HANDLE  *pdev,
 801:USB/core/usbd_req.c ****                             USB_SETUP_REQ *req)
 802:USB/core/usbd_req.c **** {
 803:USB/core/usbd_req.c ****   
 804:USB/core/usbd_req.c ****   DCD_EP_Stall(pdev , 0x80);
 805:USB/core/usbd_req.c ****   DCD_EP_Stall(pdev , 0);
 806:USB/core/usbd_req.c ****   USB_OTG_EP0_OutStart(pdev);  
 807:USB/core/usbd_req.c **** }
 808:USB/core/usbd_req.c **** 
 809:USB/core/usbd_req.c **** 
 810:USB/core/usbd_req.c **** /**
 811:USB/core/usbd_req.c ****   * @brief  USBD_GetString
 812:USB/core/usbd_req.c ****   *         Convert Ascii string into unicode one
 813:USB/core/usbd_req.c ****   * @param  desc : descriptor buffer
 814:USB/core/usbd_req.c ****   * @param  unicode : Formatted string buffer (unicode)
 815:USB/core/usbd_req.c ****   * @param  len : descriptor length
 816:USB/core/usbd_req.c ****   * @retval None
 817:USB/core/usbd_req.c ****   */
 818:USB/core/usbd_req.c **** void USBD_GetString(uint8_t *desc, uint8_t *unicode, uint16_t *len)
 819:USB/core/usbd_req.c **** {
 820:USB/core/usbd_req.c ****   uint8_t idx = 0;
 821:USB/core/usbd_req.c ****   
 822:USB/core/usbd_req.c ****   if (desc != NULL) 
 823:USB/core/usbd_req.c ****   {
 824:USB/core/usbd_req.c ****     *len =  USBD_GetLen(desc) * 2 + 2;    
 825:USB/core/usbd_req.c ****     unicode[idx++] = *len;
 826:USB/core/usbd_req.c ****     unicode[idx++] =  USB_DESC_TYPE_STRING;
 827:USB/core/usbd_req.c ****     
 828:USB/core/usbd_req.c ****     while (*desc != NULL) 
ARM GAS  /tmp/cc9npCpM.s 			page 16


 829:USB/core/usbd_req.c ****     {
 830:USB/core/usbd_req.c ****       unicode[idx++] = *desc++;
 831:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 832:USB/core/usbd_req.c ****     }
 833:USB/core/usbd_req.c ****   } 
 834:USB/core/usbd_req.c **** }
 835:USB/core/usbd_req.c **** 
 836:USB/core/usbd_req.c **** /**
 837:USB/core/usbd_req.c ****   * @brief  USBD_GetLen
 838:USB/core/usbd_req.c ****   *         return the string length
 839:USB/core/usbd_req.c ****    * @param  buf : pointer to the ascii string buffer
 840:USB/core/usbd_req.c ****   * @retval string length
 841:USB/core/usbd_req.c ****   */
 842:USB/core/usbd_req.c **** static uint8_t USBD_GetLen(uint8_t *buf)
 843:USB/core/usbd_req.c **** {
  29              		.loc 1 843 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
 844:USB/core/usbd_req.c ****     uint8_t  len = 0;
  34              		.loc 1 844 5 view .LVU1
 845:USB/core/usbd_req.c **** 
 846:USB/core/usbd_req.c ****     while (*buf != NULL) 
  35              		.loc 1 846 5 view .LVU2
 844:USB/core/usbd_req.c ****     uint8_t  len = 0;
  36              		.loc 1 844 14 is_stmt 0 view .LVU3
  37 0000 0023     		movs	r3, #0
  38              	.LVL1:
  39              	.L2:
  40              		.loc 1 846 12 view .LVU4
  41 0002 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
  42              		.loc 1 846 11 view .LVU5
  43 0004 1AB1     		cbz	r2, .L4
 847:USB/core/usbd_req.c ****     {
 848:USB/core/usbd_req.c ****         len++;
  44              		.loc 1 848 9 is_stmt 1 view .LVU6
  45              		.loc 1 848 12 is_stmt 0 view .LVU7
  46 0006 0133     		adds	r3, r3, #1
  47              	.LVL2:
  48              		.loc 1 848 12 view .LVU8
  49 0008 DBB2     		uxtb	r3, r3
  50              	.LVL3:
 849:USB/core/usbd_req.c ****         buf++;
  51              		.loc 1 849 9 is_stmt 1 view .LVU9
  52              		.loc 1 849 12 is_stmt 0 view .LVU10
  53 000a 0130     		adds	r0, r0, #1
  54              	.LVL4:
  55              		.loc 1 849 12 view .LVU11
  56 000c F9E7     		b	.L2
  57              	.L4:
 850:USB/core/usbd_req.c ****     }
 851:USB/core/usbd_req.c **** 
 852:USB/core/usbd_req.c ****     return len;
  58              		.loc 1 852 5 is_stmt 1 view .LVU12
 853:USB/core/usbd_req.c **** }
  59              		.loc 1 853 1 is_stmt 0 view .LVU13
ARM GAS  /tmp/cc9npCpM.s 			page 17


  60 000e 1846     		mov	r0, r3
  61              	.LVL5:
  62              		.loc 1 853 1 view .LVU14
  63 0010 7047     		bx	lr
  64              		.cfi_endproc
  65              	.LFE139:
  67              		.section	.text.USBD_SetFeature,"ax",%progbits
  68              		.align	1
  69              		.syntax unified
  70              		.thumb
  71              		.thumb_func
  72              		.fpu fpv4-sp-d16
  74              	USBD_SetFeature:
  75              	.LVL6:
  76              	.LFB134:
 695:USB/core/usbd_req.c **** 
  77              		.loc 1 695 1 is_stmt 1 view -0
  78              		.cfi_startproc
  79              		@ args = 0, pretend = 0, frame = 0
  80              		@ frame_needed = 0, uses_anonymous_args = 0
 695:USB/core/usbd_req.c **** 
  81              		.loc 1 695 1 is_stmt 0 view .LVU16
  82 0000 10B5     		push	{r4, lr}
  83              	.LCFI0:
  84              		.cfi_def_cfa_offset 8
  85              		.cfi_offset 4, -8
  86              		.cfi_offset 14, -4
  87 0002 0446     		mov	r4, r0
 697:USB/core/usbd_req.c ****   uint8_t test_mode = 0;
  88              		.loc 1 697 3 is_stmt 1 view .LVU17
 698:USB/core/usbd_req.c ****  
  89              		.loc 1 698 3 view .LVU18
  90              	.LVL7:
 700:USB/core/usbd_req.c ****   {
  91              		.loc 1 700 3 view .LVU19
 700:USB/core/usbd_req.c ****   {
  92              		.loc 1 700 10 is_stmt 0 view .LVU20
  93 0004 4B88     		ldrh	r3, [r1, #2]
 700:USB/core/usbd_req.c ****   {
  94              		.loc 1 700 6 view .LVU21
  95 0006 012B     		cmp	r3, #1
  96 0008 02D0     		beq	.L16
 707:USB/core/usbd_req.c ****            ((req->wIndex & 0xFF) == 0))
  97              		.loc 1 707 8 is_stmt 1 view .LVU22
 707:USB/core/usbd_req.c ****            ((req->wIndex & 0xFF) == 0))
  98              		.loc 1 707 11 is_stmt 0 view .LVU23
  99 000a 022B     		cmp	r3, #2
 100 000c 0AD0     		beq	.L17
 101              	.LVL8:
 102              	.L5:
 740:USB/core/usbd_req.c **** 
 103              		.loc 1 740 1 view .LVU24
 104 000e 10BD     		pop	{r4, pc}
 105              	.LVL9:
 106              	.L16:
 702:USB/core/usbd_req.c ****     pdev->dev.class_cb->Setup (pdev, req);   
 107              		.loc 1 702 5 is_stmt 1 view .LVU25
ARM GAS  /tmp/cc9npCpM.s 			page 18


 702:USB/core/usbd_req.c ****     pdev->dev.class_cb->Setup (pdev, req);   
 108              		.loc 1 702 31 is_stmt 0 view .LVU26
 109 0010 C0F81831 		str	r3, [r0, #280]
 703:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 110              		.loc 1 703 5 is_stmt 1 view .LVU27
 703:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 111              		.loc 1 703 14 is_stmt 0 view .LVU28
 112 0014 D0F8E435 		ldr	r3, [r0, #1508]
 703:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 113              		.loc 1 703 23 view .LVU29
 114 0018 9B68     		ldr	r3, [r3, #8]
 703:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 115              		.loc 1 703 5 view .LVU30
 116 001a 9847     		blx	r3
 117              	.LVL10:
 704:USB/core/usbd_req.c ****   }
 118              		.loc 1 704 5 is_stmt 1 view .LVU31
 119 001c 2046     		mov	r0, r4
 120 001e FFF7FEFF 		bl	USBD_CtlSendStatus
 121              	.LVL11:
 122 0022 F4E7     		b	.L5
 123              	.LVL12:
 124              	.L17:
 708:USB/core/usbd_req.c ****   {
 125              		.loc 1 708 17 is_stmt 0 discriminator 1 view .LVU32
 126 0024 8B88     		ldrh	r3, [r1, #4]
 707:USB/core/usbd_req.c ****            ((req->wIndex & 0xFF) == 0))
 127              		.loc 1 707 51 discriminator 1 view .LVU33
 128 0026 13F0FF0F 		tst	r3, #255
 129 002a F0D1     		bne	.L5
 710:USB/core/usbd_req.c ****     
 130              		.loc 1 710 5 is_stmt 1 view .LVU34
 710:USB/core/usbd_req.c ****     
 131              		.loc 1 710 16 is_stmt 0 view .LVU35
 132 002c 0269     		ldr	r2, [r0, #16]
 133 002e 5268     		ldr	r2, [r2, #4]
 134              	.LVL13:
 712:USB/core/usbd_req.c ****     switch (test_mode) 
 135              		.loc 1 712 5 is_stmt 1 view .LVU36
 712:USB/core/usbd_req.c ****     switch (test_mode) 
 136              		.loc 1 712 15 is_stmt 0 view .LVU37
 137 0030 1B0A     		lsrs	r3, r3, #8
 138              	.LVL14:
 713:USB/core/usbd_req.c ****     {
 139              		.loc 1 713 5 is_stmt 1 view .LVU38
 140 0032 013B     		subs	r3, r3, #1
 141              	.LVL15:
 713:USB/core/usbd_req.c ****     {
 142              		.loc 1 713 5 is_stmt 0 view .LVU39
 143 0034 042B     		cmp	r3, #4
 144 0036 07D8     		bhi	.L8
 145 0038 DFE803F0 		tbb	[pc, r3]
 146              	.LVL16:
 147              	.L10:
 148 003c 03       		.byte	(.L14-.L10)/2
 149 003d 0F       		.byte	(.L13-.L10)/2
 150 003e 13       		.byte	(.L12-.L10)/2
ARM GAS  /tmp/cc9npCpM.s 			page 19


 151 003f 17       		.byte	(.L11-.L10)/2
 152 0040 1B       		.byte	(.L9-.L10)/2
 153 0041 00       		.p2align 1
 154              	.L14:
 716:USB/core/usbd_req.c ****       break;
 155              		.loc 1 716 7 is_stmt 1 view .LVU40
 716:USB/core/usbd_req.c ****       break;
 156              		.loc 1 716 21 is_stmt 0 view .LVU41
 157 0042 0123     		movs	r3, #1
 158              	.LVL17:
 716:USB/core/usbd_req.c ****       break;
 159              		.loc 1 716 21 view .LVU42
 160 0044 63F30612 		bfi	r2, r3, #4, #3
 717:USB/core/usbd_req.c ****       
 161              		.loc 1 717 7 is_stmt 1 view .LVU43
 162              	.L8:
 735:USB/core/usbd_req.c ****     pdev->dev.test_mode = 1;
 163              		.loc 1 735 5 view .LVU44
 735:USB/core/usbd_req.c ****     pdev->dev.test_mode = 1;
 164              		.loc 1 735 19 is_stmt 0 view .LVU45
 165 0048 0C4B     		ldr	r3, .L18
 166 004a 1A60     		str	r2, [r3]
 736:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 167              		.loc 1 736 5 is_stmt 1 view .LVU46
 736:USB/core/usbd_req.c ****     USBD_CtlSendStatus(pdev);
 168              		.loc 1 736 25 is_stmt 0 view .LVU47
 169 004c 0123     		movs	r3, #1
 170 004e 84F81631 		strb	r3, [r4, #278]
 171              	.LVL18:
 737:USB/core/usbd_req.c ****   }
 172              		.loc 1 737 5 is_stmt 1 view .LVU48
 173 0052 2046     		mov	r0, r4
 174              	.LVL19:
 737:USB/core/usbd_req.c ****   }
 175              		.loc 1 737 5 is_stmt 0 view .LVU49
 176 0054 FFF7FEFF 		bl	USBD_CtlSendStatus
 177              	.LVL20:
 740:USB/core/usbd_req.c **** 
 178              		.loc 1 740 1 view .LVU50
 179 0058 D9E7     		b	.L5
 180              	.LVL21:
 181              	.L13:
 720:USB/core/usbd_req.c ****       break;
 182              		.loc 1 720 7 is_stmt 1 view .LVU51
 720:USB/core/usbd_req.c ****       break;
 183              		.loc 1 720 21 is_stmt 0 view .LVU52
 184 005a 0223     		movs	r3, #2
 185              	.LVL22:
 720:USB/core/usbd_req.c ****       break;
 186              		.loc 1 720 21 view .LVU53
 187 005c 63F30612 		bfi	r2, r3, #4, #3
 721:USB/core/usbd_req.c ****       
 188              		.loc 1 721 7 is_stmt 1 view .LVU54
 189 0060 F2E7     		b	.L8
 190              	.L12:
 724:USB/core/usbd_req.c ****       break;
 191              		.loc 1 724 7 view .LVU55
ARM GAS  /tmp/cc9npCpM.s 			page 20


 724:USB/core/usbd_req.c ****       break;
 192              		.loc 1 724 21 is_stmt 0 view .LVU56
 193 0062 0323     		movs	r3, #3
 194 0064 63F30612 		bfi	r2, r3, #4, #3
 725:USB/core/usbd_req.c ****       
 195              		.loc 1 725 7 is_stmt 1 view .LVU57
 196 0068 EEE7     		b	.L8
 197              	.L11:
 728:USB/core/usbd_req.c ****       break;
 198              		.loc 1 728 7 view .LVU58
 728:USB/core/usbd_req.c ****       break;
 199              		.loc 1 728 21 is_stmt 0 view .LVU59
 200 006a 0423     		movs	r3, #4
 201 006c 63F30612 		bfi	r2, r3, #4, #3
 729:USB/core/usbd_req.c ****       
 202              		.loc 1 729 7 is_stmt 1 view .LVU60
 203 0070 EAE7     		b	.L8
 204              	.L9:
 732:USB/core/usbd_req.c ****       break;
 205              		.loc 1 732 7 view .LVU61
 732:USB/core/usbd_req.c ****       break;
 206              		.loc 1 732 21 is_stmt 0 view .LVU62
 207 0072 0523     		movs	r3, #5
 208 0074 63F30612 		bfi	r2, r3, #4, #3
 733:USB/core/usbd_req.c ****     }
 209              		.loc 1 733 7 is_stmt 1 view .LVU63
 210 0078 E6E7     		b	.L8
 211              	.L19:
 212 007a 00BF     		.align	2
 213              	.L18:
 214 007c 00000000 		.word	SET_TEST_MODE
 215              		.cfi_endproc
 216              	.LFE134:
 218              		.section	.text.USBD_ParseSetupRequest,"ax",%progbits
 219              		.align	1
 220              		.global	USBD_ParseSetupRequest
 221              		.syntax unified
 222              		.thumb
 223              		.thumb_func
 224              		.fpu fpv4-sp-d16
 226              	USBD_ParseSetupRequest:
 227              	.LVL23:
 228              	.LFB136:
 781:USB/core/usbd_req.c ****   req->bmRequest     = *(uint8_t *)  (pdev->dev.setup_packet);
 229              		.loc 1 781 1 view -0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 0
 232              		@ frame_needed = 0, uses_anonymous_args = 0
 233              		@ link register save eliminated.
 782:USB/core/usbd_req.c ****   req->bRequest      = *(uint8_t *)  (pdev->dev.setup_packet +  1);
 234              		.loc 1 782 3 view .LVU65
 782:USB/core/usbd_req.c ****   req->bRequest      = *(uint8_t *)  (pdev->dev.setup_packet +  1);
 235              		.loc 1 782 22 is_stmt 0 view .LVU66
 236 0000 90F8CC35 		ldrb	r3, [r0, #1484]	@ zero_extendqisi2
 237 0004 0B70     		strb	r3, [r1]
 783:USB/core/usbd_req.c ****   req->wValue        = SWAPBYTE      (pdev->dev.setup_packet +  2);
 238              		.loc 1 783 3 is_stmt 1 view .LVU67
ARM GAS  /tmp/cc9npCpM.s 			page 21


 783:USB/core/usbd_req.c ****   req->wValue        = SWAPBYTE      (pdev->dev.setup_packet +  2);
 239              		.loc 1 783 24 is_stmt 0 view .LVU68
 240 0006 90F8CD35 		ldrb	r3, [r0, #1485]	@ zero_extendqisi2
 783:USB/core/usbd_req.c ****   req->wValue        = SWAPBYTE      (pdev->dev.setup_packet +  2);
 241              		.loc 1 783 22 view .LVU69
 242 000a 4B70     		strb	r3, [r1, #1]
 784:USB/core/usbd_req.c ****   req->wIndex        = SWAPBYTE      (pdev->dev.setup_packet +  4);
 243              		.loc 1 784 3 is_stmt 1 view .LVU70
 784:USB/core/usbd_req.c ****   req->wIndex        = SWAPBYTE      (pdev->dev.setup_packet +  4);
 244              		.loc 1 784 24 is_stmt 0 view .LVU71
 245 000c 90F8CE35 		ldrb	r3, [r0, #1486]	@ zero_extendqisi2
 246 0010 90F8CF25 		ldrb	r2, [r0, #1487]	@ zero_extendqisi2
 247 0014 03EB0223 		add	r3, r3, r2, lsl #8
 784:USB/core/usbd_req.c ****   req->wIndex        = SWAPBYTE      (pdev->dev.setup_packet +  4);
 248              		.loc 1 784 22 view .LVU72
 249 0018 4B80     		strh	r3, [r1, #2]	@ movhi
 785:USB/core/usbd_req.c ****   req->wLength       = SWAPBYTE      (pdev->dev.setup_packet +  6);
 250              		.loc 1 785 3 is_stmt 1 view .LVU73
 785:USB/core/usbd_req.c ****   req->wLength       = SWAPBYTE      (pdev->dev.setup_packet +  6);
 251              		.loc 1 785 24 is_stmt 0 view .LVU74
 252 001a 90F8D035 		ldrb	r3, [r0, #1488]	@ zero_extendqisi2
 253 001e 90F8D125 		ldrb	r2, [r0, #1489]	@ zero_extendqisi2
 254 0022 03EB0223 		add	r3, r3, r2, lsl #8
 785:USB/core/usbd_req.c ****   req->wLength       = SWAPBYTE      (pdev->dev.setup_packet +  6);
 255              		.loc 1 785 22 view .LVU75
 256 0026 8B80     		strh	r3, [r1, #4]	@ movhi
 786:USB/core/usbd_req.c ****   
 257              		.loc 1 786 3 is_stmt 1 view .LVU76
 786:USB/core/usbd_req.c ****   
 258              		.loc 1 786 24 is_stmt 0 view .LVU77
 259 0028 90F8D235 		ldrb	r3, [r0, #1490]	@ zero_extendqisi2
 260 002c 90F8D325 		ldrb	r2, [r0, #1491]	@ zero_extendqisi2
 261 0030 03EB0223 		add	r3, r3, r2, lsl #8
 262 0034 9BB2     		uxth	r3, r3
 786:USB/core/usbd_req.c ****   
 263              		.loc 1 786 22 view .LVU78
 264 0036 CB80     		strh	r3, [r1, #6]	@ movhi
 788:USB/core/usbd_req.c ****   pdev->dev.device_state = USB_OTG_EP0_SETUP;
 265              		.loc 1 788 3 is_stmt 1 view .LVU79
 788:USB/core/usbd_req.c ****   pdev->dev.device_state = USB_OTG_EP0_SETUP;
 266              		.loc 1 788 35 is_stmt 0 view .LVU80
 267 0038 C0F84031 		str	r3, [r0, #320]
 789:USB/core/usbd_req.c **** }
 268              		.loc 1 789 3 is_stmt 1 view .LVU81
 789:USB/core/usbd_req.c **** }
 269              		.loc 1 789 26 is_stmt 0 view .LVU82
 270 003c 0123     		movs	r3, #1
 271 003e 80F81131 		strb	r3, [r0, #273]
 790:USB/core/usbd_req.c **** 
 272              		.loc 1 790 1 view .LVU83
 273 0042 7047     		bx	lr
 274              		.cfi_endproc
 275              	.LFE136:
 277              		.section	.text.USBD_CtlError,"ax",%progbits
 278              		.align	1
 279              		.global	USBD_CtlError
 280              		.syntax unified
ARM GAS  /tmp/cc9npCpM.s 			page 22


 281              		.thumb
 282              		.thumb_func
 283              		.fpu fpv4-sp-d16
 285              	USBD_CtlError:
 286              	.LVL24:
 287              	.LFB137:
 802:USB/core/usbd_req.c ****   
 288              		.loc 1 802 1 is_stmt 1 view -0
 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 0
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 802:USB/core/usbd_req.c ****   
 292              		.loc 1 802 1 is_stmt 0 view .LVU85
 293 0000 10B5     		push	{r4, lr}
 294              	.LCFI1:
 295              		.cfi_def_cfa_offset 8
 296              		.cfi_offset 4, -8
 297              		.cfi_offset 14, -4
 298 0002 0446     		mov	r4, r0
 804:USB/core/usbd_req.c ****   DCD_EP_Stall(pdev , 0);
 299              		.loc 1 804 3 is_stmt 1 view .LVU86
 300 0004 8021     		movs	r1, #128
 301              	.LVL25:
 804:USB/core/usbd_req.c ****   DCD_EP_Stall(pdev , 0);
 302              		.loc 1 804 3 is_stmt 0 view .LVU87
 303 0006 FFF7FEFF 		bl	DCD_EP_Stall
 304              	.LVL26:
 805:USB/core/usbd_req.c ****   USB_OTG_EP0_OutStart(pdev);  
 305              		.loc 1 805 3 is_stmt 1 view .LVU88
 306 000a 0021     		movs	r1, #0
 307 000c 2046     		mov	r0, r4
 308 000e FFF7FEFF 		bl	DCD_EP_Stall
 309              	.LVL27:
 806:USB/core/usbd_req.c **** }
 310              		.loc 1 806 3 view .LVU89
 311 0012 2046     		mov	r0, r4
 312 0014 FFF7FEFF 		bl	USB_OTG_EP0_OutStart
 313              	.LVL28:
 807:USB/core/usbd_req.c **** 
 314              		.loc 1 807 1 is_stmt 0 view .LVU90
 315 0018 10BD     		pop	{r4, pc}
 807:USB/core/usbd_req.c **** 
 316              		.loc 1 807 1 view .LVU91
 317              		.cfi_endproc
 318              	.LFE137:
 320              		.section	.text.USBD_GetDescriptor,"ax",%progbits
 321              		.align	1
 322              		.syntax unified
 323              		.thumb
 324              		.thumb_func
 325              		.fpu fpv4-sp-d16
 327              	USBD_GetDescriptor:
 328              	.LVL29:
 329              	.LFB129:
 368:USB/core/usbd_req.c ****   uint16_t len;
 330              		.loc 1 368 1 is_stmt 1 view -0
 331              		.cfi_startproc
ARM GAS  /tmp/cc9npCpM.s 			page 23


 332              		@ args = 0, pretend = 0, frame = 8
 333              		@ frame_needed = 0, uses_anonymous_args = 0
 368:USB/core/usbd_req.c ****   uint16_t len;
 334              		.loc 1 368 1 is_stmt 0 view .LVU93
 335 0000 30B5     		push	{r4, r5, lr}
 336              	.LCFI2:
 337              		.cfi_def_cfa_offset 12
 338              		.cfi_offset 4, -12
 339              		.cfi_offset 5, -8
 340              		.cfi_offset 14, -4
 341 0002 83B0     		sub	sp, sp, #12
 342              	.LCFI3:
 343              		.cfi_def_cfa_offset 24
 344 0004 0546     		mov	r5, r0
 345 0006 0C46     		mov	r4, r1
 369:USB/core/usbd_req.c ****   uint8_t *pbuf;
 346              		.loc 1 369 3 is_stmt 1 view .LVU94
 370:USB/core/usbd_req.c ****   
 347              		.loc 1 370 3 view .LVU95
 373:USB/core/usbd_req.c ****   {
 348              		.loc 1 373 3 view .LVU96
 373:USB/core/usbd_req.c ****   {
 349              		.loc 1 373 14 is_stmt 0 view .LVU97
 350 0008 4A88     		ldrh	r2, [r1, #2]
 373:USB/core/usbd_req.c ****   {
 351              		.loc 1 373 23 view .LVU98
 352 000a 130A     		lsrs	r3, r2, #8
 373:USB/core/usbd_req.c ****   {
 353              		.loc 1 373 3 view .LVU99
 354 000c 013B     		subs	r3, r3, #1
 355 000e 062B     		cmp	r3, #6
 356 0010 78D8     		bhi	.L24
 357 0012 DFE803F0 		tbb	[pc, r3]
 358              	.LVL30:
 359              	.L26:
 360 0016 04       		.byte	(.L30-.L26)/2
 361 0017 16       		.byte	(.L29-.L26)/2
 362 0018 32       		.byte	(.L28-.L26)/2
 363 0019 77       		.byte	(.L24-.L26)/2
 364 001a 77       		.byte	(.L24-.L26)/2
 365 001b 6E       		.byte	(.L27-.L26)/2
 366 001c 73       		.byte	(.L25-.L26)/2
 367 001d 00       		.p2align 1
 368              	.L30:
 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 369              		.loc 1 376 5 is_stmt 1 view .LVU100
 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 370              		.loc 1 376 21 is_stmt 0 view .LVU101
 371 001e D0F8EC35 		ldr	r3, [r0, #1516]
 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 372              		.loc 1 376 32 view .LVU102
 373 0022 1B68     		ldr	r3, [r3]
 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 374              		.loc 1 376 12 view .LVU103
 375 0024 0DF10601 		add	r1, sp, #6
 376 0028 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 377              	.LVL31:
ARM GAS  /tmp/cc9npCpM.s 			page 24


 376:USB/core/usbd_req.c ****     if ((req->wLength == 64) ||( pdev->dev.device_status == USB_OTG_DEFAULT))  
 378              		.loc 1 376 12 view .LVU104
 379 002a 9847     		blx	r3
 380              	.LVL32:
 377:USB/core/usbd_req.c ****     {                  
 381              		.loc 1 377 5 is_stmt 1 view .LVU105
 377:USB/core/usbd_req.c ****     {                  
 382              		.loc 1 377 13 is_stmt 0 view .LVU106
 383 002c E388     		ldrh	r3, [r4, #6]
 377:USB/core/usbd_req.c ****     {                  
 384              		.loc 1 377 8 view .LVU107
 385 002e 402B     		cmp	r3, #64
 386 0030 03D0     		beq	.L31
 377:USB/core/usbd_req.c ****     {                  
 387              		.loc 1 377 43 discriminator 1 view .LVU108
 388 0032 95F81231 		ldrb	r3, [r5, #274]	@ zero_extendqisi2
 377:USB/core/usbd_req.c ****     {                  
 389              		.loc 1 377 30 discriminator 1 view .LVU109
 390 0036 012B     		cmp	r3, #1
 391 0038 0ED1     		bne	.L32
 392              	.L31:
 379:USB/core/usbd_req.c ****     }
 393              		.loc 1 379 7 is_stmt 1 view .LVU110
 379:USB/core/usbd_req.c ****     }
 394              		.loc 1 379 11 is_stmt 0 view .LVU111
 395 003a 0823     		movs	r3, #8
 396 003c ADF80630 		strh	r3, [sp, #6]	@ movhi
 397 0040 0AE0     		b	.L32
 398              	.LVL33:
 399              	.L29:
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 400              		.loc 1 384 7 is_stmt 1 view .LVU112
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 401              		.loc 1 384 36 is_stmt 0 view .LVU113
 402 0042 D0F8E435 		ldr	r3, [r0, #1508]
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 403              		.loc 1 384 45 view .LVU114
 404 0046 9B6A     		ldr	r3, [r3, #40]
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 405              		.loc 1 384 16 view .LVU115
 406 0048 0DF10601 		add	r1, sp, #6
 407 004c 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 408              	.LVL34:
 384:USB/core/usbd_req.c **** #ifdef USB_OTG_HS_CORE
 409              		.loc 1 384 16 view .LVU116
 410 004e 9847     		blx	r3
 411              	.LVL35:
 392:USB/core/usbd_req.c ****     pdev->dev.pConfig_descriptor = pbuf;    
 412              		.loc 1 392 5 is_stmt 1 view .LVU117
 392:USB/core/usbd_req.c ****     pdev->dev.pConfig_descriptor = pbuf;    
 413              		.loc 1 392 13 is_stmt 0 view .LVU118
 414 0050 0223     		movs	r3, #2
 415 0052 4370     		strb	r3, [r0, #1]
 393:USB/core/usbd_req.c ****     break;
 416              		.loc 1 393 5 is_stmt 1 view .LVU119
 393:USB/core/usbd_req.c ****     break;
 417              		.loc 1 393 34 is_stmt 0 view .LVU120
ARM GAS  /tmp/cc9npCpM.s 			page 25


 418 0054 C5F8F005 		str	r0, [r5, #1520]
 394:USB/core/usbd_req.c ****     
 419              		.loc 1 394 5 is_stmt 1 view .LVU121
 420              	.L32:
 483:USB/core/usbd_req.c ****   {
 421              		.loc 1 483 3 view .LVU122
 483:USB/core/usbd_req.c ****   {
 422              		.loc 1 483 11 is_stmt 0 view .LVU123
 423 0058 BDF80620 		ldrh	r2, [sp, #6]
 483:USB/core/usbd_req.c ****   {
 424              		.loc 1 483 5 view .LVU124
 425 005c 002A     		cmp	r2, #0
 426 005e 4BD0     		beq	.L23
 483:USB/core/usbd_req.c ****   {
 427              		.loc 1 483 23 discriminator 1 view .LVU125
 428 0060 E388     		ldrh	r3, [r4, #6]
 483:USB/core/usbd_req.c ****   {
 429              		.loc 1 483 16 discriminator 1 view .LVU126
 430 0062 002B     		cmp	r3, #0
 431 0064 48D0     		beq	.L23
 486:USB/core/usbd_req.c ****     
 432              		.loc 1 486 5 is_stmt 1 view .LVU127
 486:USB/core/usbd_req.c ****     
 433              		.loc 1 486 11 is_stmt 0 view .LVU128
 434 0066 9A42     		cmp	r2, r3
 435 0068 28BF     		it	cs
 436 006a 1A46     		movcs	r2, r3
 486:USB/core/usbd_req.c ****     
 437              		.loc 1 486 9 view .LVU129
 438 006c ADF80620 		strh	r2, [sp, #6]	@ movhi
 488:USB/core/usbd_req.c ****                       pbuf,
 439              		.loc 1 488 5 is_stmt 1 view .LVU130
 440 0070 0146     		mov	r1, r0
 441 0072 2846     		mov	r0, r5
 442              	.LVL36:
 488:USB/core/usbd_req.c ****                       pbuf,
 443              		.loc 1 488 5 is_stmt 0 view .LVU131
 444 0074 FFF7FEFF 		bl	USBD_CtlSendData
 445              	.LVL37:
 488:USB/core/usbd_req.c ****                       pbuf,
 446              		.loc 1 488 5 view .LVU132
 447 0078 3EE0     		b	.L23
 448              	.LVL38:
 449              	.L28:
 397:USB/core/usbd_req.c ****     {
 450              		.loc 1 397 5 is_stmt 1 view .LVU133
 397:USB/core/usbd_req.c ****     {
 451              		.loc 1 397 13 is_stmt 0 view .LVU134
 452 007a D2B2     		uxtb	r2, r2
 453 007c 052A     		cmp	r2, #5
 454 007e 34D8     		bhi	.L33
 455 0080 DFE802F0 		tbb	[pc, r2]
 456              	.L35:
 457 0084 03       		.byte	(.L40-.L35)/2
 458 0085 0B       		.byte	(.L39-.L35)/2
 459 0086 13       		.byte	(.L38-.L35)/2
 460 0087 1B       		.byte	(.L37-.L35)/2
ARM GAS  /tmp/cc9npCpM.s 			page 26


 461 0088 23       		.byte	(.L36-.L35)/2
 462 0089 2B       		.byte	(.L34-.L35)/2
 463              		.p2align 1
 464              	.L40:
 400:USB/core/usbd_req.c ****       break;
 465              		.loc 1 400 6 is_stmt 1 view .LVU135
 400:USB/core/usbd_req.c ****       break;
 466              		.loc 1 400 22 is_stmt 0 view .LVU136
 467 008a D0F8EC35 		ldr	r3, [r0, #1516]
 400:USB/core/usbd_req.c ****       break;
 468              		.loc 1 400 33 view .LVU137
 469 008e 5B68     		ldr	r3, [r3, #4]
 400:USB/core/usbd_req.c ****       break;
 470              		.loc 1 400 13 view .LVU138
 471 0090 0DF10601 		add	r1, sp, #6
 472 0094 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 473              	.LVL39:
 400:USB/core/usbd_req.c ****       break;
 474              		.loc 1 400 13 view .LVU139
 475 0096 9847     		blx	r3
 476              	.LVL40:
 401:USB/core/usbd_req.c ****       
 477              		.loc 1 401 7 is_stmt 1 view .LVU140
 478 0098 DEE7     		b	.L32
 479              	.LVL41:
 480              	.L39:
 404:USB/core/usbd_req.c ****       break;
 481              		.loc 1 404 7 view .LVU141
 404:USB/core/usbd_req.c ****       break;
 482              		.loc 1 404 23 is_stmt 0 view .LVU142
 483 009a D0F8EC35 		ldr	r3, [r0, #1516]
 404:USB/core/usbd_req.c ****       break;
 484              		.loc 1 404 34 view .LVU143
 485 009e 9B68     		ldr	r3, [r3, #8]
 404:USB/core/usbd_req.c ****       break;
 486              		.loc 1 404 14 view .LVU144
 487 00a0 0DF10601 		add	r1, sp, #6
 488 00a4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 489              	.LVL42:
 404:USB/core/usbd_req.c ****       break;
 490              		.loc 1 404 14 view .LVU145
 491 00a6 9847     		blx	r3
 492              	.LVL43:
 405:USB/core/usbd_req.c ****       
 493              		.loc 1 405 7 is_stmt 1 view .LVU146
 494 00a8 D6E7     		b	.L32
 495              	.LVL44:
 496              	.L38:
 408:USB/core/usbd_req.c ****       break;
 497              		.loc 1 408 7 view .LVU147
 408:USB/core/usbd_req.c ****       break;
 498              		.loc 1 408 23 is_stmt 0 view .LVU148
 499 00aa D0F8EC35 		ldr	r3, [r0, #1516]
 408:USB/core/usbd_req.c ****       break;
 500              		.loc 1 408 34 view .LVU149
 501 00ae DB68     		ldr	r3, [r3, #12]
 408:USB/core/usbd_req.c ****       break;
ARM GAS  /tmp/cc9npCpM.s 			page 27


 502              		.loc 1 408 14 view .LVU150
 503 00b0 0DF10601 		add	r1, sp, #6
 504 00b4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 505              	.LVL45:
 408:USB/core/usbd_req.c ****       break;
 506              		.loc 1 408 14 view .LVU151
 507 00b6 9847     		blx	r3
 508              	.LVL46:
 409:USB/core/usbd_req.c ****       
 509              		.loc 1 409 7 is_stmt 1 view .LVU152
 510 00b8 CEE7     		b	.L32
 511              	.LVL47:
 512              	.L37:
 412:USB/core/usbd_req.c ****       break;
 513              		.loc 1 412 7 view .LVU153
 412:USB/core/usbd_req.c ****       break;
 514              		.loc 1 412 23 is_stmt 0 view .LVU154
 515 00ba D0F8EC35 		ldr	r3, [r0, #1516]
 412:USB/core/usbd_req.c ****       break;
 516              		.loc 1 412 34 view .LVU155
 517 00be 1B69     		ldr	r3, [r3, #16]
 412:USB/core/usbd_req.c ****       break;
 518              		.loc 1 412 14 view .LVU156
 519 00c0 0DF10601 		add	r1, sp, #6
 520 00c4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 521              	.LVL48:
 412:USB/core/usbd_req.c ****       break;
 522              		.loc 1 412 14 view .LVU157
 523 00c6 9847     		blx	r3
 524              	.LVL49:
 413:USB/core/usbd_req.c ****       
 525              		.loc 1 413 7 is_stmt 1 view .LVU158
 526 00c8 C6E7     		b	.L32
 527              	.LVL50:
 528              	.L36:
 416:USB/core/usbd_req.c ****       break;
 529              		.loc 1 416 7 view .LVU159
 416:USB/core/usbd_req.c ****       break;
 530              		.loc 1 416 23 is_stmt 0 view .LVU160
 531 00ca D0F8EC35 		ldr	r3, [r0, #1516]
 416:USB/core/usbd_req.c ****       break;
 532              		.loc 1 416 34 view .LVU161
 533 00ce 5B69     		ldr	r3, [r3, #20]
 416:USB/core/usbd_req.c ****       break;
 534              		.loc 1 416 14 view .LVU162
 535 00d0 0DF10601 		add	r1, sp, #6
 536 00d4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 537              	.LVL51:
 416:USB/core/usbd_req.c ****       break;
 538              		.loc 1 416 14 view .LVU163
 539 00d6 9847     		blx	r3
 540              	.LVL52:
 417:USB/core/usbd_req.c ****       
 541              		.loc 1 417 7 is_stmt 1 view .LVU164
 542 00d8 BEE7     		b	.L32
 543              	.LVL53:
 544              	.L34:
ARM GAS  /tmp/cc9npCpM.s 			page 28


 420:USB/core/usbd_req.c ****       break;
 545              		.loc 1 420 7 view .LVU165
 420:USB/core/usbd_req.c ****       break;
 546              		.loc 1 420 23 is_stmt 0 view .LVU166
 547 00da D0F8EC35 		ldr	r3, [r0, #1516]
 420:USB/core/usbd_req.c ****       break;
 548              		.loc 1 420 34 view .LVU167
 549 00de 9B69     		ldr	r3, [r3, #24]
 420:USB/core/usbd_req.c ****       break;
 550              		.loc 1 420 14 view .LVU168
 551 00e0 0DF10601 		add	r1, sp, #6
 552 00e4 8078     		ldrb	r0, [r0, #2]	@ zero_extendqisi2
 553              	.LVL54:
 420:USB/core/usbd_req.c ****       break;
 554              		.loc 1 420 14 view .LVU169
 555 00e6 9847     		blx	r3
 556              	.LVL55:
 421:USB/core/usbd_req.c ****       
 557              		.loc 1 421 7 is_stmt 1 view .LVU170
 558 00e8 B6E7     		b	.L32
 559              	.LVL56:
 560              	.L33:
 428:USB/core/usbd_req.c ****       return;
 561              		.loc 1 428 8 view .LVU171
 562 00ea 2146     		mov	r1, r4
 563 00ec FFF7FEFF 		bl	USBD_CtlError
 564              	.LVL57:
 429:USB/core/usbd_req.c **** #endif /* USBD_CtlError(pdev , req); */      
 565              		.loc 1 429 7 view .LVU172
 566 00f0 02E0     		b	.L23
 567              	.LVL58:
 568              	.L27:
 454:USB/core/usbd_req.c ****       return;
 569              		.loc 1 454 7 view .LVU173
 570 00f2 2146     		mov	r1, r4
 571 00f4 FFF7FEFF 		bl	USBD_CtlError
 572              	.LVL59:
 455:USB/core/usbd_req.c **** #endif    
 573              		.loc 1 455 7 view .LVU174
 574              	.L23:
 493:USB/core/usbd_req.c **** 
 575              		.loc 1 493 1 is_stmt 0 view .LVU175
 576 00f8 03B0     		add	sp, sp, #12
 577              	.LCFI4:
 578              		.cfi_remember_state
 579              		.cfi_def_cfa_offset 12
 580              		@ sp needed
 581 00fa 30BD     		pop	{r4, r5, pc}
 582              	.LVL60:
 583              	.L25:
 584              	.LCFI5:
 585              		.cfi_restore_state
 473:USB/core/usbd_req.c ****       return;
 586              		.loc 1 473 7 is_stmt 1 view .LVU176
 587 00fc 2146     		mov	r1, r4
 588 00fe FFF7FEFF 		bl	USBD_CtlError
 589              	.LVL61:
ARM GAS  /tmp/cc9npCpM.s 			page 29


 474:USB/core/usbd_req.c **** #endif     
 590              		.loc 1 474 7 view .LVU177
 591 0102 F9E7     		b	.L23
 592              	.LVL62:
 593              	.L24:
 479:USB/core/usbd_req.c ****     return;
 594              		.loc 1 479 6 view .LVU178
 595 0104 2146     		mov	r1, r4
 596 0106 FFF7FEFF 		bl	USBD_CtlError
 597              	.LVL63:
 480:USB/core/usbd_req.c ****   }
 598              		.loc 1 480 5 view .LVU179
 599 010a F5E7     		b	.L23
 600              		.cfi_endproc
 601              	.LFE129:
 603              		.section	.text.USBD_SetAddress,"ax",%progbits
 604              		.align	1
 605              		.syntax unified
 606              		.thumb
 607              		.thumb_func
 608              		.fpu fpv4-sp-d16
 610              	USBD_SetAddress:
 611              	.LVL64:
 612              	.LFB130:
 504:USB/core/usbd_req.c ****   uint8_t  dev_addr; 
 613              		.loc 1 504 1 view -0
 614              		.cfi_startproc
 615              		@ args = 0, pretend = 0, frame = 0
 616              		@ frame_needed = 0, uses_anonymous_args = 0
 504:USB/core/usbd_req.c ****   uint8_t  dev_addr; 
 617              		.loc 1 504 1 is_stmt 0 view .LVU181
 618 0000 38B5     		push	{r3, r4, r5, lr}
 619              	.LCFI6:
 620              		.cfi_def_cfa_offset 16
 621              		.cfi_offset 3, -16
 622              		.cfi_offset 4, -12
 623              		.cfi_offset 5, -8
 624              		.cfi_offset 14, -4
 625 0002 0446     		mov	r4, r0
 505:USB/core/usbd_req.c ****   
 626              		.loc 1 505 3 is_stmt 1 view .LVU182
 507:USB/core/usbd_req.c ****   {
 627              		.loc 1 507 3 view .LVU183
 507:USB/core/usbd_req.c ****   {
 628              		.loc 1 507 11 is_stmt 0 view .LVU184
 629 0004 8B88     		ldrh	r3, [r1, #4]
 507:USB/core/usbd_req.c ****   {
 630              		.loc 1 507 6 view .LVU185
 631 0006 E3B9     		cbnz	r3, .L46
 507:USB/core/usbd_req.c ****   {
 632              		.loc 1 507 33 discriminator 1 view .LVU186
 633 0008 CB88     		ldrh	r3, [r1, #6]
 507:USB/core/usbd_req.c ****   {
 634              		.loc 1 507 26 discriminator 1 view .LVU187
 635 000a D3B9     		cbnz	r3, .L46
 509:USB/core/usbd_req.c ****     
 636              		.loc 1 509 5 is_stmt 1 view .LVU188
ARM GAS  /tmp/cc9npCpM.s 			page 30


 509:USB/core/usbd_req.c ****     
 637              		.loc 1 509 39 is_stmt 0 view .LVU189
 638 000c 8D78     		ldrb	r5, [r1, #2]	@ zero_extendqisi2
 509:USB/core/usbd_req.c ****     
 639              		.loc 1 509 14 view .LVU190
 640 000e 05F07F05 		and	r5, r5, #127
 641              	.LVL65:
 511:USB/core/usbd_req.c ****     {
 642              		.loc 1 511 5 is_stmt 1 view .LVU191
 511:USB/core/usbd_req.c ****     {
 643              		.loc 1 511 18 is_stmt 0 view .LVU192
 644 0012 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 511:USB/core/usbd_req.c ****     {
 645              		.loc 1 511 8 view .LVU193
 646 0016 032B     		cmp	r3, #3
 647 0018 0CD0     		beq	.L51
 517:USB/core/usbd_req.c ****       DCD_EP_SetAddress(pdev, dev_addr);               
 648              		.loc 1 517 7 is_stmt 1 view .LVU194
 517:USB/core/usbd_req.c ****       DCD_EP_SetAddress(pdev, dev_addr);               
 649              		.loc 1 517 32 is_stmt 0 view .LVU195
 650 001a 80F81451 		strb	r5, [r0, #276]
 518:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);                         
 651              		.loc 1 518 7 is_stmt 1 view .LVU196
 652 001e 2946     		mov	r1, r5
 653              	.LVL66:
 518:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);                         
 654              		.loc 1 518 7 is_stmt 0 view .LVU197
 655 0020 FFF7FEFF 		bl	DCD_EP_SetAddress
 656              	.LVL67:
 519:USB/core/usbd_req.c ****       
 657              		.loc 1 519 7 is_stmt 1 view .LVU198
 658 0024 2046     		mov	r0, r4
 659 0026 FFF7FEFF 		bl	USBD_CtlSendStatus
 660              	.LVL68:
 521:USB/core/usbd_req.c ****       {
 661              		.loc 1 521 7 view .LVU199
 521:USB/core/usbd_req.c ****       {
 662              		.loc 1 521 10 is_stmt 0 view .LVU200
 663 002a 35B1     		cbz	r5, .L49
 523:USB/core/usbd_req.c ****       } 
 664              		.loc 1 523 9 is_stmt 1 view .LVU201
 523:USB/core/usbd_req.c ****       } 
 665              		.loc 1 523 34 is_stmt 0 view .LVU202
 666 002c 0223     		movs	r3, #2
 667 002e 84F81231 		strb	r3, [r4, #274]
 668 0032 09E0     		b	.L45
 669              	.LVL69:
 670              	.L51:
 513:USB/core/usbd_req.c ****     } 
 671              		.loc 1 513 7 is_stmt 1 view .LVU203
 672 0034 FFF7FEFF 		bl	USBD_CtlError
 673              	.LVL70:
 513:USB/core/usbd_req.c ****     } 
 674              		.loc 1 513 7 is_stmt 0 view .LVU204
 675 0038 06E0     		b	.L45
 676              	.L49:
 527:USB/core/usbd_req.c ****       }
ARM GAS  /tmp/cc9npCpM.s 			page 31


 677              		.loc 1 527 9 is_stmt 1 view .LVU205
 527:USB/core/usbd_req.c ****       }
 678              		.loc 1 527 34 is_stmt 0 view .LVU206
 679 003a 0123     		movs	r3, #1
 680 003c 84F81231 		strb	r3, [r4, #274]
 681 0040 02E0     		b	.L45
 682              	.LVL71:
 683              	.L46:
 533:USB/core/usbd_req.c ****   } 
 684              		.loc 1 533 6 is_stmt 1 view .LVU207
 685 0042 2046     		mov	r0, r4
 686              	.LVL72:
 533:USB/core/usbd_req.c ****   } 
 687              		.loc 1 533 6 is_stmt 0 view .LVU208
 688 0044 FFF7FEFF 		bl	USBD_CtlError
 689              	.LVL73:
 690              	.L45:
 535:USB/core/usbd_req.c **** 
 691              		.loc 1 535 1 view .LVU209
 692 0048 38BD     		pop	{r3, r4, r5, pc}
 535:USB/core/usbd_req.c **** 
 693              		.loc 1 535 1 view .LVU210
 694              		.cfi_endproc
 695              	.LFE130:
 697              		.section	.text.USBD_SetConfig,"ax",%progbits
 698              		.align	1
 699              		.syntax unified
 700              		.thumb
 701              		.thumb_func
 702              		.fpu fpv4-sp-d16
 704              	USBD_SetConfig:
 705              	.LVL74:
 706              	.LFB131:
 546:USB/core/usbd_req.c ****   
 707              		.loc 1 546 1 is_stmt 1 view -0
 708              		.cfi_startproc
 709              		@ args = 0, pretend = 0, frame = 0
 710              		@ frame_needed = 0, uses_anonymous_args = 0
 546:USB/core/usbd_req.c ****   
 711              		.loc 1 546 1 is_stmt 0 view .LVU212
 712 0000 10B5     		push	{r4, lr}
 713              	.LCFI7:
 714              		.cfi_def_cfa_offset 8
 715              		.cfi_offset 4, -8
 716              		.cfi_offset 14, -4
 717 0002 0446     		mov	r4, r0
 548:USB/core/usbd_req.c ****   
 718              		.loc 1 548 3 is_stmt 1 view .LVU213
 550:USB/core/usbd_req.c ****   
 719              		.loc 1 550 3 view .LVU214
 550:USB/core/usbd_req.c ****   
 720              		.loc 1 550 12 is_stmt 0 view .LVU215
 721 0004 8B78     		ldrb	r3, [r1, #2]	@ zero_extendqisi2
 550:USB/core/usbd_req.c ****   
 722              		.loc 1 550 10 view .LVU216
 723 0006 204A     		ldr	r2, .L65
 724 0008 1370     		strb	r3, [r2]
ARM GAS  /tmp/cc9npCpM.s 			page 32


 552:USB/core/usbd_req.c ****   {            
 725              		.loc 1 552 3 is_stmt 1 view .LVU217
 552:USB/core/usbd_req.c ****   {            
 726              		.loc 1 552 6 is_stmt 0 view .LVU218
 727 000a 012B     		cmp	r3, #1
 728 000c 08D8     		bhi	.L63
 558:USB/core/usbd_req.c ****     {
 729              		.loc 1 558 5 is_stmt 1 view .LVU219
 558:USB/core/usbd_req.c ****     {
 730              		.loc 1 558 22 is_stmt 0 view .LVU220
 731 000e 90F81221 		ldrb	r2, [r0, #274]	@ zero_extendqisi2
 558:USB/core/usbd_req.c ****     {
 732              		.loc 1 558 5 view .LVU221
 733 0012 022A     		cmp	r2, #2
 734 0014 07D0     		beq	.L55
 735 0016 032A     		cmp	r2, #3
 736 0018 15D0     		beq	.L56
 600:USB/core/usbd_req.c ****       break;
 737              		.loc 1 600 8 is_stmt 1 view .LVU222
 738 001a FFF7FEFF 		bl	USBD_CtlError
 739              	.LVL75:
 601:USB/core/usbd_req.c ****     }
 740              		.loc 1 601 7 view .LVU223
 604:USB/core/usbd_req.c **** 
 741              		.loc 1 604 1 is_stmt 0 view .LVU224
 742 001e 01E0     		b	.L52
 743              	.LVL76:
 744              	.L63:
 554:USB/core/usbd_req.c ****   } 
 745              		.loc 1 554 6 is_stmt 1 view .LVU225
 746 0020 FFF7FEFF 		bl	USBD_CtlError
 747              	.LVL77:
 748              	.L52:
 604:USB/core/usbd_req.c **** 
 749              		.loc 1 604 1 is_stmt 0 view .LVU226
 750 0024 10BD     		pop	{r4, pc}
 751              	.LVL78:
 752              	.L55:
 561:USB/core/usbd_req.c ****       {                                			   							   							   				
 753              		.loc 1 561 7 is_stmt 1 view .LVU227
 561:USB/core/usbd_req.c ****       {                                			   							   							   				
 754              		.loc 1 561 10 is_stmt 0 view .LVU228
 755 0026 5BB1     		cbz	r3, .L58
 563:USB/core/usbd_req.c ****         pdev->dev.device_status = USB_OTG_CONFIGURED;
 756              		.loc 1 563 9 is_stmt 1 view .LVU229
 563:USB/core/usbd_req.c ****         pdev->dev.device_status = USB_OTG_CONFIGURED;
 757              		.loc 1 563 33 is_stmt 0 view .LVU230
 758 0028 80F81031 		strb	r3, [r0, #272]
 564:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 759              		.loc 1 564 9 is_stmt 1 view .LVU231
 564:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 760              		.loc 1 564 33 is_stmt 0 view .LVU232
 761 002c 0322     		movs	r2, #3
 762 002e 80F81221 		strb	r2, [r0, #274]
 565:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 763              		.loc 1 565 9 is_stmt 1 view .LVU233
 764 0032 1946     		mov	r1, r3
ARM GAS  /tmp/cc9npCpM.s 			page 33


 765              	.LVL79:
 565:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 766              		.loc 1 565 9 is_stmt 0 view .LVU234
 767 0034 FFF7FEFF 		bl	USBD_SetCfg
 768              	.LVL80:
 566:USB/core/usbd_req.c ****       }
 769              		.loc 1 566 9 is_stmt 1 view .LVU235
 770 0038 2046     		mov	r0, r4
 771 003a FFF7FEFF 		bl	USBD_CtlSendStatus
 772              	.LVL81:
 773 003e F1E7     		b	.L52
 774              	.LVL82:
 775              	.L58:
 570:USB/core/usbd_req.c ****       }
 776              		.loc 1 570 10 view .LVU236
 777 0040 FFF7FEFF 		bl	USBD_CtlSendStatus
 778              	.LVL83:
 570:USB/core/usbd_req.c ****       }
 779              		.loc 1 570 10 is_stmt 0 view .LVU237
 780 0044 EEE7     		b	.L52
 781              	.LVL84:
 782              	.L56:
 575:USB/core/usbd_req.c ****       {                           
 783              		.loc 1 575 7 is_stmt 1 view .LVU238
 575:USB/core/usbd_req.c ****       {                           
 784              		.loc 1 575 10 is_stmt 0 view .LVU239
 785 0046 83B1     		cbz	r3, .L64
 583:USB/core/usbd_req.c ****       {
 786              		.loc 1 583 13 is_stmt 1 view .LVU240
 583:USB/core/usbd_req.c ****       {
 787              		.loc 1 583 36 is_stmt 0 view .LVU241
 788 0048 90F81011 		ldrb	r1, [r0, #272]	@ zero_extendqisi2
 789              	.LVL85:
 583:USB/core/usbd_req.c ****       {
 790              		.loc 1 583 16 view .LVU242
 791 004c 8B42     		cmp	r3, r1
 792 004e 18D0     		beq	.L60
 586:USB/core/usbd_req.c ****         
 793              		.loc 1 586 9 is_stmt 1 view .LVU243
 794 0050 FFF7FEFF 		bl	USBD_ClrCfg
 795              	.LVL86:
 589:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 796              		.loc 1 589 9 view .LVU244
 589:USB/core/usbd_req.c ****         USBD_SetCfg(pdev , cfgidx);
 797              		.loc 1 589 33 is_stmt 0 view .LVU245
 798 0054 0C4B     		ldr	r3, .L65
 799 0056 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 800 0058 84F81011 		strb	r1, [r4, #272]
 590:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 801              		.loc 1 590 9 is_stmt 1 view .LVU246
 802 005c 2046     		mov	r0, r4
 803 005e FFF7FEFF 		bl	USBD_SetCfg
 804              	.LVL87:
 591:USB/core/usbd_req.c ****       }
 805              		.loc 1 591 9 view .LVU247
 806 0062 2046     		mov	r0, r4
 807 0064 FFF7FEFF 		bl	USBD_CtlSendStatus
ARM GAS  /tmp/cc9npCpM.s 			page 34


 808              	.LVL88:
 809 0068 DCE7     		b	.L52
 810              	.LVL89:
 811              	.L64:
 577:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;          
 812              		.loc 1 577 9 view .LVU248
 577:USB/core/usbd_req.c ****         pdev->dev.device_config = cfgidx;          
 813              		.loc 1 577 33 is_stmt 0 view .LVU249
 814 006a 0222     		movs	r2, #2
 815 006c 80F81221 		strb	r2, [r0, #274]
 578:USB/core/usbd_req.c ****         USBD_ClrCfg(pdev , cfgidx);
 816              		.loc 1 578 9 is_stmt 1 view .LVU250
 578:USB/core/usbd_req.c ****         USBD_ClrCfg(pdev , cfgidx);
 817              		.loc 1 578 33 is_stmt 0 view .LVU251
 818 0070 80F81031 		strb	r3, [r0, #272]
 579:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 819              		.loc 1 579 9 is_stmt 1 view .LVU252
 820 0074 1946     		mov	r1, r3
 821              	.LVL90:
 579:USB/core/usbd_req.c ****         USBD_CtlSendStatus(pdev);
 822              		.loc 1 579 9 is_stmt 0 view .LVU253
 823 0076 FFF7FEFF 		bl	USBD_ClrCfg
 824              	.LVL91:
 580:USB/core/usbd_req.c ****         
 825              		.loc 1 580 9 is_stmt 1 view .LVU254
 826 007a 2046     		mov	r0, r4
 827 007c FFF7FEFF 		bl	USBD_CtlSendStatus
 828              	.LVL92:
 829 0080 D0E7     		b	.L52
 830              	.LVL93:
 831              	.L60:
 595:USB/core/usbd_req.c ****       }
 832              		.loc 1 595 9 view .LVU255
 833 0082 FFF7FEFF 		bl	USBD_CtlSendStatus
 834              	.LVL94:
 595:USB/core/usbd_req.c ****       }
 835              		.loc 1 595 9 is_stmt 0 view .LVU256
 836 0086 CDE7     		b	.L52
 837              	.L66:
 838              		.align	2
 839              	.L65:
 840 0088 00000000 		.word	.LANCHOR0
 841              		.cfi_endproc
 842              	.LFE131:
 844              		.section	.text.USBD_GetConfig,"ax",%progbits
 845              		.align	1
 846              		.syntax unified
 847              		.thumb
 848              		.thumb_func
 849              		.fpu fpv4-sp-d16
 851              	USBD_GetConfig:
 852              	.LVL95:
 853              	.LFB132:
 615:USB/core/usbd_req.c ****  
 854              		.loc 1 615 1 is_stmt 1 view -0
 855              		.cfi_startproc
 856              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cc9npCpM.s 			page 35


 857              		@ frame_needed = 0, uses_anonymous_args = 0
 615:USB/core/usbd_req.c ****  
 858              		.loc 1 615 1 is_stmt 0 view .LVU258
 859 0000 08B5     		push	{r3, lr}
 860              	.LCFI8:
 861              		.cfi_def_cfa_offset 8
 862              		.cfi_offset 3, -8
 863              		.cfi_offset 14, -4
 617:USB/core/usbd_req.c ****   {                   
 864              		.loc 1 617 3 is_stmt 1 view .LVU259
 617:USB/core/usbd_req.c ****   {                   
 865              		.loc 1 617 10 is_stmt 0 view .LVU260
 866 0002 CB88     		ldrh	r3, [r1, #6]
 617:USB/core/usbd_req.c ****   {                   
 867              		.loc 1 617 6 view .LVU261
 868 0004 012B     		cmp	r3, #1
 869 0006 08D1     		bne	.L75
 623:USB/core/usbd_req.c ****     {
 870              		.loc 1 623 5 is_stmt 1 view .LVU262
 623:USB/core/usbd_req.c ****     {
 871              		.loc 1 623 22 is_stmt 0 view .LVU263
 872 0008 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 623:USB/core/usbd_req.c ****     {
 873              		.loc 1 623 5 view .LVU264
 874 000c 022B     		cmp	r3, #2
 875 000e 07D0     		beq	.L70
 876 0010 032B     		cmp	r3, #3
 877 0012 0AD0     		beq	.L71
 640:USB/core/usbd_req.c ****       break;
 878              		.loc 1 640 8 is_stmt 1 view .LVU265
 879 0014 FFF7FEFF 		bl	USBD_CtlError
 880              	.LVL96:
 641:USB/core/usbd_req.c ****     }
 881              		.loc 1 641 7 view .LVU266
 644:USB/core/usbd_req.c **** 
 882              		.loc 1 644 1 is_stmt 0 view .LVU267
 883 0018 01E0     		b	.L67
 884              	.LVL97:
 885              	.L75:
 619:USB/core/usbd_req.c ****   }
 886              		.loc 1 619 6 is_stmt 1 view .LVU268
 887 001a FFF7FEFF 		bl	USBD_CtlError
 888              	.LVL98:
 889              	.L67:
 644:USB/core/usbd_req.c **** 
 890              		.loc 1 644 1 is_stmt 0 view .LVU269
 891 001e 08BD     		pop	{r3, pc}
 892              	.LVL99:
 893              	.L70:
 627:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_default_cfg,
 894              		.loc 1 627 7 is_stmt 1 view .LVU270
 895 0020 0122     		movs	r2, #1
 896 0022 0549     		ldr	r1, .L76
 897              	.LVL100:
 627:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_default_cfg,
 898              		.loc 1 627 7 is_stmt 0 view .LVU271
 899 0024 FFF7FEFF 		bl	USBD_CtlSendData
ARM GAS  /tmp/cc9npCpM.s 			page 36


 900              	.LVL101:
 630:USB/core/usbd_req.c ****       
 901              		.loc 1 630 7 is_stmt 1 view .LVU272
 902 0028 F9E7     		b	.L67
 903              	.LVL102:
 904              	.L71:
 634:USB/core/usbd_req.c ****                         &pdev->dev.device_config,
 905              		.loc 1 634 7 view .LVU273
 906 002a 0122     		movs	r2, #1
 907 002c 00F58871 		add	r1, r0, #272
 908              	.LVL103:
 634:USB/core/usbd_req.c ****                         &pdev->dev.device_config,
 909              		.loc 1 634 7 is_stmt 0 view .LVU274
 910 0030 FFF7FEFF 		bl	USBD_CtlSendData
 911              	.LVL104:
 637:USB/core/usbd_req.c ****       
 912              		.loc 1 637 7 is_stmt 1 view .LVU275
 913 0034 F3E7     		b	.L67
 914              	.L77:
 915 0036 00BF     		.align	2
 916              	.L76:
 917 0038 00000000 		.word	.LANCHOR1
 918              		.cfi_endproc
 919              	.LFE132:
 921              		.section	.text.USBD_GetStatus,"ax",%progbits
 922              		.align	1
 923              		.syntax unified
 924              		.thumb
 925              		.thumb_func
 926              		.fpu fpv4-sp-d16
 928              	USBD_GetStatus:
 929              	.LVL105:
 930              	.LFB133:
 655:USB/core/usbd_req.c ****   
 931              		.loc 1 655 1 view -0
 932              		.cfi_startproc
 933              		@ args = 0, pretend = 0, frame = 0
 934              		@ frame_needed = 0, uses_anonymous_args = 0
 655:USB/core/usbd_req.c ****   
 935              		.loc 1 655 1 is_stmt 0 view .LVU277
 936 0000 08B5     		push	{r3, lr}
 937              	.LCFI9:
 938              		.cfi_def_cfa_offset 8
 939              		.cfi_offset 3, -8
 940              		.cfi_offset 14, -4
 658:USB/core/usbd_req.c ****   {
 941              		.loc 1 658 3 is_stmt 1 view .LVU278
 658:USB/core/usbd_req.c ****   {
 942              		.loc 1 658 20 is_stmt 0 view .LVU279
 943 0002 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 658:USB/core/usbd_req.c ****   {
 944              		.loc 1 658 3 view .LVU280
 945 0006 023B     		subs	r3, r3, #2
 946 0008 012B     		cmp	r3, #1
 947 000a 0DD8     		bhi	.L79
 664:USB/core/usbd_req.c **** #else
 948              		.loc 1 664 5 is_stmt 1 view .LVU281
ARM GAS  /tmp/cc9npCpM.s 			page 37


 664:USB/core/usbd_req.c **** #else
 949              		.loc 1 664 21 is_stmt 0 view .LVU282
 950 000c 084B     		ldr	r3, .L83
 951 000e 0122     		movs	r2, #1
 952 0010 1A60     		str	r2, [r3]
 669:USB/core/usbd_req.c ****     {
 953              		.loc 1 669 5 is_stmt 1 view .LVU283
 669:USB/core/usbd_req.c ****     {
 954              		.loc 1 669 18 is_stmt 0 view .LVU284
 955 0012 D0F81831 		ldr	r3, [r0, #280]
 669:USB/core/usbd_req.c ****     {
 956              		.loc 1 669 8 view .LVU285
 957 0016 13B1     		cbz	r3, .L80
 671:USB/core/usbd_req.c ****     }
 958              		.loc 1 671 7 is_stmt 1 view .LVU286
 671:USB/core/usbd_req.c ****     }
 959              		.loc 1 671 23 is_stmt 0 view .LVU287
 960 0018 054B     		ldr	r3, .L83
 961 001a 0322     		movs	r2, #3
 962 001c 1A60     		str	r2, [r3]
 963              	.L80:
 674:USB/core/usbd_req.c ****                       (uint8_t *)&USBD_cfg_status,
 964              		.loc 1 674 5 is_stmt 1 view .LVU288
 965 001e 0222     		movs	r2, #2
 966 0020 0349     		ldr	r1, .L83
 967              	.LVL106:
 674:USB/core/usbd_req.c ****                       (uint8_t *)&USBD_cfg_status,
 968              		.loc 1 674 5 is_stmt 0 view .LVU289
 969 0022 FFF7FEFF 		bl	USBD_CtlSendData
 970              	.LVL107:
 677:USB/core/usbd_req.c ****     
 971              		.loc 1 677 5 is_stmt 1 view .LVU290
 972              	.L78:
 683:USB/core/usbd_req.c **** 
 973              		.loc 1 683 1 is_stmt 0 view .LVU291
 974 0026 08BD     		pop	{r3, pc}
 975              	.LVL108:
 976              	.L79:
 680:USB/core/usbd_req.c ****     break;
 977              		.loc 1 680 5 is_stmt 1 view .LVU292
 978 0028 FFF7FEFF 		bl	USBD_CtlError
 979              	.LVL109:
 681:USB/core/usbd_req.c ****   }
 980              		.loc 1 681 5 view .LVU293
 683:USB/core/usbd_req.c **** 
 981              		.loc 1 683 1 is_stmt 0 view .LVU294
 982 002c FBE7     		b	.L78
 983              	.L84:
 984 002e 00BF     		.align	2
 985              	.L83:
 986 0030 00000000 		.word	.LANCHOR2
 987              		.cfi_endproc
 988              	.LFE133:
 990              		.section	.text.USBD_ClrFeature,"ax",%progbits
 991              		.align	1
 992              		.syntax unified
 993              		.thumb
ARM GAS  /tmp/cc9npCpM.s 			page 38


 994              		.thumb_func
 995              		.fpu fpv4-sp-d16
 997              	USBD_ClrFeature:
 998              	.LVL110:
 999              	.LFB135:
 752:USB/core/usbd_req.c ****   switch (pdev->dev.device_status)
 1000              		.loc 1 752 1 is_stmt 1 view -0
 1001              		.cfi_startproc
 1002              		@ args = 0, pretend = 0, frame = 0
 1003              		@ frame_needed = 0, uses_anonymous_args = 0
 752:USB/core/usbd_req.c ****   switch (pdev->dev.device_status)
 1004              		.loc 1 752 1 is_stmt 0 view .LVU296
 1005 0000 10B5     		push	{r4, lr}
 1006              	.LCFI10:
 1007              		.cfi_def_cfa_offset 8
 1008              		.cfi_offset 4, -8
 1009              		.cfi_offset 14, -4
 1010 0002 0446     		mov	r4, r0
 753:USB/core/usbd_req.c ****   {
 1011              		.loc 1 753 3 is_stmt 1 view .LVU297
 753:USB/core/usbd_req.c ****   {
 1012              		.loc 1 753 20 is_stmt 0 view .LVU298
 1013 0004 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 753:USB/core/usbd_req.c ****   {
 1014              		.loc 1 753 3 view .LVU299
 1015 0008 023B     		subs	r3, r3, #2
 1016 000a 012B     		cmp	r3, #1
 1017 000c 0DD8     		bhi	.L86
 757:USB/core/usbd_req.c ****     {
 1018              		.loc 1 757 5 is_stmt 1 view .LVU300
 757:USB/core/usbd_req.c ****     {
 1019              		.loc 1 757 12 is_stmt 0 view .LVU301
 1020 000e 4B88     		ldrh	r3, [r1, #2]
 757:USB/core/usbd_req.c ****     {
 1021              		.loc 1 757 8 view .LVU302
 1022 0010 012B     		cmp	r3, #1
 1023 0012 0CD1     		bne	.L85
 759:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req);   
 1024              		.loc 1 759 7 is_stmt 1 view .LVU303
 759:USB/core/usbd_req.c ****       pdev->dev.class_cb->Setup (pdev, req);   
 1025              		.loc 1 759 33 is_stmt 0 view .LVU304
 1026 0014 0023     		movs	r3, #0
 1027 0016 C0F81831 		str	r3, [r0, #280]
 760:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1028              		.loc 1 760 7 is_stmt 1 view .LVU305
 760:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1029              		.loc 1 760 16 is_stmt 0 view .LVU306
 1030 001a D0F8E435 		ldr	r3, [r0, #1508]
 760:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1031              		.loc 1 760 25 view .LVU307
 1032 001e 9B68     		ldr	r3, [r3, #8]
 760:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1033              		.loc 1 760 7 view .LVU308
 1034 0020 9847     		blx	r3
 1035              	.LVL111:
 761:USB/core/usbd_req.c ****     }
 1036              		.loc 1 761 7 is_stmt 1 view .LVU309
ARM GAS  /tmp/cc9npCpM.s 			page 39


 1037 0022 2046     		mov	r0, r4
 1038 0024 FFF7FEFF 		bl	USBD_CtlSendStatus
 1039              	.LVL112:
 1040 0028 01E0     		b	.L85
 1041              	.LVL113:
 1042              	.L86:
 766:USB/core/usbd_req.c ****     break;
 1043              		.loc 1 766 6 view .LVU310
 1044 002a FFF7FEFF 		bl	USBD_CtlError
 1045              	.LVL114:
 767:USB/core/usbd_req.c ****   }
 1046              		.loc 1 767 5 view .LVU311
 1047              	.L85:
 769:USB/core/usbd_req.c **** 
 1048              		.loc 1 769 1 is_stmt 0 view .LVU312
 1049 002e 10BD     		pop	{r4, pc}
 769:USB/core/usbd_req.c **** 
 1050              		.loc 1 769 1 view .LVU313
 1051              		.cfi_endproc
 1052              	.LFE135:
 1054              		.section	.text.USBD_StdDevReq,"ax",%progbits
 1055              		.align	1
 1056              		.global	USBD_StdDevReq
 1057              		.syntax unified
 1058              		.thumb
 1059              		.thumb_func
 1060              		.fpu fpv4-sp-d16
 1062              	USBD_StdDevReq:
 1063              	.LVL115:
 1064              	.LFB126:
 149:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK;  
 1065              		.loc 1 149 1 is_stmt 1 view -0
 1066              		.cfi_startproc
 1067              		@ args = 0, pretend = 0, frame = 0
 1068              		@ frame_needed = 0, uses_anonymous_args = 0
 149:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK;  
 1069              		.loc 1 149 1 is_stmt 0 view .LVU315
 1070 0000 08B5     		push	{r3, lr}
 1071              	.LCFI11:
 1072              		.cfi_def_cfa_offset 8
 1073              		.cfi_offset 3, -8
 1074              		.cfi_offset 14, -4
 150:USB/core/usbd_req.c ****   
 1075              		.loc 1 150 3 is_stmt 1 view .LVU316
 1076              	.LVL116:
 152:USB/core/usbd_req.c ****   {
 1077              		.loc 1 152 3 view .LVU317
 152:USB/core/usbd_req.c ****   {
 1078              		.loc 1 152 14 is_stmt 0 view .LVU318
 1079 0002 4B78     		ldrb	r3, [r1, #1]	@ zero_extendqisi2
 152:USB/core/usbd_req.c ****   {
 1080              		.loc 1 152 3 view .LVU319
 1081 0004 092B     		cmp	r3, #9
 1082 0006 1CD8     		bhi	.L90
 1083 0008 DFE803F0 		tbb	[pc, r3]
 1084              	.L92:
 1085 000c 12       		.byte	(.L98-.L92)/2
ARM GAS  /tmp/cc9npCpM.s 			page 40


 1086 000d 18       		.byte	(.L97-.L92)/2
 1087 000e 1B       		.byte	(.L90-.L92)/2
 1088 000f 15       		.byte	(.L96-.L92)/2
 1089 0010 1B       		.byte	(.L90-.L92)/2
 1090 0011 09       		.byte	(.L95-.L92)/2
 1091 0012 05       		.byte	(.L94-.L92)/2
 1092 0013 1B       		.byte	(.L90-.L92)/2
 1093 0014 0F       		.byte	(.L93-.L92)/2
 1094 0015 0C       		.byte	(.L91-.L92)/2
 1095              		.p2align 1
 1096              	.L94:
 156:USB/core/usbd_req.c ****     break;
 1097              		.loc 1 156 5 is_stmt 1 view .LVU320
 1098 0016 FFF7FEFF 		bl	USBD_GetDescriptor
 1099              	.LVL117:
 157:USB/core/usbd_req.c ****     
 1100              		.loc 1 157 5 view .LVU321
 1101              	.L99:
 189:USB/core/usbd_req.c **** }
 1102              		.loc 1 189 3 view .LVU322
 190:USB/core/usbd_req.c **** 
 1103              		.loc 1 190 1 is_stmt 0 view .LVU323
 1104 001a 0020     		movs	r0, #0
 1105 001c 08BD     		pop	{r3, pc}
 1106              	.LVL118:
 1107              	.L95:
 160:USB/core/usbd_req.c ****     break;
 1108              		.loc 1 160 5 is_stmt 1 view .LVU324
 1109 001e FFF7FEFF 		bl	USBD_SetAddress
 1110              	.LVL119:
 161:USB/core/usbd_req.c ****     
 1111              		.loc 1 161 5 view .LVU325
 1112 0022 FAE7     		b	.L99
 1113              	.LVL120:
 1114              	.L91:
 164:USB/core/usbd_req.c ****     break;
 1115              		.loc 1 164 5 view .LVU326
 1116 0024 FFF7FEFF 		bl	USBD_SetConfig
 1117              	.LVL121:
 165:USB/core/usbd_req.c ****     
 1118              		.loc 1 165 5 view .LVU327
 1119 0028 F7E7     		b	.L99
 1120              	.LVL122:
 1121              	.L93:
 168:USB/core/usbd_req.c ****     break;
 1122              		.loc 1 168 5 view .LVU328
 1123 002a FFF7FEFF 		bl	USBD_GetConfig
 1124              	.LVL123:
 169:USB/core/usbd_req.c ****     
 1125              		.loc 1 169 5 view .LVU329
 1126 002e F4E7     		b	.L99
 1127              	.LVL124:
 1128              	.L98:
 172:USB/core/usbd_req.c ****     break;
 1129              		.loc 1 172 5 view .LVU330
 1130 0030 FFF7FEFF 		bl	USBD_GetStatus
 1131              	.LVL125:
ARM GAS  /tmp/cc9npCpM.s 			page 41


 173:USB/core/usbd_req.c ****     
 1132              		.loc 1 173 5 view .LVU331
 1133 0034 F1E7     		b	.L99
 1134              	.LVL126:
 1135              	.L96:
 177:USB/core/usbd_req.c ****     break;
 1136              		.loc 1 177 5 view .LVU332
 1137 0036 FFF7FEFF 		bl	USBD_SetFeature
 1138              	.LVL127:
 178:USB/core/usbd_req.c ****     
 1139              		.loc 1 178 5 view .LVU333
 1140 003a EEE7     		b	.L99
 1141              	.LVL128:
 1142              	.L97:
 181:USB/core/usbd_req.c ****     break;
 1143              		.loc 1 181 5 view .LVU334
 1144 003c FFF7FEFF 		bl	USBD_ClrFeature
 1145              	.LVL129:
 182:USB/core/usbd_req.c ****     
 1146              		.loc 1 182 5 view .LVU335
 1147 0040 EBE7     		b	.L99
 1148              	.LVL130:
 1149              	.L90:
 185:USB/core/usbd_req.c ****     break;
 1150              		.loc 1 185 5 view .LVU336
 1151 0042 FFF7FEFF 		bl	USBD_CtlError
 1152              	.LVL131:
 186:USB/core/usbd_req.c ****   }
 1153              		.loc 1 186 5 view .LVU337
 1154 0046 E8E7     		b	.L99
 1155              		.cfi_endproc
 1156              	.LFE126:
 1158              		.section	.text.USBD_StdItfReq,"ax",%progbits
 1159              		.align	1
 1160              		.global	USBD_StdItfReq
 1161              		.syntax unified
 1162              		.thumb
 1163              		.thumb_func
 1164              		.fpu fpv4-sp-d16
 1166              	USBD_StdItfReq:
 1167              	.LVL132:
 1168              	.LFB127:
 200:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
 1169              		.loc 1 200 1 view -0
 1170              		.cfi_startproc
 1171              		@ args = 0, pretend = 0, frame = 0
 1172              		@ frame_needed = 0, uses_anonymous_args = 0
 200:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
 1173              		.loc 1 200 1 is_stmt 0 view .LVU339
 1174 0000 38B5     		push	{r3, r4, r5, lr}
 1175              	.LCFI12:
 1176              		.cfi_def_cfa_offset 16
 1177              		.cfi_offset 3, -16
 1178              		.cfi_offset 4, -12
 1179              		.cfi_offset 5, -8
 1180              		.cfi_offset 14, -4
 1181 0002 0446     		mov	r4, r0
ARM GAS  /tmp/cc9npCpM.s 			page 42


 1182 0004 0D46     		mov	r5, r1
 201:USB/core/usbd_req.c ****   
 1183              		.loc 1 201 3 is_stmt 1 view .LVU340
 1184              	.LVL133:
 203:USB/core/usbd_req.c ****   {
 1185              		.loc 1 203 3 view .LVU341
 203:USB/core/usbd_req.c ****   {
 1186              		.loc 1 203 20 is_stmt 0 view .LVU342
 1187 0006 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 203:USB/core/usbd_req.c ****   {
 1188              		.loc 1 203 3 view .LVU343
 1189 000a 032B     		cmp	r3, #3
 1190 000c 0FD1     		bne	.L102
 207:USB/core/usbd_req.c ****     {
 1191              		.loc 1 207 5 is_stmt 1 view .LVU344
 207:USB/core/usbd_req.c ****     {
 1192              		.loc 1 207 9 is_stmt 0 view .LVU345
 1193 000e 0B79     		ldrb	r3, [r1, #4]	@ zero_extendqisi2
 207:USB/core/usbd_req.c ****     {
 1194              		.loc 1 207 8 view .LVU346
 1195 0010 012B     		cmp	r3, #1
 1196 0012 09D8     		bhi	.L103
 209:USB/core/usbd_req.c ****       
 1197              		.loc 1 209 7 is_stmt 1 view .LVU347
 209:USB/core/usbd_req.c ****       
 1198              		.loc 1 209 16 is_stmt 0 view .LVU348
 1199 0014 D0F8E435 		ldr	r3, [r0, #1508]
 209:USB/core/usbd_req.c ****       
 1200              		.loc 1 209 25 view .LVU349
 1201 0018 9B68     		ldr	r3, [r3, #8]
 209:USB/core/usbd_req.c ****       
 1202              		.loc 1 209 7 view .LVU350
 1203 001a 9847     		blx	r3
 1204              	.LVL134:
 211:USB/core/usbd_req.c ****       {
 1205              		.loc 1 211 7 is_stmt 1 view .LVU351
 211:USB/core/usbd_req.c ****       {
 1206              		.loc 1 211 14 is_stmt 0 view .LVU352
 1207 001c EB88     		ldrh	r3, [r5, #6]
 211:USB/core/usbd_req.c ****       {
 1208              		.loc 1 211 9 view .LVU353
 1209 001e 43B9     		cbnz	r3, .L104
 213:USB/core/usbd_req.c ****       }
 1210              		.loc 1 213 10 is_stmt 1 view .LVU354
 1211 0020 2046     		mov	r0, r4
 1212 0022 FFF7FEFF 		bl	USBD_CtlSendStatus
 1213              	.LVL135:
 1214 0026 04E0     		b	.L104
 1215              	.LVL136:
 1216              	.L103:
 218:USB/core/usbd_req.c ****     }
 1217              		.loc 1 218 8 view .LVU355
 1218 0028 FFF7FEFF 		bl	USBD_CtlError
 1219              	.LVL137:
 218:USB/core/usbd_req.c ****     }
 1220              		.loc 1 218 8 is_stmt 0 view .LVU356
 1221 002c 01E0     		b	.L104
ARM GAS  /tmp/cc9npCpM.s 			page 43


 1222              	.LVL138:
 1223              	.L102:
 223:USB/core/usbd_req.c ****     break;
 1224              		.loc 1 223 6 is_stmt 1 view .LVU357
 1225 002e FFF7FEFF 		bl	USBD_CtlError
 1226              	.LVL139:
 224:USB/core/usbd_req.c ****   }
 1227              		.loc 1 224 5 view .LVU358
 1228              	.L104:
 226:USB/core/usbd_req.c **** }
 1229              		.loc 1 226 3 view .LVU359
 227:USB/core/usbd_req.c **** 
 1230              		.loc 1 227 1 is_stmt 0 view .LVU360
 1231 0032 0020     		movs	r0, #0
 1232 0034 38BD     		pop	{r3, r4, r5, pc}
 227:USB/core/usbd_req.c **** 
 1233              		.loc 1 227 1 view .LVU361
 1234              		.cfi_endproc
 1235              	.LFE127:
 1237              		.section	.text.USBD_StdEPReq,"ax",%progbits
 1238              		.align	1
 1239              		.global	USBD_StdEPReq
 1240              		.syntax unified
 1241              		.thumb
 1242              		.thumb_func
 1243              		.fpu fpv4-sp-d16
 1245              	USBD_StdEPReq:
 1246              	.LVL140:
 1247              	.LFB128:
 237:USB/core/usbd_req.c ****   
 1248              		.loc 1 237 1 is_stmt 1 view -0
 1249              		.cfi_startproc
 1250              		@ args = 0, pretend = 0, frame = 0
 1251              		@ frame_needed = 0, uses_anonymous_args = 0
 237:USB/core/usbd_req.c ****   
 1252              		.loc 1 237 1 is_stmt 0 view .LVU363
 1253 0000 38B5     		push	{r3, r4, r5, lr}
 1254              	.LCFI13:
 1255              		.cfi_def_cfa_offset 16
 1256              		.cfi_offset 3, -16
 1257              		.cfi_offset 4, -12
 1258              		.cfi_offset 5, -8
 1259              		.cfi_offset 14, -4
 1260 0002 0546     		mov	r5, r0
 1261 0004 0C46     		mov	r4, r1
 239:USB/core/usbd_req.c ****   USBD_Status ret = USBD_OK; 
 1262              		.loc 1 239 3 is_stmt 1 view .LVU364
 240:USB/core/usbd_req.c ****   
 1263              		.loc 1 240 3 view .LVU365
 1264              	.LVL141:
 242:USB/core/usbd_req.c ****   
 1265              		.loc 1 242 3 view .LVU366
 242:USB/core/usbd_req.c ****   
 1266              		.loc 1 242 14 is_stmt 0 view .LVU367
 1267 0006 8A88     		ldrh	r2, [r1, #4]
 242:USB/core/usbd_req.c ****   
 1268              		.loc 1 242 12 view .LVU368
ARM GAS  /tmp/cc9npCpM.s 			page 44


 1269 0008 D1B2     		uxtb	r1, r2
 1270              	.LVL142:
 244:USB/core/usbd_req.c ****   {
 1271              		.loc 1 244 3 is_stmt 1 view .LVU369
 244:USB/core/usbd_req.c ****   {
 1272              		.loc 1 244 14 is_stmt 0 view .LVU370
 1273 000a 6378     		ldrb	r3, [r4, #1]	@ zero_extendqisi2
 244:USB/core/usbd_req.c ****   {
 1274              		.loc 1 244 3 view .LVU371
 1275 000c 012B     		cmp	r3, #1
 1276 000e 2AD0     		beq	.L107
 1277 0010 58B2     		sxtb	r0, r3
 1278              	.LVL143:
 244:USB/core/usbd_req.c ****   {
 1279              		.loc 1 244 3 view .LVU372
 1280 0012 0028     		cmp	r0, #0
 1281 0014 4BD0     		beq	.L108
 1282 0016 032B     		cmp	r3, #3
 1283 0018 1FD1     		bne	.L109
 249:USB/core/usbd_req.c ****     {
 1284              		.loc 1 249 5 is_stmt 1 view .LVU373
 249:USB/core/usbd_req.c ****     {
 1285              		.loc 1 249 22 is_stmt 0 view .LVU374
 1286 001a 95F81231 		ldrb	r3, [r5, #274]	@ zero_extendqisi2
 1287 001e 022B     		cmp	r3, #2
 1288 0020 06D0     		beq	.L110
 1289 0022 032B     		cmp	r3, #3
 1290 0024 0BD0     		beq	.L111
 273:USB/core/usbd_req.c ****       break;    
 1291              		.loc 1 273 7 is_stmt 1 view .LVU375
 1292 0026 2146     		mov	r1, r4
 1293              	.LVL144:
 273:USB/core/usbd_req.c ****       break;    
 1294              		.loc 1 273 7 is_stmt 0 view .LVU376
 1295 0028 2846     		mov	r0, r5
 1296 002a FFF7FEFF 		bl	USBD_CtlError
 1297              	.LVL145:
 274:USB/core/usbd_req.c ****     }
 1298              		.loc 1 274 7 is_stmt 1 view .LVU377
 1299 002e 14E0     		b	.L109
 1300              	.LVL146:
 1301              	.L110:
 252:USB/core/usbd_req.c ****       {
 1302              		.loc 1 252 7 view .LVU378
 252:USB/core/usbd_req.c ****       {
 1303              		.loc 1 252 10 is_stmt 0 view .LVU379
 1304 0030 99B1     		cbz	r1, .L109
 252:USB/core/usbd_req.c ****       {
 1305              		.loc 1 252 29 discriminator 1 view .LVU380
 1306 0032 8029     		cmp	r1, #128
 1307 0034 11D0     		beq	.L109
 254:USB/core/usbd_req.c ****       }
 1308              		.loc 1 254 9 is_stmt 1 view .LVU381
 1309 0036 2846     		mov	r0, r5
 1310 0038 FFF7FEFF 		bl	DCD_EP_Stall
 1311              	.LVL147:
 254:USB/core/usbd_req.c ****       }
ARM GAS  /tmp/cc9npCpM.s 			page 45


 1312              		.loc 1 254 9 is_stmt 0 view .LVU382
 1313 003c 0DE0     		b	.L109
 1314              	.LVL148:
 1315              	.L111:
 259:USB/core/usbd_req.c ****       {
 1316              		.loc 1 259 7 is_stmt 1 view .LVU383
 259:USB/core/usbd_req.c ****       {
 1317              		.loc 1 259 14 is_stmt 0 view .LVU384
 1318 003e 6388     		ldrh	r3, [r4, #2]
 259:USB/core/usbd_req.c ****       {
 1319              		.loc 1 259 10 view .LVU385
 1320 0040 13B9     		cbnz	r3, .L113
 261:USB/core/usbd_req.c ****         { 
 1321              		.loc 1 261 9 is_stmt 1 view .LVU386
 261:USB/core/usbd_req.c ****         { 
 1322              		.loc 1 261 12 is_stmt 0 view .LVU387
 1323 0042 09B1     		cbz	r1, .L113
 261:USB/core/usbd_req.c ****         { 
 1324              		.loc 1 261 31 discriminator 1 view .LVU388
 1325 0044 8029     		cmp	r1, #128
 1326 0046 0AD1     		bne	.L129
 1327              	.LVL149:
 1328              	.L113:
 267:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1329              		.loc 1 267 7 is_stmt 1 view .LVU389
 267:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1330              		.loc 1 267 16 is_stmt 0 view .LVU390
 1331 0048 D5F8E435 		ldr	r3, [r5, #1508]
 267:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1332              		.loc 1 267 25 view .LVU391
 1333 004c 9B68     		ldr	r3, [r3, #8]
 267:USB/core/usbd_req.c ****       USBD_CtlSendStatus(pdev);
 1334              		.loc 1 267 7 view .LVU392
 1335 004e 2146     		mov	r1, r4
 1336 0050 2846     		mov	r0, r5
 1337 0052 9847     		blx	r3
 1338              	.LVL150:
 268:USB/core/usbd_req.c ****       
 1339              		.loc 1 268 7 is_stmt 1 view .LVU393
 1340 0054 2846     		mov	r0, r5
 1341 0056 FFF7FEFF 		bl	USBD_CtlSendStatus
 1342              	.LVL151:
 270:USB/core/usbd_req.c ****       
 1343              		.loc 1 270 7 view .LVU394
 1344              	.L109:
 357:USB/core/usbd_req.c **** }
 1345              		.loc 1 357 3 view .LVU395
 358:USB/core/usbd_req.c **** /**
 1346              		.loc 1 358 1 is_stmt 0 view .LVU396
 1347 005a 0020     		movs	r0, #0
 1348 005c 38BD     		pop	{r3, r4, r5, pc}
 1349              	.LVL152:
 1350              	.L129:
 263:USB/core/usbd_req.c ****           
 1351              		.loc 1 263 11 is_stmt 1 view .LVU397
 1352 005e 2846     		mov	r0, r5
 1353 0060 FFF7FEFF 		bl	DCD_EP_Stall
ARM GAS  /tmp/cc9npCpM.s 			page 46


 1354              	.LVL153:
 263:USB/core/usbd_req.c ****           
 1355              		.loc 1 263 11 is_stmt 0 view .LVU398
 1356 0064 F0E7     		b	.L113
 1357              	.LVL154:
 1358              	.L107:
 280:USB/core/usbd_req.c ****     {
 1359              		.loc 1 280 5 is_stmt 1 view .LVU399
 280:USB/core/usbd_req.c ****     {
 1360              		.loc 1 280 22 is_stmt 0 view .LVU400
 1361 0066 90F81231 		ldrb	r3, [r0, #274]	@ zero_extendqisi2
 1362 006a 022B     		cmp	r3, #2
 1363 006c 05D0     		beq	.L114
 1364 006e 032B     		cmp	r3, #3
 1365 0070 0AD0     		beq	.L115
 302:USB/core/usbd_req.c ****       break;    
 1366              		.loc 1 302 8 is_stmt 1 view .LVU401
 1367 0072 2146     		mov	r1, r4
 1368              	.LVL155:
 302:USB/core/usbd_req.c ****       break;    
 1369              		.loc 1 302 8 is_stmt 0 view .LVU402
 1370 0074 FFF7FEFF 		bl	USBD_CtlError
 1371              	.LVL156:
 303:USB/core/usbd_req.c ****     }
 1372              		.loc 1 303 7 is_stmt 1 view .LVU403
 1373 0078 EFE7     		b	.L109
 1374              	.LVL157:
 1375              	.L114:
 283:USB/core/usbd_req.c ****       {
 1376              		.loc 1 283 7 view .LVU404
 283:USB/core/usbd_req.c ****       {
 1377              		.loc 1 283 10 is_stmt 0 view .LVU405
 1378 007a 0029     		cmp	r1, #0
 1379 007c EDD0     		beq	.L109
 283:USB/core/usbd_req.c ****       {
 1380              		.loc 1 283 29 discriminator 1 view .LVU406
 1381 007e 8029     		cmp	r1, #128
 1382 0080 EBD0     		beq	.L109
 285:USB/core/usbd_req.c ****       }
 1383              		.loc 1 285 9 is_stmt 1 view .LVU407
 1384 0082 FFF7FEFF 		bl	DCD_EP_Stall
 1385              	.LVL158:
 285:USB/core/usbd_req.c ****       }
 1386              		.loc 1 285 9 is_stmt 0 view .LVU408
 1387 0086 E8E7     		b	.L109
 1388              	.LVL159:
 1389              	.L115:
 290:USB/core/usbd_req.c ****       {
 1390              		.loc 1 290 7 is_stmt 1 view .LVU409
 290:USB/core/usbd_req.c ****       {
 1391              		.loc 1 290 14 is_stmt 0 view .LVU410
 1392 0088 6388     		ldrh	r3, [r4, #2]
 290:USB/core/usbd_req.c ****       {
 1393              		.loc 1 290 10 view .LVU411
 1394 008a 002B     		cmp	r3, #0
 1395 008c E5D1     		bne	.L109
 292:USB/core/usbd_req.c ****         {        
ARM GAS  /tmp/cc9npCpM.s 			page 47


 1396              		.loc 1 292 9 is_stmt 1 view .LVU412
 292:USB/core/usbd_req.c ****         {        
 1397              		.loc 1 292 12 is_stmt 0 view .LVU413
 1398 008e 09B1     		cbz	r1, .L117
 292:USB/core/usbd_req.c ****         {        
 1399              		.loc 1 292 31 discriminator 1 view .LVU414
 1400 0090 8029     		cmp	r1, #128
 1401 0092 03D1     		bne	.L130
 1402              	.LVL160:
 1403              	.L117:
 297:USB/core/usbd_req.c ****       }
 1404              		.loc 1 297 9 is_stmt 1 view .LVU415
 1405 0094 2846     		mov	r0, r5
 1406 0096 FFF7FEFF 		bl	USBD_CtlSendStatus
 1407              	.LVL161:
 1408 009a DEE7     		b	.L109
 1409              	.LVL162:
 1410              	.L130:
 294:USB/core/usbd_req.c ****           pdev->dev.class_cb->Setup (pdev, req);
 1411              		.loc 1 294 11 view .LVU416
 1412 009c FFF7FEFF 		bl	DCD_EP_ClrStall
 1413              	.LVL163:
 295:USB/core/usbd_req.c ****         }
 1414              		.loc 1 295 11 view .LVU417
 295:USB/core/usbd_req.c ****         }
 1415              		.loc 1 295 20 is_stmt 0 view .LVU418
 1416 00a0 D5F8E435 		ldr	r3, [r5, #1508]
 295:USB/core/usbd_req.c ****         }
 1417              		.loc 1 295 29 view .LVU419
 1418 00a4 9B68     		ldr	r3, [r3, #8]
 295:USB/core/usbd_req.c ****         }
 1419              		.loc 1 295 11 view .LVU420
 1420 00a6 2146     		mov	r1, r4
 1421 00a8 2846     		mov	r0, r5
 1422 00aa 9847     		blx	r3
 1423              	.LVL164:
 1424 00ac F2E7     		b	.L117
 1425              	.LVL165:
 1426              	.L108:
 308:USB/core/usbd_req.c ****     {
 1427              		.loc 1 308 5 is_stmt 1 view .LVU421
 308:USB/core/usbd_req.c ****     {
 1428              		.loc 1 308 22 is_stmt 0 view .LVU422
 1429 00ae 95F81231 		ldrb	r3, [r5, #274]	@ zero_extendqisi2
 1430 00b2 022B     		cmp	r3, #2
 1431 00b4 06D0     		beq	.L118
 1432 00b6 032B     		cmp	r3, #3
 1433 00b8 0CD0     		beq	.L119
 349:USB/core/usbd_req.c ****       break;
 1434              		.loc 1 349 8 is_stmt 1 view .LVU423
 1435 00ba 2146     		mov	r1, r4
 1436              	.LVL166:
 349:USB/core/usbd_req.c ****       break;
 1437              		.loc 1 349 8 is_stmt 0 view .LVU424
 1438 00bc 2846     		mov	r0, r5
 1439 00be FFF7FEFF 		bl	USBD_CtlError
 1440              	.LVL167:
ARM GAS  /tmp/cc9npCpM.s 			page 48


 350:USB/core/usbd_req.c ****     }
 1441              		.loc 1 350 7 is_stmt 1 view .LVU425
 1442 00c2 CAE7     		b	.L109
 1443              	.LVL168:
 1444              	.L118:
 311:USB/core/usbd_req.c ****       {
 1445              		.loc 1 311 7 view .LVU426
 311:USB/core/usbd_req.c ****       {
 1446              		.loc 1 311 10 is_stmt 0 view .LVU427
 1447 00c4 0029     		cmp	r1, #0
 1448 00c6 C8D0     		beq	.L109
 311:USB/core/usbd_req.c ****       {
 1449              		.loc 1 311 29 discriminator 1 view .LVU428
 1450 00c8 8029     		cmp	r1, #128
 1451 00ca C6D0     		beq	.L109
 313:USB/core/usbd_req.c ****       }
 1452              		.loc 1 313 9 is_stmt 1 view .LVU429
 1453 00cc 2846     		mov	r0, r5
 1454 00ce FFF7FEFF 		bl	DCD_EP_Stall
 1455              	.LVL169:
 313:USB/core/usbd_req.c ****       }
 1456              		.loc 1 313 9 is_stmt 0 view .LVU430
 1457 00d2 C2E7     		b	.L109
 1458              	.LVL170:
 1459              	.L119:
 320:USB/core/usbd_req.c ****       {
 1460              		.loc 1 320 7 is_stmt 1 view .LVU431
 320:USB/core/usbd_req.c ****       {
 1461              		.loc 1 320 10 is_stmt 0 view .LVU432
 1462 00d4 12F0800F 		tst	r2, #128
 1463 00d8 0FD1     		bne	.L131
 331:USB/core/usbd_req.c ****       {
 1464              		.loc 1 331 12 is_stmt 1 view .LVU433
 333:USB/core/usbd_req.c ****         {
 1465              		.loc 1 333 9 view .LVU434
 333:USB/core/usbd_req.c ****         {
 1466              		.loc 1 333 37 is_stmt 0 view .LVU435
 1467 00da 01EB8101 		add	r1, r1, r1, lsl #2
 1468              	.LVL171:
 333:USB/core/usbd_req.c ****         {
 1469              		.loc 1 333 37 view .LVU436
 1470 00de CB00     		lsls	r3, r1, #3
 1471 00e0 2B44     		add	r3, r3, r5
 1472 00e2 93F87633 		ldrb	r3, [r3, #886]	@ zero_extendqisi2
 333:USB/core/usbd_req.c ****         {
 1473              		.loc 1 333 11 view .LVU437
 1474 00e6 CBB1     		cbz	r3, .L124
 335:USB/core/usbd_req.c ****         }
 1475              		.loc 1 335 11 is_stmt 1 view .LVU438
 335:USB/core/usbd_req.c ****         }
 1476              		.loc 1 335 26 is_stmt 0 view .LVU439
 1477 00e8 0E4B     		ldr	r3, .L132
 1478 00ea 0122     		movs	r2, #1
 1479              	.LVL172:
 335:USB/core/usbd_req.c ****         }
 1480              		.loc 1 335 26 view .LVU440
 1481 00ec 1A60     		str	r2, [r3]
ARM GAS  /tmp/cc9npCpM.s 			page 49


 1482              	.L123:
 343:USB/core/usbd_req.c ****                         (uint8_t *)&USBD_ep_status,
 1483              		.loc 1 343 7 is_stmt 1 view .LVU441
 1484 00ee 0222     		movs	r2, #2
 1485 00f0 0C49     		ldr	r1, .L132
 1486 00f2 2846     		mov	r0, r5
 1487 00f4 FFF7FEFF 		bl	USBD_CtlSendData
 1488              	.LVL173:
 346:USB/core/usbd_req.c ****       
 1489              		.loc 1 346 7 view .LVU442
 1490 00f8 AFE7     		b	.L109
 1491              	.LVL174:
 1492              	.L131:
 322:USB/core/usbd_req.c ****         {
 1493              		.loc 1 322 9 view .LVU443
 322:USB/core/usbd_req.c ****         {
 1494              		.loc 1 322 36 is_stmt 0 view .LVU444
 1495 00fa 01F07F01 		and	r1, r1, #127
 1496              	.LVL175:
 322:USB/core/usbd_req.c ****         {
 1497              		.loc 1 322 43 view .LVU445
 1498 00fe 01EB8101 		add	r1, r1, r1, lsl #2
 1499 0102 CB00     		lsls	r3, r1, #3
 1500 0104 2B44     		add	r3, r3, r5
 1501 0106 93F81E31 		ldrb	r3, [r3, #286]	@ zero_extendqisi2
 322:USB/core/usbd_req.c ****         {
 1502              		.loc 1 322 11 view .LVU446
 1503 010a 1BB1     		cbz	r3, .L122
 324:USB/core/usbd_req.c ****         }
 1504              		.loc 1 324 11 is_stmt 1 view .LVU447
 324:USB/core/usbd_req.c ****         }
 1505              		.loc 1 324 26 is_stmt 0 view .LVU448
 1506 010c 054B     		ldr	r3, .L132
 1507 010e 0122     		movs	r2, #1
 1508              	.LVL176:
 324:USB/core/usbd_req.c ****         }
 1509              		.loc 1 324 26 view .LVU449
 1510 0110 1A60     		str	r2, [r3]
 1511 0112 ECE7     		b	.L123
 1512              	.LVL177:
 1513              	.L122:
 328:USB/core/usbd_req.c ****         }
 1514              		.loc 1 328 11 is_stmt 1 view .LVU450
 328:USB/core/usbd_req.c ****         }
 1515              		.loc 1 328 26 is_stmt 0 view .LVU451
 1516 0114 034B     		ldr	r3, .L132
 1517 0116 0022     		movs	r2, #0
 1518              	.LVL178:
 328:USB/core/usbd_req.c ****         }
 1519              		.loc 1 328 26 view .LVU452
 1520 0118 1A60     		str	r2, [r3]
 1521 011a E8E7     		b	.L123
 1522              	.LVL179:
 1523              	.L124:
 340:USB/core/usbd_req.c ****         }      
 1524              		.loc 1 340 11 is_stmt 1 view .LVU453
 340:USB/core/usbd_req.c ****         }      
ARM GAS  /tmp/cc9npCpM.s 			page 50


 1525              		.loc 1 340 26 is_stmt 0 view .LVU454
 1526 011c 014B     		ldr	r3, .L132
 1527 011e 0022     		movs	r2, #0
 1528              	.LVL180:
 340:USB/core/usbd_req.c ****         }      
 1529              		.loc 1 340 26 view .LVU455
 1530 0120 1A60     		str	r2, [r3]
 1531 0122 E4E7     		b	.L123
 1532              	.L133:
 1533              		.align	2
 1534              	.L132:
 1535 0124 00000000 		.word	.LANCHOR3
 1536              		.cfi_endproc
 1537              	.LFE128:
 1539              		.section	.text.USBD_GetString,"ax",%progbits
 1540              		.align	1
 1541              		.global	USBD_GetString
 1542              		.syntax unified
 1543              		.thumb
 1544              		.thumb_func
 1545              		.fpu fpv4-sp-d16
 1547              	USBD_GetString:
 1548              	.LVL181:
 1549              	.LFB138:
 819:USB/core/usbd_req.c ****   uint8_t idx = 0;
 1550              		.loc 1 819 1 is_stmt 1 view -0
 1551              		.cfi_startproc
 1552              		@ args = 0, pretend = 0, frame = 0
 1553              		@ frame_needed = 0, uses_anonymous_args = 0
 820:USB/core/usbd_req.c ****   
 1554              		.loc 1 820 3 view .LVU457
 822:USB/core/usbd_req.c ****   {
 1555              		.loc 1 822 3 view .LVU458
 822:USB/core/usbd_req.c ****   {
 1556              		.loc 1 822 6 is_stmt 0 view .LVU459
 1557 0000 C8B1     		cbz	r0, .L139
 819:USB/core/usbd_req.c ****   uint8_t idx = 0;
 1558              		.loc 1 819 1 view .LVU460
 1559 0002 70B5     		push	{r4, r5, r6, lr}
 1560              	.LCFI14:
 1561              		.cfi_def_cfa_offset 16
 1562              		.cfi_offset 4, -16
 1563              		.cfi_offset 5, -12
 1564              		.cfi_offset 6, -8
 1565              		.cfi_offset 14, -4
 1566 0004 0D46     		mov	r5, r1
 1567 0006 1646     		mov	r6, r2
 1568 0008 0446     		mov	r4, r0
 824:USB/core/usbd_req.c ****     unicode[idx++] = *len;
 1569              		.loc 1 824 5 is_stmt 1 view .LVU461
 824:USB/core/usbd_req.c ****     unicode[idx++] = *len;
 1570              		.loc 1 824 13 is_stmt 0 view .LVU462
 1571 000a FFF7FEFF 		bl	USBD_GetLen
 1572              	.LVL182:
 824:USB/core/usbd_req.c ****     unicode[idx++] = *len;
 1573              		.loc 1 824 35 view .LVU463
 1574 000e 0130     		adds	r0, r0, #1
ARM GAS  /tmp/cc9npCpM.s 			page 51


 824:USB/core/usbd_req.c ****     unicode[idx++] = *len;
 1575              		.loc 1 824 10 view .LVU464
 1576 0010 4000     		lsls	r0, r0, #1
 1577 0012 80B2     		uxth	r0, r0
 1578 0014 3080     		strh	r0, [r6]	@ movhi
 825:USB/core/usbd_req.c ****     unicode[idx++] =  USB_DESC_TYPE_STRING;
 1579              		.loc 1 825 5 is_stmt 1 view .LVU465
 1580              	.LVL183:
 825:USB/core/usbd_req.c ****     unicode[idx++] =  USB_DESC_TYPE_STRING;
 1581              		.loc 1 825 20 is_stmt 0 view .LVU466
 1582 0016 2870     		strb	r0, [r5]
 826:USB/core/usbd_req.c ****     
 1583              		.loc 1 826 5 is_stmt 1 view .LVU467
 1584              	.LVL184:
 826:USB/core/usbd_req.c ****     
 1585              		.loc 1 826 20 is_stmt 0 view .LVU468
 1586 0018 0323     		movs	r3, #3
 1587 001a 6B70     		strb	r3, [r5, #1]
 828:USB/core/usbd_req.c ****     {
 1588              		.loc 1 828 5 is_stmt 1 view .LVU469
 826:USB/core/usbd_req.c ****     
 1589              		.loc 1 826 16 is_stmt 0 view .LVU470
 1590 001c 0223     		movs	r3, #2
 1591              	.LVL185:
 1592              	.L136:
 828:USB/core/usbd_req.c ****     {
 1593              		.loc 1 828 12 view .LVU471
 1594 001e 2178     		ldrb	r1, [r4]	@ zero_extendqisi2
 828:USB/core/usbd_req.c ****     {
 1595              		.loc 1 828 11 view .LVU472
 1596 0020 41B1     		cbz	r1, .L142
 830:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 1597              		.loc 1 830 7 is_stmt 1 view .LVU473
 830:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 1598              		.loc 1 830 29 is_stmt 0 view .LVU474
 1599 0022 0134     		adds	r4, r4, #1
 1600              	.LVL186:
 830:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 1601              		.loc 1 830 18 view .LVU475
 1602 0024 5A1C     		adds	r2, r3, #1
 1603 0026 D2B2     		uxtb	r2, r2
 1604              	.LVL187:
 830:USB/core/usbd_req.c ****       unicode[idx++] =  0x00;
 1605              		.loc 1 830 22 view .LVU476
 1606 0028 E954     		strb	r1, [r5, r3]
 831:USB/core/usbd_req.c ****     }
 1607              		.loc 1 831 7 is_stmt 1 view .LVU477
 831:USB/core/usbd_req.c ****     }
 1608              		.loc 1 831 18 is_stmt 0 view .LVU478
 1609 002a 0233     		adds	r3, r3, #2
 1610 002c DBB2     		uxtb	r3, r3
 1611              	.LVL188:
 831:USB/core/usbd_req.c ****     }
 1612              		.loc 1 831 22 view .LVU479
 1613 002e 0021     		movs	r1, #0
 1614 0030 A954     		strb	r1, [r5, r2]
 1615 0032 F4E7     		b	.L136
ARM GAS  /tmp/cc9npCpM.s 			page 52


 1616              	.L142:
 834:USB/core/usbd_req.c **** 
 1617              		.loc 1 834 1 view .LVU480
 1618 0034 70BD     		pop	{r4, r5, r6, pc}
 1619              	.LVL189:
 1620              	.L139:
 1621              	.LCFI15:
 1622              		.cfi_def_cfa_offset 0
 1623              		.cfi_restore 4
 1624              		.cfi_restore 5
 1625              		.cfi_restore 6
 1626              		.cfi_restore 14
 834:USB/core/usbd_req.c **** 
 1627              		.loc 1 834 1 view .LVU481
 1628 0036 7047     		bx	lr
 1629              		.cfi_endproc
 1630              	.LFE138:
 1632              		.comm	USBD_StrDesc,255,4
 1633              		.global	USBD_cfg_status
 1634              		.global	USBD_default_cfg
 1635              		.global	USBD_ep_status
 1636              		.section	.bss.USBD_cfg_status,"aw",%nobits
 1637              		.align	2
 1638              		.set	.LANCHOR2,. + 0
 1641              	USBD_cfg_status:
 1642 0000 00000000 		.space	4
 1643              		.section	.bss.USBD_default_cfg,"aw",%nobits
 1644              		.align	2
 1645              		.set	.LANCHOR1,. + 0
 1648              	USBD_default_cfg:
 1649 0000 00000000 		.space	4
 1650              		.section	.bss.USBD_ep_status,"aw",%nobits
 1651              		.align	2
 1652              		.set	.LANCHOR3,. + 0
 1655              	USBD_ep_status:
 1656 0000 00000000 		.space	4
 1657              		.section	.bss.cfgidx.11283,"aw",%nobits
 1658              		.set	.LANCHOR0,. + 0
 1661              	cfgidx.11283:
 1662 0000 00       		.space	1
 1663              		.text
 1664              	.Letext0:
 1665              		.file 2 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1666              		.file 3 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1667              		.file 4 "F4_CORE/core_cm4.h"
 1668              		.file 5 "USER/system_stm32f4xx.h"
 1669              		.file 6 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1670              		.file 7 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1671              		.file 8 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1672              		.file 9 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1673              		.file 10 "USB/core/usb_regs.h"
 1674              		.file 11 "USB/core/usb_core.h"
 1675              		.file 12 "USB/core/usbd_core.h"
 1676              		.file 13 "USB/core/usbd_desc.h"
 1677              		.file 14 "USB/core/usb_dcd.h"
 1678              		.file 15 "USB/core/usbd_ioreq.h"
ARM GAS  /tmp/cc9npCpM.s 			page 53


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_req.c
     /tmp/cc9npCpM.s:18     .text.USBD_GetLen:0000000000000000 $t
     /tmp/cc9npCpM.s:25     .text.USBD_GetLen:0000000000000000 USBD_GetLen
     /tmp/cc9npCpM.s:68     .text.USBD_SetFeature:0000000000000000 $t
     /tmp/cc9npCpM.s:74     .text.USBD_SetFeature:0000000000000000 USBD_SetFeature
     /tmp/cc9npCpM.s:148    .text.USBD_SetFeature:000000000000003c $d
     /tmp/cc9npCpM.s:214    .text.USBD_SetFeature:000000000000007c $d
     /tmp/cc9npCpM.s:219    .text.USBD_ParseSetupRequest:0000000000000000 $t
     /tmp/cc9npCpM.s:226    .text.USBD_ParseSetupRequest:0000000000000000 USBD_ParseSetupRequest
     /tmp/cc9npCpM.s:278    .text.USBD_CtlError:0000000000000000 $t
     /tmp/cc9npCpM.s:285    .text.USBD_CtlError:0000000000000000 USBD_CtlError
     /tmp/cc9npCpM.s:321    .text.USBD_GetDescriptor:0000000000000000 $t
     /tmp/cc9npCpM.s:327    .text.USBD_GetDescriptor:0000000000000000 USBD_GetDescriptor
     /tmp/cc9npCpM.s:360    .text.USBD_GetDescriptor:0000000000000016 $d
     /tmp/cc9npCpM.s:457    .text.USBD_GetDescriptor:0000000000000084 $d
     /tmp/cc9npCpM.s:463    .text.USBD_GetDescriptor:000000000000008a $t
     /tmp/cc9npCpM.s:604    .text.USBD_SetAddress:0000000000000000 $t
     /tmp/cc9npCpM.s:610    .text.USBD_SetAddress:0000000000000000 USBD_SetAddress
     /tmp/cc9npCpM.s:698    .text.USBD_SetConfig:0000000000000000 $t
     /tmp/cc9npCpM.s:704    .text.USBD_SetConfig:0000000000000000 USBD_SetConfig
     /tmp/cc9npCpM.s:840    .text.USBD_SetConfig:0000000000000088 $d
     /tmp/cc9npCpM.s:845    .text.USBD_GetConfig:0000000000000000 $t
     /tmp/cc9npCpM.s:851    .text.USBD_GetConfig:0000000000000000 USBD_GetConfig
     /tmp/cc9npCpM.s:917    .text.USBD_GetConfig:0000000000000038 $d
     /tmp/cc9npCpM.s:922    .text.USBD_GetStatus:0000000000000000 $t
     /tmp/cc9npCpM.s:928    .text.USBD_GetStatus:0000000000000000 USBD_GetStatus
     /tmp/cc9npCpM.s:986    .text.USBD_GetStatus:0000000000000030 $d
     /tmp/cc9npCpM.s:991    .text.USBD_ClrFeature:0000000000000000 $t
     /tmp/cc9npCpM.s:997    .text.USBD_ClrFeature:0000000000000000 USBD_ClrFeature
     /tmp/cc9npCpM.s:1055   .text.USBD_StdDevReq:0000000000000000 $t
     /tmp/cc9npCpM.s:1062   .text.USBD_StdDevReq:0000000000000000 USBD_StdDevReq
     /tmp/cc9npCpM.s:1085   .text.USBD_StdDevReq:000000000000000c $d
     /tmp/cc9npCpM.s:1095   .text.USBD_StdDevReq:0000000000000016 $t
     /tmp/cc9npCpM.s:1159   .text.USBD_StdItfReq:0000000000000000 $t
     /tmp/cc9npCpM.s:1166   .text.USBD_StdItfReq:0000000000000000 USBD_StdItfReq
     /tmp/cc9npCpM.s:1238   .text.USBD_StdEPReq:0000000000000000 $t
     /tmp/cc9npCpM.s:1245   .text.USBD_StdEPReq:0000000000000000 USBD_StdEPReq
     /tmp/cc9npCpM.s:1535   .text.USBD_StdEPReq:0000000000000124 $d
     /tmp/cc9npCpM.s:1540   .text.USBD_GetString:0000000000000000 $t
     /tmp/cc9npCpM.s:1547   .text.USBD_GetString:0000000000000000 USBD_GetString
                            *COM*:00000000000000ff USBD_StrDesc
     /tmp/cc9npCpM.s:1641   .bss.USBD_cfg_status:0000000000000000 USBD_cfg_status
     /tmp/cc9npCpM.s:1648   .bss.USBD_default_cfg:0000000000000000 USBD_default_cfg
     /tmp/cc9npCpM.s:1655   .bss.USBD_ep_status:0000000000000000 USBD_ep_status
     /tmp/cc9npCpM.s:1637   .bss.USBD_cfg_status:0000000000000000 $d
     /tmp/cc9npCpM.s:1644   .bss.USBD_default_cfg:0000000000000000 $d
     /tmp/cc9npCpM.s:1651   .bss.USBD_ep_status:0000000000000000 $d
     /tmp/cc9npCpM.s:1661   .bss.cfgidx.11283:0000000000000000 cfgidx.11283
     /tmp/cc9npCpM.s:1662   .bss.cfgidx.11283:0000000000000000 $d
     /tmp/cc9npCpM.s:153    .text.USBD_SetFeature:0000000000000041 $d
     /tmp/cc9npCpM.s:153    .text.USBD_SetFeature:0000000000000042 $t
     /tmp/cc9npCpM.s:367    .text.USBD_GetDescriptor:000000000000001d $d
     /tmp/cc9npCpM.s:367    .text.USBD_GetDescriptor:000000000000001e $t

UNDEFINED SYMBOLS
USBD_CtlSendStatus
ARM GAS  /tmp/cc9npCpM.s 			page 54


SET_TEST_MODE
DCD_EP_Stall
USB_OTG_EP0_OutStart
USBD_CtlSendData
DCD_EP_SetAddress
USBD_SetCfg
USBD_ClrCfg
DCD_EP_ClrStall
