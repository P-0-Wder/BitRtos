ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"SrvOled.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.SrvOled_BusInit,"ax",%progbits
  22              		.align	2
  23              		.thumb
  24              		.thumb_func
  26              	SrvOled_BusInit:
  27              	.LFB123:
  28              		.file 1 "Dsp/screen/service/SrvOled.c"
   1:Dsp/screen/service/SrvOled.c **** #include "oled1306.h"
   2:Dsp/screen/service/SrvOled.c **** #include "drv_spi.h"
   3:Dsp/screen/service/SrvOled.c **** #include "drv_gpio.h"
   4:Dsp/screen/service/SrvOled.c **** #include "OledIO_Def.h"
   5:Dsp/screen/service/SrvOled.c **** #include "SrvOled.h"
   6:Dsp/screen/service/SrvOled.c **** 
   7:Dsp/screen/service/SrvOled.c **** /* internal varible definition */
   8:Dsp/screen/service/SrvOled.c **** static Oled_Obj_TypeDef Oled1306Obj;
   9:Dsp/screen/service/SrvOled.c **** static DrvGPIO_Obj_TypeDef DC_IO_Obj;
  10:Dsp/screen/service/SrvOled.c **** static DrvGPIO_Obj_TypeDef RS_IO_Obj;
  11:Dsp/screen/service/SrvOled.c **** static DrvSpi_Obj_TypeDef BusInit_Structure;
  12:Dsp/screen/service/SrvOled.c **** static bool SrvPerInit_State = false;
  13:Dsp/screen/service/SrvOled.c **** static bool SrvInit_State = false;
  14:Dsp/screen/service/SrvOled.c **** 
  15:Dsp/screen/service/SrvOled.c **** /* internal function definition */
  16:Dsp/screen/service/SrvOled.c **** static bool SrvOled_PreInit(void);
  17:Dsp/screen/service/SrvOled.c **** static void SrvOled_BusInit(SPI_List BusID);
  18:Dsp/screen/service/SrvOled.c **** 
  19:Dsp/screen/service/SrvOled.c **** /* external function definition */
  20:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Init(void);
  21:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Fresh(uint8_t **bit_map);
  22:Dsp/screen/service/SrvOled.c **** static SrvOled_DspRange SrvOled_GetDev_DspRange(void);
  23:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Routate(Oled_Routate_Direction_Def routate_dir);
  24:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Mirror(Oled_Mirror_Direction_Def mirror_dir);
  25:Dsp/screen/service/SrvOled.c **** static bool SrvOled_SetBright(Oled_Bright_Level level);
  26:Dsp/screen/service/SrvOled.c **** static bool SrvOled_SetBright(Oled_Bright_Level level);
  27:Dsp/screen/service/SrvOled.c **** 
  28:Dsp/screen/service/SrvOled.c **** SrvOled_TypeDef SrvOled = {
  29:Dsp/screen/service/SrvOled.c ****     .init = SrvOled_Init,
  30:Dsp/screen/service/SrvOled.c ****     .bright = SrvOled_SetBright,
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 2


  31:Dsp/screen/service/SrvOled.c ****     .fresh = SrvOled_Fresh,
  32:Dsp/screen/service/SrvOled.c ****     .get_range = SrvOled_GetDev_DspRange,
  33:Dsp/screen/service/SrvOled.c **** };
  34:Dsp/screen/service/SrvOled.c **** 
  35:Dsp/screen/service/SrvOled.c **** /******************************* IO & Bus Init Function Section ***********************************
  36:Dsp/screen/service/SrvOled.c **** 
  37:Dsp/screen/service/SrvOled.c **** static void SrvOled_BusInit(SPI_List BusID)
  38:Dsp/screen/service/SrvOled.c **** {
  29              		.loc 1 38 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
  39:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.SPIx = BusID;
  39              		.loc 1 39 0
  40 0002 084B     		ldr	r3, .L3
  41 0004 1870     		strb	r0, [r3]
  40:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.speed = SPI_CLOCK_ULTRAFAST;
  42              		.loc 1 40 0
  43 0006 0422     		movs	r2, #4
  44 0008 5A70     		strb	r2, [r3, #1]
  41:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.CPOL = SPI_CPOL_High;
  45              		.loc 1 41 0
  46 000a 0222     		movs	r2, #2
  47 000c 5A80     		strh	r2, [r3, #2]	@ movhi
  42:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.CPHA = SPI_CPHA_2Edge;
  48              		.loc 1 42 0
  49 000e 0122     		movs	r2, #1
  50 0010 9A80     		strh	r2, [r3, #4]	@ movhi
  43:Dsp/screen/service/SrvOled.c **** 
  44:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.BusObj = &BusInit_Structure;
  51              		.loc 1 44 0
  52 0012 054A     		ldr	r2, .L3+4
  53 0014 C2F80130 		str	r3, [r2, #1]	@ unaligned
  45:Dsp/screen/service/SrvOled.c **** 
  46:Dsp/screen/service/SrvOled.c ****     GenSPI_Drv.open(&BusInit_Structure);
  54              		.loc 1 46 0
  55 0018 044A     		ldr	r2, .L3+8
  56 001a 1268     		ldr	r2, [r2]
  57 001c 1846     		mov	r0, r3
  58              	.LVL1:
  59 001e 9047     		blx	r2
  60              	.LVL2:
  61 0020 08BD     		pop	{r3, pc}
  62              	.L4:
  63 0022 00BF     		.align	2
  64              	.L3:
  65 0024 00000000 		.word	.LANCHOR0
  66 0028 00000000 		.word	.LANCHOR1
  67 002c 00000000 		.word	GenSPI_Drv
  68              		.cfi_endproc
  69              	.LFE123:
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 3


  71              		.section	.text.SrvOled_BusTransmit,"ax",%progbits
  72              		.align	2
  73              		.thumb
  74              		.thumb_func
  76              	SrvOled_BusTransmit:
  77              	.LFB124:
  47:Dsp/screen/service/SrvOled.c **** }
  48:Dsp/screen/service/SrvOled.c **** 
  49:Dsp/screen/service/SrvOled.c **** static void SrvOled_BusTransmit(uint8_t tx)
  50:Dsp/screen/service/SrvOled.c **** {
  78              		.loc 1 50 0
  79              		.cfi_startproc
  80              		@ args = 0, pretend = 0, frame = 0
  81              		@ frame_needed = 0, uses_anonymous_args = 0
  82              	.LVL3:
  83 0000 08B5     		push	{r3, lr}
  84              	.LCFI1:
  85              		.cfi_def_cfa_offset 8
  86              		.cfi_offset 3, -8
  87              		.cfi_offset 14, -4
  51:Dsp/screen/service/SrvOled.c ****     GenSPI_Drv.transmit((DrvSpi_Obj_TypeDef *)Oled1306Obj.BusObj, tx);
  88              		.loc 1 51 0
  89 0002 044B     		ldr	r3, .L7
  90 0004 DB68     		ldr	r3, [r3, #12]
  91 0006 0146     		mov	r1, r0
  92 0008 034A     		ldr	r2, .L7+4
  93 000a D2F80100 		ldr	r0, [r2, #1]	@ unaligned
  94              	.LVL4:
  95 000e 9847     		blx	r3
  96              	.LVL5:
  97 0010 08BD     		pop	{r3, pc}
  98              	.L8:
  99 0012 00BF     		.align	2
 100              	.L7:
 101 0014 00000000 		.word	GenSPI_Drv
 102 0018 00000000 		.word	.LANCHOR1
 103              		.cfi_endproc
 104              	.LFE124:
 106              		.section	.text.SrvOled_DCPin_Init,"ax",%progbits
 107              		.align	2
 108              		.thumb
 109              		.thumb_func
 111              	SrvOled_DCPin_Init:
 112              	.LFB125:
  52:Dsp/screen/service/SrvOled.c **** }
  53:Dsp/screen/service/SrvOled.c **** 
  54:Dsp/screen/service/SrvOled.c **** static void SrvOled_DCPin_Init(void)
  55:Dsp/screen/service/SrvOled.c **** {
 113              		.loc 1 55 0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 0
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117 0000 70B5     		push	{r4, r5, r6, lr}
 118              	.LCFI2:
 119              		.cfi_def_cfa_offset 16
 120              		.cfi_offset 4, -16
 121              		.cfi_offset 5, -12
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 4


 122              		.cfi_offset 6, -8
 123              		.cfi_offset 14, -4
  56:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.CLK = OLED1306_DC_PORT_CLK;
 124              		.loc 1 56 0
 125 0002 0A4C     		ldr	r4, .L11
 126 0004 0823     		movs	r3, #8
 127 0006 2360     		str	r3, [r4]
  57:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.Port = OLED1306_DC_PORT;
 128              		.loc 1 57 0
 129 0008 094B     		ldr	r3, .L11+4
 130 000a A360     		str	r3, [r4, #8]
  58:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.Pin = OLED1306_DC_PIN;
 131              		.loc 1 58 0
 132 000c 0223     		movs	r3, #2
 133 000e A380     		strh	r3, [r4, #4]	@ movhi
  59:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.IO_Type = GPIO_Output;
 134              		.loc 1 59 0
 135 0010 0025     		movs	r5, #0
 136 0012 2573     		strb	r5, [r4, #12]
  60:Dsp/screen/service/SrvOled.c **** 
  61:Dsp/screen/service/SrvOled.c ****     DrvGPIO.open(&DC_IO_Obj, DC_IO_Obj.IO_Type, NULL);
 137              		.loc 1 61 0
 138 0014 074E     		ldr	r6, .L11+8
 139 0016 3368     		ldr	r3, [r6]
 140 0018 2A46     		mov	r2, r5
 141 001a 2946     		mov	r1, r5
 142 001c 2046     		mov	r0, r4
 143 001e 9847     		blx	r3
 144              	.LVL6:
  62:Dsp/screen/service/SrvOled.c ****     DrvGPIO.set(&DC_IO_Obj, HI);
 145              		.loc 1 62 0
 146 0020 B368     		ldr	r3, [r6, #8]
 147 0022 2946     		mov	r1, r5
 148 0024 2046     		mov	r0, r4
 149 0026 9847     		blx	r3
 150              	.LVL7:
 151 0028 70BD     		pop	{r4, r5, r6, pc}
 152              	.L12:
 153 002a 00BF     		.align	2
 154              	.L11:
 155 002c 00000000 		.word	.LANCHOR2
 156 0030 000C0240 		.word	1073875968
 157 0034 00000000 		.word	DrvGPIO
 158              		.cfi_endproc
 159              	.LFE125:
 161              		.section	.text.SrvOled_RSPin_Init,"ax",%progbits
 162              		.align	2
 163              		.thumb
 164              		.thumb_func
 166              	SrvOled_RSPin_Init:
 167              	.LFB126:
  63:Dsp/screen/service/SrvOled.c **** }
  64:Dsp/screen/service/SrvOled.c **** 
  65:Dsp/screen/service/SrvOled.c **** static void SrvOled_RSPin_Init(void)
  66:Dsp/screen/service/SrvOled.c **** {
 168              		.loc 1 66 0
 169              		.cfi_startproc
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 5


 170              		@ args = 0, pretend = 0, frame = 0
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 172 0000 70B5     		push	{r4, r5, r6, lr}
 173              	.LCFI3:
 174              		.cfi_def_cfa_offset 16
 175              		.cfi_offset 4, -16
 176              		.cfi_offset 5, -12
 177              		.cfi_offset 6, -8
 178              		.cfi_offset 14, -4
  67:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.CLK = OLED1306_RS_PORT_CLK;
 179              		.loc 1 67 0
 180 0002 0A4C     		ldr	r4, .L15
 181 0004 0823     		movs	r3, #8
 182 0006 2360     		str	r3, [r4]
  68:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.Port = OLED1306_RS_PORT;
 183              		.loc 1 68 0
 184 0008 094B     		ldr	r3, .L15+4
 185 000a A360     		str	r3, [r4, #8]
  69:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.Pin = OLED1306_RS_PIN;
 186              		.loc 1 69 0
 187 000c 0123     		movs	r3, #1
 188 000e A380     		strh	r3, [r4, #4]	@ movhi
  70:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.IO_Type = GPIO_Output;
 189              		.loc 1 70 0
 190 0010 0025     		movs	r5, #0
 191 0012 2573     		strb	r5, [r4, #12]
  71:Dsp/screen/service/SrvOled.c **** 
  72:Dsp/screen/service/SrvOled.c ****     DrvGPIO.open(&RS_IO_Obj, RS_IO_Obj.IO_Type, NULL);
 192              		.loc 1 72 0
 193 0014 074E     		ldr	r6, .L15+8
 194 0016 3368     		ldr	r3, [r6]
 195 0018 2A46     		mov	r2, r5
 196 001a 2946     		mov	r1, r5
 197 001c 2046     		mov	r0, r4
 198 001e 9847     		blx	r3
 199              	.LVL8:
  73:Dsp/screen/service/SrvOled.c ****     DrvGPIO.set(&RS_IO_Obj, HI);
 200              		.loc 1 73 0
 201 0020 B368     		ldr	r3, [r6, #8]
 202 0022 2946     		mov	r1, r5
 203 0024 2046     		mov	r0, r4
 204 0026 9847     		blx	r3
 205              	.LVL9:
 206 0028 70BD     		pop	{r4, r5, r6, pc}
 207              	.L16:
 208 002a 00BF     		.align	2
 209              	.L15:
 210 002c 00000000 		.word	.LANCHOR3
 211 0030 000C0240 		.word	1073875968
 212 0034 00000000 		.word	DrvGPIO
 213              		.cfi_endproc
 214              	.LFE126:
 216              		.section	.text.SrvOled_DCPin_Ctl,"ax",%progbits
 217              		.align	2
 218              		.thumb
 219              		.thumb_func
 221              	SrvOled_DCPin_Ctl:
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 6


 222              	.LFB127:
  74:Dsp/screen/service/SrvOled.c **** }
  75:Dsp/screen/service/SrvOled.c **** 
  76:Dsp/screen/service/SrvOled.c **** static void SrvOled_DCPin_Ctl(Oled_DC_State_List state)
  77:Dsp/screen/service/SrvOled.c **** {
 223              		.loc 1 77 0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227              	.LVL10:
 228 0000 08B5     		push	{r3, lr}
 229              	.LCFI4:
 230              		.cfi_def_cfa_offset 8
 231              		.cfi_offset 3, -8
 232              		.cfi_offset 14, -4
 233              	.LVL11:
  78:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
  79:Dsp/screen/service/SrvOled.c **** 
  80:Dsp/screen/service/SrvOled.c ****     if (state == Oled_DC_Enable)
 234              		.loc 1 80 0
 235 0002 18B1     		cbz	r0, .L19
  81:Dsp/screen/service/SrvOled.c ****     {
  82:Dsp/screen/service/SrvOled.c ****         level = GPIO_HIGH;
  83:Dsp/screen/service/SrvOled.c ****     }
  84:Dsp/screen/service/SrvOled.c ****     else if (state == Oled_DC_Disable)
 236              		.loc 1 84 0
 237 0004 0128     		cmp	r0, #1
 238 0006 03D0     		beq	.L20
  78:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
 239              		.loc 1 78 0
 240 0008 0021     		movs	r1, #0
 241 000a 02E0     		b	.L18
 242              	.L19:
  82:Dsp/screen/service/SrvOled.c ****     }
 243              		.loc 1 82 0
 244 000c 0221     		movs	r1, #2
 245 000e 00E0     		b	.L18
 246              	.L20:
  85:Dsp/screen/service/SrvOled.c ****         level = GPIO_LOW;
 247              		.loc 1 85 0
 248 0010 0121     		movs	r1, #1
 249              	.L18:
 250              	.LVL12:
  86:Dsp/screen/service/SrvOled.c **** 
  87:Dsp/screen/service/SrvOled.c ****     DrvGPIO.set(&DC_IO_Obj, level);
 251              		.loc 1 87 0
 252 0012 024B     		ldr	r3, .L22
 253 0014 9B68     		ldr	r3, [r3, #8]
 254 0016 0248     		ldr	r0, .L22+4
 255              	.LVL13:
 256 0018 9847     		blx	r3
 257              	.LVL14:
 258 001a 08BD     		pop	{r3, pc}
 259              	.L23:
 260              		.align	2
 261              	.L22:
 262 001c 00000000 		.word	DrvGPIO
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 7


 263 0020 00000000 		.word	.LANCHOR2
 264              		.cfi_endproc
 265              	.LFE127:
 267              		.section	.text.SrvOled_RSPin_Ctl,"ax",%progbits
 268              		.align	2
 269              		.thumb
 270              		.thumb_func
 272              	SrvOled_RSPin_Ctl:
 273              	.LFB128:
  88:Dsp/screen/service/SrvOled.c **** }
  89:Dsp/screen/service/SrvOled.c **** 
  90:Dsp/screen/service/SrvOled.c **** static void SrvOled_RSPin_Ctl(Oled_RS_State_List state)
  91:Dsp/screen/service/SrvOled.c **** {
 274              		.loc 1 91 0
 275              		.cfi_startproc
 276              		@ args = 0, pretend = 0, frame = 0
 277              		@ frame_needed = 0, uses_anonymous_args = 0
 278              	.LVL15:
 279 0000 08B5     		push	{r3, lr}
 280              	.LCFI5:
 281              		.cfi_def_cfa_offset 8
 282              		.cfi_offset 3, -8
 283              		.cfi_offset 14, -4
 284              	.LVL16:
  92:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
  93:Dsp/screen/service/SrvOled.c **** 
  94:Dsp/screen/service/SrvOled.c ****     if (state == Oled_RS_Enable)
 285              		.loc 1 94 0
 286 0002 18B1     		cbz	r0, .L26
  95:Dsp/screen/service/SrvOled.c ****     {
  96:Dsp/screen/service/SrvOled.c ****         level = GPIO_HIGH;
  97:Dsp/screen/service/SrvOled.c ****     }
  98:Dsp/screen/service/SrvOled.c ****     else if (state == Oled_RS_Disable)
 287              		.loc 1 98 0
 288 0004 0128     		cmp	r0, #1
 289 0006 03D0     		beq	.L27
  92:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
 290              		.loc 1 92 0
 291 0008 0021     		movs	r1, #0
 292 000a 02E0     		b	.L25
 293              	.L26:
  96:Dsp/screen/service/SrvOled.c ****     }
 294              		.loc 1 96 0
 295 000c 0221     		movs	r1, #2
 296 000e 00E0     		b	.L25
 297              	.L27:
  99:Dsp/screen/service/SrvOled.c ****         level = GPIO_LOW;
 298              		.loc 1 99 0
 299 0010 0121     		movs	r1, #1
 300              	.L25:
 301              	.LVL17:
 100:Dsp/screen/service/SrvOled.c **** 
 101:Dsp/screen/service/SrvOled.c ****     DrvGPIO.set(&RS_IO_Obj, level);
 302              		.loc 1 101 0
 303 0012 024B     		ldr	r3, .L29
 304 0014 9B68     		ldr	r3, [r3, #8]
 305 0016 0248     		ldr	r0, .L29+4
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 8


 306              	.LVL18:
 307 0018 9847     		blx	r3
 308              	.LVL19:
 309 001a 08BD     		pop	{r3, pc}
 310              	.L30:
 311              		.align	2
 312              	.L29:
 313 001c 00000000 		.word	DrvGPIO
 314 0020 00000000 		.word	.LANCHOR3
 315              		.cfi_endproc
 316              	.LFE128:
 318              		.section	.text.SrvOled_PreInit,"ax",%progbits
 319              		.align	2
 320              		.thumb
 321              		.thumb_func
 323              	SrvOled_PreInit:
 324              	.LFB129:
 102:Dsp/screen/service/SrvOled.c **** }
 103:Dsp/screen/service/SrvOled.c **** 
 104:Dsp/screen/service/SrvOled.c **** /******************************* IO & Bus Init Function Section ***********************************
 105:Dsp/screen/service/SrvOled.c **** 
 106:Dsp/screen/service/SrvOled.c **** static bool SrvOled_PreInit(void)
 107:Dsp/screen/service/SrvOled.c **** {
 325              		.loc 1 107 0
 326              		.cfi_startproc
 327              		@ args = 0, pretend = 0, frame = 0
 328              		@ frame_needed = 0, uses_anonymous_args = 0
 329              		@ link register save eliminated.
 108:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.Bus = Oled_SpiBus;
 330              		.loc 1 108 0
 331 0000 0B4B     		ldr	r3, .L32
 332 0002 0022     		movs	r2, #0
 333 0004 1A70     		strb	r2, [r3]
 109:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.BusID = SPI_1;
 334              		.loc 1 109 0
 335 0006 5A71     		strb	r2, [r3, #5]
 110:Dsp/screen/service/SrvOled.c **** 
 111:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.bus_init = SrvOled_BusInit;
 336              		.loc 1 111 0
 337 0008 0A4A     		ldr	r2, .L32+4
 338 000a C3F81620 		str	r2, [r3, #22]	@ unaligned
 112:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.bus_transmit = SrvOled_BusTransmit;
 339              		.loc 1 112 0
 340 000e 0A4A     		ldr	r2, .L32+8
 341 0010 C3F81A20 		str	r2, [r3, #26]	@ unaligned
 113:Dsp/screen/service/SrvOled.c **** 
 114:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.rs_init = SrvOled_RSPin_Init;
 342              		.loc 1 114 0
 343 0014 094A     		ldr	r2, .L32+12
 344 0016 C3F80620 		str	r2, [r3, #6]	@ unaligned
 115:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.rs_ctl = SrvOled_RSPin_Ctl;
 345              		.loc 1 115 0
 346 001a 094A     		ldr	r2, .L32+16
 347 001c C3F80E20 		str	r2, [r3, #14]	@ unaligned
 116:Dsp/screen/service/SrvOled.c **** 
 117:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.dc_init = SrvOled_DCPin_Init;
 348              		.loc 1 117 0
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 9


 349 0020 084A     		ldr	r2, .L32+20
 350 0022 C3F80A20 		str	r2, [r3, #10]	@ unaligned
 118:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.dc_ctl = SrvOled_DCPin_Ctl;
 351              		.loc 1 118 0
 352 0026 084A     		ldr	r2, .L32+24
 353 0028 C3F81220 		str	r2, [r3, #18]	@ unaligned
 119:Dsp/screen/service/SrvOled.c **** 
 120:Dsp/screen/service/SrvOled.c ****     SrvPerInit_State = true;
 121:Dsp/screen/service/SrvOled.c **** 
 122:Dsp/screen/service/SrvOled.c ****     return SrvPerInit_State;
 123:Dsp/screen/service/SrvOled.c **** }
 354              		.loc 1 123 0
 355 002c 0120     		movs	r0, #1
 356 002e 7047     		bx	lr
 357              	.L33:
 358              		.align	2
 359              	.L32:
 360 0030 00000000 		.word	.LANCHOR1
 361 0034 00000000 		.word	SrvOled_BusInit
 362 0038 00000000 		.word	SrvOled_BusTransmit
 363 003c 00000000 		.word	SrvOled_RSPin_Init
 364 0040 00000000 		.word	SrvOled_RSPin_Ctl
 365 0044 00000000 		.word	SrvOled_DCPin_Init
 366 0048 00000000 		.word	SrvOled_DCPin_Ctl
 367              		.cfi_endproc
 368              	.LFE129:
 370              		.section	.text.SrvOled_Init,"ax",%progbits
 371              		.align	2
 372              		.thumb
 373              		.thumb_func
 375              	SrvOled_Init:
 376              	.LFB130:
 124:Dsp/screen/service/SrvOled.c **** 
 125:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Init(void)
 126:Dsp/screen/service/SrvOled.c **** {
 377              		.loc 1 126 0
 378              		.cfi_startproc
 379              		@ args = 0, pretend = 0, frame = 0
 380              		@ frame_needed = 0, uses_anonymous_args = 0
 381 0000 08B5     		push	{r3, lr}
 382              	.LCFI6:
 383              		.cfi_def_cfa_offset 8
 384              		.cfi_offset 3, -8
 385              		.cfi_offset 14, -4
 127:Dsp/screen/service/SrvOled.c ****     SrvInit_State = false;
 386              		.loc 1 127 0
 387 0002 0022     		movs	r2, #0
 388 0004 074B     		ldr	r3, .L37
 389 0006 1A70     		strb	r2, [r3]
 128:Dsp/screen/service/SrvOled.c **** 
 129:Dsp/screen/service/SrvOled.c ****     if (SrvOled_PreInit())
 390              		.loc 1 129 0
 391 0008 FFF7FEFF 		bl	SrvOled_PreInit
 392              	.LVL20:
 393 000c 38B1     		cbz	r0, .L35
 130:Dsp/screen/service/SrvOled.c ****     {
 131:Dsp/screen/service/SrvOled.c ****         if (DrvOled.init(&Oled1306Obj))
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 10


 394              		.loc 1 131 0
 395 000e 064B     		ldr	r3, .L37+4
 396 0010 1B68     		ldr	r3, [r3]
 397 0012 0648     		ldr	r0, .L37+8
 398 0014 9847     		blx	r3
 399              	.LVL21:
 400 0016 10B1     		cbz	r0, .L35
 132:Dsp/screen/service/SrvOled.c ****         {
 133:Dsp/screen/service/SrvOled.c ****             SrvInit_State = true;
 401              		.loc 1 133 0
 402 0018 0122     		movs	r2, #1
 403 001a 024B     		ldr	r3, .L37
 404 001c 1A70     		strb	r2, [r3]
 405              	.L35:
 134:Dsp/screen/service/SrvOled.c ****         }
 135:Dsp/screen/service/SrvOled.c ****     }
 136:Dsp/screen/service/SrvOled.c **** 
 137:Dsp/screen/service/SrvOled.c ****     return SrvInit_State;
 138:Dsp/screen/service/SrvOled.c **** }
 406              		.loc 1 138 0
 407 001e 014B     		ldr	r3, .L37
 408 0020 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 409 0022 08BD     		pop	{r3, pc}
 410              	.L38:
 411              		.align	2
 412              	.L37:
 413 0024 00000000 		.word	.LANCHOR4
 414 0028 00000000 		.word	DrvOled
 415 002c 00000000 		.word	.LANCHOR1
 416              		.cfi_endproc
 417              	.LFE130:
 419              		.section	.text.SrvOled_Fresh,"ax",%progbits
 420              		.align	2
 421              		.thumb
 422              		.thumb_func
 424              	SrvOled_Fresh:
 425              	.LFB131:
 139:Dsp/screen/service/SrvOled.c **** 
 140:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Fresh(uint8_t **bit_map)
 141:Dsp/screen/service/SrvOled.c **** {
 426              		.loc 1 141 0
 427              		.cfi_startproc
 428              		@ args = 0, pretend = 0, frame = 0
 429              		@ frame_needed = 0, uses_anonymous_args = 0
 430              	.LVL22:
 431 0000 10B5     		push	{r4, lr}
 432              	.LCFI7:
 433              		.cfi_def_cfa_offset 8
 434              		.cfi_offset 4, -8
 435              		.cfi_offset 14, -4
 142:Dsp/screen/service/SrvOled.c ****     if (!SrvInit_State)
 436              		.loc 1 142 0
 437 0002 054B     		ldr	r3, .L42
 438 0004 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 439 0006 24B1     		cbz	r4, .L40
 440 0008 0146     		mov	r1, r0
 143:Dsp/screen/service/SrvOled.c ****         return false;
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 11


 144:Dsp/screen/service/SrvOled.c **** 
 145:Dsp/screen/service/SrvOled.c ****     DrvOled.fresh(&Oled1306Obj, bit_map);
 441              		.loc 1 145 0
 442 000a 044B     		ldr	r3, .L42+4
 443 000c 9B68     		ldr	r3, [r3, #8]
 444 000e 0448     		ldr	r0, .L42+8
 445              	.LVL23:
 446 0010 9847     		blx	r3
 447              	.LVL24:
 448              	.L40:
 146:Dsp/screen/service/SrvOled.c ****     return true;
 147:Dsp/screen/service/SrvOled.c **** }
 449              		.loc 1 147 0
 450 0012 2046     		mov	r0, r4
 451 0014 10BD     		pop	{r4, pc}
 452              	.L43:
 453 0016 00BF     		.align	2
 454              	.L42:
 455 0018 00000000 		.word	.LANCHOR4
 456 001c 00000000 		.word	DrvOled
 457 0020 00000000 		.word	.LANCHOR1
 458              		.cfi_endproc
 459              	.LFE131:
 461              		.section	.text.SrvOled_GetDev_DspRange,"ax",%progbits
 462              		.align	2
 463              		.thumb
 464              		.thumb_func
 466              	SrvOled_GetDev_DspRange:
 467              	.LFB132:
 148:Dsp/screen/service/SrvOled.c **** 
 149:Dsp/screen/service/SrvOled.c **** static SrvOled_DspRange SrvOled_GetDev_DspRange(void)
 150:Dsp/screen/service/SrvOled.c **** {
 468              		.loc 1 150 0
 469              		.cfi_startproc
 470              		@ args = 0, pretend = 0, frame = 8
 471              		@ frame_needed = 0, uses_anonymous_args = 0
 472 0000 10B5     		push	{r4, lr}
 473              	.LCFI8:
 474              		.cfi_def_cfa_offset 8
 475              		.cfi_offset 4, -8
 476              		.cfi_offset 14, -4
 477 0002 82B0     		sub	sp, sp, #8
 478              	.LCFI9:
 479              		.cfi_def_cfa_offset 16
 151:Dsp/screen/service/SrvOled.c ****     SrvOled_DspRange range;
 152:Dsp/screen/service/SrvOled.c **** 
 153:Dsp/screen/service/SrvOled.c ****     range.width = DrvOled.get_max_width();
 480              		.loc 1 153 0
 481 0004 0A4C     		ldr	r4, .L46
 482 0006 6369     		ldr	r3, [r4, #20]
 483 0008 9847     		blx	r3
 484              	.LVL25:
 485 000a 8DF80000 		strb	r0, [sp]
 154:Dsp/screen/service/SrvOled.c ****     range.height = DrvOled.get_max_height();
 486              		.loc 1 154 0
 487 000e A369     		ldr	r3, [r4, #24]
 488 0010 9847     		blx	r3
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 12


 489              	.LVL26:
 490 0012 8DF80100 		strb	r0, [sp, #1]
 155:Dsp/screen/service/SrvOled.c **** 
 156:Dsp/screen/service/SrvOled.c ****     return range;
 491              		.loc 1 156 0
 492 0016 BDF80030 		ldrh	r3, [sp]
 493 001a 0020     		movs	r0, #0
 494 001c DAB2     		uxtb	r2, r3
 495 001e 62F30700 		bfi	r0, r2, #0, #8
 496 0022 C3F30723 		ubfx	r3, r3, #8, #8
 497 0026 63F30F20 		bfi	r0, r3, #8, #8
 157:Dsp/screen/service/SrvOled.c **** }
 498              		.loc 1 157 0
 499 002a 02B0     		add	sp, sp, #8
 500              	.LCFI10:
 501              		.cfi_def_cfa_offset 8
 502              		@ sp needed
 503 002c 10BD     		pop	{r4, pc}
 504              	.L47:
 505 002e 00BF     		.align	2
 506              	.L46:
 507 0030 00000000 		.word	DrvOled
 508              		.cfi_endproc
 509              	.LFE132:
 511              		.section	.text.SrvOled_SetBright,"ax",%progbits
 512              		.align	2
 513              		.thumb
 514              		.thumb_func
 516              	SrvOled_SetBright:
 517              	.LFB133:
 158:Dsp/screen/service/SrvOled.c **** 
 159:Dsp/screen/service/SrvOled.c **** static bool SrvOled_SetBright(Oled_Bright_Level level)
 160:Dsp/screen/service/SrvOled.c **** {
 518              		.loc 1 160 0
 519              		.cfi_startproc
 520              		@ args = 0, pretend = 0, frame = 0
 521              		@ frame_needed = 0, uses_anonymous_args = 0
 522              	.LVL27:
 523 0000 08B5     		push	{r3, lr}
 524              	.LCFI11:
 525              		.cfi_def_cfa_offset 8
 526              		.cfi_offset 3, -8
 527              		.cfi_offset 14, -4
 161:Dsp/screen/service/SrvOled.c ****     if (SrvOled.bright == NULL)
 528              		.loc 1 161 0
 529 0002 034B     		ldr	r3, .L52
 530 0004 9B68     		ldr	r3, [r3, #8]
 531 0006 0BB1     		cbz	r3, .L50
 162:Dsp/screen/service/SrvOled.c ****         return false;
 163:Dsp/screen/service/SrvOled.c **** 
 164:Dsp/screen/service/SrvOled.c ****     return SrvOled.bright(level);
 532              		.loc 1 164 0
 533 0008 9847     		blx	r3
 534              	.LVL28:
 535 000a 08BD     		pop	{r3, pc}
 536              	.LVL29:
 537              	.L50:
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 13


 162:Dsp/screen/service/SrvOled.c ****         return false;
 538              		.loc 1 162 0
 539 000c 0020     		movs	r0, #0
 540              	.LVL30:
 165:Dsp/screen/service/SrvOled.c **** }
 541              		.loc 1 165 0
 542 000e 08BD     		pop	{r3, pc}
 543              	.L53:
 544              		.align	2
 545              	.L52:
 546 0010 00000000 		.word	.LANCHOR5
 547              		.cfi_endproc
 548              	.LFE133:
 550              		.global	SrvOled
 551              		.section	.bss.Oled1306Obj,"aw",%nobits
 552              		.align	2
 553              		.set	.LANCHOR1,. + 0
 556              	Oled1306Obj:
 557 0000 00000000 		.space	30
 557      00000000 
 557      00000000 
 557      00000000 
 557      00000000 
 558              		.section	.bss.RS_IO_Obj,"aw",%nobits
 559              		.align	2
 560              		.set	.LANCHOR3,. + 0
 563              	RS_IO_Obj:
 564 0000 00000000 		.space	16
 564      00000000 
 564      00000000 
 564      00000000 
 565              		.section	.bss.DC_IO_Obj,"aw",%nobits
 566              		.align	2
 567              		.set	.LANCHOR2,. + 0
 570              	DC_IO_Obj:
 571 0000 00000000 		.space	16
 571      00000000 
 571      00000000 
 571      00000000 
 572              		.section	.data.SrvOled,"aw",%progbits
 573              		.align	2
 574              		.set	.LANCHOR5,. + 0
 577              	SrvOled:
 578 0000 00000000 		.word	SrvOled_Init
 579 0004 00000000 		.word	SrvOled_Fresh
 580 0008 00000000 		.word	SrvOled_SetBright
 581 000c 00000000 		.word	SrvOled_GetDev_DspRange
 582              		.section	.bss.SrvInit_State,"aw",%nobits
 583              		.set	.LANCHOR4,. + 0
 586              	SrvInit_State:
 587 0000 00       		.space	1
 588              		.section	.bss.BusInit_Structure,"aw",%nobits
 589              		.align	2
 590              		.set	.LANCHOR0,. + 0
 593              	BusInit_Structure:
 594 0000 00000000 		.space	6
 594      0000
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 14


 595              		.text
 596              	.Letext0:
 597              		.file 2 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\machine\\_default_types.h"
 598              		.file 3 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\sys\\_stdint.h"
 599              		.file 4 "Dsp/screen/OledIO_Definition/Oled_DspProp_Def.h"
 600              		.file 5 "Dsp/screen/device/oled1306.h"
 601              		.file 6 "USER/stm32f4xx.h"
 602              		.file 7 "Bsp/periph_spi.h"
 603              		.file 8 "SYS/data_structure/queue.h"
 604              		.file 9 "Drv/drv_spi.h"
 605              		.file 10 "Bsp/periph_gpio.h"
 606              		.file 11 "Drv/drv_gpio.h"
 607              		.file 12 "Dsp/screen/service/SrvOled.h"
 608              		.file 13 "F4_CORE/core_cm4.h"
ARM GAS  C:\Users\why\AppData\Local\Temp\ccwg5XBC.s 			page 15


DEFINED SYMBOLS
                            *ABS*:00000000 SrvOled.c
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:22     .text.SrvOled_BusInit:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:26     .text.SrvOled_BusInit:00000000 SrvOled_BusInit
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:65     .text.SrvOled_BusInit:00000024 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:72     .text.SrvOled_BusTransmit:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:76     .text.SrvOled_BusTransmit:00000000 SrvOled_BusTransmit
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:101    .text.SrvOled_BusTransmit:00000014 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:107    .text.SrvOled_DCPin_Init:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:111    .text.SrvOled_DCPin_Init:00000000 SrvOled_DCPin_Init
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:155    .text.SrvOled_DCPin_Init:0000002c $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:162    .text.SrvOled_RSPin_Init:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:166    .text.SrvOled_RSPin_Init:00000000 SrvOled_RSPin_Init
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:210    .text.SrvOled_RSPin_Init:0000002c $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:217    .text.SrvOled_DCPin_Ctl:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:221    .text.SrvOled_DCPin_Ctl:00000000 SrvOled_DCPin_Ctl
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:262    .text.SrvOled_DCPin_Ctl:0000001c $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:268    .text.SrvOled_RSPin_Ctl:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:272    .text.SrvOled_RSPin_Ctl:00000000 SrvOled_RSPin_Ctl
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:313    .text.SrvOled_RSPin_Ctl:0000001c $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:319    .text.SrvOled_PreInit:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:323    .text.SrvOled_PreInit:00000000 SrvOled_PreInit
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:360    .text.SrvOled_PreInit:00000030 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:371    .text.SrvOled_Init:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:375    .text.SrvOled_Init:00000000 SrvOled_Init
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:413    .text.SrvOled_Init:00000024 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:420    .text.SrvOled_Fresh:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:424    .text.SrvOled_Fresh:00000000 SrvOled_Fresh
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:455    .text.SrvOled_Fresh:00000018 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:462    .text.SrvOled_GetDev_DspRange:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:466    .text.SrvOled_GetDev_DspRange:00000000 SrvOled_GetDev_DspRange
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:507    .text.SrvOled_GetDev_DspRange:00000030 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:512    .text.SrvOled_SetBright:00000000 $t
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:516    .text.SrvOled_SetBright:00000000 SrvOled_SetBright
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:546    .text.SrvOled_SetBright:00000010 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:577    .data.SrvOled:00000000 SrvOled
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:552    .bss.Oled1306Obj:00000000 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:556    .bss.Oled1306Obj:00000000 Oled1306Obj
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:559    .bss.RS_IO_Obj:00000000 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:563    .bss.RS_IO_Obj:00000000 RS_IO_Obj
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:566    .bss.DC_IO_Obj:00000000 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:570    .bss.DC_IO_Obj:00000000 DC_IO_Obj
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:573    .data.SrvOled:00000000 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:586    .bss.SrvInit_State:00000000 SrvInit_State
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:587    .bss.SrvInit_State:00000000 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:589    .bss.BusInit_Structure:00000000 $d
C:\Users\why\AppData\Local\Temp\ccwg5XBC.s:593    .bss.BusInit_Structure:00000000 BusInit_Structure
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
GenSPI_Drv
DrvGPIO
DrvOled
