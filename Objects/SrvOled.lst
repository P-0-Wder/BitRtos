ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"SrvOled.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.SrvOled_BusInit,"ax",%progbits
  22              		.align	2
  23              		.thumb
  24              		.thumb_func
  26              	SrvOled_BusInit:
  27              	.LFB123:
  28              		.file 1 "Dsp/screen/service/SrvOled.c"
   1:Dsp/screen/service/SrvOled.c **** #include "oled1306.h"
   2:Dsp/screen/service/SrvOled.c **** #include "drv_spi.h"
   3:Dsp/screen/service/SrvOled.c **** #include "drv_gpio.h"
   4:Dsp/screen/service/SrvOled.c **** #include "OledIO_Def.h"
   5:Dsp/screen/service/SrvOled.c **** #include "SrvOled.h"
   6:Dsp/screen/service/SrvOled.c **** 
   7:Dsp/screen/service/SrvOled.c **** /* internal varible definition */
   8:Dsp/screen/service/SrvOled.c **** static Oled_Obj_TypeDef Oled1306Obj;
   9:Dsp/screen/service/SrvOled.c **** static DrvGPIO_Obj_TypeDef DC_IO_Obj;
  10:Dsp/screen/service/SrvOled.c **** static DrvGPIO_Obj_TypeDef RS_IO_Obj;
  11:Dsp/screen/service/SrvOled.c **** static DrvSpi_Obj_TypeDef BusInit_Structure;
  12:Dsp/screen/service/SrvOled.c **** static bool SrvPerInit_State = false;
  13:Dsp/screen/service/SrvOled.c **** static bool SrvInit_State = false;
  14:Dsp/screen/service/SrvOled.c **** 
  15:Dsp/screen/service/SrvOled.c **** /* internal function definition */
  16:Dsp/screen/service/SrvOled.c **** static bool SrvOled_PreInit(void);
  17:Dsp/screen/service/SrvOled.c **** static void SrvOled_BusInit(SPI_List BusID);
  18:Dsp/screen/service/SrvOled.c **** 
  19:Dsp/screen/service/SrvOled.c **** /* external function definition */
  20:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Init(void);
  21:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Fresh(uint8_t **bit_map);
  22:Dsp/screen/service/SrvOled.c **** static SrvOled_DspRange SrvOled_GetDev_DspRange(void);
  23:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Routate(Oled_Routate_Direction_Def routate_dir);
  24:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Mirror(Oled_Mirror_Direction_Def mirror_dir);
  25:Dsp/screen/service/SrvOled.c **** static bool SrvOled_SetBright(Oled_Bright_Level level);
  26:Dsp/screen/service/SrvOled.c **** static bool SrvOled_SetBright(Oled_Bright_Level level);
  27:Dsp/screen/service/SrvOled.c **** 
  28:Dsp/screen/service/SrvOled.c **** SrvOled_TypeDef SrvOled = {
  29:Dsp/screen/service/SrvOled.c ****     .init = SrvOled_Init,
  30:Dsp/screen/service/SrvOled.c ****     .bright = SrvOled_SetBright,
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 2


  31:Dsp/screen/service/SrvOled.c ****     .fresh = SrvOled_Fresh,
  32:Dsp/screen/service/SrvOled.c ****     .get_range = SrvOled_GetDev_DspRange,
  33:Dsp/screen/service/SrvOled.c **** };
  34:Dsp/screen/service/SrvOled.c **** 
  35:Dsp/screen/service/SrvOled.c **** /******************************* IO & Bus Init Function Section ***********************************
  36:Dsp/screen/service/SrvOled.c **** 
  37:Dsp/screen/service/SrvOled.c **** static void SrvOled_BusInit(SPI_List BusID)
  38:Dsp/screen/service/SrvOled.c **** {
  29              		.loc 1 38 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              	.LVL0:
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
  39:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.SPIx = BusID;
  39              		.loc 1 39 0
  40 0002 084B     		ldr	r3, .L3
  41 0004 1870     		strb	r0, [r3]
  40:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.speed = SPI_CLOCK_ULTRAFAST;
  42              		.loc 1 40 0
  43 0006 0422     		movs	r2, #4
  44 0008 5A70     		strb	r2, [r3, #1]
  41:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.CPOL = SPI_CPOL_High;
  45              		.loc 1 41 0
  46 000a 0222     		movs	r2, #2
  47 000c 5A80     		strh	r2, [r3, #2]	@ movhi
  42:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.CPHA = SPI_CPHA_2Edge;
  48              		.loc 1 42 0
  49 000e 0122     		movs	r2, #1
  50 0010 9A80     		strh	r2, [r3, #4]	@ movhi
  43:Dsp/screen/service/SrvOled.c **** 
  44:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.BusObj = &BusInit_Structure;
  51              		.loc 1 44 0
  52 0012 054A     		ldr	r2, .L3+4
  53 0014 C2F80130 		str	r3, [r2, #1]	@ unaligned
  45:Dsp/screen/service/SrvOled.c **** 
  46:Dsp/screen/service/SrvOled.c ****     GenSPI_Drv.open(&BusInit_Structure);
  54              		.loc 1 46 0
  55 0018 044A     		ldr	r2, .L3+8
  56 001a 1268     		ldr	r2, [r2]
  57 001c 1846     		mov	r0, r3
  58              	.LVL1:
  59 001e 9047     		blx	r2
  60              	.LVL2:
  61 0020 08BD     		pop	{r3, pc}
  62              	.L4:
  63 0022 00BF     		.align	2
  64              	.L3:
  65 0024 00000000 		.word	.LANCHOR0
  66 0028 00000000 		.word	.LANCHOR1
  67 002c 00000000 		.word	GenSPI_Drv
  68              		.cfi_endproc
  69              	.LFE123:
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 3


  71              		.section	.text.SrvOled_BusTransmit,"ax",%progbits
  72              		.align	2
  73              		.thumb
  74              		.thumb_func
  76              	SrvOled_BusTransmit:
  77              	.LFB124:
  47:Dsp/screen/service/SrvOled.c **** }
  48:Dsp/screen/service/SrvOled.c **** 
  49:Dsp/screen/service/SrvOled.c **** static void SrvOled_BusTransmit(uint8_t tx)
  50:Dsp/screen/service/SrvOled.c **** {
  78              		.loc 1 50 0
  79              		.cfi_startproc
  80              		@ args = 0, pretend = 0, frame = 0
  81              		@ frame_needed = 0, uses_anonymous_args = 0
  82              	.LVL3:
  83 0000 08B5     		push	{r3, lr}
  84              	.LCFI1:
  85              		.cfi_def_cfa_offset 8
  86              		.cfi_offset 3, -8
  87              		.cfi_offset 14, -4
  51:Dsp/screen/service/SrvOled.c ****     GenSPI_Drv.transmit((DrvSpi_Obj_TypeDef *)Oled1306Obj.BusObj, tx);
  88              		.loc 1 51 0
  89 0002 044B     		ldr	r3, .L7
  90 0004 DB68     		ldr	r3, [r3, #12]
  91 0006 0146     		mov	r1, r0
  92 0008 034A     		ldr	r2, .L7+4
  93 000a D2F80100 		ldr	r0, [r2, #1]	@ unaligned
  94              	.LVL4:
  95 000e 9847     		blx	r3
  96              	.LVL5:
  97 0010 08BD     		pop	{r3, pc}
  98              	.L8:
  99 0012 00BF     		.align	2
 100              	.L7:
 101 0014 00000000 		.word	GenSPI_Drv
 102 0018 00000000 		.word	.LANCHOR1
 103              		.cfi_endproc
 104              	.LFE124:
 106              		.section	.text.SrvOled_DCPin_Init,"ax",%progbits
 107              		.align	2
 108              		.thumb
 109              		.thumb_func
 111              	SrvOled_DCPin_Init:
 112              	.LFB125:
  52:Dsp/screen/service/SrvOled.c **** }
  53:Dsp/screen/service/SrvOled.c **** 
  54:Dsp/screen/service/SrvOled.c **** static void SrvOled_DCPin_Init(void)
  55:Dsp/screen/service/SrvOled.c **** {
 113              		.loc 1 55 0
 114              		.cfi_startproc
 115              		@ args = 0, pretend = 0, frame = 0
 116              		@ frame_needed = 0, uses_anonymous_args = 0
 117 0000 70B5     		push	{r4, r5, r6, lr}
 118              	.LCFI2:
 119              		.cfi_def_cfa_offset 16
 120              		.cfi_offset 4, -16
 121              		.cfi_offset 5, -12
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 4


 122              		.cfi_offset 6, -8
 123              		.cfi_offset 14, -4
  56:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.CLK = OLED1306_DC_PORT_CLK;
 124              		.loc 1 56 0
 125 0002 094C     		ldr	r4, .L11
 126 0004 0823     		movs	r3, #8
 127 0006 2360     		str	r3, [r4]
  57:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.Port = OLED1306_DC_PORT;
 128              		.loc 1 57 0
 129 0008 084B     		ldr	r3, .L11+4
 130 000a A360     		str	r3, [r4, #8]
  58:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.Pin = OLED1306_DC_PIN;
 131              		.loc 1 58 0
 132 000c 0223     		movs	r3, #2
 133 000e A380     		strh	r3, [r4, #4]	@ movhi
  59:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.IO_Type = GPIO_Output;
 134              		.loc 1 59 0
 135 0010 0025     		movs	r5, #0
 136 0012 2573     		strb	r5, [r4, #12]
  60:Dsp/screen/service/SrvOled.c **** 
  61:Dsp/screen/service/SrvOled.c ****     GenGPIO_Drv.open(&DC_IO_Obj, DC_IO_Obj.IO_Type);
 137              		.loc 1 61 0
 138 0014 064E     		ldr	r6, .L11+8
 139 0016 3368     		ldr	r3, [r6]
 140 0018 2946     		mov	r1, r5
 141 001a 2046     		mov	r0, r4
 142 001c 9847     		blx	r3
 143              	.LVL6:
  62:Dsp/screen/service/SrvOled.c ****     GenGPIO_Drv.set(&DC_IO_Obj, HI);
 144              		.loc 1 62 0
 145 001e B368     		ldr	r3, [r6, #8]
 146 0020 2946     		mov	r1, r5
 147 0022 2046     		mov	r0, r4
 148 0024 9847     		blx	r3
 149              	.LVL7:
 150 0026 70BD     		pop	{r4, r5, r6, pc}
 151              	.L12:
 152              		.align	2
 153              	.L11:
 154 0028 00000000 		.word	.LANCHOR2
 155 002c 000C0240 		.word	1073875968
 156 0030 00000000 		.word	GenGPIO_Drv
 157              		.cfi_endproc
 158              	.LFE125:
 160              		.section	.text.SrvOled_RSPin_Init,"ax",%progbits
 161              		.align	2
 162              		.thumb
 163              		.thumb_func
 165              	SrvOled_RSPin_Init:
 166              	.LFB126:
  63:Dsp/screen/service/SrvOled.c **** }
  64:Dsp/screen/service/SrvOled.c **** 
  65:Dsp/screen/service/SrvOled.c **** static void SrvOled_RSPin_Init(void)
  66:Dsp/screen/service/SrvOled.c **** {
 167              		.loc 1 66 0
 168              		.cfi_startproc
 169              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 5


 170              		@ frame_needed = 0, uses_anonymous_args = 0
 171 0000 70B5     		push	{r4, r5, r6, lr}
 172              	.LCFI3:
 173              		.cfi_def_cfa_offset 16
 174              		.cfi_offset 4, -16
 175              		.cfi_offset 5, -12
 176              		.cfi_offset 6, -8
 177              		.cfi_offset 14, -4
  67:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.CLK = OLED1306_RS_PORT_CLK;
 178              		.loc 1 67 0
 179 0002 094C     		ldr	r4, .L15
 180 0004 0823     		movs	r3, #8
 181 0006 2360     		str	r3, [r4]
  68:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.Port = OLED1306_RS_PORT;
 182              		.loc 1 68 0
 183 0008 084B     		ldr	r3, .L15+4
 184 000a A360     		str	r3, [r4, #8]
  69:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.Pin = OLED1306_RS_PIN;
 185              		.loc 1 69 0
 186 000c 0123     		movs	r3, #1
 187 000e A380     		strh	r3, [r4, #4]	@ movhi
  70:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.IO_Type = GPIO_Output;
 188              		.loc 1 70 0
 189 0010 0025     		movs	r5, #0
 190 0012 2573     		strb	r5, [r4, #12]
  71:Dsp/screen/service/SrvOled.c **** 
  72:Dsp/screen/service/SrvOled.c ****     GenGPIO_Drv.open(&RS_IO_Obj, RS_IO_Obj.IO_Type);
 191              		.loc 1 72 0
 192 0014 064E     		ldr	r6, .L15+8
 193 0016 3368     		ldr	r3, [r6]
 194 0018 2946     		mov	r1, r5
 195 001a 2046     		mov	r0, r4
 196 001c 9847     		blx	r3
 197              	.LVL8:
  73:Dsp/screen/service/SrvOled.c ****     GenGPIO_Drv.set(&RS_IO_Obj, HI);
 198              		.loc 1 73 0
 199 001e B368     		ldr	r3, [r6, #8]
 200 0020 2946     		mov	r1, r5
 201 0022 2046     		mov	r0, r4
 202 0024 9847     		blx	r3
 203              	.LVL9:
 204 0026 70BD     		pop	{r4, r5, r6, pc}
 205              	.L16:
 206              		.align	2
 207              	.L15:
 208 0028 00000000 		.word	.LANCHOR3
 209 002c 000C0240 		.word	1073875968
 210 0030 00000000 		.word	GenGPIO_Drv
 211              		.cfi_endproc
 212              	.LFE126:
 214              		.section	.text.SrvOled_DCPin_Ctl,"ax",%progbits
 215              		.align	2
 216              		.thumb
 217              		.thumb_func
 219              	SrvOled_DCPin_Ctl:
 220              	.LFB127:
  74:Dsp/screen/service/SrvOled.c **** }
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 6


  75:Dsp/screen/service/SrvOled.c **** 
  76:Dsp/screen/service/SrvOled.c **** static void SrvOled_DCPin_Ctl(Oled_DC_State_List state)
  77:Dsp/screen/service/SrvOled.c **** {
 221              		.loc 1 77 0
 222              		.cfi_startproc
 223              		@ args = 0, pretend = 0, frame = 0
 224              		@ frame_needed = 0, uses_anonymous_args = 0
 225              	.LVL10:
 226 0000 08B5     		push	{r3, lr}
 227              	.LCFI4:
 228              		.cfi_def_cfa_offset 8
 229              		.cfi_offset 3, -8
 230              		.cfi_offset 14, -4
 231              	.LVL11:
  78:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
  79:Dsp/screen/service/SrvOled.c **** 
  80:Dsp/screen/service/SrvOled.c ****     if (state == Oled_DC_Enable)
 232              		.loc 1 80 0
 233 0002 18B1     		cbz	r0, .L19
  81:Dsp/screen/service/SrvOled.c ****     {
  82:Dsp/screen/service/SrvOled.c ****         level = GPIO_HIGH;
  83:Dsp/screen/service/SrvOled.c ****     }
  84:Dsp/screen/service/SrvOled.c ****     else if (state == Oled_DC_Disable)
 234              		.loc 1 84 0
 235 0004 0128     		cmp	r0, #1
 236 0006 03D0     		beq	.L20
  78:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
 237              		.loc 1 78 0
 238 0008 0021     		movs	r1, #0
 239 000a 02E0     		b	.L18
 240              	.L19:
  82:Dsp/screen/service/SrvOled.c ****     }
 241              		.loc 1 82 0
 242 000c 0221     		movs	r1, #2
 243 000e 00E0     		b	.L18
 244              	.L20:
  85:Dsp/screen/service/SrvOled.c ****         level = GPIO_LOW;
 245              		.loc 1 85 0
 246 0010 0121     		movs	r1, #1
 247              	.L18:
 248              	.LVL12:
  86:Dsp/screen/service/SrvOled.c **** 
  87:Dsp/screen/service/SrvOled.c ****     GenGPIO_Drv.set(&DC_IO_Obj, level);
 249              		.loc 1 87 0
 250 0012 024B     		ldr	r3, .L22
 251 0014 9B68     		ldr	r3, [r3, #8]
 252 0016 0248     		ldr	r0, .L22+4
 253              	.LVL13:
 254 0018 9847     		blx	r3
 255              	.LVL14:
 256 001a 08BD     		pop	{r3, pc}
 257              	.L23:
 258              		.align	2
 259              	.L22:
 260 001c 00000000 		.word	GenGPIO_Drv
 261 0020 00000000 		.word	.LANCHOR2
 262              		.cfi_endproc
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 7


 263              	.LFE127:
 265              		.section	.text.SrvOled_RSPin_Ctl,"ax",%progbits
 266              		.align	2
 267              		.thumb
 268              		.thumb_func
 270              	SrvOled_RSPin_Ctl:
 271              	.LFB128:
  88:Dsp/screen/service/SrvOled.c **** }
  89:Dsp/screen/service/SrvOled.c **** 
  90:Dsp/screen/service/SrvOled.c **** static void SrvOled_RSPin_Ctl(Oled_RS_State_List state)
  91:Dsp/screen/service/SrvOled.c **** {
 272              		.loc 1 91 0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 0
 275              		@ frame_needed = 0, uses_anonymous_args = 0
 276              	.LVL15:
 277 0000 08B5     		push	{r3, lr}
 278              	.LCFI5:
 279              		.cfi_def_cfa_offset 8
 280              		.cfi_offset 3, -8
 281              		.cfi_offset 14, -4
 282              	.LVL16:
  92:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
  93:Dsp/screen/service/SrvOled.c **** 
  94:Dsp/screen/service/SrvOled.c ****     if (state == Oled_RS_Enable)
 283              		.loc 1 94 0
 284 0002 18B1     		cbz	r0, .L26
  95:Dsp/screen/service/SrvOled.c ****     {
  96:Dsp/screen/service/SrvOled.c ****         level = GPIO_HIGH;
  97:Dsp/screen/service/SrvOled.c ****     }
  98:Dsp/screen/service/SrvOled.c ****     else if (state == Oled_RS_Disable)
 285              		.loc 1 98 0
 286 0004 0128     		cmp	r0, #1
 287 0006 03D0     		beq	.L27
  92:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
 288              		.loc 1 92 0
 289 0008 0021     		movs	r1, #0
 290 000a 02E0     		b	.L25
 291              	.L26:
  96:Dsp/screen/service/SrvOled.c ****     }
 292              		.loc 1 96 0
 293 000c 0221     		movs	r1, #2
 294 000e 00E0     		b	.L25
 295              	.L27:
  99:Dsp/screen/service/SrvOled.c ****         level = GPIO_LOW;
 296              		.loc 1 99 0
 297 0010 0121     		movs	r1, #1
 298              	.L25:
 299              	.LVL17:
 100:Dsp/screen/service/SrvOled.c **** 
 101:Dsp/screen/service/SrvOled.c ****     GenGPIO_Drv.set(&RS_IO_Obj, level);
 300              		.loc 1 101 0
 301 0012 024B     		ldr	r3, .L29
 302 0014 9B68     		ldr	r3, [r3, #8]
 303 0016 0248     		ldr	r0, .L29+4
 304              	.LVL18:
 305 0018 9847     		blx	r3
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 8


 306              	.LVL19:
 307 001a 08BD     		pop	{r3, pc}
 308              	.L30:
 309              		.align	2
 310              	.L29:
 311 001c 00000000 		.word	GenGPIO_Drv
 312 0020 00000000 		.word	.LANCHOR3
 313              		.cfi_endproc
 314              	.LFE128:
 316              		.section	.text.SrvOled_PreInit,"ax",%progbits
 317              		.align	2
 318              		.thumb
 319              		.thumb_func
 321              	SrvOled_PreInit:
 322              	.LFB129:
 102:Dsp/screen/service/SrvOled.c **** }
 103:Dsp/screen/service/SrvOled.c **** 
 104:Dsp/screen/service/SrvOled.c **** /******************************* IO & Bus Init Function Section ***********************************
 105:Dsp/screen/service/SrvOled.c **** 
 106:Dsp/screen/service/SrvOled.c **** static bool SrvOled_PreInit(void)
 107:Dsp/screen/service/SrvOled.c **** {
 323              		.loc 1 107 0
 324              		.cfi_startproc
 325              		@ args = 0, pretend = 0, frame = 0
 326              		@ frame_needed = 0, uses_anonymous_args = 0
 327              		@ link register save eliminated.
 108:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.Bus = Oled_SpiBus;
 328              		.loc 1 108 0
 329 0000 0B4B     		ldr	r3, .L32
 330 0002 0022     		movs	r2, #0
 331 0004 1A70     		strb	r2, [r3]
 109:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.BusID = SPI_1;
 332              		.loc 1 109 0
 333 0006 5A71     		strb	r2, [r3, #5]
 110:Dsp/screen/service/SrvOled.c **** 
 111:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.bus_init = SrvOled_BusInit;
 334              		.loc 1 111 0
 335 0008 0A4A     		ldr	r2, .L32+4
 336 000a C3F81620 		str	r2, [r3, #22]	@ unaligned
 112:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.bus_transmit = SrvOled_BusTransmit;
 337              		.loc 1 112 0
 338 000e 0A4A     		ldr	r2, .L32+8
 339 0010 C3F81A20 		str	r2, [r3, #26]	@ unaligned
 113:Dsp/screen/service/SrvOled.c **** 
 114:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.rs_init = SrvOled_RSPin_Init;
 340              		.loc 1 114 0
 341 0014 094A     		ldr	r2, .L32+12
 342 0016 C3F80620 		str	r2, [r3, #6]	@ unaligned
 115:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.rs_ctl = SrvOled_RSPin_Ctl;
 343              		.loc 1 115 0
 344 001a 094A     		ldr	r2, .L32+16
 345 001c C3F80E20 		str	r2, [r3, #14]	@ unaligned
 116:Dsp/screen/service/SrvOled.c **** 
 117:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.dc_init = SrvOled_DCPin_Init;
 346              		.loc 1 117 0
 347 0020 084A     		ldr	r2, .L32+20
 348 0022 C3F80A20 		str	r2, [r3, #10]	@ unaligned
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 9


 118:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.dc_ctl = SrvOled_DCPin_Ctl;
 349              		.loc 1 118 0
 350 0026 084A     		ldr	r2, .L32+24
 351 0028 C3F81220 		str	r2, [r3, #18]	@ unaligned
 119:Dsp/screen/service/SrvOled.c **** 
 120:Dsp/screen/service/SrvOled.c ****     SrvPerInit_State = true;
 121:Dsp/screen/service/SrvOled.c **** 
 122:Dsp/screen/service/SrvOled.c ****     return SrvPerInit_State;
 123:Dsp/screen/service/SrvOled.c **** }
 352              		.loc 1 123 0
 353 002c 0120     		movs	r0, #1
 354 002e 7047     		bx	lr
 355              	.L33:
 356              		.align	2
 357              	.L32:
 358 0030 00000000 		.word	.LANCHOR1
 359 0034 00000000 		.word	SrvOled_BusInit
 360 0038 00000000 		.word	SrvOled_BusTransmit
 361 003c 00000000 		.word	SrvOled_RSPin_Init
 362 0040 00000000 		.word	SrvOled_RSPin_Ctl
 363 0044 00000000 		.word	SrvOled_DCPin_Init
 364 0048 00000000 		.word	SrvOled_DCPin_Ctl
 365              		.cfi_endproc
 366              	.LFE129:
 368              		.section	.text.SrvOled_Init,"ax",%progbits
 369              		.align	2
 370              		.thumb
 371              		.thumb_func
 373              	SrvOled_Init:
 374              	.LFB130:
 124:Dsp/screen/service/SrvOled.c **** 
 125:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Init(void)
 126:Dsp/screen/service/SrvOled.c **** {
 375              		.loc 1 126 0
 376              		.cfi_startproc
 377              		@ args = 0, pretend = 0, frame = 0
 378              		@ frame_needed = 0, uses_anonymous_args = 0
 379 0000 08B5     		push	{r3, lr}
 380              	.LCFI6:
 381              		.cfi_def_cfa_offset 8
 382              		.cfi_offset 3, -8
 383              		.cfi_offset 14, -4
 127:Dsp/screen/service/SrvOled.c ****     SrvInit_State = false;
 384              		.loc 1 127 0
 385 0002 0022     		movs	r2, #0
 386 0004 074B     		ldr	r3, .L37
 387 0006 1A70     		strb	r2, [r3]
 128:Dsp/screen/service/SrvOled.c **** 
 129:Dsp/screen/service/SrvOled.c ****     if (SrvOled_PreInit())
 388              		.loc 1 129 0
 389 0008 FFF7FEFF 		bl	SrvOled_PreInit
 390              	.LVL20:
 391 000c 38B1     		cbz	r0, .L35
 130:Dsp/screen/service/SrvOled.c ****     {
 131:Dsp/screen/service/SrvOled.c ****         if (DrvOled.init(&Oled1306Obj))
 392              		.loc 1 131 0
 393 000e 064B     		ldr	r3, .L37+4
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 10


 394 0010 1B68     		ldr	r3, [r3]
 395 0012 0648     		ldr	r0, .L37+8
 396 0014 9847     		blx	r3
 397              	.LVL21:
 398 0016 10B1     		cbz	r0, .L35
 132:Dsp/screen/service/SrvOled.c ****         {
 133:Dsp/screen/service/SrvOled.c ****             SrvInit_State = true;
 399              		.loc 1 133 0
 400 0018 0122     		movs	r2, #1
 401 001a 024B     		ldr	r3, .L37
 402 001c 1A70     		strb	r2, [r3]
 403              	.L35:
 134:Dsp/screen/service/SrvOled.c ****         }
 135:Dsp/screen/service/SrvOled.c ****     }
 136:Dsp/screen/service/SrvOled.c **** 
 137:Dsp/screen/service/SrvOled.c ****     return SrvInit_State;
 138:Dsp/screen/service/SrvOled.c **** }
 404              		.loc 1 138 0
 405 001e 014B     		ldr	r3, .L37
 406 0020 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 407 0022 08BD     		pop	{r3, pc}
 408              	.L38:
 409              		.align	2
 410              	.L37:
 411 0024 00000000 		.word	.LANCHOR4
 412 0028 00000000 		.word	DrvOled
 413 002c 00000000 		.word	.LANCHOR1
 414              		.cfi_endproc
 415              	.LFE130:
 417              		.section	.text.SrvOled_Fresh,"ax",%progbits
 418              		.align	2
 419              		.thumb
 420              		.thumb_func
 422              	SrvOled_Fresh:
 423              	.LFB131:
 139:Dsp/screen/service/SrvOled.c **** 
 140:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Fresh(uint8_t **bit_map)
 141:Dsp/screen/service/SrvOled.c **** {
 424              		.loc 1 141 0
 425              		.cfi_startproc
 426              		@ args = 0, pretend = 0, frame = 0
 427              		@ frame_needed = 0, uses_anonymous_args = 0
 428              	.LVL22:
 429 0000 10B5     		push	{r4, lr}
 430              	.LCFI7:
 431              		.cfi_def_cfa_offset 8
 432              		.cfi_offset 4, -8
 433              		.cfi_offset 14, -4
 142:Dsp/screen/service/SrvOled.c ****     if (!SrvInit_State)
 434              		.loc 1 142 0
 435 0002 054B     		ldr	r3, .L42
 436 0004 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 437 0006 24B1     		cbz	r4, .L40
 438 0008 0146     		mov	r1, r0
 143:Dsp/screen/service/SrvOled.c ****         return false;
 144:Dsp/screen/service/SrvOled.c **** 
 145:Dsp/screen/service/SrvOled.c ****     DrvOled.fresh(&Oled1306Obj, bit_map);
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 11


 439              		.loc 1 145 0
 440 000a 044B     		ldr	r3, .L42+4
 441 000c 9B68     		ldr	r3, [r3, #8]
 442 000e 0448     		ldr	r0, .L42+8
 443              	.LVL23:
 444 0010 9847     		blx	r3
 445              	.LVL24:
 446              	.L40:
 146:Dsp/screen/service/SrvOled.c ****     return true;
 147:Dsp/screen/service/SrvOled.c **** }
 447              		.loc 1 147 0
 448 0012 2046     		mov	r0, r4
 449 0014 10BD     		pop	{r4, pc}
 450              	.L43:
 451 0016 00BF     		.align	2
 452              	.L42:
 453 0018 00000000 		.word	.LANCHOR4
 454 001c 00000000 		.word	DrvOled
 455 0020 00000000 		.word	.LANCHOR1
 456              		.cfi_endproc
 457              	.LFE131:
 459              		.section	.text.SrvOled_GetDev_DspRange,"ax",%progbits
 460              		.align	2
 461              		.thumb
 462              		.thumb_func
 464              	SrvOled_GetDev_DspRange:
 465              	.LFB132:
 148:Dsp/screen/service/SrvOled.c **** 
 149:Dsp/screen/service/SrvOled.c **** static SrvOled_DspRange SrvOled_GetDev_DspRange(void)
 150:Dsp/screen/service/SrvOled.c **** {
 466              		.loc 1 150 0
 467              		.cfi_startproc
 468              		@ args = 0, pretend = 0, frame = 8
 469              		@ frame_needed = 0, uses_anonymous_args = 0
 470 0000 10B5     		push	{r4, lr}
 471              	.LCFI8:
 472              		.cfi_def_cfa_offset 8
 473              		.cfi_offset 4, -8
 474              		.cfi_offset 14, -4
 475 0002 82B0     		sub	sp, sp, #8
 476              	.LCFI9:
 477              		.cfi_def_cfa_offset 16
 151:Dsp/screen/service/SrvOled.c ****     SrvOled_DspRange range;
 152:Dsp/screen/service/SrvOled.c **** 
 153:Dsp/screen/service/SrvOled.c ****     range.width = DrvOled.get_max_width();
 478              		.loc 1 153 0
 479 0004 0A4C     		ldr	r4, .L46
 480 0006 6369     		ldr	r3, [r4, #20]
 481 0008 9847     		blx	r3
 482              	.LVL25:
 483 000a 8DF80000 		strb	r0, [sp]
 154:Dsp/screen/service/SrvOled.c ****     range.height = DrvOled.get_max_height();
 484              		.loc 1 154 0
 485 000e A369     		ldr	r3, [r4, #24]
 486 0010 9847     		blx	r3
 487              	.LVL26:
 488 0012 8DF80100 		strb	r0, [sp, #1]
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 12


 155:Dsp/screen/service/SrvOled.c **** 
 156:Dsp/screen/service/SrvOled.c ****     return range;
 489              		.loc 1 156 0
 490 0016 BDF80030 		ldrh	r3, [sp]
 491 001a 0020     		movs	r0, #0
 492 001c DAB2     		uxtb	r2, r3
 493 001e 62F30700 		bfi	r0, r2, #0, #8
 494 0022 C3F30723 		ubfx	r3, r3, #8, #8
 495 0026 63F30F20 		bfi	r0, r3, #8, #8
 157:Dsp/screen/service/SrvOled.c **** }
 496              		.loc 1 157 0
 497 002a 02B0     		add	sp, sp, #8
 498              	.LCFI10:
 499              		.cfi_def_cfa_offset 8
 500              		@ sp needed
 501 002c 10BD     		pop	{r4, pc}
 502              	.L47:
 503 002e 00BF     		.align	2
 504              	.L46:
 505 0030 00000000 		.word	DrvOled
 506              		.cfi_endproc
 507              	.LFE132:
 509              		.section	.text.SrvOled_SetBright,"ax",%progbits
 510              		.align	2
 511              		.thumb
 512              		.thumb_func
 514              	SrvOled_SetBright:
 515              	.LFB133:
 158:Dsp/screen/service/SrvOled.c **** 
 159:Dsp/screen/service/SrvOled.c **** static bool SrvOled_SetBright(Oled_Bright_Level level)
 160:Dsp/screen/service/SrvOled.c **** {
 516              		.loc 1 160 0
 517              		.cfi_startproc
 518              		@ args = 0, pretend = 0, frame = 0
 519              		@ frame_needed = 0, uses_anonymous_args = 0
 520              	.LVL27:
 521 0000 08B5     		push	{r3, lr}
 522              	.LCFI11:
 523              		.cfi_def_cfa_offset 8
 524              		.cfi_offset 3, -8
 525              		.cfi_offset 14, -4
 161:Dsp/screen/service/SrvOled.c ****     if (SrvOled.bright == NULL)
 526              		.loc 1 161 0
 527 0002 034B     		ldr	r3, .L52
 528 0004 9B68     		ldr	r3, [r3, #8]
 529 0006 0BB1     		cbz	r3, .L50
 162:Dsp/screen/service/SrvOled.c ****         return false;
 163:Dsp/screen/service/SrvOled.c **** 
 164:Dsp/screen/service/SrvOled.c ****     return SrvOled.bright(level);
 530              		.loc 1 164 0
 531 0008 9847     		blx	r3
 532              	.LVL28:
 533 000a 08BD     		pop	{r3, pc}
 534              	.LVL29:
 535              	.L50:
 162:Dsp/screen/service/SrvOled.c ****         return false;
 536              		.loc 1 162 0
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 13


 537 000c 0020     		movs	r0, #0
 538              	.LVL30:
 165:Dsp/screen/service/SrvOled.c **** }
 539              		.loc 1 165 0
 540 000e 08BD     		pop	{r3, pc}
 541              	.L53:
 542              		.align	2
 543              	.L52:
 544 0010 00000000 		.word	.LANCHOR5
 545              		.cfi_endproc
 546              	.LFE133:
 548              		.global	SrvOled
 549              		.section	.bss.Oled1306Obj,"aw",%nobits
 550              		.align	2
 551              		.set	.LANCHOR1,. + 0
 554              	Oled1306Obj:
 555 0000 00000000 		.space	30
 555      00000000 
 555      00000000 
 555      00000000 
 555      00000000 
 556              		.section	.bss.RS_IO_Obj,"aw",%nobits
 557              		.align	2
 558              		.set	.LANCHOR3,. + 0
 561              	RS_IO_Obj:
 562 0000 00000000 		.space	16
 562      00000000 
 562      00000000 
 562      00000000 
 563              		.section	.bss.DC_IO_Obj,"aw",%nobits
 564              		.align	2
 565              		.set	.LANCHOR2,. + 0
 568              	DC_IO_Obj:
 569 0000 00000000 		.space	16
 569      00000000 
 569      00000000 
 569      00000000 
 570              		.section	.data.SrvOled,"aw",%progbits
 571              		.align	2
 572              		.set	.LANCHOR5,. + 0
 575              	SrvOled:
 576 0000 00000000 		.word	SrvOled_Init
 577 0004 00000000 		.word	SrvOled_Fresh
 578 0008 00000000 		.word	SrvOled_SetBright
 579 000c 00000000 		.word	SrvOled_GetDev_DspRange
 580              		.section	.bss.SrvInit_State,"aw",%nobits
 581              		.set	.LANCHOR4,. + 0
 584              	SrvInit_State:
 585 0000 00       		.space	1
 586              		.section	.bss.BusInit_Structure,"aw",%nobits
 587              		.align	2
 588              		.set	.LANCHOR0,. + 0
 591              	BusInit_Structure:
 592 0000 00000000 		.space	6
 592      0000
 593              		.text
 594              	.Letext0:
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 14


 595              		.file 2 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\machine\\_default_types.h"
 596              		.file 3 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\sys\\_stdint.h"
 597              		.file 4 "Dsp/screen/OledIO_Definition/Oled_DspProp_Def.h"
 598              		.file 5 "Dsp/screen/device/oled1306.h"
 599              		.file 6 "USER/stm32f4xx.h"
 600              		.file 7 "Bsp/periph_spi.h"
 601              		.file 8 "SYS/data_structure/queue.h"
 602              		.file 9 "Drv/drv_spi.h"
 603              		.file 10 "Bsp/periph_gpio.h"
 604              		.file 11 "Drv/drv_gpio.h"
 605              		.file 12 "Dsp/screen/service/SrvOled.h"
 606              		.file 13 "F4_CORE/core_cm4.h"
ARM GAS  C:\Users\why\AppData\Local\Temp\cccrzHvu.s 			page 15


DEFINED SYMBOLS
                            *ABS*:00000000 SrvOled.c
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:22     .text.SrvOled_BusInit:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:26     .text.SrvOled_BusInit:00000000 SrvOled_BusInit
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:65     .text.SrvOled_BusInit:00000024 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:72     .text.SrvOled_BusTransmit:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:76     .text.SrvOled_BusTransmit:00000000 SrvOled_BusTransmit
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:101    .text.SrvOled_BusTransmit:00000014 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:107    .text.SrvOled_DCPin_Init:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:111    .text.SrvOled_DCPin_Init:00000000 SrvOled_DCPin_Init
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:154    .text.SrvOled_DCPin_Init:00000028 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:161    .text.SrvOled_RSPin_Init:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:165    .text.SrvOled_RSPin_Init:00000000 SrvOled_RSPin_Init
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:208    .text.SrvOled_RSPin_Init:00000028 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:215    .text.SrvOled_DCPin_Ctl:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:219    .text.SrvOled_DCPin_Ctl:00000000 SrvOled_DCPin_Ctl
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:260    .text.SrvOled_DCPin_Ctl:0000001c $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:266    .text.SrvOled_RSPin_Ctl:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:270    .text.SrvOled_RSPin_Ctl:00000000 SrvOled_RSPin_Ctl
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:311    .text.SrvOled_RSPin_Ctl:0000001c $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:317    .text.SrvOled_PreInit:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:321    .text.SrvOled_PreInit:00000000 SrvOled_PreInit
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:358    .text.SrvOled_PreInit:00000030 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:369    .text.SrvOled_Init:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:373    .text.SrvOled_Init:00000000 SrvOled_Init
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:411    .text.SrvOled_Init:00000024 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:418    .text.SrvOled_Fresh:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:422    .text.SrvOled_Fresh:00000000 SrvOled_Fresh
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:453    .text.SrvOled_Fresh:00000018 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:460    .text.SrvOled_GetDev_DspRange:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:464    .text.SrvOled_GetDev_DspRange:00000000 SrvOled_GetDev_DspRange
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:505    .text.SrvOled_GetDev_DspRange:00000030 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:510    .text.SrvOled_SetBright:00000000 $t
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:514    .text.SrvOled_SetBright:00000000 SrvOled_SetBright
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:544    .text.SrvOled_SetBright:00000010 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:575    .data.SrvOled:00000000 SrvOled
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:550    .bss.Oled1306Obj:00000000 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:554    .bss.Oled1306Obj:00000000 Oled1306Obj
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:557    .bss.RS_IO_Obj:00000000 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:561    .bss.RS_IO_Obj:00000000 RS_IO_Obj
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:564    .bss.DC_IO_Obj:00000000 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:568    .bss.DC_IO_Obj:00000000 DC_IO_Obj
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:571    .data.SrvOled:00000000 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:584    .bss.SrvInit_State:00000000 SrvInit_State
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:585    .bss.SrvInit_State:00000000 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:587    .bss.BusInit_Structure:00000000 $d
C:\Users\why\AppData\Local\Temp\cccrzHvu.s:591    .bss.BusInit_Structure:00000000 BusInit_Structure
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
GenSPI_Drv
GenGPIO_Drv
DrvOled
