ARM GAS  /tmp/cctZh4Qf.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"SrvOled.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SrvOled_BusInit,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	SrvOled_BusInit:
  25              	.LFB123:
  26              		.file 1 "Dsp/screen/service/SrvOled.c"
   1:Dsp/screen/service/SrvOled.c **** #include "oled1306.h"
   2:Dsp/screen/service/SrvOled.c **** #include "drv_spi.h"
   3:Dsp/screen/service/SrvOled.c **** #include "drv_gpio.h"
   4:Dsp/screen/service/SrvOled.c **** #include "OledIO_Def.h"
   5:Dsp/screen/service/SrvOled.c **** #include "SrvOled.h"
   6:Dsp/screen/service/SrvOled.c **** 
   7:Dsp/screen/service/SrvOled.c **** /* internal varible definition */
   8:Dsp/screen/service/SrvOled.c **** static Oled_Obj_TypeDef Oled1306Obj;
   9:Dsp/screen/service/SrvOled.c **** static DrvGPIO_Obj_TypeDef DC_IO_Obj;
  10:Dsp/screen/service/SrvOled.c **** static DrvGPIO_Obj_TypeDef RS_IO_Obj;
  11:Dsp/screen/service/SrvOled.c **** static DrvSpi_Obj_TypeDef BusInit_Structure;
  12:Dsp/screen/service/SrvOled.c **** static bool SrvPerInit_State = false;
  13:Dsp/screen/service/SrvOled.c **** static bool SrvInit_State = false;
  14:Dsp/screen/service/SrvOled.c **** 
  15:Dsp/screen/service/SrvOled.c **** /* internal function definition */
  16:Dsp/screen/service/SrvOled.c **** static bool SrvOled_PreInit(void);
  17:Dsp/screen/service/SrvOled.c **** static void SrvOled_BusInit(SPI_List BusID);
  18:Dsp/screen/service/SrvOled.c **** 
  19:Dsp/screen/service/SrvOled.c **** /* external function definition */
  20:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Init(void);
  21:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Fresh(uint8_t **bit_map);
  22:Dsp/screen/service/SrvOled.c **** static SrvOled_DspRange SrvOled_GetDev_DspRange(void);
  23:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Routate(Oled_Routate_Direction_Def routate_dir);
  24:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Mirror(Oled_Mirror_Direction_Def mirror_dir);
  25:Dsp/screen/service/SrvOled.c **** static bool SrvOled_SetBright(Oled_Bright_Level level);
  26:Dsp/screen/service/SrvOled.c **** static bool SrvOled_SetBright(Oled_Bright_Level level);
  27:Dsp/screen/service/SrvOled.c **** 
  28:Dsp/screen/service/SrvOled.c **** SrvOled_TypeDef SrvOled = {
  29:Dsp/screen/service/SrvOled.c ****     .init = SrvOled_Init,
  30:Dsp/screen/service/SrvOled.c ****     .bright = SrvOled_SetBright,
  31:Dsp/screen/service/SrvOled.c ****     .fresh = SrvOled_Fresh,
  32:Dsp/screen/service/SrvOled.c ****     .get_range = SrvOled_GetDev_DspRange,
ARM GAS  /tmp/cctZh4Qf.s 			page 2


  33:Dsp/screen/service/SrvOled.c **** };
  34:Dsp/screen/service/SrvOled.c **** 
  35:Dsp/screen/service/SrvOled.c **** /******************************* IO & Bus Init Function Section ***********************************
  36:Dsp/screen/service/SrvOled.c **** 
  37:Dsp/screen/service/SrvOled.c **** static void SrvOled_BusInit(SPI_List BusID)
  38:Dsp/screen/service/SrvOled.c **** {
  27              		.loc 1 38 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              	.LVL0:
  32 0000 08B5     		push	{r3, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 3, -8
  36              		.cfi_offset 14, -4
  39:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.SPIx = BusID;
  37              		.loc 1 39 0
  38 0002 084B     		ldr	r3, .L3
  39 0004 1870     		strb	r0, [r3]
  40:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.speed = SPI_CLOCK_ULTRAFAST;
  40              		.loc 1 40 0
  41 0006 0422     		movs	r2, #4
  42 0008 5A70     		strb	r2, [r3, #1]
  41:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.CPOL = SPI_CPOL_High;
  43              		.loc 1 41 0
  44 000a 0222     		movs	r2, #2
  45 000c 5A80     		strh	r2, [r3, #2]	@ movhi
  42:Dsp/screen/service/SrvOled.c ****     BusInit_Structure.CPHA = SPI_CPHA_2Edge;
  46              		.loc 1 42 0
  47 000e 0122     		movs	r2, #1
  48 0010 9A80     		strh	r2, [r3, #4]	@ movhi
  43:Dsp/screen/service/SrvOled.c **** 
  44:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.BusObj = &BusInit_Structure;
  49              		.loc 1 44 0
  50 0012 054A     		ldr	r2, .L3+4
  51 0014 C2F80130 		str	r3, [r2, #1]	@ unaligned
  45:Dsp/screen/service/SrvOled.c **** 
  46:Dsp/screen/service/SrvOled.c ****     GenSPI_Drv.open(&BusInit_Structure);
  52              		.loc 1 46 0
  53 0018 044A     		ldr	r2, .L3+8
  54 001a 1268     		ldr	r2, [r2]
  55 001c 1846     		mov	r0, r3
  56              	.LVL1:
  57 001e 9047     		blx	r2
  58              	.LVL2:
  59 0020 08BD     		pop	{r3, pc}
  60              	.L4:
  61 0022 00BF     		.align	2
  62              	.L3:
  63 0024 00000000 		.word	.LANCHOR0
  64 0028 00000000 		.word	.LANCHOR1
  65 002c 00000000 		.word	GenSPI_Drv
  66              		.cfi_endproc
  67              	.LFE123:
  69              		.section	.text.SrvOled_BusTransmit,"ax",%progbits
  70              		.align	1
ARM GAS  /tmp/cctZh4Qf.s 			page 3


  71              		.syntax unified
  72              		.thumb
  73              		.thumb_func
  74              		.fpu fpv4-sp-d16
  76              	SrvOled_BusTransmit:
  77              	.LFB124:
  47:Dsp/screen/service/SrvOled.c **** }
  48:Dsp/screen/service/SrvOled.c **** 
  49:Dsp/screen/service/SrvOled.c **** static void SrvOled_BusTransmit(uint8_t tx)
  50:Dsp/screen/service/SrvOled.c **** {
  78              		.loc 1 50 0
  79              		.cfi_startproc
  80              		@ args = 0, pretend = 0, frame = 0
  81              		@ frame_needed = 0, uses_anonymous_args = 0
  82              	.LVL3:
  83 0000 08B5     		push	{r3, lr}
  84              	.LCFI1:
  85              		.cfi_def_cfa_offset 8
  86              		.cfi_offset 3, -8
  87              		.cfi_offset 14, -4
  51:Dsp/screen/service/SrvOled.c ****     GenSPI_Drv.transmit((DrvSpi_Obj_TypeDef *)Oled1306Obj.BusObj, tx);
  88              		.loc 1 51 0
  89 0002 044B     		ldr	r3, .L7
  90 0004 DB68     		ldr	r3, [r3, #12]
  91 0006 0146     		mov	r1, r0
  92 0008 034A     		ldr	r2, .L7+4
  93 000a D2F80100 		ldr	r0, [r2, #1]	@ unaligned
  94              	.LVL4:
  95 000e 9847     		blx	r3
  96              	.LVL5:
  97 0010 08BD     		pop	{r3, pc}
  98              	.L8:
  99 0012 00BF     		.align	2
 100              	.L7:
 101 0014 00000000 		.word	GenSPI_Drv
 102 0018 00000000 		.word	.LANCHOR1
 103              		.cfi_endproc
 104              	.LFE124:
 106              		.section	.text.SrvOled_DCPin_Init,"ax",%progbits
 107              		.align	1
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 111              		.fpu fpv4-sp-d16
 113              	SrvOled_DCPin_Init:
 114              	.LFB125:
  52:Dsp/screen/service/SrvOled.c **** }
  53:Dsp/screen/service/SrvOled.c **** 
  54:Dsp/screen/service/SrvOled.c **** static void SrvOled_DCPin_Init(void)
  55:Dsp/screen/service/SrvOled.c **** {
 115              		.loc 1 55 0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 0
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119 0000 70B5     		push	{r4, r5, r6, lr}
 120              	.LCFI2:
 121              		.cfi_def_cfa_offset 16
ARM GAS  /tmp/cctZh4Qf.s 			page 4


 122              		.cfi_offset 4, -16
 123              		.cfi_offset 5, -12
 124              		.cfi_offset 6, -8
 125              		.cfi_offset 14, -4
  56:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.CLK = OLED1306_DC_PORT_CLK;
 126              		.loc 1 56 0
 127 0002 0A4C     		ldr	r4, .L11
 128 0004 0823     		movs	r3, #8
 129 0006 2360     		str	r3, [r4]
  57:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.Port = OLED1306_DC_PORT;
 130              		.loc 1 57 0
 131 0008 094B     		ldr	r3, .L11+4
 132 000a A360     		str	r3, [r4, #8]
  58:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.Pin = OLED1306_DC_PIN;
 133              		.loc 1 58 0
 134 000c 0223     		movs	r3, #2
 135 000e A380     		strh	r3, [r4, #4]	@ movhi
  59:Dsp/screen/service/SrvOled.c ****     DC_IO_Obj.IO_Type = GPIO_Output;
 136              		.loc 1 59 0
 137 0010 0025     		movs	r5, #0
 138 0012 2573     		strb	r5, [r4, #12]
  60:Dsp/screen/service/SrvOled.c **** 
  61:Dsp/screen/service/SrvOled.c ****     DrvGPIO.open(&DC_IO_Obj, DC_IO_Obj.IO_Type, NULL);
 139              		.loc 1 61 0
 140 0014 074E     		ldr	r6, .L11+8
 141 0016 3368     		ldr	r3, [r6]
 142 0018 2A46     		mov	r2, r5
 143 001a 2946     		mov	r1, r5
 144 001c 2046     		mov	r0, r4
 145 001e 9847     		blx	r3
 146              	.LVL6:
  62:Dsp/screen/service/SrvOled.c ****     DrvGPIO.set(&DC_IO_Obj, HI);
 147              		.loc 1 62 0
 148 0020 B368     		ldr	r3, [r6, #8]
 149 0022 2946     		mov	r1, r5
 150 0024 2046     		mov	r0, r4
 151 0026 9847     		blx	r3
 152              	.LVL7:
 153 0028 70BD     		pop	{r4, r5, r6, pc}
 154              	.L12:
 155 002a 00BF     		.align	2
 156              	.L11:
 157 002c 00000000 		.word	.LANCHOR2
 158 0030 000C0240 		.word	1073875968
 159 0034 00000000 		.word	DrvGPIO
 160              		.cfi_endproc
 161              	.LFE125:
 163              		.section	.text.SrvOled_RSPin_Init,"ax",%progbits
 164              		.align	1
 165              		.syntax unified
 166              		.thumb
 167              		.thumb_func
 168              		.fpu fpv4-sp-d16
 170              	SrvOled_RSPin_Init:
 171              	.LFB126:
  63:Dsp/screen/service/SrvOled.c **** }
  64:Dsp/screen/service/SrvOled.c **** 
ARM GAS  /tmp/cctZh4Qf.s 			page 5


  65:Dsp/screen/service/SrvOled.c **** static void SrvOled_RSPin_Init(void)
  66:Dsp/screen/service/SrvOled.c **** {
 172              		.loc 1 66 0
 173              		.cfi_startproc
 174              		@ args = 0, pretend = 0, frame = 0
 175              		@ frame_needed = 0, uses_anonymous_args = 0
 176 0000 70B5     		push	{r4, r5, r6, lr}
 177              	.LCFI3:
 178              		.cfi_def_cfa_offset 16
 179              		.cfi_offset 4, -16
 180              		.cfi_offset 5, -12
 181              		.cfi_offset 6, -8
 182              		.cfi_offset 14, -4
  67:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.CLK = OLED1306_RS_PORT_CLK;
 183              		.loc 1 67 0
 184 0002 0A4C     		ldr	r4, .L15
 185 0004 0823     		movs	r3, #8
 186 0006 2360     		str	r3, [r4]
  68:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.Port = OLED1306_RS_PORT;
 187              		.loc 1 68 0
 188 0008 094B     		ldr	r3, .L15+4
 189 000a A360     		str	r3, [r4, #8]
  69:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.Pin = OLED1306_RS_PIN;
 190              		.loc 1 69 0
 191 000c 0123     		movs	r3, #1
 192 000e A380     		strh	r3, [r4, #4]	@ movhi
  70:Dsp/screen/service/SrvOled.c ****     RS_IO_Obj.IO_Type = GPIO_Output;
 193              		.loc 1 70 0
 194 0010 0025     		movs	r5, #0
 195 0012 2573     		strb	r5, [r4, #12]
  71:Dsp/screen/service/SrvOled.c **** 
  72:Dsp/screen/service/SrvOled.c ****     DrvGPIO.open(&RS_IO_Obj, RS_IO_Obj.IO_Type, NULL);
 196              		.loc 1 72 0
 197 0014 074E     		ldr	r6, .L15+8
 198 0016 3368     		ldr	r3, [r6]
 199 0018 2A46     		mov	r2, r5
 200 001a 2946     		mov	r1, r5
 201 001c 2046     		mov	r0, r4
 202 001e 9847     		blx	r3
 203              	.LVL8:
  73:Dsp/screen/service/SrvOled.c ****     DrvGPIO.set(&RS_IO_Obj, HI);
 204              		.loc 1 73 0
 205 0020 B368     		ldr	r3, [r6, #8]
 206 0022 2946     		mov	r1, r5
 207 0024 2046     		mov	r0, r4
 208 0026 9847     		blx	r3
 209              	.LVL9:
 210 0028 70BD     		pop	{r4, r5, r6, pc}
 211              	.L16:
 212 002a 00BF     		.align	2
 213              	.L15:
 214 002c 00000000 		.word	.LANCHOR3
 215 0030 000C0240 		.word	1073875968
 216 0034 00000000 		.word	DrvGPIO
 217              		.cfi_endproc
 218              	.LFE126:
 220              		.section	.text.SrvOled_DCPin_Ctl,"ax",%progbits
ARM GAS  /tmp/cctZh4Qf.s 			page 6


 221              		.align	1
 222              		.syntax unified
 223              		.thumb
 224              		.thumb_func
 225              		.fpu fpv4-sp-d16
 227              	SrvOled_DCPin_Ctl:
 228              	.LFB127:
  74:Dsp/screen/service/SrvOled.c **** }
  75:Dsp/screen/service/SrvOled.c **** 
  76:Dsp/screen/service/SrvOled.c **** static void SrvOled_DCPin_Ctl(Oled_DC_State_List state)
  77:Dsp/screen/service/SrvOled.c **** {
 229              		.loc 1 77 0
 230              		.cfi_startproc
 231              		@ args = 0, pretend = 0, frame = 0
 232              		@ frame_needed = 0, uses_anonymous_args = 0
 233              	.LVL10:
 234 0000 08B5     		push	{r3, lr}
 235              	.LCFI4:
 236              		.cfi_def_cfa_offset 8
 237              		.cfi_offset 3, -8
 238              		.cfi_offset 14, -4
 239              	.LVL11:
  78:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
  79:Dsp/screen/service/SrvOled.c **** 
  80:Dsp/screen/service/SrvOled.c ****     if (state == Oled_DC_Enable)
 240              		.loc 1 80 0
 241 0002 18B1     		cbz	r0, .L19
  81:Dsp/screen/service/SrvOled.c ****     {
  82:Dsp/screen/service/SrvOled.c ****         level = GPIO_HIGH;
  83:Dsp/screen/service/SrvOled.c ****     }
  84:Dsp/screen/service/SrvOled.c ****     else if (state == Oled_DC_Disable)
 242              		.loc 1 84 0
 243 0004 0128     		cmp	r0, #1
 244 0006 07D0     		beq	.L20
  78:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
 245              		.loc 1 78 0
 246 0008 0021     		movs	r1, #0
 247 000a 00E0     		b	.L18
 248              	.L19:
  82:Dsp/screen/service/SrvOled.c ****     }
 249              		.loc 1 82 0
 250 000c 0221     		movs	r1, #2
 251              	.L18:
 252              	.LVL12:
  85:Dsp/screen/service/SrvOled.c ****         level = GPIO_LOW;
  86:Dsp/screen/service/SrvOled.c **** 
  87:Dsp/screen/service/SrvOled.c ****     DrvGPIO.set(&DC_IO_Obj, level);
 253              		.loc 1 87 0
 254 000e 034B     		ldr	r3, .L22
 255 0010 9B68     		ldr	r3, [r3, #8]
 256 0012 0348     		ldr	r0, .L22+4
 257              	.LVL13:
 258 0014 9847     		blx	r3
 259              	.LVL14:
 260 0016 08BD     		pop	{r3, pc}
 261              	.LVL15:
 262              	.L20:
ARM GAS  /tmp/cctZh4Qf.s 			page 7


  85:Dsp/screen/service/SrvOled.c ****         level = GPIO_LOW;
 263              		.loc 1 85 0
 264 0018 0121     		movs	r1, #1
 265 001a F8E7     		b	.L18
 266              	.L23:
 267              		.align	2
 268              	.L22:
 269 001c 00000000 		.word	DrvGPIO
 270 0020 00000000 		.word	.LANCHOR2
 271              		.cfi_endproc
 272              	.LFE127:
 274              		.section	.text.SrvOled_RSPin_Ctl,"ax",%progbits
 275              		.align	1
 276              		.syntax unified
 277              		.thumb
 278              		.thumb_func
 279              		.fpu fpv4-sp-d16
 281              	SrvOled_RSPin_Ctl:
 282              	.LFB128:
  88:Dsp/screen/service/SrvOled.c **** }
  89:Dsp/screen/service/SrvOled.c **** 
  90:Dsp/screen/service/SrvOled.c **** static void SrvOled_RSPin_Ctl(Oled_RS_State_List state)
  91:Dsp/screen/service/SrvOled.c **** {
 283              		.loc 1 91 0
 284              		.cfi_startproc
 285              		@ args = 0, pretend = 0, frame = 0
 286              		@ frame_needed = 0, uses_anonymous_args = 0
 287              	.LVL16:
 288 0000 08B5     		push	{r3, lr}
 289              	.LCFI5:
 290              		.cfi_def_cfa_offset 8
 291              		.cfi_offset 3, -8
 292              		.cfi_offset 14, -4
 293              	.LVL17:
  92:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
  93:Dsp/screen/service/SrvOled.c **** 
  94:Dsp/screen/service/SrvOled.c ****     if (state == Oled_RS_Enable)
 294              		.loc 1 94 0
 295 0002 18B1     		cbz	r0, .L26
  95:Dsp/screen/service/SrvOled.c ****     {
  96:Dsp/screen/service/SrvOled.c ****         level = GPIO_HIGH;
  97:Dsp/screen/service/SrvOled.c ****     }
  98:Dsp/screen/service/SrvOled.c ****     else if (state == Oled_RS_Disable)
 296              		.loc 1 98 0
 297 0004 0128     		cmp	r0, #1
 298 0006 07D0     		beq	.L27
  92:Dsp/screen/service/SrvOled.c ****     DrvGPIO_IO_Level_TypeDef level = GPIO_ERR;
 299              		.loc 1 92 0
 300 0008 0021     		movs	r1, #0
 301 000a 00E0     		b	.L25
 302              	.L26:
  96:Dsp/screen/service/SrvOled.c ****     }
 303              		.loc 1 96 0
 304 000c 0221     		movs	r1, #2
 305              	.L25:
 306              	.LVL18:
  99:Dsp/screen/service/SrvOled.c ****         level = GPIO_LOW;
ARM GAS  /tmp/cctZh4Qf.s 			page 8


 100:Dsp/screen/service/SrvOled.c **** 
 101:Dsp/screen/service/SrvOled.c ****     DrvGPIO.set(&RS_IO_Obj, level);
 307              		.loc 1 101 0
 308 000e 034B     		ldr	r3, .L29
 309 0010 9B68     		ldr	r3, [r3, #8]
 310 0012 0348     		ldr	r0, .L29+4
 311              	.LVL19:
 312 0014 9847     		blx	r3
 313              	.LVL20:
 314 0016 08BD     		pop	{r3, pc}
 315              	.LVL21:
 316              	.L27:
  99:Dsp/screen/service/SrvOled.c ****         level = GPIO_LOW;
 317              		.loc 1 99 0
 318 0018 0121     		movs	r1, #1
 319 001a F8E7     		b	.L25
 320              	.L30:
 321              		.align	2
 322              	.L29:
 323 001c 00000000 		.word	DrvGPIO
 324 0020 00000000 		.word	.LANCHOR3
 325              		.cfi_endproc
 326              	.LFE128:
 328              		.section	.text.SrvOled_PreInit,"ax",%progbits
 329              		.align	1
 330              		.syntax unified
 331              		.thumb
 332              		.thumb_func
 333              		.fpu fpv4-sp-d16
 335              	SrvOled_PreInit:
 336              	.LFB129:
 102:Dsp/screen/service/SrvOled.c **** }
 103:Dsp/screen/service/SrvOled.c **** 
 104:Dsp/screen/service/SrvOled.c **** /******************************* IO & Bus Init Function Section ***********************************
 105:Dsp/screen/service/SrvOled.c **** 
 106:Dsp/screen/service/SrvOled.c **** static bool SrvOled_PreInit(void)
 107:Dsp/screen/service/SrvOled.c **** {
 337              		.loc 1 107 0
 338              		.cfi_startproc
 339              		@ args = 0, pretend = 0, frame = 0
 340              		@ frame_needed = 0, uses_anonymous_args = 0
 341              		@ link register save eliminated.
 108:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.Bus = Oled_SpiBus;
 342              		.loc 1 108 0
 343 0000 0B4B     		ldr	r3, .L32
 344 0002 0022     		movs	r2, #0
 345 0004 1A70     		strb	r2, [r3]
 109:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.BusID = SPI_1;
 346              		.loc 1 109 0
 347 0006 5A71     		strb	r2, [r3, #5]
 110:Dsp/screen/service/SrvOled.c **** 
 111:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.bus_init = SrvOled_BusInit;
 348              		.loc 1 111 0
 349 0008 0A4A     		ldr	r2, .L32+4
 350 000a C3F81620 		str	r2, [r3, #22]	@ unaligned
 112:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.bus_transmit = SrvOled_BusTransmit;
 351              		.loc 1 112 0
ARM GAS  /tmp/cctZh4Qf.s 			page 9


 352 000e 0A4A     		ldr	r2, .L32+8
 353 0010 C3F81A20 		str	r2, [r3, #26]	@ unaligned
 113:Dsp/screen/service/SrvOled.c **** 
 114:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.rs_init = SrvOled_RSPin_Init;
 354              		.loc 1 114 0
 355 0014 094A     		ldr	r2, .L32+12
 356 0016 C3F80620 		str	r2, [r3, #6]	@ unaligned
 115:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.rs_ctl = SrvOled_RSPin_Ctl;
 357              		.loc 1 115 0
 358 001a 094A     		ldr	r2, .L32+16
 359 001c C3F80E20 		str	r2, [r3, #14]	@ unaligned
 116:Dsp/screen/service/SrvOled.c **** 
 117:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.dc_init = SrvOled_DCPin_Init;
 360              		.loc 1 117 0
 361 0020 084A     		ldr	r2, .L32+20
 362 0022 C3F80A20 		str	r2, [r3, #10]	@ unaligned
 118:Dsp/screen/service/SrvOled.c ****     Oled1306Obj.dc_ctl = SrvOled_DCPin_Ctl;
 363              		.loc 1 118 0
 364 0026 084A     		ldr	r2, .L32+24
 365 0028 C3F81220 		str	r2, [r3, #18]	@ unaligned
 119:Dsp/screen/service/SrvOled.c **** 
 120:Dsp/screen/service/SrvOled.c ****     SrvPerInit_State = true;
 121:Dsp/screen/service/SrvOled.c **** 
 122:Dsp/screen/service/SrvOled.c ****     return SrvPerInit_State;
 123:Dsp/screen/service/SrvOled.c **** }
 366              		.loc 1 123 0
 367 002c 0120     		movs	r0, #1
 368 002e 7047     		bx	lr
 369              	.L33:
 370              		.align	2
 371              	.L32:
 372 0030 00000000 		.word	.LANCHOR1
 373 0034 00000000 		.word	SrvOled_BusInit
 374 0038 00000000 		.word	SrvOled_BusTransmit
 375 003c 00000000 		.word	SrvOled_RSPin_Init
 376 0040 00000000 		.word	SrvOled_RSPin_Ctl
 377 0044 00000000 		.word	SrvOled_DCPin_Init
 378 0048 00000000 		.word	SrvOled_DCPin_Ctl
 379              		.cfi_endproc
 380              	.LFE129:
 382              		.section	.text.SrvOled_Init,"ax",%progbits
 383              		.align	1
 384              		.syntax unified
 385              		.thumb
 386              		.thumb_func
 387              		.fpu fpv4-sp-d16
 389              	SrvOled_Init:
 390              	.LFB130:
 124:Dsp/screen/service/SrvOled.c **** 
 125:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Init(void)
 126:Dsp/screen/service/SrvOled.c **** {
 391              		.loc 1 126 0
 392              		.cfi_startproc
 393              		@ args = 0, pretend = 0, frame = 0
 394              		@ frame_needed = 0, uses_anonymous_args = 0
 395 0000 08B5     		push	{r3, lr}
 396              	.LCFI6:
ARM GAS  /tmp/cctZh4Qf.s 			page 10


 397              		.cfi_def_cfa_offset 8
 398              		.cfi_offset 3, -8
 399              		.cfi_offset 14, -4
 127:Dsp/screen/service/SrvOled.c ****     SrvInit_State = false;
 400              		.loc 1 127 0
 401 0002 0022     		movs	r2, #0
 402 0004 084B     		ldr	r3, .L38
 403 0006 1A70     		strb	r2, [r3]
 128:Dsp/screen/service/SrvOled.c **** 
 129:Dsp/screen/service/SrvOled.c ****     if (SrvOled_PreInit())
 404              		.loc 1 129 0
 405 0008 FFF7FEFF 		bl	SrvOled_PreInit
 406              	.LVL22:
 407 000c 10B9     		cbnz	r0, .L37
 408              	.L35:
 130:Dsp/screen/service/SrvOled.c ****     {
 131:Dsp/screen/service/SrvOled.c ****         if (DrvOled.init(&Oled1306Obj))
 132:Dsp/screen/service/SrvOled.c ****         {
 133:Dsp/screen/service/SrvOled.c ****             SrvInit_State = true;
 134:Dsp/screen/service/SrvOled.c ****         }
 135:Dsp/screen/service/SrvOled.c ****     }
 136:Dsp/screen/service/SrvOled.c **** 
 137:Dsp/screen/service/SrvOled.c ****     return SrvInit_State;
 138:Dsp/screen/service/SrvOled.c **** }
 409              		.loc 1 138 0
 410 000e 064B     		ldr	r3, .L38
 411 0010 1878     		ldrb	r0, [r3]	@ zero_extendqisi2
 412 0012 08BD     		pop	{r3, pc}
 413              	.L37:
 131:Dsp/screen/service/SrvOled.c ****         {
 414              		.loc 1 131 0
 415 0014 054B     		ldr	r3, .L38+4
 416 0016 1B68     		ldr	r3, [r3]
 417 0018 0548     		ldr	r0, .L38+8
 418 001a 9847     		blx	r3
 419              	.LVL23:
 420 001c 0028     		cmp	r0, #0
 421 001e F6D0     		beq	.L35
 133:Dsp/screen/service/SrvOled.c ****         }
 422              		.loc 1 133 0
 423 0020 0122     		movs	r2, #1
 424 0022 014B     		ldr	r3, .L38
 425 0024 1A70     		strb	r2, [r3]
 426 0026 F2E7     		b	.L35
 427              	.L39:
 428              		.align	2
 429              	.L38:
 430 0028 00000000 		.word	.LANCHOR4
 431 002c 00000000 		.word	DrvOled
 432 0030 00000000 		.word	.LANCHOR1
 433              		.cfi_endproc
 434              	.LFE130:
 436              		.section	.text.SrvOled_Fresh,"ax",%progbits
 437              		.align	1
 438              		.syntax unified
 439              		.thumb
 440              		.thumb_func
ARM GAS  /tmp/cctZh4Qf.s 			page 11


 441              		.fpu fpv4-sp-d16
 443              	SrvOled_Fresh:
 444              	.LFB131:
 139:Dsp/screen/service/SrvOled.c **** 
 140:Dsp/screen/service/SrvOled.c **** static bool SrvOled_Fresh(uint8_t **bit_map)
 141:Dsp/screen/service/SrvOled.c **** {
 445              		.loc 1 141 0
 446              		.cfi_startproc
 447              		@ args = 0, pretend = 0, frame = 0
 448              		@ frame_needed = 0, uses_anonymous_args = 0
 449              	.LVL24:
 450 0000 10B5     		push	{r4, lr}
 451              	.LCFI7:
 452              		.cfi_def_cfa_offset 8
 453              		.cfi_offset 4, -8
 454              		.cfi_offset 14, -4
 142:Dsp/screen/service/SrvOled.c ****     if (!SrvInit_State)
 455              		.loc 1 142 0
 456 0002 054B     		ldr	r3, .L44
 457 0004 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 458 0006 0CB9     		cbnz	r4, .L43
 459              	.LVL25:
 460              	.L41:
 143:Dsp/screen/service/SrvOled.c ****         return false;
 144:Dsp/screen/service/SrvOled.c **** 
 145:Dsp/screen/service/SrvOled.c ****     DrvOled.fresh(&Oled1306Obj, bit_map);
 146:Dsp/screen/service/SrvOled.c ****     return true;
 147:Dsp/screen/service/SrvOled.c **** }
 461              		.loc 1 147 0
 462 0008 2046     		mov	r0, r4
 463 000a 10BD     		pop	{r4, pc}
 464              	.LVL26:
 465              	.L43:
 466 000c 0146     		mov	r1, r0
 145:Dsp/screen/service/SrvOled.c ****     return true;
 467              		.loc 1 145 0
 468 000e 034B     		ldr	r3, .L44+4
 469 0010 9B68     		ldr	r3, [r3, #8]
 470 0012 0348     		ldr	r0, .L44+8
 471              	.LVL27:
 472 0014 9847     		blx	r3
 473              	.LVL28:
 146:Dsp/screen/service/SrvOled.c **** }
 474              		.loc 1 146 0
 475 0016 F7E7     		b	.L41
 476              	.L45:
 477              		.align	2
 478              	.L44:
 479 0018 00000000 		.word	.LANCHOR4
 480 001c 00000000 		.word	DrvOled
 481 0020 00000000 		.word	.LANCHOR1
 482              		.cfi_endproc
 483              	.LFE131:
 485              		.section	.text.SrvOled_GetDev_DspRange,"ax",%progbits
 486              		.align	1
 487              		.syntax unified
 488              		.thumb
ARM GAS  /tmp/cctZh4Qf.s 			page 12


 489              		.thumb_func
 490              		.fpu fpv4-sp-d16
 492              	SrvOled_GetDev_DspRange:
 493              	.LFB132:
 148:Dsp/screen/service/SrvOled.c **** 
 149:Dsp/screen/service/SrvOled.c **** static SrvOled_DspRange SrvOled_GetDev_DspRange(void)
 150:Dsp/screen/service/SrvOled.c **** {
 494              		.loc 1 150 0
 495              		.cfi_startproc
 496              		@ args = 0, pretend = 0, frame = 8
 497              		@ frame_needed = 0, uses_anonymous_args = 0
 498 0000 10B5     		push	{r4, lr}
 499              	.LCFI8:
 500              		.cfi_def_cfa_offset 8
 501              		.cfi_offset 4, -8
 502              		.cfi_offset 14, -4
 503 0002 82B0     		sub	sp, sp, #8
 504              	.LCFI9:
 505              		.cfi_def_cfa_offset 16
 151:Dsp/screen/service/SrvOled.c ****     SrvOled_DspRange range;
 152:Dsp/screen/service/SrvOled.c **** 
 153:Dsp/screen/service/SrvOled.c ****     range.width = DrvOled.get_max_width();
 506              		.loc 1 153 0
 507 0004 0A4C     		ldr	r4, .L48
 508 0006 6369     		ldr	r3, [r4, #20]
 509 0008 9847     		blx	r3
 510              	.LVL29:
 511 000a 8DF80000 		strb	r0, [sp]
 154:Dsp/screen/service/SrvOled.c ****     range.height = DrvOled.get_max_height();
 512              		.loc 1 154 0
 513 000e A369     		ldr	r3, [r4, #24]
 514 0010 9847     		blx	r3
 515              	.LVL30:
 516 0012 8DF80100 		strb	r0, [sp, #1]
 155:Dsp/screen/service/SrvOled.c **** 
 156:Dsp/screen/service/SrvOled.c ****     return range;
 517              		.loc 1 156 0
 518 0016 BDF80030 		ldrh	r3, [sp]
 519 001a 0020     		movs	r0, #0
 520 001c DAB2     		uxtb	r2, r3
 521 001e 62F30700 		bfi	r0, r2, #0, #8
 522 0022 C3F30723 		ubfx	r3, r3, #8, #8
 523 0026 63F30F20 		bfi	r0, r3, #8, #8
 157:Dsp/screen/service/SrvOled.c **** }
 524              		.loc 1 157 0
 525 002a 02B0     		add	sp, sp, #8
 526              	.LCFI10:
 527              		.cfi_def_cfa_offset 8
 528              		@ sp needed
 529 002c 10BD     		pop	{r4, pc}
 530              	.L49:
 531 002e 00BF     		.align	2
 532              	.L48:
 533 0030 00000000 		.word	DrvOled
 534              		.cfi_endproc
 535              	.LFE132:
 537              		.section	.text.SrvOled_SetBright,"ax",%progbits
ARM GAS  /tmp/cctZh4Qf.s 			page 13


 538              		.align	1
 539              		.syntax unified
 540              		.thumb
 541              		.thumb_func
 542              		.fpu fpv4-sp-d16
 544              	SrvOled_SetBright:
 545              	.LFB133:
 158:Dsp/screen/service/SrvOled.c **** 
 159:Dsp/screen/service/SrvOled.c **** static bool SrvOled_SetBright(Oled_Bright_Level level)
 160:Dsp/screen/service/SrvOled.c **** {
 546              		.loc 1 160 0
 547              		.cfi_startproc
 548              		@ args = 0, pretend = 0, frame = 0
 549              		@ frame_needed = 0, uses_anonymous_args = 0
 550              	.LVL31:
 551 0000 08B5     		push	{r3, lr}
 552              	.LCFI11:
 553              		.cfi_def_cfa_offset 8
 554              		.cfi_offset 3, -8
 555              		.cfi_offset 14, -4
 161:Dsp/screen/service/SrvOled.c ****     if (SrvOled.bright == NULL)
 556              		.loc 1 161 0
 557 0002 034B     		ldr	r3, .L54
 558 0004 9B68     		ldr	r3, [r3, #8]
 559 0006 0BB1     		cbz	r3, .L52
 162:Dsp/screen/service/SrvOled.c ****         return false;
 163:Dsp/screen/service/SrvOled.c **** 
 164:Dsp/screen/service/SrvOled.c ****     return SrvOled.bright(level);
 560              		.loc 1 164 0
 561 0008 9847     		blx	r3
 562              	.LVL32:
 563 000a 08BD     		pop	{r3, pc}
 564              	.LVL33:
 565              	.L52:
 162:Dsp/screen/service/SrvOled.c ****         return false;
 566              		.loc 1 162 0
 567 000c 0020     		movs	r0, #0
 568              	.LVL34:
 165:Dsp/screen/service/SrvOled.c **** }
 569              		.loc 1 165 0
 570 000e 08BD     		pop	{r3, pc}
 571              	.L55:
 572              		.align	2
 573              	.L54:
 574 0010 00000000 		.word	.LANCHOR5
 575              		.cfi_endproc
 576              	.LFE133:
 578              		.global	SrvOled
 579              		.section	.bss.BusInit_Structure,"aw",%nobits
 580              		.align	2
 581              		.set	.LANCHOR0,. + 0
 584              	BusInit_Structure:
 585 0000 00000000 		.space	6
 585      0000
 586              		.section	.bss.DC_IO_Obj,"aw",%nobits
 587              		.align	2
 588              		.set	.LANCHOR2,. + 0
ARM GAS  /tmp/cctZh4Qf.s 			page 14


 591              	DC_IO_Obj:
 592 0000 00000000 		.space	16
 592      00000000 
 592      00000000 
 592      00000000 
 593              		.section	.bss.Oled1306Obj,"aw",%nobits
 594              		.align	2
 595              		.set	.LANCHOR1,. + 0
 598              	Oled1306Obj:
 599 0000 00000000 		.space	30
 599      00000000 
 599      00000000 
 599      00000000 
 599      00000000 
 600              		.section	.bss.RS_IO_Obj,"aw",%nobits
 601              		.align	2
 602              		.set	.LANCHOR3,. + 0
 605              	RS_IO_Obj:
 606 0000 00000000 		.space	16
 606      00000000 
 606      00000000 
 606      00000000 
 607              		.section	.bss.SrvInit_State,"aw",%nobits
 608              		.set	.LANCHOR4,. + 0
 611              	SrvInit_State:
 612 0000 00       		.space	1
 613              		.section	.data.SrvOled,"aw",%progbits
 614              		.align	2
 615              		.set	.LANCHOR5,. + 0
 618              	SrvOled:
 619 0000 00000000 		.word	SrvOled_Init
 620 0004 00000000 		.word	SrvOled_Fresh
 621 0008 00000000 		.word	SrvOled_SetBright
 622 000c 00000000 		.word	SrvOled_GetDev_DspRange
 623              		.text
 624              	.Letext0:
 625              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 626              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 627              		.file 4 "/usr/include/newlib/sys/lock.h"
 628              		.file 5 "/usr/include/newlib/sys/_types.h"
 629              		.file 6 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 630              		.file 7 "/usr/include/newlib/sys/reent.h"
 631              		.file 8 "Dsp/screen/OledIO_Definition/Oled_DspProp_Def.h"
 632              		.file 9 "Dsp/screen/device/oled1306.h"
 633              		.file 10 "F4_CORE/core_cm4.h"
 634              		.file 11 "USER/system_stm32f4xx.h"
 635              		.file 12 "USER/stm32f4xx.h"
 636              		.file 13 "Bsp/periph_spi.h"
 637              		.file 14 "SYS/data_structure/queue.h"
 638              		.file 15 "Drv/drv_spi.h"
 639              		.file 16 "Bsp/periph_gpio.h"
 640              		.file 17 "Drv/drv_gpio.h"
 641              		.file 18 "Dsp/screen/service/SrvOled.h"
ARM GAS  /tmp/cctZh4Qf.s 			page 15


DEFINED SYMBOLS
                            *ABS*:0000000000000000 SrvOled.c
     /tmp/cctZh4Qf.s:18     .text.SrvOled_BusInit:0000000000000000 $t
     /tmp/cctZh4Qf.s:24     .text.SrvOled_BusInit:0000000000000000 SrvOled_BusInit
     /tmp/cctZh4Qf.s:63     .text.SrvOled_BusInit:0000000000000024 $d
     /tmp/cctZh4Qf.s:70     .text.SrvOled_BusTransmit:0000000000000000 $t
     /tmp/cctZh4Qf.s:76     .text.SrvOled_BusTransmit:0000000000000000 SrvOled_BusTransmit
     /tmp/cctZh4Qf.s:101    .text.SrvOled_BusTransmit:0000000000000014 $d
     /tmp/cctZh4Qf.s:107    .text.SrvOled_DCPin_Init:0000000000000000 $t
     /tmp/cctZh4Qf.s:113    .text.SrvOled_DCPin_Init:0000000000000000 SrvOled_DCPin_Init
     /tmp/cctZh4Qf.s:157    .text.SrvOled_DCPin_Init:000000000000002c $d
     /tmp/cctZh4Qf.s:164    .text.SrvOled_RSPin_Init:0000000000000000 $t
     /tmp/cctZh4Qf.s:170    .text.SrvOled_RSPin_Init:0000000000000000 SrvOled_RSPin_Init
     /tmp/cctZh4Qf.s:214    .text.SrvOled_RSPin_Init:000000000000002c $d
     /tmp/cctZh4Qf.s:221    .text.SrvOled_DCPin_Ctl:0000000000000000 $t
     /tmp/cctZh4Qf.s:227    .text.SrvOled_DCPin_Ctl:0000000000000000 SrvOled_DCPin_Ctl
     /tmp/cctZh4Qf.s:269    .text.SrvOled_DCPin_Ctl:000000000000001c $d
     /tmp/cctZh4Qf.s:275    .text.SrvOled_RSPin_Ctl:0000000000000000 $t
     /tmp/cctZh4Qf.s:281    .text.SrvOled_RSPin_Ctl:0000000000000000 SrvOled_RSPin_Ctl
     /tmp/cctZh4Qf.s:323    .text.SrvOled_RSPin_Ctl:000000000000001c $d
     /tmp/cctZh4Qf.s:329    .text.SrvOled_PreInit:0000000000000000 $t
     /tmp/cctZh4Qf.s:335    .text.SrvOled_PreInit:0000000000000000 SrvOled_PreInit
     /tmp/cctZh4Qf.s:372    .text.SrvOled_PreInit:0000000000000030 $d
     /tmp/cctZh4Qf.s:383    .text.SrvOled_Init:0000000000000000 $t
     /tmp/cctZh4Qf.s:389    .text.SrvOled_Init:0000000000000000 SrvOled_Init
     /tmp/cctZh4Qf.s:430    .text.SrvOled_Init:0000000000000028 $d
     /tmp/cctZh4Qf.s:437    .text.SrvOled_Fresh:0000000000000000 $t
     /tmp/cctZh4Qf.s:443    .text.SrvOled_Fresh:0000000000000000 SrvOled_Fresh
     /tmp/cctZh4Qf.s:479    .text.SrvOled_Fresh:0000000000000018 $d
     /tmp/cctZh4Qf.s:486    .text.SrvOled_GetDev_DspRange:0000000000000000 $t
     /tmp/cctZh4Qf.s:492    .text.SrvOled_GetDev_DspRange:0000000000000000 SrvOled_GetDev_DspRange
     /tmp/cctZh4Qf.s:533    .text.SrvOled_GetDev_DspRange:0000000000000030 $d
     /tmp/cctZh4Qf.s:538    .text.SrvOled_SetBright:0000000000000000 $t
     /tmp/cctZh4Qf.s:544    .text.SrvOled_SetBright:0000000000000000 SrvOled_SetBright
     /tmp/cctZh4Qf.s:574    .text.SrvOled_SetBright:0000000000000010 $d
     /tmp/cctZh4Qf.s:618    .data.SrvOled:0000000000000000 SrvOled
     /tmp/cctZh4Qf.s:580    .bss.BusInit_Structure:0000000000000000 $d
     /tmp/cctZh4Qf.s:584    .bss.BusInit_Structure:0000000000000000 BusInit_Structure
     /tmp/cctZh4Qf.s:587    .bss.DC_IO_Obj:0000000000000000 $d
     /tmp/cctZh4Qf.s:591    .bss.DC_IO_Obj:0000000000000000 DC_IO_Obj
     /tmp/cctZh4Qf.s:594    .bss.Oled1306Obj:0000000000000000 $d
     /tmp/cctZh4Qf.s:598    .bss.Oled1306Obj:0000000000000000 Oled1306Obj
     /tmp/cctZh4Qf.s:601    .bss.RS_IO_Obj:0000000000000000 $d
     /tmp/cctZh4Qf.s:605    .bss.RS_IO_Obj:0000000000000000 RS_IO_Obj
     /tmp/cctZh4Qf.s:611    .bss.SrvInit_State:0000000000000000 SrvInit_State
     /tmp/cctZh4Qf.s:612    .bss.SrvInit_State:0000000000000000 $d
     /tmp/cctZh4Qf.s:614    .data.SrvOled:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
GenSPI_Drv
DrvGPIO
DrvOled
