ARM GAS  /tmp/ccCz1CDm.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbd_desc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USBD_USR_DeviceDescriptor,"ax",%progbits
  18              		.align	1
  19              		.global	USBD_USR_DeviceDescriptor
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	USBD_USR_DeviceDescriptor:
  27              	.LVL0:
  28              	.LFB126:
  29              		.file 1 "USB/core/usbd_desc.c"
   1:USB/core/usbd_desc.c **** /**
   2:USB/core/usbd_desc.c ****   ******************************************************************************
   3:USB/core/usbd_desc.c ****   * @file    usbd_desc.c
   4:USB/core/usbd_desc.c ****   * @author  MCD Application Team
   5:USB/core/usbd_desc.c ****   * @version V1.1.0
   6:USB/core/usbd_desc.c ****   * @date    19-March-2012
   7:USB/core/usbd_desc.c ****   * @brief   This file provides the USBD descriptors and string formating method.
   8:USB/core/usbd_desc.c ****   ******************************************************************************
   9:USB/core/usbd_desc.c ****   * @attention
  10:USB/core/usbd_desc.c ****   *
  11:USB/core/usbd_desc.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  12:USB/core/usbd_desc.c ****   *
  13:USB/core/usbd_desc.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  14:USB/core/usbd_desc.c ****   * You may not use this file except in compliance with the License.
  15:USB/core/usbd_desc.c ****   * You may obtain a copy of the License at:
  16:USB/core/usbd_desc.c ****   *
  17:USB/core/usbd_desc.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  18:USB/core/usbd_desc.c ****   *
  19:USB/core/usbd_desc.c ****   * Unless required by applicable law or agreed to in writing, software 
  20:USB/core/usbd_desc.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  21:USB/core/usbd_desc.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:USB/core/usbd_desc.c ****   * See the License for the specific language governing permissions and
  23:USB/core/usbd_desc.c ****   * limitations under the License.
  24:USB/core/usbd_desc.c ****   *
  25:USB/core/usbd_desc.c ****   ******************************************************************************
  26:USB/core/usbd_desc.c ****   */
  27:USB/core/usbd_desc.c **** 
  28:USB/core/usbd_desc.c **** /* Includes ------------------------------------------------------------------*/
  29:USB/core/usbd_desc.c **** #include "usbd_core.h"
ARM GAS  /tmp/ccCz1CDm.s 			page 2


  30:USB/core/usbd_desc.c **** #include "usbd_desc.h"
  31:USB/core/usbd_desc.c **** #include "usbd_req.h"
  32:USB/core/usbd_desc.c **** #include "usbd_conf.h"
  33:USB/core/usbd_desc.c **** #include "usb_regs.h"
  34:USB/core/usbd_desc.c **** 
  35:USB/core/usbd_desc.c **** #define USBD_VID 0x0483
  36:USB/core/usbd_desc.c **** #define USBD_PID 0x5740
  37:USB/core/usbd_desc.c **** 
  38:USB/core/usbd_desc.c **** /** @defgroup USB_String_Descriptors
  39:USB/core/usbd_desc.c ****   * @{
  40:USB/core/usbd_desc.c ****   */
  41:USB/core/usbd_desc.c **** #define USBD_LANGID_STRING 0x409
  42:USB/core/usbd_desc.c **** #define USBD_MANUFACTURER_STRING "8BIT" //"STMicroelectronics"
  43:USB/core/usbd_desc.c **** 
  44:USB/core/usbd_desc.c **** #define USBD_PRODUCT_HS_STRING "STM32 Virtual ComPort in HS mode"
  45:USB/core/usbd_desc.c **** #define USBD_SERIALNUMBER_HS_STRING "00000000050B"
  46:USB/core/usbd_desc.c **** 
  47:USB/core/usbd_desc.c **** #define USBD_PRODUCT_FS_STRING "8Bit_FlightController" //"STM32 Virtual ComPort in FS Mode"
  48:USB/core/usbd_desc.c **** #define USBD_SERIALNUMBER_FS_STRING "00000000050C"
  49:USB/core/usbd_desc.c **** 
  50:USB/core/usbd_desc.c **** #define USBD_CONFIGURATION_HS_STRING "VCP Config"
  51:USB/core/usbd_desc.c **** #define USBD_INTERFACE_HS_STRING "VCP Interface"
  52:USB/core/usbd_desc.c **** 
  53:USB/core/usbd_desc.c **** #define USBD_CONFIGURATION_FS_STRING "VCP Config"
  54:USB/core/usbd_desc.c **** #define USBD_INTERFACE_FS_STRING "VCP Interface"
  55:USB/core/usbd_desc.c **** 
  56:USB/core/usbd_desc.c **** USBD_DEVICE USR_desc =
  57:USB/core/usbd_desc.c ****     {
  58:USB/core/usbd_desc.c ****         USBD_USR_DeviceDescriptor,
  59:USB/core/usbd_desc.c ****         USBD_USR_LangIDStrDescriptor,
  60:USB/core/usbd_desc.c ****         USBD_USR_ManufacturerStrDescriptor,
  61:USB/core/usbd_desc.c ****         USBD_USR_ProductStrDescriptor,
  62:USB/core/usbd_desc.c ****         USBD_USR_SerialStrDescriptor,
  63:USB/core/usbd_desc.c ****         USBD_USR_ConfigStrDescriptor,
  64:USB/core/usbd_desc.c ****         USBD_USR_InterfaceStrDescriptor,
  65:USB/core/usbd_desc.c **** 
  66:USB/core/usbd_desc.c **** };
  67:USB/core/usbd_desc.c **** 
  68:USB/core/usbd_desc.c **** /* USB Standard Device Descriptor */
  69:USB/core/usbd_desc.c **** __ALIGN_BEGIN uint8_t USBD_DeviceDesc[USB_SIZ_DEVICE_DESC] __ALIGN_END =
  70:USB/core/usbd_desc.c ****     {
  71:USB/core/usbd_desc.c ****         0x12,                       /*bLength */
  72:USB/core/usbd_desc.c ****         USB_DEVICE_DESCRIPTOR_TYPE, /*bDescriptorType*/
  73:USB/core/usbd_desc.c ****         0x00,                       /*bcdUSB */
  74:USB/core/usbd_desc.c ****         0x02,
  75:USB/core/usbd_desc.c ****         0x00,                 /*bDeviceClass*/
  76:USB/core/usbd_desc.c ****         0x00,                 /*bDeviceSubClass*/
  77:USB/core/usbd_desc.c ****         0x00,                 /*bDeviceProtocol*/
  78:USB/core/usbd_desc.c ****         USB_OTG_MAX_EP0_SIZE, /*bMaxPacketSize*/
  79:USB/core/usbd_desc.c ****         LOBYTE(USBD_VID),     /*idVendor*/
  80:USB/core/usbd_desc.c ****         HIBYTE(USBD_VID),     /*idVendor*/
  81:USB/core/usbd_desc.c ****         LOBYTE(USBD_PID),     /*idVendor*/
  82:USB/core/usbd_desc.c ****         HIBYTE(USBD_PID),     /*idVendor*/
  83:USB/core/usbd_desc.c ****         0x00,                 /*bcdDevice rel. 2.00*/
  84:USB/core/usbd_desc.c ****         0x02,
  85:USB/core/usbd_desc.c ****         USBD_IDX_MFC_STR,     /*Index of manufacturer  string*/
  86:USB/core/usbd_desc.c ****         USBD_IDX_PRODUCT_STR, /*Index of product string*/
ARM GAS  /tmp/ccCz1CDm.s 			page 3


  87:USB/core/usbd_desc.c ****         USBD_IDX_SERIAL_STR,  /*Index of serial number string*/
  88:USB/core/usbd_desc.c ****         USBD_CFG_MAX_NUM      /*bNumConfigurations*/
  89:USB/core/usbd_desc.c **** };                            /* USB_DeviceDescriptor */
  90:USB/core/usbd_desc.c **** 
  91:USB/core/usbd_desc.c **** /* USB Standard Device Descriptor */
  92:USB/core/usbd_desc.c **** __ALIGN_BEGIN uint8_t USBD_DeviceQualifierDesc[USB_LEN_DEV_QUALIFIER_DESC] __ALIGN_END =
  93:USB/core/usbd_desc.c ****     {
  94:USB/core/usbd_desc.c ****         USB_LEN_DEV_QUALIFIER_DESC,
  95:USB/core/usbd_desc.c ****         USB_DESC_TYPE_DEVICE_QUALIFIER,
  96:USB/core/usbd_desc.c ****         0x00,
  97:USB/core/usbd_desc.c ****         0x02,
  98:USB/core/usbd_desc.c ****         0x00,
  99:USB/core/usbd_desc.c ****         0x00,
 100:USB/core/usbd_desc.c ****         0x00,
 101:USB/core/usbd_desc.c ****         0x40,
 102:USB/core/usbd_desc.c ****         0x01,
 103:USB/core/usbd_desc.c ****         0x00,
 104:USB/core/usbd_desc.c **** };
 105:USB/core/usbd_desc.c **** 
 106:USB/core/usbd_desc.c **** /* USB Standard Device Descriptor */
 107:USB/core/usbd_desc.c **** __ALIGN_BEGIN uint8_t USBD_LangIDDesc[USB_SIZ_STRING_LANGID] __ALIGN_END =
 108:USB/core/usbd_desc.c ****     {
 109:USB/core/usbd_desc.c ****         USB_SIZ_STRING_LANGID,
 110:USB/core/usbd_desc.c ****         USB_DESC_TYPE_STRING,
 111:USB/core/usbd_desc.c ****         LOBYTE(USBD_LANGID_STRING),
 112:USB/core/usbd_desc.c ****         HIBYTE(USBD_LANGID_STRING),
 113:USB/core/usbd_desc.c **** };
 114:USB/core/usbd_desc.c **** 
 115:USB/core/usbd_desc.c **** /**
 116:USB/core/usbd_desc.c **** * @brief  USBD_USR_DeviceDescriptor 
 117:USB/core/usbd_desc.c **** *         return the device descriptor
 118:USB/core/usbd_desc.c **** * @param  speed : current device speed
 119:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 120:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 121:USB/core/usbd_desc.c **** */
 122:USB/core/usbd_desc.c **** uint8_t *USBD_USR_DeviceDescriptor(uint8_t speed, uint16_t *length)
 123:USB/core/usbd_desc.c **** {
  30              		.loc 1 123 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
 124:USB/core/usbd_desc.c ****   *length = sizeof(USBD_DeviceDesc);
  35              		.loc 1 124 3 view .LVU1
  36              		.loc 1 124 11 is_stmt 0 view .LVU2
  37 0000 1223     		movs	r3, #18
  38 0002 0B80     		strh	r3, [r1]	@ movhi
 125:USB/core/usbd_desc.c ****   return USBD_DeviceDesc;
  39              		.loc 1 125 3 is_stmt 1 view .LVU3
 126:USB/core/usbd_desc.c **** }
  40              		.loc 1 126 1 is_stmt 0 view .LVU4
  41 0004 0048     		ldr	r0, .L2
  42              	.LVL1:
  43              		.loc 1 126 1 view .LVU5
  44 0006 7047     		bx	lr
  45              	.L3:
  46              		.align	2
ARM GAS  /tmp/ccCz1CDm.s 			page 4


  47              	.L2:
  48 0008 00000000 		.word	.LANCHOR0
  49              		.cfi_endproc
  50              	.LFE126:
  52              		.section	.text.USBD_USR_LangIDStrDescriptor,"ax",%progbits
  53              		.align	1
  54              		.global	USBD_USR_LangIDStrDescriptor
  55              		.syntax unified
  56              		.thumb
  57              		.thumb_func
  58              		.fpu fpv4-sp-d16
  60              	USBD_USR_LangIDStrDescriptor:
  61              	.LVL2:
  62              	.LFB127:
 127:USB/core/usbd_desc.c **** 
 128:USB/core/usbd_desc.c **** /**
 129:USB/core/usbd_desc.c **** * @brief  USBD_USR_LangIDStrDescriptor 
 130:USB/core/usbd_desc.c **** *         return the LangID string descriptor
 131:USB/core/usbd_desc.c **** * @param  speed : current device speed
 132:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 133:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 134:USB/core/usbd_desc.c **** */
 135:USB/core/usbd_desc.c **** uint8_t *USBD_USR_LangIDStrDescriptor(uint8_t speed, uint16_t *length)
 136:USB/core/usbd_desc.c **** {
  63              		.loc 1 136 1 is_stmt 1 view -0
  64              		.cfi_startproc
  65              		@ args = 0, pretend = 0, frame = 0
  66              		@ frame_needed = 0, uses_anonymous_args = 0
  67              		@ link register save eliminated.
 137:USB/core/usbd_desc.c ****   *length = sizeof(USBD_LangIDDesc);
  68              		.loc 1 137 3 view .LVU7
  69              		.loc 1 137 11 is_stmt 0 view .LVU8
  70 0000 0423     		movs	r3, #4
  71 0002 0B80     		strh	r3, [r1]	@ movhi
 138:USB/core/usbd_desc.c ****   return USBD_LangIDDesc;
  72              		.loc 1 138 3 is_stmt 1 view .LVU9
 139:USB/core/usbd_desc.c **** }
  73              		.loc 1 139 1 is_stmt 0 view .LVU10
  74 0004 0048     		ldr	r0, .L5
  75              	.LVL3:
  76              		.loc 1 139 1 view .LVU11
  77 0006 7047     		bx	lr
  78              	.L6:
  79              		.align	2
  80              	.L5:
  81 0008 00000000 		.word	.LANCHOR1
  82              		.cfi_endproc
  83              	.LFE127:
  85              		.section	.text.USBD_USR_ProductStrDescriptor,"ax",%progbits
  86              		.align	1
  87              		.global	USBD_USR_ProductStrDescriptor
  88              		.syntax unified
  89              		.thumb
  90              		.thumb_func
  91              		.fpu fpv4-sp-d16
  93              	USBD_USR_ProductStrDescriptor:
  94              	.LVL4:
ARM GAS  /tmp/ccCz1CDm.s 			page 5


  95              	.LFB128:
 140:USB/core/usbd_desc.c **** 
 141:USB/core/usbd_desc.c **** /**
 142:USB/core/usbd_desc.c **** * @brief  USBD_USR_ProductStrDescriptor 
 143:USB/core/usbd_desc.c **** *         return the product string descriptor
 144:USB/core/usbd_desc.c **** * @param  speed : current device speed
 145:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 146:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 147:USB/core/usbd_desc.c **** */
 148:USB/core/usbd_desc.c **** uint8_t *USBD_USR_ProductStrDescriptor(uint8_t speed, uint16_t *length)
 149:USB/core/usbd_desc.c **** {
  96              		.loc 1 149 1 is_stmt 1 view -0
  97              		.cfi_startproc
  98              		@ args = 0, pretend = 0, frame = 0
  99              		@ frame_needed = 0, uses_anonymous_args = 0
 100              		.loc 1 149 1 is_stmt 0 view .LVU13
 101 0000 10B5     		push	{r4, lr}
 102              	.LCFI0:
 103              		.cfi_def_cfa_offset 8
 104              		.cfi_offset 4, -8
 105              		.cfi_offset 14, -4
 150:USB/core/usbd_desc.c ****   USBD_GetString(USBD_PRODUCT_FS_STRING, USBD_StrDesc, length);
 106              		.loc 1 150 3 is_stmt 1 view .LVU14
 107 0002 044C     		ldr	r4, .L9
 108 0004 0A46     		mov	r2, r1
 109 0006 2146     		mov	r1, r4
 110              	.LVL5:
 111              		.loc 1 150 3 is_stmt 0 view .LVU15
 112 0008 0348     		ldr	r0, .L9+4
 113              	.LVL6:
 114              		.loc 1 150 3 view .LVU16
 115 000a FFF7FEFF 		bl	USBD_GetString
 116              	.LVL7:
 151:USB/core/usbd_desc.c ****   return USBD_StrDesc;
 117              		.loc 1 151 3 is_stmt 1 view .LVU17
 152:USB/core/usbd_desc.c **** }
 118              		.loc 1 152 1 is_stmt 0 view .LVU18
 119 000e 2046     		mov	r0, r4
 120 0010 10BD     		pop	{r4, pc}
 121              	.L10:
 122 0012 00BF     		.align	2
 123              	.L9:
 124 0014 00000000 		.word	USBD_StrDesc
 125 0018 00000000 		.word	.LC0
 126              		.cfi_endproc
 127              	.LFE128:
 129              		.section	.text.USBD_USR_ManufacturerStrDescriptor,"ax",%progbits
 130              		.align	1
 131              		.global	USBD_USR_ManufacturerStrDescriptor
 132              		.syntax unified
 133              		.thumb
 134              		.thumb_func
 135              		.fpu fpv4-sp-d16
 137              	USBD_USR_ManufacturerStrDescriptor:
 138              	.LVL8:
 139              	.LFB129:
 153:USB/core/usbd_desc.c **** 
ARM GAS  /tmp/ccCz1CDm.s 			page 6


 154:USB/core/usbd_desc.c **** /**
 155:USB/core/usbd_desc.c **** * @brief  USBD_USR_ManufacturerStrDescriptor 
 156:USB/core/usbd_desc.c **** *         return the manufacturer string descriptor
 157:USB/core/usbd_desc.c **** * @param  speed : current device speed
 158:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 159:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 160:USB/core/usbd_desc.c **** */
 161:USB/core/usbd_desc.c **** uint8_t *USBD_USR_ManufacturerStrDescriptor(uint8_t speed, uint16_t *length)
 162:USB/core/usbd_desc.c **** {
 140              		.loc 1 162 1 is_stmt 1 view -0
 141              		.cfi_startproc
 142              		@ args = 0, pretend = 0, frame = 0
 143              		@ frame_needed = 0, uses_anonymous_args = 0
 144              		.loc 1 162 1 is_stmt 0 view .LVU20
 145 0000 10B5     		push	{r4, lr}
 146              	.LCFI1:
 147              		.cfi_def_cfa_offset 8
 148              		.cfi_offset 4, -8
 149              		.cfi_offset 14, -4
 163:USB/core/usbd_desc.c ****   USBD_GetString(USBD_MANUFACTURER_STRING, USBD_StrDesc, length);
 150              		.loc 1 163 3 is_stmt 1 view .LVU21
 151 0002 044C     		ldr	r4, .L13
 152 0004 0A46     		mov	r2, r1
 153 0006 2146     		mov	r1, r4
 154              	.LVL9:
 155              		.loc 1 163 3 is_stmt 0 view .LVU22
 156 0008 0348     		ldr	r0, .L13+4
 157              	.LVL10:
 158              		.loc 1 163 3 view .LVU23
 159 000a FFF7FEFF 		bl	USBD_GetString
 160              	.LVL11:
 164:USB/core/usbd_desc.c ****   return USBD_StrDesc;
 161              		.loc 1 164 3 is_stmt 1 view .LVU24
 165:USB/core/usbd_desc.c **** }
 162              		.loc 1 165 1 is_stmt 0 view .LVU25
 163 000e 2046     		mov	r0, r4
 164 0010 10BD     		pop	{r4, pc}
 165              	.L14:
 166 0012 00BF     		.align	2
 167              	.L13:
 168 0014 00000000 		.word	USBD_StrDesc
 169 0018 00000000 		.word	.LC1
 170              		.cfi_endproc
 171              	.LFE129:
 173              		.section	.text.USBD_USR_SerialStrDescriptor,"ax",%progbits
 174              		.align	1
 175              		.global	USBD_USR_SerialStrDescriptor
 176              		.syntax unified
 177              		.thumb
 178              		.thumb_func
 179              		.fpu fpv4-sp-d16
 181              	USBD_USR_SerialStrDescriptor:
 182              	.LVL12:
 183              	.LFB130:
 166:USB/core/usbd_desc.c **** 
 167:USB/core/usbd_desc.c **** /**
 168:USB/core/usbd_desc.c **** * @brief  USBD_USR_SerialStrDescriptor 
ARM GAS  /tmp/ccCz1CDm.s 			page 7


 169:USB/core/usbd_desc.c **** *         return the serial number string descriptor
 170:USB/core/usbd_desc.c **** * @param  speed : current device speed
 171:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 172:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 173:USB/core/usbd_desc.c **** */
 174:USB/core/usbd_desc.c **** uint8_t *USBD_USR_SerialStrDescriptor(uint8_t speed, uint16_t *length)
 175:USB/core/usbd_desc.c **** {
 184              		.loc 1 175 1 is_stmt 1 view -0
 185              		.cfi_startproc
 186              		@ args = 0, pretend = 0, frame = 0
 187              		@ frame_needed = 0, uses_anonymous_args = 0
 188              		.loc 1 175 1 is_stmt 0 view .LVU27
 189 0000 10B5     		push	{r4, lr}
 190              	.LCFI2:
 191              		.cfi_def_cfa_offset 8
 192              		.cfi_offset 4, -8
 193              		.cfi_offset 14, -4
 176:USB/core/usbd_desc.c ****   USBD_GetString(USBD_SERIALNUMBER_FS_STRING, USBD_StrDesc, length);
 194              		.loc 1 176 3 is_stmt 1 view .LVU28
 195 0002 044C     		ldr	r4, .L17
 196 0004 0A46     		mov	r2, r1
 197 0006 2146     		mov	r1, r4
 198              	.LVL13:
 199              		.loc 1 176 3 is_stmt 0 view .LVU29
 200 0008 0348     		ldr	r0, .L17+4
 201              	.LVL14:
 202              		.loc 1 176 3 view .LVU30
 203 000a FFF7FEFF 		bl	USBD_GetString
 204              	.LVL15:
 177:USB/core/usbd_desc.c ****   return USBD_StrDesc;
 205              		.loc 1 177 3 is_stmt 1 view .LVU31
 178:USB/core/usbd_desc.c **** }
 206              		.loc 1 178 1 is_stmt 0 view .LVU32
 207 000e 2046     		mov	r0, r4
 208 0010 10BD     		pop	{r4, pc}
 209              	.L18:
 210 0012 00BF     		.align	2
 211              	.L17:
 212 0014 00000000 		.word	USBD_StrDesc
 213 0018 00000000 		.word	.LC2
 214              		.cfi_endproc
 215              	.LFE130:
 217              		.section	.text.USBD_USR_ConfigStrDescriptor,"ax",%progbits
 218              		.align	1
 219              		.global	USBD_USR_ConfigStrDescriptor
 220              		.syntax unified
 221              		.thumb
 222              		.thumb_func
 223              		.fpu fpv4-sp-d16
 225              	USBD_USR_ConfigStrDescriptor:
 226              	.LVL16:
 227              	.LFB131:
 179:USB/core/usbd_desc.c **** 
 180:USB/core/usbd_desc.c **** /**
 181:USB/core/usbd_desc.c **** * @brief  USBD_USR_ConfigStrDescriptor 
 182:USB/core/usbd_desc.c **** *         return the configuration string descriptor
 183:USB/core/usbd_desc.c **** * @param  speed : current device speed
ARM GAS  /tmp/ccCz1CDm.s 			page 8


 184:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 185:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 186:USB/core/usbd_desc.c **** */
 187:USB/core/usbd_desc.c **** uint8_t *USBD_USR_ConfigStrDescriptor(uint8_t speed, uint16_t *length)
 188:USB/core/usbd_desc.c **** {
 228              		.loc 1 188 1 is_stmt 1 view -0
 229              		.cfi_startproc
 230              		@ args = 0, pretend = 0, frame = 0
 231              		@ frame_needed = 0, uses_anonymous_args = 0
 232              		.loc 1 188 1 is_stmt 0 view .LVU34
 233 0000 10B5     		push	{r4, lr}
 234              	.LCFI3:
 235              		.cfi_def_cfa_offset 8
 236              		.cfi_offset 4, -8
 237              		.cfi_offset 14, -4
 189:USB/core/usbd_desc.c ****   USBD_GetString(USBD_CONFIGURATION_FS_STRING, USBD_StrDesc, length);
 238              		.loc 1 189 3 is_stmt 1 view .LVU35
 239 0002 044C     		ldr	r4, .L21
 240 0004 0A46     		mov	r2, r1
 241 0006 2146     		mov	r1, r4
 242              	.LVL17:
 243              		.loc 1 189 3 is_stmt 0 view .LVU36
 244 0008 0348     		ldr	r0, .L21+4
 245              	.LVL18:
 246              		.loc 1 189 3 view .LVU37
 247 000a FFF7FEFF 		bl	USBD_GetString
 248              	.LVL19:
 190:USB/core/usbd_desc.c ****   return USBD_StrDesc;
 249              		.loc 1 190 3 is_stmt 1 view .LVU38
 191:USB/core/usbd_desc.c **** }
 250              		.loc 1 191 1 is_stmt 0 view .LVU39
 251 000e 2046     		mov	r0, r4
 252 0010 10BD     		pop	{r4, pc}
 253              	.L22:
 254 0012 00BF     		.align	2
 255              	.L21:
 256 0014 00000000 		.word	USBD_StrDesc
 257 0018 00000000 		.word	.LC3
 258              		.cfi_endproc
 259              	.LFE131:
 261              		.section	.text.USBD_USR_InterfaceStrDescriptor,"ax",%progbits
 262              		.align	1
 263              		.global	USBD_USR_InterfaceStrDescriptor
 264              		.syntax unified
 265              		.thumb
 266              		.thumb_func
 267              		.fpu fpv4-sp-d16
 269              	USBD_USR_InterfaceStrDescriptor:
 270              	.LVL20:
 271              	.LFB132:
 192:USB/core/usbd_desc.c **** 
 193:USB/core/usbd_desc.c **** /**
 194:USB/core/usbd_desc.c **** * @brief  USBD_USR_InterfaceStrDescriptor 
 195:USB/core/usbd_desc.c **** *         return the interface string descriptor
 196:USB/core/usbd_desc.c **** * @param  speed : current device speed
 197:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 198:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
ARM GAS  /tmp/ccCz1CDm.s 			page 9


 199:USB/core/usbd_desc.c **** */
 200:USB/core/usbd_desc.c **** uint8_t *USBD_USR_InterfaceStrDescriptor(uint8_t speed, uint16_t *length)
 201:USB/core/usbd_desc.c **** {
 272              		.loc 1 201 1 is_stmt 1 view -0
 273              		.cfi_startproc
 274              		@ args = 0, pretend = 0, frame = 0
 275              		@ frame_needed = 0, uses_anonymous_args = 0
 276              		.loc 1 201 1 is_stmt 0 view .LVU41
 277 0000 10B5     		push	{r4, lr}
 278              	.LCFI4:
 279              		.cfi_def_cfa_offset 8
 280              		.cfi_offset 4, -8
 281              		.cfi_offset 14, -4
 202:USB/core/usbd_desc.c ****   USBD_GetString(USBD_INTERFACE_FS_STRING, USBD_StrDesc, length);
 282              		.loc 1 202 3 is_stmt 1 view .LVU42
 283 0002 044C     		ldr	r4, .L25
 284 0004 0A46     		mov	r2, r1
 285 0006 2146     		mov	r1, r4
 286              	.LVL21:
 287              		.loc 1 202 3 is_stmt 0 view .LVU43
 288 0008 0348     		ldr	r0, .L25+4
 289              	.LVL22:
 290              		.loc 1 202 3 view .LVU44
 291 000a FFF7FEFF 		bl	USBD_GetString
 292              	.LVL23:
 203:USB/core/usbd_desc.c ****   return USBD_StrDesc;
 293              		.loc 1 203 3 is_stmt 1 view .LVU45
 204:USB/core/usbd_desc.c **** }
 294              		.loc 1 204 1 is_stmt 0 view .LVU46
 295 000e 2046     		mov	r0, r4
 296 0010 10BD     		pop	{r4, pc}
 297              	.L26:
 298 0012 00BF     		.align	2
 299              	.L25:
 300 0014 00000000 		.word	USBD_StrDesc
 301 0018 00000000 		.word	.LC4
 302              		.cfi_endproc
 303              	.LFE132:
 305              		.global	USBD_LangIDDesc
 306              		.global	USBD_DeviceQualifierDesc
 307              		.global	USBD_DeviceDesc
 308              		.global	USR_desc
 309              		.section	.data.USBD_DeviceDesc,"aw"
 310              		.align	2
 311              		.set	.LANCHOR0,. + 0
 314              	USBD_DeviceDesc:
 315 0000 12       		.byte	18
 316 0001 01       		.byte	1
 317 0002 00       		.byte	0
 318 0003 02       		.byte	2
 319 0004 00       		.byte	0
 320 0005 00       		.byte	0
 321 0006 00       		.byte	0
 322 0007 40       		.byte	64
 323 0008 83       		.byte	-125
 324 0009 04       		.byte	4
 325 000a 40       		.byte	64
ARM GAS  /tmp/ccCz1CDm.s 			page 10


 326 000b 57       		.byte	87
 327 000c 00       		.byte	0
 328 000d 02       		.byte	2
 329 000e 01       		.byte	1
 330 000f 02       		.byte	2
 331 0010 03       		.byte	3
 332 0011 01       		.byte	1
 333              		.section	.data.USBD_DeviceQualifierDesc,"aw"
 334              		.align	2
 337              	USBD_DeviceQualifierDesc:
 338 0000 0A       		.byte	10
 339 0001 06       		.byte	6
 340 0002 00       		.byte	0
 341 0003 02       		.byte	2
 342 0004 00       		.byte	0
 343 0005 00       		.byte	0
 344 0006 00       		.byte	0
 345 0007 40       		.byte	64
 346 0008 01       		.byte	1
 347 0009 00       		.byte	0
 348              		.section	.data.USBD_LangIDDesc,"aw"
 349              		.align	2
 350              		.set	.LANCHOR1,. + 0
 353              	USBD_LangIDDesc:
 354 0000 04       		.byte	4
 355 0001 03       		.byte	3
 356 0002 09       		.byte	9
 357 0003 04       		.byte	4
 358              		.section	.data.USR_desc,"aw"
 359              		.align	2
 362              	USR_desc:
 363 0000 00000000 		.word	USBD_USR_DeviceDescriptor
 364 0004 00000000 		.word	USBD_USR_LangIDStrDescriptor
 365 0008 00000000 		.word	USBD_USR_ManufacturerStrDescriptor
 366 000c 00000000 		.word	USBD_USR_ProductStrDescriptor
 367 0010 00000000 		.word	USBD_USR_SerialStrDescriptor
 368 0014 00000000 		.word	USBD_USR_ConfigStrDescriptor
 369 0018 00000000 		.word	USBD_USR_InterfaceStrDescriptor
 370              		.section	.rodata.USBD_USR_ConfigStrDescriptor.str1.4,"aMS",%progbits,1
 371              		.align	2
 372              	.LC3:
 373 0000 56435020 		.ascii	"VCP Config\000"
 373      436F6E66 
 373      696700
 374              		.section	.rodata.USBD_USR_InterfaceStrDescriptor.str1.4,"aMS",%progbits,1
 375              		.align	2
 376              	.LC4:
 377 0000 56435020 		.ascii	"VCP Interface\000"
 377      496E7465 
 377      72666163 
 377      6500
 378              		.section	.rodata.USBD_USR_ManufacturerStrDescriptor.str1.4,"aMS",%progbits,1
 379              		.align	2
 380              	.LC1:
 381 0000 38424954 		.ascii	"8BIT\000"
 381      00
 382              		.section	.rodata.USBD_USR_ProductStrDescriptor.str1.4,"aMS",%progbits,1
ARM GAS  /tmp/ccCz1CDm.s 			page 11


 383              		.align	2
 384              	.LC0:
 385 0000 38426974 		.ascii	"8Bit_FlightController\000"
 385      5F466C69 
 385      67687443 
 385      6F6E7472 
 385      6F6C6C65 
 386              		.section	.rodata.USBD_USR_SerialStrDescriptor.str1.4,"aMS",%progbits,1
 387              		.align	2
 388              	.LC2:
 389 0000 30303030 		.ascii	"00000000050C\000"
 389      30303030 
 389      30353043 
 389      00
 390              		.text
 391              	.Letext0:
 392              		.file 2 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 393              		.file 3 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 394              		.file 4 "F4_CORE/core_cm4.h"
 395              		.file 5 "USER/system_stm32f4xx.h"
 396              		.file 6 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 397              		.file 7 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 398              		.file 8 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 399              		.file 9 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 400              		.file 10 "USB/core/usb_core.h"
 401              		.file 11 "USB/core/usbd_desc.h"
 402              		.file 12 "USB/core/usbd_req.h"
ARM GAS  /tmp/ccCz1CDm.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_desc.c
     /tmp/ccCz1CDm.s:18     .text.USBD_USR_DeviceDescriptor:0000000000000000 $t
     /tmp/ccCz1CDm.s:26     .text.USBD_USR_DeviceDescriptor:0000000000000000 USBD_USR_DeviceDescriptor
     /tmp/ccCz1CDm.s:48     .text.USBD_USR_DeviceDescriptor:0000000000000008 $d
     /tmp/ccCz1CDm.s:53     .text.USBD_USR_LangIDStrDescriptor:0000000000000000 $t
     /tmp/ccCz1CDm.s:60     .text.USBD_USR_LangIDStrDescriptor:0000000000000000 USBD_USR_LangIDStrDescriptor
     /tmp/ccCz1CDm.s:81     .text.USBD_USR_LangIDStrDescriptor:0000000000000008 $d
     /tmp/ccCz1CDm.s:86     .text.USBD_USR_ProductStrDescriptor:0000000000000000 $t
     /tmp/ccCz1CDm.s:93     .text.USBD_USR_ProductStrDescriptor:0000000000000000 USBD_USR_ProductStrDescriptor
     /tmp/ccCz1CDm.s:124    .text.USBD_USR_ProductStrDescriptor:0000000000000014 $d
     /tmp/ccCz1CDm.s:130    .text.USBD_USR_ManufacturerStrDescriptor:0000000000000000 $t
     /tmp/ccCz1CDm.s:137    .text.USBD_USR_ManufacturerStrDescriptor:0000000000000000 USBD_USR_ManufacturerStrDescriptor
     /tmp/ccCz1CDm.s:168    .text.USBD_USR_ManufacturerStrDescriptor:0000000000000014 $d
     /tmp/ccCz1CDm.s:174    .text.USBD_USR_SerialStrDescriptor:0000000000000000 $t
     /tmp/ccCz1CDm.s:181    .text.USBD_USR_SerialStrDescriptor:0000000000000000 USBD_USR_SerialStrDescriptor
     /tmp/ccCz1CDm.s:212    .text.USBD_USR_SerialStrDescriptor:0000000000000014 $d
     /tmp/ccCz1CDm.s:218    .text.USBD_USR_ConfigStrDescriptor:0000000000000000 $t
     /tmp/ccCz1CDm.s:225    .text.USBD_USR_ConfigStrDescriptor:0000000000000000 USBD_USR_ConfigStrDescriptor
     /tmp/ccCz1CDm.s:256    .text.USBD_USR_ConfigStrDescriptor:0000000000000014 $d
     /tmp/ccCz1CDm.s:262    .text.USBD_USR_InterfaceStrDescriptor:0000000000000000 $t
     /tmp/ccCz1CDm.s:269    .text.USBD_USR_InterfaceStrDescriptor:0000000000000000 USBD_USR_InterfaceStrDescriptor
     /tmp/ccCz1CDm.s:300    .text.USBD_USR_InterfaceStrDescriptor:0000000000000014 $d
     /tmp/ccCz1CDm.s:353    .data.USBD_LangIDDesc:0000000000000000 USBD_LangIDDesc
     /tmp/ccCz1CDm.s:337    .data.USBD_DeviceQualifierDesc:0000000000000000 USBD_DeviceQualifierDesc
     /tmp/ccCz1CDm.s:314    .data.USBD_DeviceDesc:0000000000000000 USBD_DeviceDesc
     /tmp/ccCz1CDm.s:362    .data.USR_desc:0000000000000000 USR_desc
     /tmp/ccCz1CDm.s:310    .data.USBD_DeviceDesc:0000000000000000 $d
     /tmp/ccCz1CDm.s:334    .data.USBD_DeviceQualifierDesc:0000000000000000 $d
     /tmp/ccCz1CDm.s:349    .data.USBD_LangIDDesc:0000000000000000 $d
     /tmp/ccCz1CDm.s:359    .data.USR_desc:0000000000000000 $d
     /tmp/ccCz1CDm.s:371    .rodata.USBD_USR_ConfigStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccCz1CDm.s:375    .rodata.USBD_USR_InterfaceStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccCz1CDm.s:379    .rodata.USBD_USR_ManufacturerStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccCz1CDm.s:383    .rodata.USBD_USR_ProductStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccCz1CDm.s:387    .rodata.USBD_USR_SerialStrDescriptor.str1.4:0000000000000000 $d

UNDEFINED SYMBOLS
USBD_GetString
USBD_StrDesc
