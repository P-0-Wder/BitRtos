ARM GAS  /tmp/ccTrHmNI.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"usbd_desc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USBD_USR_DeviceDescriptor,"ax",%progbits
  18              		.align	1
  19              		.global	USBD_USR_DeviceDescriptor
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	USBD_USR_DeviceDescriptor:
  26              	.LFB124:
  27              		.file 1 "USB/core/usbd_desc.c"
   1:USB/core/usbd_desc.c **** /**
   2:USB/core/usbd_desc.c ****   ******************************************************************************
   3:USB/core/usbd_desc.c ****   * @file    usbd_desc.c
   4:USB/core/usbd_desc.c ****   * @author  MCD Application Team
   5:USB/core/usbd_desc.c ****   * @version V1.1.0
   6:USB/core/usbd_desc.c ****   * @date    19-March-2012
   7:USB/core/usbd_desc.c ****   * @brief   This file provides the USBD descriptors and string formating method.
   8:USB/core/usbd_desc.c ****   ******************************************************************************
   9:USB/core/usbd_desc.c ****   * @attention
  10:USB/core/usbd_desc.c ****   *
  11:USB/core/usbd_desc.c ****   * <h2><center>&copy; COPYRIGHT 2012 STMicroelectronics</center></h2>
  12:USB/core/usbd_desc.c ****   *
  13:USB/core/usbd_desc.c ****   * Licensed under MCD-ST Liberty SW License Agreement V2, (the "License");
  14:USB/core/usbd_desc.c ****   * You may not use this file except in compliance with the License.
  15:USB/core/usbd_desc.c ****   * You may obtain a copy of the License at:
  16:USB/core/usbd_desc.c ****   *
  17:USB/core/usbd_desc.c ****   *        http://www.st.com/software_license_agreement_liberty_v2
  18:USB/core/usbd_desc.c ****   *
  19:USB/core/usbd_desc.c ****   * Unless required by applicable law or agreed to in writing, software 
  20:USB/core/usbd_desc.c ****   * distributed under the License is distributed on an "AS IS" BASIS, 
  21:USB/core/usbd_desc.c ****   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  22:USB/core/usbd_desc.c ****   * See the License for the specific language governing permissions and
  23:USB/core/usbd_desc.c ****   * limitations under the License.
  24:USB/core/usbd_desc.c ****   *
  25:USB/core/usbd_desc.c ****   ******************************************************************************
  26:USB/core/usbd_desc.c ****   */
  27:USB/core/usbd_desc.c **** 
  28:USB/core/usbd_desc.c **** /* Includes ------------------------------------------------------------------*/
  29:USB/core/usbd_desc.c **** #include "usbd_core.h"
  30:USB/core/usbd_desc.c **** #include "usbd_desc.h"
  31:USB/core/usbd_desc.c **** #include "usbd_req.h"
ARM GAS  /tmp/ccTrHmNI.s 			page 2


  32:USB/core/usbd_desc.c **** #include "usbd_conf.h"
  33:USB/core/usbd_desc.c **** #include "usb_regs.h"
  34:USB/core/usbd_desc.c **** 
  35:USB/core/usbd_desc.c **** #define USBD_VID 0x0483
  36:USB/core/usbd_desc.c **** #define USBD_PID 0x5740
  37:USB/core/usbd_desc.c **** 
  38:USB/core/usbd_desc.c **** /** @defgroup USB_String_Descriptors
  39:USB/core/usbd_desc.c ****   * @{
  40:USB/core/usbd_desc.c ****   */
  41:USB/core/usbd_desc.c **** #define USBD_LANGID_STRING 0x409
  42:USB/core/usbd_desc.c **** #define USBD_MANUFACTURER_STRING "8BIT" //"STMicroelectronics"
  43:USB/core/usbd_desc.c **** 
  44:USB/core/usbd_desc.c **** #define USBD_PRODUCT_HS_STRING "STM32 Virtual ComPort in HS mode"
  45:USB/core/usbd_desc.c **** #define USBD_SERIALNUMBER_HS_STRING "00000000050B"
  46:USB/core/usbd_desc.c **** 
  47:USB/core/usbd_desc.c **** #define USBD_PRODUCT_FS_STRING "8Bit_FlightController" //"STM32 Virtual ComPort in FS Mode"
  48:USB/core/usbd_desc.c **** #define USBD_SERIALNUMBER_FS_STRING "00000000050C"
  49:USB/core/usbd_desc.c **** 
  50:USB/core/usbd_desc.c **** #define USBD_CONFIGURATION_HS_STRING "VCP Config"
  51:USB/core/usbd_desc.c **** #define USBD_INTERFACE_HS_STRING "VCP Interface"
  52:USB/core/usbd_desc.c **** 
  53:USB/core/usbd_desc.c **** #define USBD_CONFIGURATION_FS_STRING "VCP Config"
  54:USB/core/usbd_desc.c **** #define USBD_INTERFACE_FS_STRING "VCP Interface"
  55:USB/core/usbd_desc.c **** 
  56:USB/core/usbd_desc.c **** USBD_DEVICE USR_desc =
  57:USB/core/usbd_desc.c ****     {
  58:USB/core/usbd_desc.c ****         USBD_USR_DeviceDescriptor,
  59:USB/core/usbd_desc.c ****         USBD_USR_LangIDStrDescriptor,
  60:USB/core/usbd_desc.c ****         USBD_USR_ManufacturerStrDescriptor,
  61:USB/core/usbd_desc.c ****         USBD_USR_ProductStrDescriptor,
  62:USB/core/usbd_desc.c ****         USBD_USR_SerialStrDescriptor,
  63:USB/core/usbd_desc.c ****         USBD_USR_ConfigStrDescriptor,
  64:USB/core/usbd_desc.c ****         USBD_USR_InterfaceStrDescriptor,
  65:USB/core/usbd_desc.c **** 
  66:USB/core/usbd_desc.c **** };
  67:USB/core/usbd_desc.c **** 
  68:USB/core/usbd_desc.c **** /* USB Standard Device Descriptor */
  69:USB/core/usbd_desc.c **** __ALIGN_BEGIN uint8_t USBD_DeviceDesc[USB_SIZ_DEVICE_DESC] __ALIGN_END =
  70:USB/core/usbd_desc.c ****     {
  71:USB/core/usbd_desc.c ****         0x12,                       /*bLength */
  72:USB/core/usbd_desc.c ****         USB_DEVICE_DESCRIPTOR_TYPE, /*bDescriptorType*/
  73:USB/core/usbd_desc.c ****         0x00,                       /*bcdUSB */
  74:USB/core/usbd_desc.c ****         0x02,
  75:USB/core/usbd_desc.c ****         0x00,                 /*bDeviceClass*/
  76:USB/core/usbd_desc.c ****         0x00,                 /*bDeviceSubClass*/
  77:USB/core/usbd_desc.c ****         0x00,                 /*bDeviceProtocol*/
  78:USB/core/usbd_desc.c ****         USB_OTG_MAX_EP0_SIZE, /*bMaxPacketSize*/
  79:USB/core/usbd_desc.c ****         LOBYTE(USBD_VID),     /*idVendor*/
  80:USB/core/usbd_desc.c ****         HIBYTE(USBD_VID),     /*idVendor*/
  81:USB/core/usbd_desc.c ****         LOBYTE(USBD_PID),     /*idVendor*/
  82:USB/core/usbd_desc.c ****         HIBYTE(USBD_PID),     /*idVendor*/
  83:USB/core/usbd_desc.c ****         0x00,                 /*bcdDevice rel. 2.00*/
  84:USB/core/usbd_desc.c ****         0x02,
  85:USB/core/usbd_desc.c ****         USBD_IDX_MFC_STR,     /*Index of manufacturer  string*/
  86:USB/core/usbd_desc.c ****         USBD_IDX_PRODUCT_STR, /*Index of product string*/
  87:USB/core/usbd_desc.c ****         USBD_IDX_SERIAL_STR,  /*Index of serial number string*/
  88:USB/core/usbd_desc.c ****         USBD_CFG_MAX_NUM      /*bNumConfigurations*/
ARM GAS  /tmp/ccTrHmNI.s 			page 3


  89:USB/core/usbd_desc.c **** };                            /* USB_DeviceDescriptor */
  90:USB/core/usbd_desc.c **** 
  91:USB/core/usbd_desc.c **** /* USB Standard Device Descriptor */
  92:USB/core/usbd_desc.c **** __ALIGN_BEGIN uint8_t USBD_DeviceQualifierDesc[USB_LEN_DEV_QUALIFIER_DESC] __ALIGN_END =
  93:USB/core/usbd_desc.c ****     {
  94:USB/core/usbd_desc.c ****         USB_LEN_DEV_QUALIFIER_DESC,
  95:USB/core/usbd_desc.c ****         USB_DESC_TYPE_DEVICE_QUALIFIER,
  96:USB/core/usbd_desc.c ****         0x00,
  97:USB/core/usbd_desc.c ****         0x02,
  98:USB/core/usbd_desc.c ****         0x00,
  99:USB/core/usbd_desc.c ****         0x00,
 100:USB/core/usbd_desc.c ****         0x00,
 101:USB/core/usbd_desc.c ****         0x40,
 102:USB/core/usbd_desc.c ****         0x01,
 103:USB/core/usbd_desc.c ****         0x00,
 104:USB/core/usbd_desc.c **** };
 105:USB/core/usbd_desc.c **** 
 106:USB/core/usbd_desc.c **** /* USB Standard Device Descriptor */
 107:USB/core/usbd_desc.c **** __ALIGN_BEGIN uint8_t USBD_LangIDDesc[USB_SIZ_STRING_LANGID] __ALIGN_END =
 108:USB/core/usbd_desc.c ****     {
 109:USB/core/usbd_desc.c ****         USB_SIZ_STRING_LANGID,
 110:USB/core/usbd_desc.c ****         USB_DESC_TYPE_STRING,
 111:USB/core/usbd_desc.c ****         LOBYTE(USBD_LANGID_STRING),
 112:USB/core/usbd_desc.c ****         HIBYTE(USBD_LANGID_STRING),
 113:USB/core/usbd_desc.c **** };
 114:USB/core/usbd_desc.c **** 
 115:USB/core/usbd_desc.c **** /**
 116:USB/core/usbd_desc.c **** * @brief  USBD_USR_DeviceDescriptor 
 117:USB/core/usbd_desc.c **** *         return the device descriptor
 118:USB/core/usbd_desc.c **** * @param  speed : current device speed
 119:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 120:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 121:USB/core/usbd_desc.c **** */
 122:USB/core/usbd_desc.c **** uint8_t *USBD_USR_DeviceDescriptor(uint8_t speed, uint16_t *length)
 123:USB/core/usbd_desc.c **** {
  28              		.loc 1 123 0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 0
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		@ link register save eliminated.
  33              	.LVL0:
 124:USB/core/usbd_desc.c ****   *length = sizeof(USBD_DeviceDesc);
  34              		.loc 1 124 0
  35 0000 1223     		movs	r3, #18
  36 0002 0B80     		strh	r3, [r1]	@ movhi
 125:USB/core/usbd_desc.c ****   return USBD_DeviceDesc;
 126:USB/core/usbd_desc.c **** }
  37              		.loc 1 126 0
  38 0004 0048     		ldr	r0, .L2
  39              	.LVL1:
  40 0006 7047     		bx	lr
  41              	.L3:
  42              		.align	2
  43              	.L2:
  44 0008 00000000 		.word	.LANCHOR0
  45              		.cfi_endproc
  46              	.LFE124:
ARM GAS  /tmp/ccTrHmNI.s 			page 4


  48              		.section	.text.USBD_USR_LangIDStrDescriptor,"ax",%progbits
  49              		.align	1
  50              		.global	USBD_USR_LangIDStrDescriptor
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  54              		.fpu fpv4-sp-d16
  56              	USBD_USR_LangIDStrDescriptor:
  57              	.LFB125:
 127:USB/core/usbd_desc.c **** 
 128:USB/core/usbd_desc.c **** /**
 129:USB/core/usbd_desc.c **** * @brief  USBD_USR_LangIDStrDescriptor 
 130:USB/core/usbd_desc.c **** *         return the LangID string descriptor
 131:USB/core/usbd_desc.c **** * @param  speed : current device speed
 132:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 133:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 134:USB/core/usbd_desc.c **** */
 135:USB/core/usbd_desc.c **** uint8_t *USBD_USR_LangIDStrDescriptor(uint8_t speed, uint16_t *length)
 136:USB/core/usbd_desc.c **** {
  58              		.loc 1 136 0
  59              		.cfi_startproc
  60              		@ args = 0, pretend = 0, frame = 0
  61              		@ frame_needed = 0, uses_anonymous_args = 0
  62              		@ link register save eliminated.
  63              	.LVL2:
 137:USB/core/usbd_desc.c ****   *length = sizeof(USBD_LangIDDesc);
  64              		.loc 1 137 0
  65 0000 0423     		movs	r3, #4
  66 0002 0B80     		strh	r3, [r1]	@ movhi
 138:USB/core/usbd_desc.c ****   return USBD_LangIDDesc;
 139:USB/core/usbd_desc.c **** }
  67              		.loc 1 139 0
  68 0004 0048     		ldr	r0, .L5
  69              	.LVL3:
  70 0006 7047     		bx	lr
  71              	.L6:
  72              		.align	2
  73              	.L5:
  74 0008 00000000 		.word	.LANCHOR1
  75              		.cfi_endproc
  76              	.LFE125:
  78              		.section	.text.USBD_USR_ProductStrDescriptor,"ax",%progbits
  79              		.align	1
  80              		.global	USBD_USR_ProductStrDescriptor
  81              		.syntax unified
  82              		.thumb
  83              		.thumb_func
  84              		.fpu fpv4-sp-d16
  86              	USBD_USR_ProductStrDescriptor:
  87              	.LFB126:
 140:USB/core/usbd_desc.c **** 
 141:USB/core/usbd_desc.c **** /**
 142:USB/core/usbd_desc.c **** * @brief  USBD_USR_ProductStrDescriptor 
 143:USB/core/usbd_desc.c **** *         return the product string descriptor
 144:USB/core/usbd_desc.c **** * @param  speed : current device speed
 145:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 146:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
ARM GAS  /tmp/ccTrHmNI.s 			page 5


 147:USB/core/usbd_desc.c **** */
 148:USB/core/usbd_desc.c **** uint8_t *USBD_USR_ProductStrDescriptor(uint8_t speed, uint16_t *length)
 149:USB/core/usbd_desc.c **** {
  88              		.loc 1 149 0
  89              		.cfi_startproc
  90              		@ args = 0, pretend = 0, frame = 0
  91              		@ frame_needed = 0, uses_anonymous_args = 0
  92              	.LVL4:
  93 0000 10B5     		push	{r4, lr}
  94              	.LCFI0:
  95              		.cfi_def_cfa_offset 8
  96              		.cfi_offset 4, -8
  97              		.cfi_offset 14, -4
 150:USB/core/usbd_desc.c ****   USBD_GetString(USBD_PRODUCT_FS_STRING, USBD_StrDesc, length);
  98              		.loc 1 150 0
  99 0002 044C     		ldr	r4, .L9
 100 0004 0A46     		mov	r2, r1
 101 0006 2146     		mov	r1, r4
 102              	.LVL5:
 103 0008 0348     		ldr	r0, .L9+4
 104              	.LVL6:
 105 000a FFF7FEFF 		bl	USBD_GetString
 106              	.LVL7:
 151:USB/core/usbd_desc.c ****   return USBD_StrDesc;
 152:USB/core/usbd_desc.c **** }
 107              		.loc 1 152 0
 108 000e 2046     		mov	r0, r4
 109 0010 10BD     		pop	{r4, pc}
 110              	.L10:
 111 0012 00BF     		.align	2
 112              	.L9:
 113 0014 00000000 		.word	USBD_StrDesc
 114 0018 00000000 		.word	.LC0
 115              		.cfi_endproc
 116              	.LFE126:
 118              		.section	.text.USBD_USR_ManufacturerStrDescriptor,"ax",%progbits
 119              		.align	1
 120              		.global	USBD_USR_ManufacturerStrDescriptor
 121              		.syntax unified
 122              		.thumb
 123              		.thumb_func
 124              		.fpu fpv4-sp-d16
 126              	USBD_USR_ManufacturerStrDescriptor:
 127              	.LFB127:
 153:USB/core/usbd_desc.c **** 
 154:USB/core/usbd_desc.c **** /**
 155:USB/core/usbd_desc.c **** * @brief  USBD_USR_ManufacturerStrDescriptor 
 156:USB/core/usbd_desc.c **** *         return the manufacturer string descriptor
 157:USB/core/usbd_desc.c **** * @param  speed : current device speed
 158:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 159:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 160:USB/core/usbd_desc.c **** */
 161:USB/core/usbd_desc.c **** uint8_t *USBD_USR_ManufacturerStrDescriptor(uint8_t speed, uint16_t *length)
 162:USB/core/usbd_desc.c **** {
 128              		.loc 1 162 0
 129              		.cfi_startproc
 130              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/ccTrHmNI.s 			page 6


 131              		@ frame_needed = 0, uses_anonymous_args = 0
 132              	.LVL8:
 133 0000 10B5     		push	{r4, lr}
 134              	.LCFI1:
 135              		.cfi_def_cfa_offset 8
 136              		.cfi_offset 4, -8
 137              		.cfi_offset 14, -4
 163:USB/core/usbd_desc.c ****   USBD_GetString(USBD_MANUFACTURER_STRING, USBD_StrDesc, length);
 138              		.loc 1 163 0
 139 0002 044C     		ldr	r4, .L13
 140 0004 0A46     		mov	r2, r1
 141 0006 2146     		mov	r1, r4
 142              	.LVL9:
 143 0008 0348     		ldr	r0, .L13+4
 144              	.LVL10:
 145 000a FFF7FEFF 		bl	USBD_GetString
 146              	.LVL11:
 164:USB/core/usbd_desc.c ****   return USBD_StrDesc;
 165:USB/core/usbd_desc.c **** }
 147              		.loc 1 165 0
 148 000e 2046     		mov	r0, r4
 149 0010 10BD     		pop	{r4, pc}
 150              	.L14:
 151 0012 00BF     		.align	2
 152              	.L13:
 153 0014 00000000 		.word	USBD_StrDesc
 154 0018 00000000 		.word	.LC1
 155              		.cfi_endproc
 156              	.LFE127:
 158              		.section	.text.USBD_USR_SerialStrDescriptor,"ax",%progbits
 159              		.align	1
 160              		.global	USBD_USR_SerialStrDescriptor
 161              		.syntax unified
 162              		.thumb
 163              		.thumb_func
 164              		.fpu fpv4-sp-d16
 166              	USBD_USR_SerialStrDescriptor:
 167              	.LFB128:
 166:USB/core/usbd_desc.c **** 
 167:USB/core/usbd_desc.c **** /**
 168:USB/core/usbd_desc.c **** * @brief  USBD_USR_SerialStrDescriptor 
 169:USB/core/usbd_desc.c **** *         return the serial number string descriptor
 170:USB/core/usbd_desc.c **** * @param  speed : current device speed
 171:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 172:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 173:USB/core/usbd_desc.c **** */
 174:USB/core/usbd_desc.c **** uint8_t *USBD_USR_SerialStrDescriptor(uint8_t speed, uint16_t *length)
 175:USB/core/usbd_desc.c **** {
 168              		.loc 1 175 0
 169              		.cfi_startproc
 170              		@ args = 0, pretend = 0, frame = 0
 171              		@ frame_needed = 0, uses_anonymous_args = 0
 172              	.LVL12:
 173 0000 10B5     		push	{r4, lr}
 174              	.LCFI2:
 175              		.cfi_def_cfa_offset 8
 176              		.cfi_offset 4, -8
ARM GAS  /tmp/ccTrHmNI.s 			page 7


 177              		.cfi_offset 14, -4
 176:USB/core/usbd_desc.c ****   USBD_GetString(USBD_SERIALNUMBER_FS_STRING, USBD_StrDesc, length);
 178              		.loc 1 176 0
 179 0002 044C     		ldr	r4, .L17
 180 0004 0A46     		mov	r2, r1
 181 0006 2146     		mov	r1, r4
 182              	.LVL13:
 183 0008 0348     		ldr	r0, .L17+4
 184              	.LVL14:
 185 000a FFF7FEFF 		bl	USBD_GetString
 186              	.LVL15:
 177:USB/core/usbd_desc.c ****   return USBD_StrDesc;
 178:USB/core/usbd_desc.c **** }
 187              		.loc 1 178 0
 188 000e 2046     		mov	r0, r4
 189 0010 10BD     		pop	{r4, pc}
 190              	.L18:
 191 0012 00BF     		.align	2
 192              	.L17:
 193 0014 00000000 		.word	USBD_StrDesc
 194 0018 00000000 		.word	.LC2
 195              		.cfi_endproc
 196              	.LFE128:
 198              		.section	.text.USBD_USR_ConfigStrDescriptor,"ax",%progbits
 199              		.align	1
 200              		.global	USBD_USR_ConfigStrDescriptor
 201              		.syntax unified
 202              		.thumb
 203              		.thumb_func
 204              		.fpu fpv4-sp-d16
 206              	USBD_USR_ConfigStrDescriptor:
 207              	.LFB129:
 179:USB/core/usbd_desc.c **** 
 180:USB/core/usbd_desc.c **** /**
 181:USB/core/usbd_desc.c **** * @brief  USBD_USR_ConfigStrDescriptor 
 182:USB/core/usbd_desc.c **** *         return the configuration string descriptor
 183:USB/core/usbd_desc.c **** * @param  speed : current device speed
 184:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 185:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 186:USB/core/usbd_desc.c **** */
 187:USB/core/usbd_desc.c **** uint8_t *USBD_USR_ConfigStrDescriptor(uint8_t speed, uint16_t *length)
 188:USB/core/usbd_desc.c **** {
 208              		.loc 1 188 0
 209              		.cfi_startproc
 210              		@ args = 0, pretend = 0, frame = 0
 211              		@ frame_needed = 0, uses_anonymous_args = 0
 212              	.LVL16:
 213 0000 10B5     		push	{r4, lr}
 214              	.LCFI3:
 215              		.cfi_def_cfa_offset 8
 216              		.cfi_offset 4, -8
 217              		.cfi_offset 14, -4
 189:USB/core/usbd_desc.c ****   USBD_GetString(USBD_CONFIGURATION_FS_STRING, USBD_StrDesc, length);
 218              		.loc 1 189 0
 219 0002 044C     		ldr	r4, .L21
 220 0004 0A46     		mov	r2, r1
 221 0006 2146     		mov	r1, r4
ARM GAS  /tmp/ccTrHmNI.s 			page 8


 222              	.LVL17:
 223 0008 0348     		ldr	r0, .L21+4
 224              	.LVL18:
 225 000a FFF7FEFF 		bl	USBD_GetString
 226              	.LVL19:
 190:USB/core/usbd_desc.c ****   return USBD_StrDesc;
 191:USB/core/usbd_desc.c **** }
 227              		.loc 1 191 0
 228 000e 2046     		mov	r0, r4
 229 0010 10BD     		pop	{r4, pc}
 230              	.L22:
 231 0012 00BF     		.align	2
 232              	.L21:
 233 0014 00000000 		.word	USBD_StrDesc
 234 0018 00000000 		.word	.LC3
 235              		.cfi_endproc
 236              	.LFE129:
 238              		.section	.text.USBD_USR_InterfaceStrDescriptor,"ax",%progbits
 239              		.align	1
 240              		.global	USBD_USR_InterfaceStrDescriptor
 241              		.syntax unified
 242              		.thumb
 243              		.thumb_func
 244              		.fpu fpv4-sp-d16
 246              	USBD_USR_InterfaceStrDescriptor:
 247              	.LFB130:
 192:USB/core/usbd_desc.c **** 
 193:USB/core/usbd_desc.c **** /**
 194:USB/core/usbd_desc.c **** * @brief  USBD_USR_InterfaceStrDescriptor 
 195:USB/core/usbd_desc.c **** *         return the interface string descriptor
 196:USB/core/usbd_desc.c **** * @param  speed : current device speed
 197:USB/core/usbd_desc.c **** * @param  length : pointer to data length variable
 198:USB/core/usbd_desc.c **** * @retval pointer to descriptor buffer
 199:USB/core/usbd_desc.c **** */
 200:USB/core/usbd_desc.c **** uint8_t *USBD_USR_InterfaceStrDescriptor(uint8_t speed, uint16_t *length)
 201:USB/core/usbd_desc.c **** {
 248              		.loc 1 201 0
 249              		.cfi_startproc
 250              		@ args = 0, pretend = 0, frame = 0
 251              		@ frame_needed = 0, uses_anonymous_args = 0
 252              	.LVL20:
 253 0000 10B5     		push	{r4, lr}
 254              	.LCFI4:
 255              		.cfi_def_cfa_offset 8
 256              		.cfi_offset 4, -8
 257              		.cfi_offset 14, -4
 202:USB/core/usbd_desc.c ****   USBD_GetString(USBD_INTERFACE_FS_STRING, USBD_StrDesc, length);
 258              		.loc 1 202 0
 259 0002 044C     		ldr	r4, .L25
 260 0004 0A46     		mov	r2, r1
 261 0006 2146     		mov	r1, r4
 262              	.LVL21:
 263 0008 0348     		ldr	r0, .L25+4
 264              	.LVL22:
 265 000a FFF7FEFF 		bl	USBD_GetString
 266              	.LVL23:
 203:USB/core/usbd_desc.c ****   return USBD_StrDesc;
ARM GAS  /tmp/ccTrHmNI.s 			page 9


 204:USB/core/usbd_desc.c **** }
 267              		.loc 1 204 0
 268 000e 2046     		mov	r0, r4
 269 0010 10BD     		pop	{r4, pc}
 270              	.L26:
 271 0012 00BF     		.align	2
 272              	.L25:
 273 0014 00000000 		.word	USBD_StrDesc
 274 0018 00000000 		.word	.LC4
 275              		.cfi_endproc
 276              	.LFE130:
 278              		.global	USBD_LangIDDesc
 279              		.global	USBD_DeviceQualifierDesc
 280              		.global	USBD_DeviceDesc
 281              		.global	USR_desc
 282              		.section	.data.USBD_DeviceDesc,"aw",%progbits
 283              		.align	2
 284              		.set	.LANCHOR0,. + 0
 287              	USBD_DeviceDesc:
 288 0000 12       		.byte	18
 289 0001 01       		.byte	1
 290 0002 00       		.byte	0
 291 0003 02       		.byte	2
 292 0004 00       		.byte	0
 293 0005 00       		.byte	0
 294 0006 00       		.byte	0
 295 0007 40       		.byte	64
 296 0008 83       		.byte	-125
 297 0009 04       		.byte	4
 298 000a 40       		.byte	64
 299 000b 57       		.byte	87
 300 000c 00       		.byte	0
 301 000d 02       		.byte	2
 302 000e 01       		.byte	1
 303 000f 02       		.byte	2
 304 0010 03       		.byte	3
 305 0011 01       		.byte	1
 306              		.section	.data.USBD_DeviceQualifierDesc,"aw",%progbits
 307              		.align	2
 310              	USBD_DeviceQualifierDesc:
 311 0000 0A       		.byte	10
 312 0001 06       		.byte	6
 313 0002 00       		.byte	0
 314 0003 02       		.byte	2
 315 0004 00       		.byte	0
 316 0005 00       		.byte	0
 317 0006 00       		.byte	0
 318 0007 40       		.byte	64
 319 0008 01       		.byte	1
 320 0009 00       		.byte	0
 321              		.section	.data.USBD_LangIDDesc,"aw",%progbits
 322              		.align	2
 323              		.set	.LANCHOR1,. + 0
 326              	USBD_LangIDDesc:
 327 0000 04       		.byte	4
 328 0001 03       		.byte	3
 329 0002 09       		.byte	9
ARM GAS  /tmp/ccTrHmNI.s 			page 10


 330 0003 04       		.byte	4
 331              		.section	.data.USR_desc,"aw",%progbits
 332              		.align	2
 335              	USR_desc:
 336 0000 00000000 		.word	USBD_USR_DeviceDescriptor
 337 0004 00000000 		.word	USBD_USR_LangIDStrDescriptor
 338 0008 00000000 		.word	USBD_USR_ManufacturerStrDescriptor
 339 000c 00000000 		.word	USBD_USR_ProductStrDescriptor
 340 0010 00000000 		.word	USBD_USR_SerialStrDescriptor
 341 0014 00000000 		.word	USBD_USR_ConfigStrDescriptor
 342 0018 00000000 		.word	USBD_USR_InterfaceStrDescriptor
 343              		.section	.rodata.USBD_USR_ConfigStrDescriptor.str1.4,"aMS",%progbits,1
 344              		.align	2
 345              	.LC3:
 346 0000 56435020 		.ascii	"VCP Config\000"
 346      436F6E66 
 346      696700
 347              		.section	.rodata.USBD_USR_InterfaceStrDescriptor.str1.4,"aMS",%progbits,1
 348              		.align	2
 349              	.LC4:
 350 0000 56435020 		.ascii	"VCP Interface\000"
 350      496E7465 
 350      72666163 
 350      6500
 351              		.section	.rodata.USBD_USR_ManufacturerStrDescriptor.str1.4,"aMS",%progbits,1
 352              		.align	2
 353              	.LC1:
 354 0000 38424954 		.ascii	"8BIT\000"
 354      00
 355              		.section	.rodata.USBD_USR_ProductStrDescriptor.str1.4,"aMS",%progbits,1
 356              		.align	2
 357              	.LC0:
 358 0000 38426974 		.ascii	"8Bit_FlightController\000"
 358      5F466C69 
 358      67687443 
 358      6F6E7472 
 358      6F6C6C65 
 359              		.section	.rodata.USBD_USR_SerialStrDescriptor.str1.4,"aMS",%progbits,1
 360              		.align	2
 361              	.LC2:
 362 0000 30303030 		.ascii	"00000000050C\000"
 362      30303030 
 362      30353043 
 362      00
 363              		.text
 364              	.Letext0:
 365              		.file 2 "/usr/include/newlib/machine/_default_types.h"
 366              		.file 3 "/usr/include/newlib/sys/_stdint.h"
 367              		.file 4 "F4_CORE/core_cm4.h"
 368              		.file 5 "USER/system_stm32f4xx.h"
 369              		.file 6 "/usr/include/newlib/sys/lock.h"
 370              		.file 7 "/usr/include/newlib/sys/_types.h"
 371              		.file 8 "/usr/lib/gcc/arm-none-eabi/6.3.1/include/stddef.h"
 372              		.file 9 "/usr/include/newlib/sys/reent.h"
 373              		.file 10 "USB/core/usb_core.h"
 374              		.file 11 "USB/core/usbd_desc.h"
 375              		.file 12 "USB/core/usbd_req.h"
ARM GAS  /tmp/ccTrHmNI.s 			page 11


ARM GAS  /tmp/ccTrHmNI.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 usbd_desc.c
     /tmp/ccTrHmNI.s:18     .text.USBD_USR_DeviceDescriptor:0000000000000000 $t
     /tmp/ccTrHmNI.s:25     .text.USBD_USR_DeviceDescriptor:0000000000000000 USBD_USR_DeviceDescriptor
     /tmp/ccTrHmNI.s:44     .text.USBD_USR_DeviceDescriptor:0000000000000008 $d
     /tmp/ccTrHmNI.s:49     .text.USBD_USR_LangIDStrDescriptor:0000000000000000 $t
     /tmp/ccTrHmNI.s:56     .text.USBD_USR_LangIDStrDescriptor:0000000000000000 USBD_USR_LangIDStrDescriptor
     /tmp/ccTrHmNI.s:74     .text.USBD_USR_LangIDStrDescriptor:0000000000000008 $d
     /tmp/ccTrHmNI.s:79     .text.USBD_USR_ProductStrDescriptor:0000000000000000 $t
     /tmp/ccTrHmNI.s:86     .text.USBD_USR_ProductStrDescriptor:0000000000000000 USBD_USR_ProductStrDescriptor
     /tmp/ccTrHmNI.s:113    .text.USBD_USR_ProductStrDescriptor:0000000000000014 $d
     /tmp/ccTrHmNI.s:119    .text.USBD_USR_ManufacturerStrDescriptor:0000000000000000 $t
     /tmp/ccTrHmNI.s:126    .text.USBD_USR_ManufacturerStrDescriptor:0000000000000000 USBD_USR_ManufacturerStrDescriptor
     /tmp/ccTrHmNI.s:153    .text.USBD_USR_ManufacturerStrDescriptor:0000000000000014 $d
     /tmp/ccTrHmNI.s:159    .text.USBD_USR_SerialStrDescriptor:0000000000000000 $t
     /tmp/ccTrHmNI.s:166    .text.USBD_USR_SerialStrDescriptor:0000000000000000 USBD_USR_SerialStrDescriptor
     /tmp/ccTrHmNI.s:193    .text.USBD_USR_SerialStrDescriptor:0000000000000014 $d
     /tmp/ccTrHmNI.s:199    .text.USBD_USR_ConfigStrDescriptor:0000000000000000 $t
     /tmp/ccTrHmNI.s:206    .text.USBD_USR_ConfigStrDescriptor:0000000000000000 USBD_USR_ConfigStrDescriptor
     /tmp/ccTrHmNI.s:233    .text.USBD_USR_ConfigStrDescriptor:0000000000000014 $d
     /tmp/ccTrHmNI.s:239    .text.USBD_USR_InterfaceStrDescriptor:0000000000000000 $t
     /tmp/ccTrHmNI.s:246    .text.USBD_USR_InterfaceStrDescriptor:0000000000000000 USBD_USR_InterfaceStrDescriptor
     /tmp/ccTrHmNI.s:273    .text.USBD_USR_InterfaceStrDescriptor:0000000000000014 $d
     /tmp/ccTrHmNI.s:326    .data.USBD_LangIDDesc:0000000000000000 USBD_LangIDDesc
     /tmp/ccTrHmNI.s:310    .data.USBD_DeviceQualifierDesc:0000000000000000 USBD_DeviceQualifierDesc
     /tmp/ccTrHmNI.s:287    .data.USBD_DeviceDesc:0000000000000000 USBD_DeviceDesc
     /tmp/ccTrHmNI.s:335    .data.USR_desc:0000000000000000 USR_desc
     /tmp/ccTrHmNI.s:283    .data.USBD_DeviceDesc:0000000000000000 $d
     /tmp/ccTrHmNI.s:307    .data.USBD_DeviceQualifierDesc:0000000000000000 $d
     /tmp/ccTrHmNI.s:322    .data.USBD_LangIDDesc:0000000000000000 $d
     /tmp/ccTrHmNI.s:332    .data.USR_desc:0000000000000000 $d
     /tmp/ccTrHmNI.s:344    .rodata.USBD_USR_ConfigStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccTrHmNI.s:348    .rodata.USBD_USR_InterfaceStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccTrHmNI.s:352    .rodata.USBD_USR_ManufacturerStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccTrHmNI.s:356    .rodata.USBD_USR_ProductStrDescriptor.str1.4:0000000000000000 $d
     /tmp/ccTrHmNI.s:360    .rodata.USBD_USR_SerialStrDescriptor.str1.4:0000000000000000 $d
                     .debug_frame:0000000000000010 $d

UNDEFINED SYMBOLS
USBD_GetString
USBD_StrDesc
