ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"periph_serial_irq.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.USART1_IRQHandler,"ax",%progbits
  22              		.align	2
  23              		.global	USART1_IRQHandler
  24              		.thumb
  25              		.thumb_func
  27              	USART1_IRQHandler:
  28              	.LFB123:
  29              		.file 1 "Bsp/periph_serial_irq.c"
   1:Bsp/periph_serial_irq.c **** #include "periph_serial_irq.h"
   2:Bsp/periph_serial_irq.c **** #include "periph_serial.h"
   3:Bsp/periph_serial_irq.c **** #include "periph_gpio.h"
   4:Bsp/periph_serial_irq.c **** #include "periph_dma.h"
   5:Bsp/periph_serial_irq.c **** #include "string.h"
   6:Bsp/periph_serial_irq.c **** #include "stm32f4xx_usart.h"
   7:Bsp/periph_serial_irq.c **** #include "stm32f4xx_dma.h"
   8:Bsp/periph_serial_irq.c **** 
   9:Bsp/periph_serial_irq.c **** #define PCK_MAX 256
  10:Bsp/periph_serial_irq.c **** 
  11:Bsp/periph_serial_irq.c **** void USART1_IRQHandler(void)
  12:Bsp/periph_serial_irq.c **** {
  30              		.loc 1 12 0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34 0000 10B5     		push	{r4, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  13:Bsp/periph_serial_irq.c **** 	uint8_t rec;
  14:Bsp/periph_serial_irq.c **** 	static u8 rec_len = 0;
  15:Bsp/periph_serial_irq.c **** 	static u8 rec_enable = 0;
  16:Bsp/periph_serial_irq.c **** 
  17:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART1, USART_IT_TXE) == RESET)
  39              		.loc 1 17 0
  40 0002 40F22771 		movw	r1, #1831
  41 0006 1D48     		ldr	r0, .L6
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 2


  42 0008 FFF7FEFF 		bl	USART_GetITStatus
  43              	.LVL0:
  44 000c 40B9     		cbnz	r0, .L2
  18:Bsp/periph_serial_irq.c **** 	{
  19:Bsp/periph_serial_irq.c **** 		USART_ITConfig(USART1, USART_IT_TC, DISABLE);
  45              		.loc 1 19 0
  46 000e 0022     		movs	r2, #0
  47 0010 40F22661 		movw	r1, #1574
  48 0014 00F18040 		add	r0, r0, #1073741824
  49 0018 00F58830 		add	r0, r0, #69632
  50 001c FFF7FEFF 		bl	USART_ITConfig
  51              	.LVL1:
  52              	.L2:
  20:Bsp/periph_serial_irq.c **** 	}
  21:Bsp/periph_serial_irq.c **** 
  22:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART1, USART_IT_RXNE) != RESET)
  53              		.loc 1 22 0
  54 0020 40F22551 		movw	r1, #1317
  55 0024 1548     		ldr	r0, .L6
  56 0026 FFF7FEFF 		bl	USART_GetITStatus
  57              	.LVL2:
  58 002a 40B1     		cbz	r0, .L3
  23:Bsp/periph_serial_irq.c **** 	{
  24:Bsp/periph_serial_irq.c **** 		rec = USART_ReceiveData(USART1);
  59              		.loc 1 24 0
  60 002c 134C     		ldr	r4, .L6
  61 002e 2046     		mov	r0, r4
  62 0030 FFF7FEFF 		bl	USART_ReceiveData
  63              	.LVL3:
  25:Bsp/periph_serial_irq.c **** 
  26:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART1, USART_IT_RXNE);
  64              		.loc 1 26 0
  65 0034 40F22551 		movw	r1, #1317
  66 0038 2046     		mov	r0, r4
  67 003a FFF7FEFF 		bl	USART_ClearITPendingBit
  68              	.LVL4:
  69              	.L3:
  27:Bsp/periph_serial_irq.c **** 	}
  28:Bsp/periph_serial_irq.c **** 
  29:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART1, USART_IT_IDLE) != RESET)
  70              		.loc 1 29 0
  71 003e 40F22441 		movw	r1, #1060
  72 0042 0E48     		ldr	r0, .L6
  73 0044 FFF7FEFF 		bl	USART_GetITStatus
  74              	.LVL5:
  75 0048 B8B1     		cbz	r0, .L1
  30:Bsp/periph_serial_irq.c **** 	{
  31:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial1_DMA_RX_Stream, DISABLE);
  76              		.loc 1 31 0
  77 004a 0D4C     		ldr	r4, .L6+4
  78 004c 0021     		movs	r1, #0
  79 004e 2046     		mov	r0, r4
  80 0050 FFF7FEFF 		bl	DMA_Cmd
  81              	.LVL6:
  32:Bsp/periph_serial_irq.c **** 
  33:Bsp/periph_serial_irq.c **** 		rec = USART1->DR;
  82              		.loc 1 33 0
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 3


  83 0054 094B     		ldr	r3, .L6
  84 0056 9A88     		ldrh	r2, [r3, #4]
  85              	.LVL7:
  34:Bsp/periph_serial_irq.c **** 		rec = USART1->SR;
  86              		.loc 1 34 0
  87 0058 1B88     		ldrh	r3, [r3]
  35:Bsp/periph_serial_irq.c **** 
  36:Bsp/periph_serial_irq.c **** 		rec = DMA_GetCurrDataCounter(Serial1_DMA_RX_Stream);
  88              		.loc 1 36 0
  89 005a 2046     		mov	r0, r4
  90 005c FFF7FEFF 		bl	DMA_GetCurrDataCounter
  91              	.LVL8:
  37:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial1_DMA_RX_Stream, DMA_FLAG_TCIF5);
  92              		.loc 1 37 0
  93 0060 0849     		ldr	r1, .L6+8
  94 0062 2046     		mov	r0, r4
  95 0064 FFF7FEFF 		bl	DMA_ClearFlag
  96              	.LVL9:
  38:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial1_DMA_RX_Stream, PCK_MAX);
  97              		.loc 1 38 0
  98 0068 4FF48071 		mov	r1, #256
  99 006c 2046     		mov	r0, r4
 100 006e FFF7FEFF 		bl	DMA_SetCurrDataCounter
 101              	.LVL10:
  39:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial1_DMA_RX_Stream, ENABLE);
 102              		.loc 1 39 0
 103 0072 0121     		movs	r1, #1
 104 0074 2046     		mov	r0, r4
 105 0076 FFF7FEFF 		bl	DMA_Cmd
 106              	.LVL11:
 107              	.L1:
 108 007a 10BD     		pop	{r4, pc}
 109              	.L7:
 110              		.align	2
 111              	.L6:
 112 007c 00100140 		.word	1073811456
 113 0080 88640240 		.word	1073898632
 114 0084 00080020 		.word	536872960
 115              		.cfi_endproc
 116              	.LFE123:
 118              		.section	.text.USART2_IRQHandler,"ax",%progbits
 119              		.align	2
 120              		.global	USART2_IRQHandler
 121              		.thumb
 122              		.thumb_func
 124              	USART2_IRQHandler:
 125              	.LFB124:
  40:Bsp/periph_serial_irq.c **** 	}
  41:Bsp/periph_serial_irq.c **** }
  42:Bsp/periph_serial_irq.c **** 
  43:Bsp/periph_serial_irq.c **** void USART2_IRQHandler(void)
  44:Bsp/periph_serial_irq.c **** {
 126              		.loc 1 44 0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
 130 0000 10B5     		push	{r4, lr}
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 4


 131              	.LCFI1:
 132              		.cfi_def_cfa_offset 8
 133              		.cfi_offset 4, -8
 134              		.cfi_offset 14, -4
  45:Bsp/periph_serial_irq.c **** 	uint8_t rec;
  46:Bsp/periph_serial_irq.c **** 
  47:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART2, USART_IT_TXE) == RESET)
 135              		.loc 1 47 0
 136 0002 40F22771 		movw	r1, #1831
 137 0006 1E48     		ldr	r0, .L13
 138 0008 FFF7FEFF 		bl	USART_GetITStatus
 139              	.LVL12:
 140 000c 28B9     		cbnz	r0, .L9
  48:Bsp/periph_serial_irq.c **** 	{
  49:Bsp/periph_serial_irq.c **** 		USART_ITConfig(USART2, USART_IT_TC, DISABLE);
 141              		.loc 1 49 0
 142 000e 0022     		movs	r2, #0
 143 0010 40F22661 		movw	r1, #1574
 144 0014 1A48     		ldr	r0, .L13
 145 0016 FFF7FEFF 		bl	USART_ITConfig
 146              	.LVL13:
 147              	.L9:
  50:Bsp/periph_serial_irq.c **** 	}
  51:Bsp/periph_serial_irq.c **** 
  52:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART2, USART_IT_RXNE) != RESET)
 148              		.loc 1 52 0
 149 001a 40F22551 		movw	r1, #1317
 150 001e 1848     		ldr	r0, .L13
 151 0020 FFF7FEFF 		bl	USART_GetITStatus
 152              	.LVL14:
 153 0024 60B1     		cbz	r0, .L10
  53:Bsp/periph_serial_irq.c **** 	{
  54:Bsp/periph_serial_irq.c **** 		rec = USART_ReceiveData(USART2);
 154              		.loc 1 54 0
 155 0026 164C     		ldr	r4, .L13
 156 0028 2046     		mov	r0, r4
 157 002a FFF7FEFF 		bl	USART_ReceiveData
 158              	.LVL15:
  55:Bsp/periph_serial_irq.c **** 		USART_SendData(USART2, rec);
 159              		.loc 1 55 0
 160 002e C1B2     		uxtb	r1, r0
 161 0030 2046     		mov	r0, r4
 162              	.LVL16:
 163 0032 FFF7FEFF 		bl	USART_SendData
 164              	.LVL17:
  56:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART2, USART_IT_RXNE);
 165              		.loc 1 56 0
 166 0036 40F22551 		movw	r1, #1317
 167 003a 2046     		mov	r0, r4
 168 003c FFF7FEFF 		bl	USART_ClearITPendingBit
 169              	.LVL18:
 170              	.L10:
  57:Bsp/periph_serial_irq.c **** 	}
  58:Bsp/periph_serial_irq.c **** 
  59:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART2, USART_IT_IDLE) != RESET)
 171              		.loc 1 59 0
 172 0040 40F22441 		movw	r1, #1060
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 5


 173 0044 0E48     		ldr	r0, .L13
 174 0046 FFF7FEFF 		bl	USART_GetITStatus
 175              	.LVL19:
 176 004a B8B1     		cbz	r0, .L8
  60:Bsp/periph_serial_irq.c **** 	{
  61:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial2_DMA_RX_Stream, DISABLE);
 177              		.loc 1 61 0
 178 004c 0D4C     		ldr	r4, .L13+4
 179 004e 0021     		movs	r1, #0
 180 0050 2046     		mov	r0, r4
 181 0052 FFF7FEFF 		bl	DMA_Cmd
 182              	.LVL20:
  62:Bsp/periph_serial_irq.c **** 
  63:Bsp/periph_serial_irq.c **** 		rec = USART2->DR;
 183              		.loc 1 63 0
 184 0056 0A4B     		ldr	r3, .L13
 185 0058 9A88     		ldrh	r2, [r3, #4]
  64:Bsp/periph_serial_irq.c **** 		rec = USART2->SR;
 186              		.loc 1 64 0
 187 005a 1B88     		ldrh	r3, [r3]
  65:Bsp/periph_serial_irq.c **** 
  66:Bsp/periph_serial_irq.c **** 		rec = DMA_GetCurrDataCounter(Serial2_DMA_RX_Stream);
 188              		.loc 1 66 0
 189 005c 2046     		mov	r0, r4
 190 005e FFF7FEFF 		bl	DMA_GetCurrDataCounter
 191              	.LVL21:
  67:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial2_DMA_RX_Stream, DMA_FLAG_TCIF5);
 192              		.loc 1 67 0
 193 0062 0949     		ldr	r1, .L13+8
 194 0064 2046     		mov	r0, r4
 195 0066 FFF7FEFF 		bl	DMA_ClearFlag
 196              	.LVL22:
  68:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial2_DMA_RX_Stream, PCK_MAX);
 197              		.loc 1 68 0
 198 006a 4FF48071 		mov	r1, #256
 199 006e 2046     		mov	r0, r4
 200 0070 FFF7FEFF 		bl	DMA_SetCurrDataCounter
 201              	.LVL23:
  69:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial2_DMA_RX_Stream, ENABLE);
 202              		.loc 1 69 0
 203 0074 0121     		movs	r1, #1
 204 0076 2046     		mov	r0, r4
 205 0078 FFF7FEFF 		bl	DMA_Cmd
 206              	.LVL24:
 207              	.L8:
 208 007c 10BD     		pop	{r4, pc}
 209              	.L14:
 210 007e 00BF     		.align	2
 211              	.L13:
 212 0080 00440040 		.word	1073759232
 213 0084 88600240 		.word	1073897608
 214 0088 00080020 		.word	536872960
 215              		.cfi_endproc
 216              	.LFE124:
 218              		.section	.text.USART3_IRQHandler,"ax",%progbits
 219              		.align	2
 220              		.global	USART3_IRQHandler
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 6


 221              		.thumb
 222              		.thumb_func
 224              	USART3_IRQHandler:
 225              	.LFB125:
  70:Bsp/periph_serial_irq.c **** 	}
  71:Bsp/periph_serial_irq.c **** }
  72:Bsp/periph_serial_irq.c **** 
  73:Bsp/periph_serial_irq.c **** void USART3_IRQHandler(void)
  74:Bsp/periph_serial_irq.c **** {
 226              		.loc 1 74 0
 227              		.cfi_startproc
 228              		@ args = 0, pretend = 0, frame = 0
 229              		@ frame_needed = 0, uses_anonymous_args = 0
 230 0000 10B5     		push	{r4, lr}
 231              	.LCFI2:
 232              		.cfi_def_cfa_offset 8
 233              		.cfi_offset 4, -8
 234              		.cfi_offset 14, -4
  75:Bsp/periph_serial_irq.c **** 	uint8_t rec;
  76:Bsp/periph_serial_irq.c **** 
  77:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART3, USART_IT_TXE) == RESET)
 235              		.loc 1 77 0
 236 0002 40F22771 		movw	r1, #1831
 237 0006 1E48     		ldr	r0, .L20
 238 0008 FFF7FEFF 		bl	USART_GetITStatus
 239              	.LVL25:
 240 000c 28B9     		cbnz	r0, .L16
  78:Bsp/periph_serial_irq.c **** 	{
  79:Bsp/periph_serial_irq.c **** 		USART_ITConfig(USART3, USART_IT_TC, DISABLE);
 241              		.loc 1 79 0
 242 000e 0022     		movs	r2, #0
 243 0010 40F22661 		movw	r1, #1574
 244 0014 1A48     		ldr	r0, .L20
 245 0016 FFF7FEFF 		bl	USART_ITConfig
 246              	.LVL26:
 247              	.L16:
  80:Bsp/periph_serial_irq.c **** 	}
  81:Bsp/periph_serial_irq.c **** 
  82:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART3, USART_IT_RXNE) != RESET)
 248              		.loc 1 82 0
 249 001a 40F22551 		movw	r1, #1317
 250 001e 1848     		ldr	r0, .L20
 251 0020 FFF7FEFF 		bl	USART_GetITStatus
 252              	.LVL27:
 253 0024 60B1     		cbz	r0, .L17
  83:Bsp/periph_serial_irq.c **** 	{
  84:Bsp/periph_serial_irq.c **** 		rec = USART_ReceiveData(USART3);
 254              		.loc 1 84 0
 255 0026 164C     		ldr	r4, .L20
 256 0028 2046     		mov	r0, r4
 257 002a FFF7FEFF 		bl	USART_ReceiveData
 258              	.LVL28:
  85:Bsp/periph_serial_irq.c **** 		USART_SendData(USART3, rec);
 259              		.loc 1 85 0
 260 002e C1B2     		uxtb	r1, r0
 261 0030 2046     		mov	r0, r4
 262              	.LVL29:
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 7


 263 0032 FFF7FEFF 		bl	USART_SendData
 264              	.LVL30:
  86:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART3, USART_IT_RXNE);
 265              		.loc 1 86 0
 266 0036 40F22551 		movw	r1, #1317
 267 003a 2046     		mov	r0, r4
 268 003c FFF7FEFF 		bl	USART_ClearITPendingBit
 269              	.LVL31:
 270              	.L17:
  87:Bsp/periph_serial_irq.c **** 	}
  88:Bsp/periph_serial_irq.c **** 
  89:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART3, USART_IT_IDLE) != RESET)
 271              		.loc 1 89 0
 272 0040 40F22441 		movw	r1, #1060
 273 0044 0E48     		ldr	r0, .L20
 274 0046 FFF7FEFF 		bl	USART_GetITStatus
 275              	.LVL32:
 276 004a B8B1     		cbz	r0, .L15
  90:Bsp/periph_serial_irq.c **** 	{
  91:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial3_DMA_RX_Stream, DISABLE);
 277              		.loc 1 91 0
 278 004c 0D4C     		ldr	r4, .L20+4
 279 004e 0021     		movs	r1, #0
 280 0050 2046     		mov	r0, r4
 281 0052 FFF7FEFF 		bl	DMA_Cmd
 282              	.LVL33:
  92:Bsp/periph_serial_irq.c **** 
  93:Bsp/periph_serial_irq.c **** 		rec = USART3->DR;
 283              		.loc 1 93 0
 284 0056 0A4B     		ldr	r3, .L20
 285 0058 9A88     		ldrh	r2, [r3, #4]
  94:Bsp/periph_serial_irq.c **** 		rec = USART3->SR;
 286              		.loc 1 94 0
 287 005a 1B88     		ldrh	r3, [r3]
  95:Bsp/periph_serial_irq.c **** 
  96:Bsp/periph_serial_irq.c **** 		rec = DMA_GetCurrDataCounter(Serial3_DMA_RX_Stream);
 288              		.loc 1 96 0
 289 005c 2046     		mov	r0, r4
 290 005e FFF7FEFF 		bl	DMA_GetCurrDataCounter
 291              	.LVL34:
  97:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial3_DMA_RX_Stream, DMA_FLAG_TCIF1);
 292              		.loc 1 97 0
 293 0062 0949     		ldr	r1, .L20+8
 294 0064 2046     		mov	r0, r4
 295 0066 FFF7FEFF 		bl	DMA_ClearFlag
 296              	.LVL35:
  98:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial3_DMA_RX_Stream, PCK_MAX);
 297              		.loc 1 98 0
 298 006a 4FF48071 		mov	r1, #256
 299 006e 2046     		mov	r0, r4
 300 0070 FFF7FEFF 		bl	DMA_SetCurrDataCounter
 301              	.LVL36:
  99:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial3_DMA_RX_Stream, ENABLE);
 302              		.loc 1 99 0
 303 0074 0121     		movs	r1, #1
 304 0076 2046     		mov	r0, r4
 305 0078 FFF7FEFF 		bl	DMA_Cmd
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 8


 306              	.LVL37:
 307              	.L15:
 308 007c 10BD     		pop	{r4, pc}
 309              	.L21:
 310 007e 00BF     		.align	2
 311              	.L20:
 312 0080 00480040 		.word	1073760256
 313 0084 28600240 		.word	1073897512
 314 0088 00080010 		.word	268437504
 315              		.cfi_endproc
 316              	.LFE125:
 318              		.section	.text.USART6_IRQHandler,"ax",%progbits
 319              		.align	2
 320              		.global	USART6_IRQHandler
 321              		.thumb
 322              		.thumb_func
 324              	USART6_IRQHandler:
 325              	.LFB126:
 100:Bsp/periph_serial_irq.c **** 	}
 101:Bsp/periph_serial_irq.c **** }
 102:Bsp/periph_serial_irq.c **** 
 103:Bsp/periph_serial_irq.c **** void USART6_IRQHandler(void)
 104:Bsp/periph_serial_irq.c **** {
 326              		.loc 1 104 0
 327              		.cfi_startproc
 328              		@ args = 0, pretend = 0, frame = 0
 329              		@ frame_needed = 0, uses_anonymous_args = 0
 330 0000 10B5     		push	{r4, lr}
 331              	.LCFI3:
 332              		.cfi_def_cfa_offset 8
 333              		.cfi_offset 4, -8
 334              		.cfi_offset 14, -4
 105:Bsp/periph_serial_irq.c **** 	uint8_t rec;
 106:Bsp/periph_serial_irq.c **** 
 107:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART6, USART_IT_TXE) == RESET)
 335              		.loc 1 107 0
 336 0002 40F22771 		movw	r1, #1831
 337 0006 1E48     		ldr	r0, .L27
 338 0008 FFF7FEFF 		bl	USART_GetITStatus
 339              	.LVL38:
 340 000c 28B9     		cbnz	r0, .L23
 108:Bsp/periph_serial_irq.c **** 	{
 109:Bsp/periph_serial_irq.c **** 		USART_ITConfig(USART6, USART_IT_TC, DISABLE);
 341              		.loc 1 109 0
 342 000e 0022     		movs	r2, #0
 343 0010 40F22661 		movw	r1, #1574
 344 0014 1A48     		ldr	r0, .L27
 345 0016 FFF7FEFF 		bl	USART_ITConfig
 346              	.LVL39:
 347              	.L23:
 110:Bsp/periph_serial_irq.c **** 	}
 111:Bsp/periph_serial_irq.c **** 
 112:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART6, USART_IT_RXNE) != RESET)
 348              		.loc 1 112 0
 349 001a 40F22551 		movw	r1, #1317
 350 001e 1848     		ldr	r0, .L27
 351 0020 FFF7FEFF 		bl	USART_GetITStatus
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 9


 352              	.LVL40:
 353 0024 60B1     		cbz	r0, .L24
 113:Bsp/periph_serial_irq.c **** 	{
 114:Bsp/periph_serial_irq.c **** 		rec = USART_ReceiveData(USART6);
 354              		.loc 1 114 0
 355 0026 164C     		ldr	r4, .L27
 356 0028 2046     		mov	r0, r4
 357 002a FFF7FEFF 		bl	USART_ReceiveData
 358              	.LVL41:
 115:Bsp/periph_serial_irq.c **** 		USART_SendData(USART6, rec);
 359              		.loc 1 115 0
 360 002e C1B2     		uxtb	r1, r0
 361 0030 2046     		mov	r0, r4
 362              	.LVL42:
 363 0032 FFF7FEFF 		bl	USART_SendData
 364              	.LVL43:
 116:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART6, USART_IT_RXNE);
 365              		.loc 1 116 0
 366 0036 40F22551 		movw	r1, #1317
 367 003a 2046     		mov	r0, r4
 368 003c FFF7FEFF 		bl	USART_ClearITPendingBit
 369              	.LVL44:
 370              	.L24:
 117:Bsp/periph_serial_irq.c **** 	}
 118:Bsp/periph_serial_irq.c **** 
 119:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART6, USART_IT_IDLE) != RESET)
 371              		.loc 1 119 0
 372 0040 40F22441 		movw	r1, #1060
 373 0044 0E48     		ldr	r0, .L27
 374 0046 FFF7FEFF 		bl	USART_GetITStatus
 375              	.LVL45:
 376 004a B8B1     		cbz	r0, .L22
 120:Bsp/periph_serial_irq.c **** 	{
 121:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial6_DMA_RX_Stream, DISABLE);
 377              		.loc 1 121 0
 378 004c 0D4C     		ldr	r4, .L27+4
 379 004e 0021     		movs	r1, #0
 380 0050 2046     		mov	r0, r4
 381 0052 FFF7FEFF 		bl	DMA_Cmd
 382              	.LVL46:
 122:Bsp/periph_serial_irq.c **** 
 123:Bsp/periph_serial_irq.c **** 		rec = USART6->DR;
 383              		.loc 1 123 0
 384 0056 0A4B     		ldr	r3, .L27
 385 0058 9A88     		ldrh	r2, [r3, #4]
 124:Bsp/periph_serial_irq.c **** 		rec = USART6->SR;
 386              		.loc 1 124 0
 387 005a 1B88     		ldrh	r3, [r3]
 125:Bsp/periph_serial_irq.c **** 
 126:Bsp/periph_serial_irq.c **** 		rec = DMA_GetCurrDataCounter(Serial6_DMA_RX_Stream);
 388              		.loc 1 126 0
 389 005c 2046     		mov	r0, r4
 390 005e FFF7FEFF 		bl	DMA_GetCurrDataCounter
 391              	.LVL47:
 127:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial6_DMA_RX_Stream, DMA_FLAG_TCIF1);
 392              		.loc 1 127 0
 393 0062 0949     		ldr	r1, .L27+8
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 10


 394 0064 2046     		mov	r0, r4
 395 0066 FFF7FEFF 		bl	DMA_ClearFlag
 396              	.LVL48:
 128:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial6_DMA_RX_Stream, PCK_MAX);
 397              		.loc 1 128 0
 398 006a 4FF48071 		mov	r1, #256
 399 006e 2046     		mov	r0, r4
 400 0070 FFF7FEFF 		bl	DMA_SetCurrDataCounter
 401              	.LVL49:
 129:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial6_DMA_RX_Stream, ENABLE);
 402              		.loc 1 129 0
 403 0074 0121     		movs	r1, #1
 404 0076 2046     		mov	r0, r4
 405 0078 FFF7FEFF 		bl	DMA_Cmd
 406              	.LVL50:
 407              	.L22:
 408 007c 10BD     		pop	{r4, pc}
 409              	.L28:
 410 007e 00BF     		.align	2
 411              	.L27:
 412 0080 00140140 		.word	1073812480
 413 0084 28640240 		.word	1073898536
 414 0088 00080010 		.word	268437504
 415              		.cfi_endproc
 416              	.LFE126:
 418              		.text
 419              	.Letext0:
 420              		.file 2 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\machine\\_default_types.h"
 421              		.file 3 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\sys\\_stdint.h"
 422              		.file 4 "USER/stm32f4xx.h"
 423              		.file 5 "FWLIB/inc/stm32f4xx_usart.h"
 424              		.file 6 "FWLIB/inc/stm32f4xx_dma.h"
 425              		.file 7 "F4_CORE/core_cm4.h"
ARM GAS  C:\Users\why\AppData\Local\Temp\ccu6IJFN.s 			page 11


DEFINED SYMBOLS
                            *ABS*:00000000 periph_serial_irq.c
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:22     .text.USART1_IRQHandler:00000000 $t
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:27     .text.USART1_IRQHandler:00000000 USART1_IRQHandler
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:112    .text.USART1_IRQHandler:0000007c $d
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:119    .text.USART2_IRQHandler:00000000 $t
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:124    .text.USART2_IRQHandler:00000000 USART2_IRQHandler
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:212    .text.USART2_IRQHandler:00000080 $d
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:219    .text.USART3_IRQHandler:00000000 $t
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:224    .text.USART3_IRQHandler:00000000 USART3_IRQHandler
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:312    .text.USART3_IRQHandler:00000080 $d
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:319    .text.USART6_IRQHandler:00000000 $t
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:324    .text.USART6_IRQHandler:00000000 USART6_IRQHandler
C:\Users\why\AppData\Local\Temp\ccu6IJFN.s:412    .text.USART6_IRQHandler:00000080 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
USART_GetITStatus
USART_ITConfig
USART_ReceiveData
USART_ClearITPendingBit
DMA_Cmd
DMA_GetCurrDataCounter
DMA_ClearFlag
DMA_SetCurrDataCounter
USART_SendData
