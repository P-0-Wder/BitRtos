ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"periph_serial_irq.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.USART1_IRQHandler,"ax",%progbits
  18              		.align	1
  19              		.global	USART1_IRQHandler
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	USART1_IRQHandler:
  27              	.LFB123:
  28              		.file 1 "Bsp/periph_serial_irq.c"
   1:Bsp/periph_serial_irq.c **** #include "periph_serial_irq.h"
   2:Bsp/periph_serial_irq.c **** #include "periph_serial.h"
   3:Bsp/periph_serial_irq.c **** #include "periph_gpio.h"
   4:Bsp/periph_serial_irq.c **** #include "periph_dma.h"
   5:Bsp/periph_serial_irq.c **** #include "string.h"
   6:Bsp/periph_serial_irq.c **** #include "stm32f4xx_usart.h"
   7:Bsp/periph_serial_irq.c **** #include "stm32f4xx_dma.h"
   8:Bsp/periph_serial_irq.c **** #include "shell.h"
   9:Bsp/periph_serial_irq.c **** #include "shell_port.h"
  10:Bsp/periph_serial_irq.c **** 
  11:Bsp/periph_serial_irq.c **** #define PCK_MAX 256
  12:Bsp/periph_serial_irq.c **** uint8_t shell_recv;
  13:Bsp/periph_serial_irq.c **** void USART1_IRQHandler(void)
  14:Bsp/periph_serial_irq.c **** {
  29              		.loc 1 14 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 10B5     		push	{r4, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 4, -8
  37              		.cfi_offset 14, -4
  15:Bsp/periph_serial_irq.c **** 	uint8_t rec;
  38              		.loc 1 15 2 view .LVU1
  16:Bsp/periph_serial_irq.c **** 	static u8 rec_len = 0;
  39              		.loc 1 16 2 view .LVU2
  17:Bsp/periph_serial_irq.c **** 	static u8 rec_enable = 0;
  40              		.loc 1 17 2 view .LVU3
  18:Bsp/periph_serial_irq.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 2


  19:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART1, USART_IT_TXE) == RESET)
  41              		.loc 1 19 2 view .LVU4
  42              		.loc 1 19 6 is_stmt 0 view .LVU5
  43 0002 40F22771 		movw	r1, #1831
  44 0006 2148     		ldr	r0, .L9
  45 0008 FFF7FEFF 		bl	USART_GetITStatus
  46              	.LVL0:
  47              		.loc 1 19 5 view .LVU6
  48 000c 60B1     		cbz	r0, .L6
  49              	.L2:
  20:Bsp/periph_serial_irq.c **** 	{
  21:Bsp/periph_serial_irq.c **** 		USART_ITConfig(USART1, USART_IT_TC, DISABLE);
  22:Bsp/periph_serial_irq.c **** 	}
  23:Bsp/periph_serial_irq.c **** 
  24:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART1, USART_IT_RXNE) != RESET)
  50              		.loc 1 24 2 is_stmt 1 view .LVU7
  51              		.loc 1 24 6 is_stmt 0 view .LVU8
  52 000e 40F22551 		movw	r1, #1317
  53 0012 1E48     		ldr	r0, .L9
  54 0014 FFF7FEFF 		bl	USART_GetITStatus
  55              	.LVL1:
  56              		.loc 1 24 5 view .LVU9
  57 0018 80B9     		cbnz	r0, .L7
  58              	.L3:
  25:Bsp/periph_serial_irq.c **** 	{
  26:Bsp/periph_serial_irq.c **** 		rec = USART_ReceiveData(USART1);
  27:Bsp/periph_serial_irq.c **** 
  28:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART1, USART_IT_RXNE);
  29:Bsp/periph_serial_irq.c **** 	}
  30:Bsp/periph_serial_irq.c **** 
  31:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART1, USART_IT_IDLE) != RESET)
  59              		.loc 1 31 2 is_stmt 1 view .LVU10
  60              		.loc 1 31 6 is_stmt 0 view .LVU11
  61 001a 40F22441 		movw	r1, #1060
  62 001e 1B48     		ldr	r0, .L9
  63 0020 FFF7FEFF 		bl	USART_GetITStatus
  64              	.LVL2:
  65              		.loc 1 31 5 view .LVU12
  66 0024 A0B9     		cbnz	r0, .L8
  67              	.L1:
  32:Bsp/periph_serial_irq.c **** 	{
  33:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial1_DMA_RX_Stream, DISABLE);
  34:Bsp/periph_serial_irq.c **** 
  35:Bsp/periph_serial_irq.c **** 		rec = USART1->DR;
  36:Bsp/periph_serial_irq.c **** 		rec = USART1->SR;
  37:Bsp/periph_serial_irq.c **** 
  38:Bsp/periph_serial_irq.c **** 		rec = DMA_GetCurrDataCounter(Serial1_DMA_RX_Stream);
  39:Bsp/periph_serial_irq.c **** 		shellHandler(&shell, shell_recv);
  40:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial1_DMA_RX_Stream, DMA_FLAG_TCIF5);
  41:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial1_DMA_RX_Stream, PCK_MAX);
  42:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial1_DMA_RX_Stream, ENABLE);
  43:Bsp/periph_serial_irq.c **** 	}
  44:Bsp/periph_serial_irq.c **** }
  68              		.loc 1 44 1 view .LVU13
  69 0026 10BD     		pop	{r4, pc}
  70              	.L6:
  21:Bsp/periph_serial_irq.c **** 	}
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 3


  71              		.loc 1 21 3 is_stmt 1 view .LVU14
  72 0028 0022     		movs	r2, #0
  73 002a 40F22661 		movw	r1, #1574
  74 002e 00F18040 		add	r0, r0, #1073741824
  75 0032 00F58830 		add	r0, r0, #69632
  76 0036 FFF7FEFF 		bl	USART_ITConfig
  77              	.LVL3:
  78 003a E8E7     		b	.L2
  79              	.L7:
  26:Bsp/periph_serial_irq.c **** 
  80              		.loc 1 26 3 view .LVU15
  26:Bsp/periph_serial_irq.c **** 
  81              		.loc 1 26 9 is_stmt 0 view .LVU16
  82 003c 134C     		ldr	r4, .L9
  83 003e 2046     		mov	r0, r4
  84 0040 FFF7FEFF 		bl	USART_ReceiveData
  85              	.LVL4:
  28:Bsp/periph_serial_irq.c **** 	}
  86              		.loc 1 28 3 is_stmt 1 view .LVU17
  87 0044 40F22551 		movw	r1, #1317
  88 0048 2046     		mov	r0, r4
  89 004a FFF7FEFF 		bl	USART_ClearITPendingBit
  90              	.LVL5:
  91 004e E4E7     		b	.L3
  92              	.L8:
  33:Bsp/periph_serial_irq.c **** 
  93              		.loc 1 33 3 view .LVU18
  94 0050 0F4C     		ldr	r4, .L9+4
  95 0052 0021     		movs	r1, #0
  96 0054 2046     		mov	r0, r4
  97 0056 FFF7FEFF 		bl	DMA_Cmd
  98              	.LVL6:
  35:Bsp/periph_serial_irq.c **** 		rec = USART1->SR;
  99              		.loc 1 35 3 view .LVU19
  35:Bsp/periph_serial_irq.c **** 		rec = USART1->SR;
 100              		.loc 1 35 15 is_stmt 0 view .LVU20
 101 005a 0C4B     		ldr	r3, .L9
 102 005c 9A88     		ldrh	r2, [r3, #4]
 103              	.LVL7:
  36:Bsp/periph_serial_irq.c **** 
 104              		.loc 1 36 3 is_stmt 1 view .LVU21
  36:Bsp/periph_serial_irq.c **** 
 105              		.loc 1 36 15 is_stmt 0 view .LVU22
 106 005e 1B88     		ldrh	r3, [r3]
  38:Bsp/periph_serial_irq.c **** 		shellHandler(&shell, shell_recv);
 107              		.loc 1 38 3 is_stmt 1 view .LVU23
  38:Bsp/periph_serial_irq.c **** 		shellHandler(&shell, shell_recv);
 108              		.loc 1 38 9 is_stmt 0 view .LVU24
 109 0060 2046     		mov	r0, r4
 110 0062 FFF7FEFF 		bl	DMA_GetCurrDataCounter
 111              	.LVL8:
  39:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial1_DMA_RX_Stream, DMA_FLAG_TCIF5);
 112              		.loc 1 39 3 is_stmt 1 view .LVU25
 113 0066 0B4B     		ldr	r3, .L9+8
 114 0068 1978     		ldrb	r1, [r3]	@ zero_extendqisi2
 115 006a 0B48     		ldr	r0, .L9+12
 116 006c FFF7FEFF 		bl	shellHandler
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 4


 117              	.LVL9:
  40:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial1_DMA_RX_Stream, PCK_MAX);
 118              		.loc 1 40 3 view .LVU26
 119 0070 0A49     		ldr	r1, .L9+16
 120 0072 2046     		mov	r0, r4
 121 0074 FFF7FEFF 		bl	DMA_ClearFlag
 122              	.LVL10:
  41:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial1_DMA_RX_Stream, ENABLE);
 123              		.loc 1 41 3 view .LVU27
 124 0078 4FF48071 		mov	r1, #256
 125 007c 2046     		mov	r0, r4
 126 007e FFF7FEFF 		bl	DMA_SetCurrDataCounter
 127              	.LVL11:
  42:Bsp/periph_serial_irq.c **** 	}
 128              		.loc 1 42 3 view .LVU28
 129 0082 0121     		movs	r1, #1
 130 0084 2046     		mov	r0, r4
 131 0086 FFF7FEFF 		bl	DMA_Cmd
 132              	.LVL12:
 133              		.loc 1 44 1 is_stmt 0 view .LVU29
 134 008a CCE7     		b	.L1
 135              	.L10:
 136              		.align	2
 137              	.L9:
 138 008c 00100140 		.word	1073811456
 139 0090 88640240 		.word	1073898632
 140 0094 00000000 		.word	.LANCHOR0
 141 0098 00000000 		.word	shell
 142 009c 00080020 		.word	536872960
 143              		.cfi_endproc
 144              	.LFE123:
 146              		.section	.text.USART2_IRQHandler,"ax",%progbits
 147              		.align	1
 148              		.global	USART2_IRQHandler
 149              		.syntax unified
 150              		.thumb
 151              		.thumb_func
 152              		.fpu fpv4-sp-d16
 154              	USART2_IRQHandler:
 155              	.LFB124:
  45:Bsp/periph_serial_irq.c **** 
  46:Bsp/periph_serial_irq.c **** void USART2_IRQHandler(void)
  47:Bsp/periph_serial_irq.c **** {
 156              		.loc 1 47 1 is_stmt 1 view -0
 157              		.cfi_startproc
 158              		@ args = 0, pretend = 0, frame = 0
 159              		@ frame_needed = 0, uses_anonymous_args = 0
 160 0000 10B5     		push	{r4, lr}
 161              	.LCFI1:
 162              		.cfi_def_cfa_offset 8
 163              		.cfi_offset 4, -8
 164              		.cfi_offset 14, -4
  48:Bsp/periph_serial_irq.c **** 	uint8_t rec;
 165              		.loc 1 48 2 view .LVU31
  49:Bsp/periph_serial_irq.c **** 
  50:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART2, USART_IT_TXE) == RESET)
 166              		.loc 1 50 2 view .LVU32
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 5


 167              		.loc 1 50 6 is_stmt 0 view .LVU33
 168 0002 40F22771 		movw	r1, #1831
 169 0006 1F48     		ldr	r0, .L19
 170 0008 FFF7FEFF 		bl	USART_GetITStatus
 171              	.LVL13:
 172              		.loc 1 50 5 view .LVU34
 173 000c 60B1     		cbz	r0, .L16
 174              	.L12:
  51:Bsp/periph_serial_irq.c **** 	{
  52:Bsp/periph_serial_irq.c **** 		USART_ITConfig(USART2, USART_IT_TC, DISABLE);
  53:Bsp/periph_serial_irq.c **** 	}
  54:Bsp/periph_serial_irq.c **** 
  55:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART2, USART_IT_RXNE) != RESET)
 175              		.loc 1 55 2 is_stmt 1 view .LVU35
 176              		.loc 1 55 6 is_stmt 0 view .LVU36
 177 000e 40F22551 		movw	r1, #1317
 178 0012 1C48     		ldr	r0, .L19
 179 0014 FFF7FEFF 		bl	USART_GetITStatus
 180              	.LVL14:
 181              		.loc 1 55 5 view .LVU37
 182 0018 68B9     		cbnz	r0, .L17
 183              	.L13:
  56:Bsp/periph_serial_irq.c **** 	{
  57:Bsp/periph_serial_irq.c **** 		rec = USART_ReceiveData(USART2);
  58:Bsp/periph_serial_irq.c **** 		USART_SendData(USART2, rec);
  59:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART2, USART_IT_RXNE);
  60:Bsp/periph_serial_irq.c **** 	}
  61:Bsp/periph_serial_irq.c **** 
  62:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART2, USART_IT_IDLE) != RESET)
 184              		.loc 1 62 2 is_stmt 1 view .LVU38
 185              		.loc 1 62 6 is_stmt 0 view .LVU39
 186 001a 40F22441 		movw	r1, #1060
 187 001e 1948     		ldr	r0, .L19
 188 0020 FFF7FEFF 		bl	USART_GetITStatus
 189              	.LVL15:
 190              		.loc 1 62 5 view .LVU40
 191 0024 A8B9     		cbnz	r0, .L18
 192              	.L11:
  63:Bsp/periph_serial_irq.c **** 	{
  64:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial2_DMA_RX_Stream, DISABLE);
  65:Bsp/periph_serial_irq.c **** 
  66:Bsp/periph_serial_irq.c **** 		rec = USART2->DR;
  67:Bsp/periph_serial_irq.c **** 		rec = USART2->SR;
  68:Bsp/periph_serial_irq.c **** 
  69:Bsp/periph_serial_irq.c **** 		rec = DMA_GetCurrDataCounter(Serial2_DMA_RX_Stream);
  70:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial2_DMA_RX_Stream, DMA_FLAG_TCIF5);
  71:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial2_DMA_RX_Stream, PCK_MAX);
  72:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial2_DMA_RX_Stream, ENABLE);
  73:Bsp/periph_serial_irq.c **** 	}
  74:Bsp/periph_serial_irq.c **** }
 193              		.loc 1 74 1 view .LVU41
 194 0026 10BD     		pop	{r4, pc}
 195              	.L16:
  52:Bsp/periph_serial_irq.c **** 	}
 196              		.loc 1 52 3 is_stmt 1 view .LVU42
 197 0028 0022     		movs	r2, #0
 198 002a 40F22661 		movw	r1, #1574
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 6


 199 002e 1548     		ldr	r0, .L19
 200 0030 FFF7FEFF 		bl	USART_ITConfig
 201              	.LVL16:
 202 0034 EBE7     		b	.L12
 203              	.L17:
  57:Bsp/periph_serial_irq.c **** 		USART_SendData(USART2, rec);
 204              		.loc 1 57 3 view .LVU43
  57:Bsp/periph_serial_irq.c **** 		USART_SendData(USART2, rec);
 205              		.loc 1 57 9 is_stmt 0 view .LVU44
 206 0036 134C     		ldr	r4, .L19
 207 0038 2046     		mov	r0, r4
 208 003a FFF7FEFF 		bl	USART_ReceiveData
 209              	.LVL17:
  58:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART2, USART_IT_RXNE);
 210              		.loc 1 58 3 is_stmt 1 view .LVU45
 211 003e C1B2     		uxtb	r1, r0
 212 0040 2046     		mov	r0, r4
 213              	.LVL18:
  58:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART2, USART_IT_RXNE);
 214              		.loc 1 58 3 is_stmt 0 view .LVU46
 215 0042 FFF7FEFF 		bl	USART_SendData
 216              	.LVL19:
  59:Bsp/periph_serial_irq.c **** 	}
 217              		.loc 1 59 3 is_stmt 1 view .LVU47
 218 0046 40F22551 		movw	r1, #1317
 219 004a 2046     		mov	r0, r4
 220 004c FFF7FEFF 		bl	USART_ClearITPendingBit
 221              	.LVL20:
 222 0050 E3E7     		b	.L13
 223              	.L18:
  64:Bsp/periph_serial_irq.c **** 
 224              		.loc 1 64 3 view .LVU48
 225 0052 0D4C     		ldr	r4, .L19+4
 226 0054 0021     		movs	r1, #0
 227 0056 2046     		mov	r0, r4
 228 0058 FFF7FEFF 		bl	DMA_Cmd
 229              	.LVL21:
  66:Bsp/periph_serial_irq.c **** 		rec = USART2->SR;
 230              		.loc 1 66 3 view .LVU49
  66:Bsp/periph_serial_irq.c **** 		rec = USART2->SR;
 231              		.loc 1 66 15 is_stmt 0 view .LVU50
 232 005c 094B     		ldr	r3, .L19
 233 005e 9A88     		ldrh	r2, [r3, #4]
  67:Bsp/periph_serial_irq.c **** 
 234              		.loc 1 67 3 is_stmt 1 view .LVU51
  67:Bsp/periph_serial_irq.c **** 
 235              		.loc 1 67 15 is_stmt 0 view .LVU52
 236 0060 1B88     		ldrh	r3, [r3]
  69:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial2_DMA_RX_Stream, DMA_FLAG_TCIF5);
 237              		.loc 1 69 3 is_stmt 1 view .LVU53
  69:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial2_DMA_RX_Stream, DMA_FLAG_TCIF5);
 238              		.loc 1 69 9 is_stmt 0 view .LVU54
 239 0062 2046     		mov	r0, r4
 240 0064 FFF7FEFF 		bl	DMA_GetCurrDataCounter
 241              	.LVL22:
  70:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial2_DMA_RX_Stream, PCK_MAX);
 242              		.loc 1 70 3 is_stmt 1 view .LVU55
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 7


 243 0068 0849     		ldr	r1, .L19+8
 244 006a 2046     		mov	r0, r4
 245 006c FFF7FEFF 		bl	DMA_ClearFlag
 246              	.LVL23:
  71:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial2_DMA_RX_Stream, ENABLE);
 247              		.loc 1 71 3 view .LVU56
 248 0070 4FF48071 		mov	r1, #256
 249 0074 2046     		mov	r0, r4
 250 0076 FFF7FEFF 		bl	DMA_SetCurrDataCounter
 251              	.LVL24:
  72:Bsp/periph_serial_irq.c **** 	}
 252              		.loc 1 72 3 view .LVU57
 253 007a 0121     		movs	r1, #1
 254 007c 2046     		mov	r0, r4
 255 007e FFF7FEFF 		bl	DMA_Cmd
 256              	.LVL25:
 257              		.loc 1 74 1 is_stmt 0 view .LVU58
 258 0082 D0E7     		b	.L11
 259              	.L20:
 260              		.align	2
 261              	.L19:
 262 0084 00440040 		.word	1073759232
 263 0088 88600240 		.word	1073897608
 264 008c 00080020 		.word	536872960
 265              		.cfi_endproc
 266              	.LFE124:
 268              		.section	.text.USART3_IRQHandler,"ax",%progbits
 269              		.align	1
 270              		.global	USART3_IRQHandler
 271              		.syntax unified
 272              		.thumb
 273              		.thumb_func
 274              		.fpu fpv4-sp-d16
 276              	USART3_IRQHandler:
 277              	.LFB125:
  75:Bsp/periph_serial_irq.c **** 
  76:Bsp/periph_serial_irq.c **** void USART3_IRQHandler(void)
  77:Bsp/periph_serial_irq.c **** {
 278              		.loc 1 77 1 is_stmt 1 view -0
 279              		.cfi_startproc
 280              		@ args = 0, pretend = 0, frame = 0
 281              		@ frame_needed = 0, uses_anonymous_args = 0
 282 0000 10B5     		push	{r4, lr}
 283              	.LCFI2:
 284              		.cfi_def_cfa_offset 8
 285              		.cfi_offset 4, -8
 286              		.cfi_offset 14, -4
  78:Bsp/periph_serial_irq.c **** 	uint8_t rec;
 287              		.loc 1 78 2 view .LVU60
  79:Bsp/periph_serial_irq.c **** 
  80:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART3, USART_IT_TXE) == RESET)
 288              		.loc 1 80 2 view .LVU61
 289              		.loc 1 80 6 is_stmt 0 view .LVU62
 290 0002 40F22771 		movw	r1, #1831
 291 0006 1F48     		ldr	r0, .L29
 292 0008 FFF7FEFF 		bl	USART_GetITStatus
 293              	.LVL26:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 8


 294              		.loc 1 80 5 view .LVU63
 295 000c 60B1     		cbz	r0, .L26
 296              	.L22:
  81:Bsp/periph_serial_irq.c **** 	{
  82:Bsp/periph_serial_irq.c **** 		USART_ITConfig(USART3, USART_IT_TC, DISABLE);
  83:Bsp/periph_serial_irq.c **** 	}
  84:Bsp/periph_serial_irq.c **** 
  85:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART3, USART_IT_RXNE) != RESET)
 297              		.loc 1 85 2 is_stmt 1 view .LVU64
 298              		.loc 1 85 6 is_stmt 0 view .LVU65
 299 000e 40F22551 		movw	r1, #1317
 300 0012 1C48     		ldr	r0, .L29
 301 0014 FFF7FEFF 		bl	USART_GetITStatus
 302              	.LVL27:
 303              		.loc 1 85 5 view .LVU66
 304 0018 68B9     		cbnz	r0, .L27
 305              	.L23:
  86:Bsp/periph_serial_irq.c **** 	{
  87:Bsp/periph_serial_irq.c **** 		rec = USART_ReceiveData(USART3);
  88:Bsp/periph_serial_irq.c **** 		USART_SendData(USART3, rec);
  89:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART3, USART_IT_RXNE);
  90:Bsp/periph_serial_irq.c **** 	}
  91:Bsp/periph_serial_irq.c **** 
  92:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART3, USART_IT_IDLE) != RESET)
 306              		.loc 1 92 2 is_stmt 1 view .LVU67
 307              		.loc 1 92 6 is_stmt 0 view .LVU68
 308 001a 40F22441 		movw	r1, #1060
 309 001e 1948     		ldr	r0, .L29
 310 0020 FFF7FEFF 		bl	USART_GetITStatus
 311              	.LVL28:
 312              		.loc 1 92 5 view .LVU69
 313 0024 A8B9     		cbnz	r0, .L28
 314              	.L21:
  93:Bsp/periph_serial_irq.c **** 	{
  94:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial3_DMA_RX_Stream, DISABLE);
  95:Bsp/periph_serial_irq.c **** 
  96:Bsp/periph_serial_irq.c **** 		rec = USART3->DR;
  97:Bsp/periph_serial_irq.c **** 		rec = USART3->SR;
  98:Bsp/periph_serial_irq.c **** 
  99:Bsp/periph_serial_irq.c **** 		rec = DMA_GetCurrDataCounter(Serial3_DMA_RX_Stream);
 100:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial3_DMA_RX_Stream, DMA_FLAG_TCIF1);
 101:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial3_DMA_RX_Stream, PCK_MAX);
 102:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial3_DMA_RX_Stream, ENABLE);
 103:Bsp/periph_serial_irq.c **** 	}
 104:Bsp/periph_serial_irq.c **** }
 315              		.loc 1 104 1 view .LVU70
 316 0026 10BD     		pop	{r4, pc}
 317              	.L26:
  82:Bsp/periph_serial_irq.c **** 	}
 318              		.loc 1 82 3 is_stmt 1 view .LVU71
 319 0028 0022     		movs	r2, #0
 320 002a 40F22661 		movw	r1, #1574
 321 002e 1548     		ldr	r0, .L29
 322 0030 FFF7FEFF 		bl	USART_ITConfig
 323              	.LVL29:
 324 0034 EBE7     		b	.L22
 325              	.L27:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 9


  87:Bsp/periph_serial_irq.c **** 		USART_SendData(USART3, rec);
 326              		.loc 1 87 3 view .LVU72
  87:Bsp/periph_serial_irq.c **** 		USART_SendData(USART3, rec);
 327              		.loc 1 87 9 is_stmt 0 view .LVU73
 328 0036 134C     		ldr	r4, .L29
 329 0038 2046     		mov	r0, r4
 330 003a FFF7FEFF 		bl	USART_ReceiveData
 331              	.LVL30:
  88:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART3, USART_IT_RXNE);
 332              		.loc 1 88 3 is_stmt 1 view .LVU74
 333 003e C1B2     		uxtb	r1, r0
 334 0040 2046     		mov	r0, r4
 335              	.LVL31:
  88:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART3, USART_IT_RXNE);
 336              		.loc 1 88 3 is_stmt 0 view .LVU75
 337 0042 FFF7FEFF 		bl	USART_SendData
 338              	.LVL32:
  89:Bsp/periph_serial_irq.c **** 	}
 339              		.loc 1 89 3 is_stmt 1 view .LVU76
 340 0046 40F22551 		movw	r1, #1317
 341 004a 2046     		mov	r0, r4
 342 004c FFF7FEFF 		bl	USART_ClearITPendingBit
 343              	.LVL33:
 344 0050 E3E7     		b	.L23
 345              	.L28:
  94:Bsp/periph_serial_irq.c **** 
 346              		.loc 1 94 3 view .LVU77
 347 0052 0D4C     		ldr	r4, .L29+4
 348 0054 0021     		movs	r1, #0
 349 0056 2046     		mov	r0, r4
 350 0058 FFF7FEFF 		bl	DMA_Cmd
 351              	.LVL34:
  96:Bsp/periph_serial_irq.c **** 		rec = USART3->SR;
 352              		.loc 1 96 3 view .LVU78
  96:Bsp/periph_serial_irq.c **** 		rec = USART3->SR;
 353              		.loc 1 96 15 is_stmt 0 view .LVU79
 354 005c 094B     		ldr	r3, .L29
 355 005e 9A88     		ldrh	r2, [r3, #4]
  97:Bsp/periph_serial_irq.c **** 
 356              		.loc 1 97 3 is_stmt 1 view .LVU80
  97:Bsp/periph_serial_irq.c **** 
 357              		.loc 1 97 15 is_stmt 0 view .LVU81
 358 0060 1B88     		ldrh	r3, [r3]
  99:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial3_DMA_RX_Stream, DMA_FLAG_TCIF1);
 359              		.loc 1 99 3 is_stmt 1 view .LVU82
  99:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial3_DMA_RX_Stream, DMA_FLAG_TCIF1);
 360              		.loc 1 99 9 is_stmt 0 view .LVU83
 361 0062 2046     		mov	r0, r4
 362 0064 FFF7FEFF 		bl	DMA_GetCurrDataCounter
 363              	.LVL35:
 100:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial3_DMA_RX_Stream, PCK_MAX);
 364              		.loc 1 100 3 is_stmt 1 view .LVU84
 365 0068 0849     		ldr	r1, .L29+8
 366 006a 2046     		mov	r0, r4
 367 006c FFF7FEFF 		bl	DMA_ClearFlag
 368              	.LVL36:
 101:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial3_DMA_RX_Stream, ENABLE);
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 10


 369              		.loc 1 101 3 view .LVU85
 370 0070 4FF48071 		mov	r1, #256
 371 0074 2046     		mov	r0, r4
 372 0076 FFF7FEFF 		bl	DMA_SetCurrDataCounter
 373              	.LVL37:
 102:Bsp/periph_serial_irq.c **** 	}
 374              		.loc 1 102 3 view .LVU86
 375 007a 0121     		movs	r1, #1
 376 007c 2046     		mov	r0, r4
 377 007e FFF7FEFF 		bl	DMA_Cmd
 378              	.LVL38:
 379              		.loc 1 104 1 is_stmt 0 view .LVU87
 380 0082 D0E7     		b	.L21
 381              	.L30:
 382              		.align	2
 383              	.L29:
 384 0084 00480040 		.word	1073760256
 385 0088 28600240 		.word	1073897512
 386 008c 00080010 		.word	268437504
 387              		.cfi_endproc
 388              	.LFE125:
 390              		.section	.text.USART6_IRQHandler,"ax",%progbits
 391              		.align	1
 392              		.global	USART6_IRQHandler
 393              		.syntax unified
 394              		.thumb
 395              		.thumb_func
 396              		.fpu fpv4-sp-d16
 398              	USART6_IRQHandler:
 399              	.LFB126:
 105:Bsp/periph_serial_irq.c **** 
 106:Bsp/periph_serial_irq.c **** void USART6_IRQHandler(void)
 107:Bsp/periph_serial_irq.c **** {
 400              		.loc 1 107 1 is_stmt 1 view -0
 401              		.cfi_startproc
 402              		@ args = 0, pretend = 0, frame = 0
 403              		@ frame_needed = 0, uses_anonymous_args = 0
 404 0000 10B5     		push	{r4, lr}
 405              	.LCFI3:
 406              		.cfi_def_cfa_offset 8
 407              		.cfi_offset 4, -8
 408              		.cfi_offset 14, -4
 108:Bsp/periph_serial_irq.c **** 	uint8_t rec;
 409              		.loc 1 108 2 view .LVU89
 109:Bsp/periph_serial_irq.c **** 
 110:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART6, USART_IT_TXE) == RESET)
 410              		.loc 1 110 2 view .LVU90
 411              		.loc 1 110 6 is_stmt 0 view .LVU91
 412 0002 40F22771 		movw	r1, #1831
 413 0006 1F48     		ldr	r0, .L39
 414 0008 FFF7FEFF 		bl	USART_GetITStatus
 415              	.LVL39:
 416              		.loc 1 110 5 view .LVU92
 417 000c 60B1     		cbz	r0, .L36
 418              	.L32:
 111:Bsp/periph_serial_irq.c **** 	{
 112:Bsp/periph_serial_irq.c **** 		USART_ITConfig(USART6, USART_IT_TC, DISABLE);
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 11


 113:Bsp/periph_serial_irq.c **** 	}
 114:Bsp/periph_serial_irq.c **** 
 115:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART6, USART_IT_RXNE) != RESET)
 419              		.loc 1 115 2 is_stmt 1 view .LVU93
 420              		.loc 1 115 6 is_stmt 0 view .LVU94
 421 000e 40F22551 		movw	r1, #1317
 422 0012 1C48     		ldr	r0, .L39
 423 0014 FFF7FEFF 		bl	USART_GetITStatus
 424              	.LVL40:
 425              		.loc 1 115 5 view .LVU95
 426 0018 68B9     		cbnz	r0, .L37
 427              	.L33:
 116:Bsp/periph_serial_irq.c **** 	{
 117:Bsp/periph_serial_irq.c **** 		rec = USART_ReceiveData(USART6);
 118:Bsp/periph_serial_irq.c **** 		USART_SendData(USART6, rec);
 119:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART6, USART_IT_RXNE);
 120:Bsp/periph_serial_irq.c **** 	}
 121:Bsp/periph_serial_irq.c **** 
 122:Bsp/periph_serial_irq.c **** 	if (USART_GetITStatus(USART6, USART_IT_IDLE) != RESET)
 428              		.loc 1 122 2 is_stmt 1 view .LVU96
 429              		.loc 1 122 6 is_stmt 0 view .LVU97
 430 001a 40F22441 		movw	r1, #1060
 431 001e 1948     		ldr	r0, .L39
 432 0020 FFF7FEFF 		bl	USART_GetITStatus
 433              	.LVL41:
 434              		.loc 1 122 5 view .LVU98
 435 0024 A8B9     		cbnz	r0, .L38
 436              	.L31:
 123:Bsp/periph_serial_irq.c **** 	{
 124:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial6_DMA_RX_Stream, DISABLE);
 125:Bsp/periph_serial_irq.c **** 
 126:Bsp/periph_serial_irq.c **** 		rec = USART6->DR;
 127:Bsp/periph_serial_irq.c **** 		rec = USART6->SR;
 128:Bsp/periph_serial_irq.c **** 
 129:Bsp/periph_serial_irq.c **** 		rec = DMA_GetCurrDataCounter(Serial6_DMA_RX_Stream);
 130:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial6_DMA_RX_Stream, DMA_FLAG_TCIF1);
 131:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial6_DMA_RX_Stream, PCK_MAX);
 132:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial6_DMA_RX_Stream, ENABLE);
 133:Bsp/periph_serial_irq.c **** 	}
 134:Bsp/periph_serial_irq.c **** }
 437              		.loc 1 134 1 view .LVU99
 438 0026 10BD     		pop	{r4, pc}
 439              	.L36:
 112:Bsp/periph_serial_irq.c **** 	}
 440              		.loc 1 112 3 is_stmt 1 view .LVU100
 441 0028 0022     		movs	r2, #0
 442 002a 40F22661 		movw	r1, #1574
 443 002e 1548     		ldr	r0, .L39
 444 0030 FFF7FEFF 		bl	USART_ITConfig
 445              	.LVL42:
 446 0034 EBE7     		b	.L32
 447              	.L37:
 117:Bsp/periph_serial_irq.c **** 		USART_SendData(USART6, rec);
 448              		.loc 1 117 3 view .LVU101
 117:Bsp/periph_serial_irq.c **** 		USART_SendData(USART6, rec);
 449              		.loc 1 117 9 is_stmt 0 view .LVU102
 450 0036 134C     		ldr	r4, .L39
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 12


 451 0038 2046     		mov	r0, r4
 452 003a FFF7FEFF 		bl	USART_ReceiveData
 453              	.LVL43:
 118:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART6, USART_IT_RXNE);
 454              		.loc 1 118 3 is_stmt 1 view .LVU103
 455 003e C1B2     		uxtb	r1, r0
 456 0040 2046     		mov	r0, r4
 457              	.LVL44:
 118:Bsp/periph_serial_irq.c **** 		USART_ClearITPendingBit(USART6, USART_IT_RXNE);
 458              		.loc 1 118 3 is_stmt 0 view .LVU104
 459 0042 FFF7FEFF 		bl	USART_SendData
 460              	.LVL45:
 119:Bsp/periph_serial_irq.c **** 	}
 461              		.loc 1 119 3 is_stmt 1 view .LVU105
 462 0046 40F22551 		movw	r1, #1317
 463 004a 2046     		mov	r0, r4
 464 004c FFF7FEFF 		bl	USART_ClearITPendingBit
 465              	.LVL46:
 466 0050 E3E7     		b	.L33
 467              	.L38:
 124:Bsp/periph_serial_irq.c **** 
 468              		.loc 1 124 3 view .LVU106
 469 0052 0D4C     		ldr	r4, .L39+4
 470 0054 0021     		movs	r1, #0
 471 0056 2046     		mov	r0, r4
 472 0058 FFF7FEFF 		bl	DMA_Cmd
 473              	.LVL47:
 126:Bsp/periph_serial_irq.c **** 		rec = USART6->SR;
 474              		.loc 1 126 3 view .LVU107
 126:Bsp/periph_serial_irq.c **** 		rec = USART6->SR;
 475              		.loc 1 126 15 is_stmt 0 view .LVU108
 476 005c 094B     		ldr	r3, .L39
 477 005e 9A88     		ldrh	r2, [r3, #4]
 127:Bsp/periph_serial_irq.c **** 
 478              		.loc 1 127 3 is_stmt 1 view .LVU109
 127:Bsp/periph_serial_irq.c **** 
 479              		.loc 1 127 15 is_stmt 0 view .LVU110
 480 0060 1B88     		ldrh	r3, [r3]
 129:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial6_DMA_RX_Stream, DMA_FLAG_TCIF1);
 481              		.loc 1 129 3 is_stmt 1 view .LVU111
 129:Bsp/periph_serial_irq.c **** 		DMA_ClearFlag(Serial6_DMA_RX_Stream, DMA_FLAG_TCIF1);
 482              		.loc 1 129 9 is_stmt 0 view .LVU112
 483 0062 2046     		mov	r0, r4
 484 0064 FFF7FEFF 		bl	DMA_GetCurrDataCounter
 485              	.LVL48:
 130:Bsp/periph_serial_irq.c **** 		DMA_SetCurrDataCounter(Serial6_DMA_RX_Stream, PCK_MAX);
 486              		.loc 1 130 3 is_stmt 1 view .LVU113
 487 0068 0849     		ldr	r1, .L39+8
 488 006a 2046     		mov	r0, r4
 489 006c FFF7FEFF 		bl	DMA_ClearFlag
 490              	.LVL49:
 131:Bsp/periph_serial_irq.c **** 		DMA_Cmd(Serial6_DMA_RX_Stream, ENABLE);
 491              		.loc 1 131 3 view .LVU114
 492 0070 4FF48071 		mov	r1, #256
 493 0074 2046     		mov	r0, r4
 494 0076 FFF7FEFF 		bl	DMA_SetCurrDataCounter
 495              	.LVL50:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 13


 132:Bsp/periph_serial_irq.c **** 	}
 496              		.loc 1 132 3 view .LVU115
 497 007a 0121     		movs	r1, #1
 498 007c 2046     		mov	r0, r4
 499 007e FFF7FEFF 		bl	DMA_Cmd
 500              	.LVL51:
 501              		.loc 1 134 1 is_stmt 0 view .LVU116
 502 0082 D0E7     		b	.L31
 503              	.L40:
 504              		.align	2
 505              	.L39:
 506 0084 00140140 		.word	1073812480
 507 0088 28640240 		.word	1073898536
 508 008c 00080010 		.word	268437504
 509              		.cfi_endproc
 510              	.LFE126:
 512              		.global	shell_recv
 513              		.section	.bss.shell_recv,"aw",%nobits
 514              		.set	.LANCHOR0,. + 0
 517              	shell_recv:
 518 0000 00       		.space	1
 519              		.text
 520              	.Letext0:
 521              		.file 2 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/mac
 522              		.file 3 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys
 523              		.file 4 "USER/stm32f4xx.h"
 524              		.file 5 "Dsp/letter_shell/shell.h"
 525              		.file 6 "Dsp/letter_shell/shell_port.h"
 526              		.file 7 "FWLIB/inc/stm32f4xx_usart.h"
 527              		.file 8 "FWLIB/inc/stm32f4xx_dma.h"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s 			page 14


DEFINED SYMBOLS
                            *ABS*:0000000000000000 periph_serial_irq.c
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:18     .text.USART1_IRQHandler:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:26     .text.USART1_IRQHandler:0000000000000000 USART1_IRQHandler
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:138    .text.USART1_IRQHandler:000000000000008c $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:147    .text.USART2_IRQHandler:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:154    .text.USART2_IRQHandler:0000000000000000 USART2_IRQHandler
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:262    .text.USART2_IRQHandler:0000000000000084 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:269    .text.USART3_IRQHandler:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:276    .text.USART3_IRQHandler:0000000000000000 USART3_IRQHandler
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:384    .text.USART3_IRQHandler:0000000000000084 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:391    .text.USART6_IRQHandler:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:398    .text.USART6_IRQHandler:0000000000000000 USART6_IRQHandler
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:506    .text.USART6_IRQHandler:0000000000000084 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:517    .bss.shell_recv:0000000000000000 shell_recv
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccrYN5yY.s:518    .bss.shell_recv:0000000000000000 $d

UNDEFINED SYMBOLS
USART_GetITStatus
USART_ITConfig
USART_ReceiveData
USART_ClearITPendingBit
DMA_Cmd
DMA_GetCurrDataCounter
shellHandler
DMA_ClearFlag
DMA_SetCurrDataCounter
shell
USART_SendData
