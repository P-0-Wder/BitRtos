ARM GAS  C:\Users\why\AppData\Local\Temp\cccJaesf.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"Task_Encoder.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.encoder_get_to_shell_show,"ax",%progbits
  22              		.align	2
  23              		.global	encoder_get_to_shell_show
  24              		.thumb
  25              		.thumb_func
  27              	encoder_get_to_shell_show:
  28              	.LFB127:
  29              		.file 1 "App/Task_Encoder/Task_Encoder.c"
   1:App/Task_Encoder/Task_Encoder.c **** #include "Task_Encoder.h"
   2:App/Task_Encoder/Task_Encoder.c **** #include "Dev_Encoder.h"
   3:App/Task_Encoder/Task_Encoder.c **** #include "shell_port.h"
   4:App/Task_Encoder/Task_Encoder.c **** #include "drv_serial.h"
   5:App/Task_Encoder/Task_Encoder.c **** #include "shell_port.h"
   6:App/Task_Encoder/Task_Encoder.c **** 
   7:App/Task_Encoder/Task_Encoder.c **** encoder_sta_list encoder_sta = encoder_init_sta;
   8:App/Task_Encoder/Task_Encoder.c **** encoder_sta_getlist_t encoder_sta_getlist;
   9:App/Task_Encoder/Task_Encoder.c **** Task_Handler Encoder_Tsk_Hdl;
  10:App/Task_Encoder/Task_Encoder.c **** 
  11:App/Task_Encoder/Task_Encoder.c **** void Task_Encoder_Init(void)
  12:App/Task_Encoder/Task_Encoder.c **** {
  13:App/Task_Encoder/Task_Encoder.c ****     static int encoder_sta = encoder_init_sta;
  14:App/Task_Encoder/Task_Encoder.c ****     GPIO_IO_Encoder_Init(Encoder_Port,Encoder_IO_CLK,GPIO_Pin_7,Encoder_IO_A_PinSource,GPIO_AF_TIM8
  15:App/Task_Encoder/Task_Encoder.c ****     GPIO_IO_Encoder_Init(Encoder_Port,Encoder_IO_CLK,GPIO_Pin_6,Encoder_IO_B_PinSource,GPIO_AF_TIM8
  16:App/Task_Encoder/Task_Encoder.c ****     periph_Timer_Encoder_Mode_Init(Timer_8,TIM_Channel_1,TIM_Channel_2);
  17:App/Task_Encoder/Task_Encoder.c **** }
  18:App/Task_Encoder/Task_Encoder.c **** 
  19:App/Task_Encoder/Task_Encoder.c **** 
  20:App/Task_Encoder/Task_Encoder.c **** void Task_Encoder_Core(Task_Handler self)
  21:App/Task_Encoder/Task_Encoder.c **** {
  22:App/Task_Encoder/Task_Encoder.c ****     switch(encoder_sta)
  23:App/Task_Encoder/Task_Encoder.c ****     {
  24:App/Task_Encoder/Task_Encoder.c ****         case encoder_init_sta:
  25:App/Task_Encoder/Task_Encoder.c ****             Task_Encoder_Init();
  26:App/Task_Encoder/Task_Encoder.c ****             encoder_sta = encoder_get_sta;
  27:App/Task_Encoder/Task_Encoder.c ****             break;
  28:App/Task_Encoder/Task_Encoder.c ****         case encoder_get_sta:
  29:App/Task_Encoder/Task_Encoder.c ****             encoder_get_state(Timer_8);
ARM GAS  C:\Users\why\AppData\Local\Temp\cccJaesf.s 			page 2


  30:App/Task_Encoder/Task_Encoder.c ****         break;
  31:App/Task_Encoder/Task_Encoder.c **** 
  32:App/Task_Encoder/Task_Encoder.c ****     }
  33:App/Task_Encoder/Task_Encoder.c **** }
  34:App/Task_Encoder/Task_Encoder.c **** 
  35:App/Task_Encoder/Task_Encoder.c **** void encoder_get_state(Timer_list timerx)
  36:App/Task_Encoder/Task_Encoder.c **** {
  37:App/Task_Encoder/Task_Encoder.c ****     encoder_sta_getlist.num_rotation_circle += (short)Timer_Port[timerx]->CNT;
  38:App/Task_Encoder/Task_Encoder.c ****     Timer_Port[timerx]->CNT = 0;
  39:App/Task_Encoder/Task_Encoder.c **** }
  40:App/Task_Encoder/Task_Encoder.c **** 
  41:App/Task_Encoder/Task_Encoder.c **** void encoder_get_to_shell_show(void)
  42:App/Task_Encoder/Task_Encoder.c **** {
  30              		.loc 1 42 0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34 0000 08B5     		push	{r3, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 3, -8
  38              		.cfi_offset 14, -4
  43:App/Task_Encoder/Task_Encoder.c ****     bt_printf("emcoder_num:%d\r\n",encoder_sta_getlist.num_rotation_circle/4);
  39              		.loc 1 43 0
  40 0002 054B     		ldr	r3, .L4
  41 0004 1968     		ldr	r1, [r3]
  42 0006 0029     		cmp	r1, #0
  43 0008 00DA     		bge	.L2
  44 000a 0331     		adds	r1, r1, #3
  45              	.L2:
  46 000c 8910     		asrs	r1, r1, #2
  47 000e 0348     		ldr	r0, .L4+4
  48 0010 FFF7FEFF 		bl	bt_printf
  49              	.LVL0:
  50 0014 08BD     		pop	{r3, pc}
  51              	.L5:
  52 0016 00BF     		.align	2
  53              	.L4:
  54 0018 00000000 		.word	encoder_sta_getlist
  55 001c 00000000 		.word	.LC0
  56              		.cfi_endproc
  57              	.LFE127:
  59              		.section	.text.Task_Encoder_Init,"ax",%progbits
  60              		.align	2
  61              		.global	Task_Encoder_Init
  62              		.thumb
  63              		.thumb_func
  65              	Task_Encoder_Init:
  66              	.LFB124:
  12:App/Task_Encoder/Task_Encoder.c ****     static int encoder_sta = encoder_init_sta;
  67              		.loc 1 12 0
  68              		.cfi_startproc
  69              		@ args = 0, pretend = 0, frame = 0
  70              		@ frame_needed = 0, uses_anonymous_args = 0
  71 0000 30B5     		push	{r4, r5, lr}
  72              	.LCFI1:
  73              		.cfi_def_cfa_offset 12
ARM GAS  C:\Users\why\AppData\Local\Temp\cccJaesf.s 			page 3


  74              		.cfi_offset 4, -12
  75              		.cfi_offset 5, -8
  76              		.cfi_offset 14, -4
  77 0002 83B0     		sub	sp, sp, #12
  78              	.LCFI2:
  79              		.cfi_def_cfa_offset 24
  14:App/Task_Encoder/Task_Encoder.c ****     GPIO_IO_Encoder_Init(Encoder_Port,Encoder_IO_CLK,GPIO_Pin_6,Encoder_IO_B_PinSource,GPIO_AF_TIM8
  80              		.loc 1 14 0
  81 0004 0B4D     		ldr	r5, .L8
  82 0006 0324     		movs	r4, #3
  83 0008 0094     		str	r4, [sp]
  84 000a 0723     		movs	r3, #7
  85 000c 8022     		movs	r2, #128
  86 000e 0421     		movs	r1, #4
  87 0010 2846     		mov	r0, r5
  88 0012 FFF7FEFF 		bl	GPIO_IO_Encoder_Init
  89              	.LVL1:
  15:App/Task_Encoder/Task_Encoder.c ****     periph_Timer_Encoder_Mode_Init(Timer_8,TIM_Channel_1,TIM_Channel_2);
  90              		.loc 1 15 0
  91 0016 0094     		str	r4, [sp]
  92 0018 0623     		movs	r3, #6
  93 001a 4022     		movs	r2, #64
  94 001c 0421     		movs	r1, #4
  95 001e 2846     		mov	r0, r5
  96 0020 FFF7FEFF 		bl	GPIO_IO_Encoder_Init
  97              	.LVL2:
  16:App/Task_Encoder/Task_Encoder.c **** }
  98              		.loc 1 16 0
  99 0024 0422     		movs	r2, #4
 100 0026 0021     		movs	r1, #0
 101 0028 2046     		mov	r0, r4
 102 002a FFF7FEFF 		bl	periph_Timer_Encoder_Mode_Init
 103              	.LVL3:
  17:App/Task_Encoder/Task_Encoder.c **** 
 104              		.loc 1 17 0
 105 002e 03B0     		add	sp, sp, #12
 106              	.LCFI3:
 107              		.cfi_def_cfa_offset 12
 108              		@ sp needed
 109 0030 30BD     		pop	{r4, r5, pc}
 110              	.L9:
 111 0032 00BF     		.align	2
 112              	.L8:
 113 0034 00080240 		.word	1073874944
 114              		.cfi_endproc
 115              	.LFE124:
 117              		.section	.text.encoder_get_state,"ax",%progbits
 118              		.align	2
 119              		.global	encoder_get_state
 120              		.thumb
 121              		.thumb_func
 123              	encoder_get_state:
 124              	.LFB126:
  36:App/Task_Encoder/Task_Encoder.c ****     encoder_sta_getlist.num_rotation_circle += (short)Timer_Port[timerx]->CNT;
 125              		.loc 1 36 0
 126              		.cfi_startproc
 127              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\why\AppData\Local\Temp\cccJaesf.s 			page 4


 128              		@ frame_needed = 0, uses_anonymous_args = 0
 129              		@ link register save eliminated.
 130              	.LVL4:
  37:App/Task_Encoder/Task_Encoder.c ****     Timer_Port[timerx]->CNT = 0;
 131              		.loc 1 37 0
 132 0000 054B     		ldr	r3, .L11
 133 0002 53F82020 		ldr	r2, [r3, r0, lsl #2]
 134 0006 536A     		ldr	r3, [r2, #36]
 135 0008 0449     		ldr	r1, .L11+4
 136 000a 0868     		ldr	r0, [r1]
 137              	.LVL5:
 138 000c 00FA83F3 		sxtah	r3, r0, r3
 139 0010 0B60     		str	r3, [r1]
  38:App/Task_Encoder/Task_Encoder.c **** }
 140              		.loc 1 38 0
 141 0012 0023     		movs	r3, #0
 142 0014 5362     		str	r3, [r2, #36]
 143 0016 7047     		bx	lr
 144              	.L12:
 145              		.align	2
 146              	.L11:
 147 0018 00000000 		.word	Timer_Port
 148 001c 00000000 		.word	encoder_sta_getlist
 149              		.cfi_endproc
 150              	.LFE126:
 152              		.section	.text.Task_Encoder_Core,"ax",%progbits
 153              		.align	2
 154              		.global	Task_Encoder_Core
 155              		.thumb
 156              		.thumb_func
 158              	Task_Encoder_Core:
 159              	.LFB125:
  21:App/Task_Encoder/Task_Encoder.c ****     switch(encoder_sta)
 160              		.loc 1 21 0
 161              		.cfi_startproc
 162              		@ args = 0, pretend = 0, frame = 0
 163              		@ frame_needed = 0, uses_anonymous_args = 0
 164              	.LVL6:
 165 0000 08B5     		push	{r3, lr}
 166              	.LCFI4:
 167              		.cfi_def_cfa_offset 8
 168              		.cfi_offset 3, -8
 169              		.cfi_offset 14, -4
  22:App/Task_Encoder/Task_Encoder.c ****     {
 170              		.loc 1 22 0
 171 0002 084B     		ldr	r3, .L18
 172 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 173 0006 13B1     		cbz	r3, .L15
 174 0008 012B     		cmp	r3, #1
 175 000a 06D0     		beq	.L16
 176 000c 08BD     		pop	{r3, pc}
 177              	.L15:
 178              	.LBB2:
  25:App/Task_Encoder/Task_Encoder.c ****             encoder_sta = encoder_get_sta;
 179              		.loc 1 25 0
 180 000e FFF7FEFF 		bl	Task_Encoder_Init
 181              	.LVL7:
ARM GAS  C:\Users\why\AppData\Local\Temp\cccJaesf.s 			page 5


  26:App/Task_Encoder/Task_Encoder.c ****             break;
 182              		.loc 1 26 0
 183 0012 0122     		movs	r2, #1
 184 0014 034B     		ldr	r3, .L18
 185 0016 1A70     		strb	r2, [r3]
  27:App/Task_Encoder/Task_Encoder.c ****         case encoder_get_sta:
 186              		.loc 1 27 0
 187 0018 08BD     		pop	{r3, pc}
 188              	.LVL8:
 189              	.L16:
  29:App/Task_Encoder/Task_Encoder.c ****         break;
 190              		.loc 1 29 0
 191 001a 0320     		movs	r0, #3
 192              	.LVL9:
 193 001c FFF7FEFF 		bl	encoder_get_state
 194              	.LVL10:
 195 0020 08BD     		pop	{r3, pc}
 196              	.L19:
 197 0022 00BF     		.align	2
 198              	.L18:
 199 0024 00000000 		.word	.LANCHOR0
 200              	.LBE2:
 201              		.cfi_endproc
 202              	.LFE125:
 204              		.global	shellCommandencoder_get_to_shell_show
 205              		.global	shellDescencoder_get_to_shell_show
 206              		.global	shellCmdencoder_get_to_shell_show
 207              		.comm	Encoder_Tsk_Hdl,4,4
 208              		.comm	encoder_sta_getlist,8,4
 209              		.global	encoder_sta
 210              		.section	.bss.encoder_sta,"aw",%nobits
 211              		.set	.LANCHOR0,. + 0
 214              	encoder_sta:
 215 0000 00       		.space	1
 216              		.section	.rodata.shellCmdencoder_get_to_shell_show,"a",%progbits
 217              		.align	2
 220              	shellCmdencoder_get_to_shell_show:
 221 0000 656E636F 		.ascii	"encoder_get_to_shell_show\000"
 221      6465725F 
 221      6765745F 
 221      746F5F73 
 221      68656C6C 
 222              		.section	.rodata.str1.4,"aMS",%progbits,1
 223              		.align	2
 224              	.LC0:
 225 0000 656D636F 		.ascii	"emcoder_num:%d\015\012\000"
 225      6465725F 
 225      6E756D3A 
 225      25640D0A 
 225      00
 226              		.section	.rodata.shellDescencoder_get_to_shell_show,"a",%progbits
 227              		.align	2
 230              	shellDescencoder_get_to_shell_show:
 231 0000 67657463 		.ascii	"getconder\000"
 231      6F6E6465 
 231      7200
 232              		.section	shellCommand,"a",%progbits
ARM GAS  C:\Users\why\AppData\Local\Temp\cccJaesf.s 			page 6


 233              		.align	2
 236              	shellCommandencoder_get_to_shell_show:
 237 0000 00210000 		.word	8448
 238 0004 00000000 		.word	shellCmdencoder_get_to_shell_show
 239 0008 00000000 		.word	encoder_get_to_shell_show
 240 000c 00000000 		.word	shellDescencoder_get_to_shell_show
 241              		.text
 242              	.Letext0:
 243              		.file 2 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\machine\\_default_types.h"
 244              		.file 3 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\sys\\_stdint.h"
 245              		.file 4 "SYS/task_manager/task_manager.h"
 246              		.file 5 "App/Task_Encoder/Task_Encoder.h"
 247              		.file 6 "USER/stm32f4xx.h"
 248              		.file 7 "Bsp/periph_timer.h"
 249              		.file 8 "Dev/Dev_Encoder.h"
 250              		.file 9 "SYS/shell/shell.h"
 251              		.file 10 "Bsp/periph_serial.h"
 252              		.file 11 "F4_CORE/core_cm4.h"
 253              		.file 12 "SYS/shell/shell_port.h"
 254              		.file 13 "Bsp/periph_gpio.h"
ARM GAS  C:\Users\why\AppData\Local\Temp\cccJaesf.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 Task_Encoder.c
C:\Users\why\AppData\Local\Temp\cccJaesf.s:22     .text.encoder_get_to_shell_show:00000000 $t
C:\Users\why\AppData\Local\Temp\cccJaesf.s:27     .text.encoder_get_to_shell_show:00000000 encoder_get_to_shell_show
C:\Users\why\AppData\Local\Temp\cccJaesf.s:54     .text.encoder_get_to_shell_show:00000018 $d
                            *COM*:00000008 encoder_sta_getlist
C:\Users\why\AppData\Local\Temp\cccJaesf.s:60     .text.Task_Encoder_Init:00000000 $t
C:\Users\why\AppData\Local\Temp\cccJaesf.s:65     .text.Task_Encoder_Init:00000000 Task_Encoder_Init
C:\Users\why\AppData\Local\Temp\cccJaesf.s:113    .text.Task_Encoder_Init:00000034 $d
C:\Users\why\AppData\Local\Temp\cccJaesf.s:118    .text.encoder_get_state:00000000 $t
C:\Users\why\AppData\Local\Temp\cccJaesf.s:123    .text.encoder_get_state:00000000 encoder_get_state
C:\Users\why\AppData\Local\Temp\cccJaesf.s:147    .text.encoder_get_state:00000018 $d
C:\Users\why\AppData\Local\Temp\cccJaesf.s:153    .text.Task_Encoder_Core:00000000 $t
C:\Users\why\AppData\Local\Temp\cccJaesf.s:158    .text.Task_Encoder_Core:00000000 Task_Encoder_Core
C:\Users\why\AppData\Local\Temp\cccJaesf.s:199    .text.Task_Encoder_Core:00000024 $d
C:\Users\why\AppData\Local\Temp\cccJaesf.s:236    shellCommand:00000000 shellCommandencoder_get_to_shell_show
C:\Users\why\AppData\Local\Temp\cccJaesf.s:230    .rodata.shellDescencoder_get_to_shell_show:00000000 shellDescencoder_get_to_shell_show
C:\Users\why\AppData\Local\Temp\cccJaesf.s:220    .rodata.shellCmdencoder_get_to_shell_show:00000000 shellCmdencoder_get_to_shell_show
                            *COM*:00000004 Encoder_Tsk_Hdl
C:\Users\why\AppData\Local\Temp\cccJaesf.s:214    .bss.encoder_sta:00000000 encoder_sta
C:\Users\why\AppData\Local\Temp\cccJaesf.s:215    .bss.encoder_sta:00000000 $d
C:\Users\why\AppData\Local\Temp\cccJaesf.s:217    .rodata.shellCmdencoder_get_to_shell_show:00000000 $d
C:\Users\why\AppData\Local\Temp\cccJaesf.s:223    .rodata.str1.4:00000000 $d
C:\Users\why\AppData\Local\Temp\cccJaesf.s:227    .rodata.shellDescencoder_get_to_shell_show:00000000 $d
C:\Users\why\AppData\Local\Temp\cccJaesf.s:233    shellCommand:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
bt_printf
GPIO_IO_Encoder_Init
periph_Timer_Encoder_Mode_Init
Timer_Port
