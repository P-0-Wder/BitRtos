ARM GAS  /tmp/cckwsmGX.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"periph_timer.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.periph_Timer_IO_Init,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	periph_Timer_IO_Init:
  26              	.LVL0:
  27              	.LFB123:
  28              		.file 1 "Bsp/periph_timer.c"
   1:Bsp/periph_timer.c **** #include "stm32f4xx_tim.h"
   2:Bsp/periph_timer.c **** #include "periph_timer.h"
   3:Bsp/periph_timer.c **** #include "periph_gpio.h"
   4:Bsp/periph_timer.c **** #include "periph_dma.h"
   5:Bsp/periph_timer.c **** #include "misc.h"
   6:Bsp/periph_timer.c **** #include <stdbool.h>
   7:Bsp/periph_timer.c **** 
   8:Bsp/periph_timer.c **** TIM_TypeDef *Timer_Port[Timer_Port_Sum] = {TIM2,
   9:Bsp/periph_timer.c **** 										   TIM3,
  10:Bsp/periph_timer.c **** 										   TIM4,
  11:Bsp/periph_timer.c **** 										   TIM8};
  12:Bsp/periph_timer.c **** 
  13:Bsp/periph_timer.c **** static uint32_t Timer_CLK[Timer_Port_Sum] = {RCC_APB1Periph_TIM2,
  14:Bsp/periph_timer.c **** 											 RCC_APB1Periph_TIM3,
  15:Bsp/periph_timer.c **** 											 RCC_APB1Periph_TIM4,
  16:Bsp/periph_timer.c **** 											 RCC_APB2Periph_TIM8};
  17:Bsp/periph_timer.c **** 
  18:Bsp/periph_timer.c **** static uint8_t Timer_IRQ_Channel[Timer_Port_Sum] = {TIM2_IRQn,
  19:Bsp/periph_timer.c **** 													TIM3_IRQn,
  20:Bsp/periph_timer.c **** 													TIM4_IRQn};
  21:Bsp/periph_timer.c **** 
  22:Bsp/periph_timer.c **** static void (*PWM_Set_Value[PWM_SUM])(TIM_TypeDef *TIMx, uint32_t Compare1) = {TIM_SetCompare1,
  23:Bsp/periph_timer.c **** 																			   TIM_SetCompare2,
  24:Bsp/periph_timer.c **** 																			   TIM_SetCompare3,
  25:Bsp/periph_timer.c **** 																			   TIM_SetCompare4};
  26:Bsp/periph_timer.c **** 
  27:Bsp/periph_timer.c **** static void periph_Timer_IO_Init(Timer_list timerx, Timer_PWM_Channel_State CH1_State, Timer_PWM_Ch
  28:Bsp/periph_timer.c **** {
  29              		.loc 1 28 1 view -0
  30              		.cfi_startproc
ARM GAS  /tmp/cckwsmGX.s 			page 2


  31              		@ args = 4, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 28 1 is_stmt 0 view .LVU1
  34 0000 70B5     		push	{r4, r5, r6, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 4, -16
  38              		.cfi_offset 5, -12
  39              		.cfi_offset 6, -8
  40              		.cfi_offset 14, -4
  41 0002 0446     		mov	r4, r0
  42 0004 1646     		mov	r6, r2
  43 0006 1D46     		mov	r5, r3
  29:Bsp/periph_timer.c **** 	if (CH1_State == PWM_CH1_Enable)
  44              		.loc 1 29 2 is_stmt 1 view .LVU2
  45              		.loc 1 29 5 is_stmt 0 view .LVU3
  46 0008 0129     		cmp	r1, #1
  47 000a 08D0     		beq	.L19
  48              	.LVL1:
  49              	.L2:
  30:Bsp/periph_timer.c **** 	{
  31:Bsp/periph_timer.c **** 		switch ((uint8_t)timerx)
  32:Bsp/periph_timer.c **** 		{
  33:Bsp/periph_timer.c **** 		case Timer_2:
  34:Bsp/periph_timer.c **** 			GPIO_TIM2_PWMCH1_IO_Init();
  35:Bsp/periph_timer.c **** 			break;
  36:Bsp/periph_timer.c **** 		case Timer_3:
  37:Bsp/periph_timer.c **** 			GPIO_TIM3_PWMCH1_IO_Init();
  38:Bsp/periph_timer.c **** 			break;
  39:Bsp/periph_timer.c **** 		case Timer_4:
  40:Bsp/periph_timer.c **** 			GPIO_TIM4_PWMCH1_IO_Init();
  41:Bsp/periph_timer.c **** 			break;
  42:Bsp/periph_timer.c **** 		default:
  43:Bsp/periph_timer.c **** 			break;
  44:Bsp/periph_timer.c **** 		}
  45:Bsp/periph_timer.c **** 	}
  46:Bsp/periph_timer.c **** 
  47:Bsp/periph_timer.c **** 	if (CH2_State == PWM_CH2_Enable)
  50              		.loc 1 47 2 is_stmt 1 view .LVU4
  51              		.loc 1 47 5 is_stmt 0 view .LVU5
  52 000c 012E     		cmp	r6, #1
  53 000e 15D0     		beq	.L20
  54              	.L6:
  48:Bsp/periph_timer.c **** 	{
  49:Bsp/periph_timer.c **** 		switch ((uint8_t)timerx)
  50:Bsp/periph_timer.c **** 		{
  51:Bsp/periph_timer.c **** 		case Timer_2:
  52:Bsp/periph_timer.c **** 			GPIO_TIM2_PWMCH2_IO_Init();
  53:Bsp/periph_timer.c **** 			break;
  54:Bsp/periph_timer.c **** 		case Timer_3:
  55:Bsp/periph_timer.c **** 			GPIO_TIM3_PWMCH2_IO_Init();
  56:Bsp/periph_timer.c **** 			break;
  57:Bsp/periph_timer.c **** 		case Timer_4:
  58:Bsp/periph_timer.c **** 			GPIO_TIM4_PWMCH2_IO_Init();
  59:Bsp/periph_timer.c **** 			break;
  60:Bsp/periph_timer.c **** 		default:
  61:Bsp/periph_timer.c **** 			break;
ARM GAS  /tmp/cckwsmGX.s 			page 3


  62:Bsp/periph_timer.c **** 		}
  63:Bsp/periph_timer.c **** 	}
  64:Bsp/periph_timer.c **** 
  65:Bsp/periph_timer.c **** 	if (CH3_State == PWM_CH3_Enable)
  55              		.loc 1 65 2 is_stmt 1 view .LVU6
  56              		.loc 1 65 5 is_stmt 0 view .LVU7
  57 0010 012D     		cmp	r5, #1
  58 0012 22D0     		beq	.L21
  59              	.L10:
  66:Bsp/periph_timer.c **** 	{
  67:Bsp/periph_timer.c **** 		switch ((uint8_t)timerx)
  68:Bsp/periph_timer.c **** 		{
  69:Bsp/periph_timer.c **** 		case Timer_2:
  70:Bsp/periph_timer.c **** 			GPIO_TIM2_PWMCH3_IO_Init();
  71:Bsp/periph_timer.c **** 			break;
  72:Bsp/periph_timer.c **** 		case Timer_3:
  73:Bsp/periph_timer.c **** 			GPIO_TIM3_PWMCH3_IO_Init();
  74:Bsp/periph_timer.c **** 			break;
  75:Bsp/periph_timer.c **** 		case Timer_4:
  76:Bsp/periph_timer.c **** 			GPIO_TIM4_PWMCH3_IO_Init();
  77:Bsp/periph_timer.c **** 			break;
  78:Bsp/periph_timer.c **** 		default:
  79:Bsp/periph_timer.c **** 			break;
  80:Bsp/periph_timer.c **** 		}
  81:Bsp/periph_timer.c **** 	}
  82:Bsp/periph_timer.c **** 
  83:Bsp/periph_timer.c **** 	if (CH4_State == PWM_CH4_Enable)
  60              		.loc 1 83 2 is_stmt 1 view .LVU8
  61              		.loc 1 83 5 is_stmt 0 view .LVU9
  62 0014 9DF81030 		ldrb	r3, [sp, #16]	@ zero_extendqisi2
  63 0018 012B     		cmp	r3, #1
  64 001a 2DD0     		beq	.L22
  65              	.L1:
  84:Bsp/periph_timer.c **** 	{
  85:Bsp/periph_timer.c **** 		switch ((uint8_t)timerx)
  86:Bsp/periph_timer.c **** 		{
  87:Bsp/periph_timer.c **** 		case Timer_2:
  88:Bsp/periph_timer.c **** 			GPIO_TIM2_PWMCH4_IO_Init();
  89:Bsp/periph_timer.c **** 			break;
  90:Bsp/periph_timer.c **** 		case Timer_3:
  91:Bsp/periph_timer.c **** 			GPIO_TIM3_PWMCH4_IO_Init();
  92:Bsp/periph_timer.c **** 			break;
  93:Bsp/periph_timer.c **** 		case Timer_4:
  94:Bsp/periph_timer.c **** 			GPIO_TIM4_PWMCH4_IO_Init();
  95:Bsp/periph_timer.c **** 			break;
  96:Bsp/periph_timer.c **** 		default:
  97:Bsp/periph_timer.c **** 			break;
  98:Bsp/periph_timer.c **** 		}
  99:Bsp/periph_timer.c **** 	}
 100:Bsp/periph_timer.c **** }
  66              		.loc 1 100 1 view .LVU10
  67 001c 70BD     		pop	{r4, r5, r6, pc}
  68              	.LVL2:
  69              	.L19:
  31:Bsp/periph_timer.c **** 		{
  70              		.loc 1 31 3 is_stmt 1 view .LVU11
  71 001e 0128     		cmp	r0, #1
ARM GAS  /tmp/cckwsmGX.s 			page 4


  72 0020 09D0     		beq	.L3
  73 0022 43B2     		sxtb	r3, r0
  74              	.LVL3:
  31:Bsp/periph_timer.c **** 		{
  75              		.loc 1 31 3 is_stmt 0 view .LVU12
  76 0024 23B1     		cbz	r3, .L4
  77 0026 0228     		cmp	r0, #2
  78 0028 F0D1     		bne	.L2
  40:Bsp/periph_timer.c **** 			break;
  79              		.loc 1 40 4 is_stmt 1 view .LVU13
  80 002a FFF7FEFF 		bl	GPIO_TIM4_PWMCH1_IO_Init
  81              	.LVL4:
  41:Bsp/periph_timer.c **** 		default:
  82              		.loc 1 41 4 view .LVU14
  83 002e EDE7     		b	.L2
  84              	.LVL5:
  85              	.L4:
  34:Bsp/periph_timer.c **** 			break;
  86              		.loc 1 34 4 view .LVU15
  87 0030 FFF7FEFF 		bl	GPIO_TIM2_PWMCH1_IO_Init
  88              	.LVL6:
  35:Bsp/periph_timer.c **** 		case Timer_3:
  89              		.loc 1 35 4 view .LVU16
  90 0034 EAE7     		b	.L2
  91              	.LVL7:
  92              	.L3:
  37:Bsp/periph_timer.c **** 			break;
  93              		.loc 1 37 4 view .LVU17
  94 0036 FFF7FEFF 		bl	GPIO_TIM3_PWMCH1_IO_Init
  95              	.LVL8:
  38:Bsp/periph_timer.c **** 		case Timer_4:
  96              		.loc 1 38 4 view .LVU18
  97 003a E7E7     		b	.L2
  98              	.L20:
  49:Bsp/periph_timer.c **** 		{
  99              		.loc 1 49 3 view .LVU19
 100 003c 012C     		cmp	r4, #1
 101 003e 09D0     		beq	.L7
 102 0040 63B2     		sxtb	r3, r4
 103 0042 23B1     		cbz	r3, .L8
 104 0044 022C     		cmp	r4, #2
 105 0046 E3D1     		bne	.L6
  58:Bsp/periph_timer.c **** 			break;
 106              		.loc 1 58 4 view .LVU20
 107 0048 FFF7FEFF 		bl	GPIO_TIM4_PWMCH2_IO_Init
 108              	.LVL9:
  59:Bsp/periph_timer.c **** 		default:
 109              		.loc 1 59 4 view .LVU21
 110 004c E0E7     		b	.L6
 111              	.L8:
  52:Bsp/periph_timer.c **** 			break;
 112              		.loc 1 52 4 view .LVU22
 113 004e FFF7FEFF 		bl	GPIO_TIM2_PWMCH2_IO_Init
 114              	.LVL10:
  53:Bsp/periph_timer.c **** 		case Timer_3:
 115              		.loc 1 53 4 view .LVU23
 116 0052 DDE7     		b	.L6
ARM GAS  /tmp/cckwsmGX.s 			page 5


 117              	.L7:
  55:Bsp/periph_timer.c **** 			break;
 118              		.loc 1 55 4 view .LVU24
 119 0054 FFF7FEFF 		bl	GPIO_TIM3_PWMCH2_IO_Init
 120              	.LVL11:
  56:Bsp/periph_timer.c **** 		case Timer_4:
 121              		.loc 1 56 4 view .LVU25
 122 0058 DAE7     		b	.L6
 123              	.L21:
  67:Bsp/periph_timer.c **** 		{
 124              		.loc 1 67 3 view .LVU26
 125 005a 012C     		cmp	r4, #1
 126 005c 09D0     		beq	.L11
 127 005e 63B2     		sxtb	r3, r4
 128 0060 23B1     		cbz	r3, .L12
 129 0062 022C     		cmp	r4, #2
 130 0064 D6D1     		bne	.L10
  76:Bsp/periph_timer.c **** 			break;
 131              		.loc 1 76 4 view .LVU27
 132 0066 FFF7FEFF 		bl	GPIO_TIM4_PWMCH3_IO_Init
 133              	.LVL12:
  77:Bsp/periph_timer.c **** 		default:
 134              		.loc 1 77 4 view .LVU28
 135 006a D3E7     		b	.L10
 136              	.L12:
  70:Bsp/periph_timer.c **** 			break;
 137              		.loc 1 70 4 view .LVU29
 138 006c FFF7FEFF 		bl	GPIO_TIM2_PWMCH3_IO_Init
 139              	.LVL13:
  71:Bsp/periph_timer.c **** 		case Timer_3:
 140              		.loc 1 71 4 view .LVU30
 141 0070 D0E7     		b	.L10
 142              	.L11:
  73:Bsp/periph_timer.c **** 			break;
 143              		.loc 1 73 4 view .LVU31
 144 0072 FFF7FEFF 		bl	GPIO_TIM3_PWMCH3_IO_Init
 145              	.LVL14:
  74:Bsp/periph_timer.c **** 		case Timer_4:
 146              		.loc 1 74 4 view .LVU32
 147 0076 CDE7     		b	.L10
 148              	.L22:
  85:Bsp/periph_timer.c **** 		{
 149              		.loc 1 85 3 view .LVU33
 150 0078 012C     		cmp	r4, #1
 151 007a 09D0     		beq	.L15
 152 007c 63B2     		sxtb	r3, r4
 153 007e 23B1     		cbz	r3, .L16
 154 0080 022C     		cmp	r4, #2
 155 0082 CBD1     		bne	.L1
  94:Bsp/periph_timer.c **** 			break;
 156              		.loc 1 94 4 view .LVU34
 157 0084 FFF7FEFF 		bl	GPIO_TIM4_PWMCH4_IO_Init
 158              	.LVL15:
  95:Bsp/periph_timer.c **** 		default:
 159              		.loc 1 95 4 view .LVU35
 160              		.loc 1 100 1 is_stmt 0 view .LVU36
 161 0088 C8E7     		b	.L1
ARM GAS  /tmp/cckwsmGX.s 			page 6


 162              	.L16:
  88:Bsp/periph_timer.c **** 			break;
 163              		.loc 1 88 4 is_stmt 1 view .LVU37
 164 008a FFF7FEFF 		bl	GPIO_TIM2_PWMCH4_IO_Init
 165              	.LVL16:
  89:Bsp/periph_timer.c **** 		case Timer_3:
 166              		.loc 1 89 4 view .LVU38
 167 008e C5E7     		b	.L1
 168              	.L15:
  91:Bsp/periph_timer.c **** 			break;
 169              		.loc 1 91 4 view .LVU39
 170 0090 FFF7FEFF 		bl	GPIO_TIM3_PWMCH4_IO_Init
 171              	.LVL17:
  92:Bsp/periph_timer.c **** 		case Timer_4:
 172              		.loc 1 92 4 view .LVU40
 173 0094 C2E7     		b	.L1
 174              		.cfi_endproc
 175              	.LFE123:
 177              		.section	.text.periph_Timer_CounterMode_Init,"ax",%progbits
 178              		.align	1
 179              		.global	periph_Timer_CounterMode_Init
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
 183              		.fpu fpv4-sp-d16
 185              	periph_Timer_CounterMode_Init:
 186              	.LVL18:
 187              	.LFB124:
 101:Bsp/periph_timer.c **** 
 102:Bsp/periph_timer.c **** void periph_Timer_CounterMode_Init(Timer_list timerx, uint32_t Period, uint32_t Prescaler, uint8_t 
 103:Bsp/periph_timer.c **** {
 188              		.loc 1 103 1 view -0
 189              		.cfi_startproc
 190              		@ args = 4, pretend = 0, frame = 16
 191              		@ frame_needed = 0, uses_anonymous_args = 0
 192              		.loc 1 103 1 is_stmt 0 view .LVU42
 193 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 194              	.LCFI1:
 195              		.cfi_def_cfa_offset 20
 196              		.cfi_offset 4, -20
 197              		.cfi_offset 5, -16
 198              		.cfi_offset 6, -12
 199              		.cfi_offset 7, -8
 200              		.cfi_offset 14, -4
 201 0002 85B0     		sub	sp, sp, #20
 202              	.LCFI2:
 203              		.cfi_def_cfa_offset 40
 204 0004 0446     		mov	r4, r0
 205 0006 0F46     		mov	r7, r1
 206 0008 1546     		mov	r5, r2
 207 000a 1E46     		mov	r6, r3
 104:Bsp/periph_timer.c **** 	TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
 208              		.loc 1 104 2 is_stmt 1 view .LVU43
 105:Bsp/periph_timer.c **** 	NVIC_InitTypeDef NVIC_InitStructure;
 209              		.loc 1 105 2 view .LVU44
 106:Bsp/periph_timer.c **** 
 107:Bsp/periph_timer.c **** 	RCC_APB1PeriphClockCmd(Timer_CLK[timerx], ENABLE);
ARM GAS  /tmp/cckwsmGX.s 			page 7


 210              		.loc 1 107 2 view .LVU45
 211 000c 0121     		movs	r1, #1
 212              	.LVL19:
 213              		.loc 1 107 2 is_stmt 0 view .LVU46
 214 000e 194B     		ldr	r3, .L25
 215              	.LVL20:
 216              		.loc 1 107 2 view .LVU47
 217 0010 53F82000 		ldr	r0, [r3, r0, lsl #2]
 218              	.LVL21:
 219              		.loc 1 107 2 view .LVU48
 220 0014 FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 221              	.LVL22:
 108:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Period = Period;		 //1000
 222              		.loc 1 108 2 is_stmt 1 view .LVU49
 223              		.loc 1 108 35 is_stmt 0 view .LVU50
 224 0018 0297     		str	r7, [sp, #8]
 109:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Prescaler = Prescaler; //83
 225              		.loc 1 109 2 is_stmt 1 view .LVU51
 226              		.loc 1 109 38 is_stmt 0 view .LVU52
 227 001a ADF80450 		strh	r5, [sp, #4]	@ movhi
 110:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_ClockDivision = TIM_CKD_DIV1;
 228              		.loc 1 110 2 is_stmt 1 view .LVU53
 229              		.loc 1 110 42 is_stmt 0 view .LVU54
 230 001e 0023     		movs	r3, #0
 231 0020 ADF80C30 		strh	r3, [sp, #12]	@ movhi
 111:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
 232              		.loc 1 111 2 is_stmt 1 view .LVU55
 233              		.loc 1 111 40 is_stmt 0 view .LVU56
 234 0024 ADF80630 		strh	r3, [sp, #6]	@ movhi
 112:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_RepetitionCounter = 0;
 235              		.loc 1 112 2 is_stmt 1 view .LVU57
 236              		.loc 1 112 46 is_stmt 0 view .LVU58
 237 0028 8DF80E30 		strb	r3, [sp, #14]
 113:Bsp/periph_timer.c **** 	TIM_TimeBaseInit(Timer_Port[timerx], &TIM_TimeBaseStructure);
 238              		.loc 1 113 2 is_stmt 1 view .LVU59
 239 002c 124D     		ldr	r5, .L25+4
 240              	.LVL23:
 241              		.loc 1 113 2 is_stmt 0 view .LVU60
 242 002e 01A9     		add	r1, sp, #4
 243 0030 55F82400 		ldr	r0, [r5, r4, lsl #2]
 244 0034 FFF7FEFF 		bl	TIM_TimeBaseInit
 245              	.LVL24:
 114:Bsp/periph_timer.c **** 
 115:Bsp/periph_timer.c **** 	TIM_ITConfig(Timer_Port[timerx], TIM_IT_Update, ENABLE);
 246              		.loc 1 115 2 is_stmt 1 view .LVU61
 247 0038 0122     		movs	r2, #1
 248 003a 1146     		mov	r1, r2
 249 003c 55F82400 		ldr	r0, [r5, r4, lsl #2]
 250 0040 FFF7FEFF 		bl	TIM_ITConfig
 251              	.LVL25:
 116:Bsp/periph_timer.c **** 	TIM_Cmd(Timer_Port[timerx], ENABLE);
 252              		.loc 1 116 2 view .LVU62
 253 0044 0121     		movs	r1, #1
 254 0046 55F82400 		ldr	r0, [r5, r4, lsl #2]
 255 004a FFF7FEFF 		bl	TIM_Cmd
 256              	.LVL26:
 117:Bsp/periph_timer.c **** 
ARM GAS  /tmp/cckwsmGX.s 			page 8


 118:Bsp/periph_timer.c **** 	NVIC_InitStructure.NVIC_IRQChannel = Timer_IRQ_Channel[timerx];
 257              		.loc 1 118 2 view .LVU63
 258              		.loc 1 118 56 is_stmt 0 view .LVU64
 259 004e 0B4B     		ldr	r3, .L25+8
 260 0050 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 261              		.loc 1 118 37 view .LVU65
 262 0052 8DF80030 		strb	r3, [sp]
 119:Bsp/periph_timer.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 263              		.loc 1 119 2 is_stmt 1 view .LVU66
 264              		.loc 1 119 40 is_stmt 0 view .LVU67
 265 0056 0123     		movs	r3, #1
 266 0058 8DF80330 		strb	r3, [sp, #3]
 120:Bsp/periph_timer.c **** 	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = PreemptionPriority;
 267              		.loc 1 120 2 is_stmt 1 view .LVU68
 268              		.loc 1 120 55 is_stmt 0 view .LVU69
 269 005c 8DF80160 		strb	r6, [sp, #1]
 121:Bsp/periph_timer.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = SubPriority;
 270              		.loc 1 121 2 is_stmt 1 view .LVU70
 271              		.loc 1 121 48 is_stmt 0 view .LVU71
 272 0060 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 273 0064 8DF80230 		strb	r3, [sp, #2]
 122:Bsp/periph_timer.c **** 	NVIC_Init(&NVIC_InitStructure);
 274              		.loc 1 122 2 is_stmt 1 view .LVU72
 275 0068 6846     		mov	r0, sp
 276 006a FFF7FEFF 		bl	NVIC_Init
 277              	.LVL27:
 123:Bsp/periph_timer.c **** }
 278              		.loc 1 123 1 is_stmt 0 view .LVU73
 279 006e 05B0     		add	sp, sp, #20
 280              	.LCFI3:
 281              		.cfi_def_cfa_offset 20
 282              		@ sp needed
 283 0070 F0BD     		pop	{r4, r5, r6, r7, pc}
 284              	.LVL28:
 285              	.L26:
 286              		.loc 1 123 1 view .LVU74
 287 0072 00BF     		.align	2
 288              	.L25:
 289 0074 00000000 		.word	.LANCHOR0
 290 0078 00000000 		.word	.LANCHOR1
 291 007c 00000000 		.word	.LANCHOR2
 292              		.cfi_endproc
 293              	.LFE124:
 295              		.section	.text.periph_Timer_Encoder_Mode_Init,"ax",%progbits
 296              		.align	1
 297              		.global	periph_Timer_Encoder_Mode_Init
 298              		.syntax unified
 299              		.thumb
 300              		.thumb_func
 301              		.fpu fpv4-sp-d16
 303              	periph_Timer_Encoder_Mode_Init:
 304              	.LVL29:
 305              	.LFB125:
 124:Bsp/periph_timer.c **** 
 125:Bsp/periph_timer.c **** /* need modify */
 126:Bsp/periph_timer.c **** void periph_Timer_Encoder_Mode_Init(Timer_list timerx, uint16_t channel_a, uint16_t channel_b)
 127:Bsp/periph_timer.c **** {
ARM GAS  /tmp/cckwsmGX.s 			page 9


 306              		.loc 1 127 1 is_stmt 1 view -0
 307              		.cfi_startproc
 308              		@ args = 0, pretend = 0, frame = 24
 309              		@ frame_needed = 0, uses_anonymous_args = 0
 310              		.loc 1 127 1 is_stmt 0 view .LVU76
 311 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 312              	.LCFI4:
 313              		.cfi_def_cfa_offset 28
 314              		.cfi_offset 4, -28
 315              		.cfi_offset 5, -24
 316              		.cfi_offset 6, -20
 317              		.cfi_offset 7, -16
 318              		.cfi_offset 8, -12
 319              		.cfi_offset 9, -8
 320              		.cfi_offset 14, -4
 321 0004 87B0     		sub	sp, sp, #28
 322              	.LCFI5:
 323              		.cfi_def_cfa_offset 56
 324 0006 0546     		mov	r5, r0
 325 0008 8946     		mov	r9, r1
 326 000a 9046     		mov	r8, r2
 128:Bsp/periph_timer.c **** 	TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
 327              		.loc 1 128 2 is_stmt 1 view .LVU77
 129:Bsp/periph_timer.c **** 	TIM_ICInitTypeDef TIM_ICInitStructure;
 328              		.loc 1 129 2 view .LVU78
 130:Bsp/periph_timer.c **** 
 131:Bsp/periph_timer.c **** 	RCC_APB2PeriphClockCmd(Timer_CLK[timerx], ENABLE);
 329              		.loc 1 131 2 view .LVU79
 330 000c 0121     		movs	r1, #1
 331              	.LVL30:
 332              		.loc 1 131 2 is_stmt 0 view .LVU80
 333 000e 1F4B     		ldr	r3, .L29
 334 0010 53F82000 		ldr	r0, [r3, r0, lsl #2]
 335              	.LVL31:
 336              		.loc 1 131 2 view .LVU81
 337 0014 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 338              	.LVL32:
 132:Bsp/periph_timer.c **** 
 133:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Period = 0xffff;
 339              		.loc 1 133 2 is_stmt 1 view .LVU82
 340              		.loc 1 133 35 is_stmt 0 view .LVU83
 341 0018 4FF6FF73 		movw	r3, #65535
 342 001c 0493     		str	r3, [sp, #16]
 134:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Prescaler = 0;
 343              		.loc 1 134 2 is_stmt 1 view .LVU84
 344              		.loc 1 134 38 is_stmt 0 view .LVU85
 345 001e 0024     		movs	r4, #0
 346 0020 ADF80C40 		strh	r4, [sp, #12]	@ movhi
 135:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_ClockDivision = TIM_CKD_DIV1;
 347              		.loc 1 135 2 is_stmt 1 view .LVU86
 348              		.loc 1 135 42 is_stmt 0 view .LVU87
 349 0024 ADF81440 		strh	r4, [sp, #20]	@ movhi
 136:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
 350              		.loc 1 136 2 is_stmt 1 view .LVU88
 351              		.loc 1 136 40 is_stmt 0 view .LVU89
 352 0028 ADF80E40 		strh	r4, [sp, #14]	@ movhi
 137:Bsp/periph_timer.c **** 	TIM_TimeBaseInit(Timer_Port[timerx], &TIM_TimeBaseStructure);
ARM GAS  /tmp/cckwsmGX.s 			page 10


 353              		.loc 1 137 2 is_stmt 1 view .LVU90
 354 002c 184E     		ldr	r6, .L29+4
 355 002e 03A9     		add	r1, sp, #12
 356 0030 56F82500 		ldr	r0, [r6, r5, lsl #2]
 357 0034 FFF7FEFF 		bl	TIM_TimeBaseInit
 358              	.LVL33:
 138:Bsp/periph_timer.c **** 
 139:Bsp/periph_timer.c **** 	TIM_ICInitStructure.TIM_ICFilter = 6;
 359              		.loc 1 139 2 view .LVU91
 360              		.loc 1 139 35 is_stmt 0 view .LVU92
 361 0038 0623     		movs	r3, #6
 362 003a ADF80830 		strh	r3, [sp, #8]	@ movhi
 140:Bsp/periph_timer.c **** 	TIM_ICInitStructure.TIM_ICSelection = TIM_ICSelection_DirectTI;
 363              		.loc 1 140 2 is_stmt 1 view .LVU93
 364              		.loc 1 140 38 is_stmt 0 view .LVU94
 365 003e 0127     		movs	r7, #1
 366 0040 ADF80470 		strh	r7, [sp, #4]	@ movhi
 141:Bsp/periph_timer.c **** 	TIM_ICInitStructure.TIM_Channel = channel_a;
 367              		.loc 1 141 2 is_stmt 1 view .LVU95
 368              		.loc 1 141 34 is_stmt 0 view .LVU96
 369 0044 ADF80090 		strh	r9, [sp]	@ movhi
 142:Bsp/periph_timer.c **** 	TIM_ICInit(Timer_Port[timerx], &TIM_ICInitStructure);
 370              		.loc 1 142 2 is_stmt 1 view .LVU97
 371 0048 6946     		mov	r1, sp
 372 004a 56F82500 		ldr	r0, [r6, r5, lsl #2]
 373 004e FFF7FEFF 		bl	TIM_ICInit
 374              	.LVL34:
 143:Bsp/periph_timer.c **** 
 144:Bsp/periph_timer.c **** 	TIM_ICInitStructure.TIM_Channel = channel_b;
 375              		.loc 1 144 2 view .LVU98
 376              		.loc 1 144 34 is_stmt 0 view .LVU99
 377 0052 ADF80080 		strh	r8, [sp]	@ movhi
 145:Bsp/periph_timer.c **** 	TIM_ICInitStructure.TIM_ICSelection = TIM_ICSelection_DirectTI;
 378              		.loc 1 145 2 is_stmt 1 view .LVU100
 379              		.loc 1 145 38 is_stmt 0 view .LVU101
 380 0056 ADF80470 		strh	r7, [sp, #4]	@ movhi
 146:Bsp/periph_timer.c **** 	TIM_ICInit(Timer_Port[timerx], &TIM_ICInitStructure);
 381              		.loc 1 146 2 is_stmt 1 view .LVU102
 382 005a 6946     		mov	r1, sp
 383 005c 56F82500 		ldr	r0, [r6, r5, lsl #2]
 384 0060 FFF7FEFF 		bl	TIM_ICInit
 385              	.LVL35:
 147:Bsp/periph_timer.c **** 
 148:Bsp/periph_timer.c **** 	TIM_EncoderInterfaceConfig(Timer_Port[timerx], TIM_EncoderMode_TI12, TIM_ICPolarity_Rising, TIM_IC
 386              		.loc 1 148 2 view .LVU103
 387 0064 2346     		mov	r3, r4
 388 0066 2246     		mov	r2, r4
 389 0068 0321     		movs	r1, #3
 390 006a 56F82500 		ldr	r0, [r6, r5, lsl #2]
 391 006e FFF7FEFF 		bl	TIM_EncoderInterfaceConfig
 392              	.LVL36:
 149:Bsp/periph_timer.c **** 	TIM_ICStructInit(&TIM_ICInitStructure);
 393              		.loc 1 149 2 view .LVU104
 394 0072 6846     		mov	r0, sp
 395 0074 FFF7FEFF 		bl	TIM_ICStructInit
 396              	.LVL37:
 150:Bsp/periph_timer.c **** 
ARM GAS  /tmp/cckwsmGX.s 			page 11


 151:Bsp/periph_timer.c **** 	Timer_Port[timerx]->CNT = 0;
 397              		.loc 1 151 2 view .LVU105
 398              		.loc 1 151 12 is_stmt 0 view .LVU106
 399 0078 56F82500 		ldr	r0, [r6, r5, lsl #2]
 400              		.loc 1 151 26 view .LVU107
 401 007c 4462     		str	r4, [r0, #36]
 152:Bsp/periph_timer.c **** 	TIM_Cmd(Timer_Port[timerx], ENABLE);
 402              		.loc 1 152 2 is_stmt 1 view .LVU108
 403 007e 3946     		mov	r1, r7
 404 0080 FFF7FEFF 		bl	TIM_Cmd
 405              	.LVL38:
 153:Bsp/periph_timer.c **** }
 406              		.loc 1 153 1 is_stmt 0 view .LVU109
 407 0084 07B0     		add	sp, sp, #28
 408              	.LCFI6:
 409              		.cfi_def_cfa_offset 28
 410              		@ sp needed
 411 0086 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 412              	.L30:
 413 008a 00BF     		.align	2
 414              	.L29:
 415 008c 00000000 		.word	.LANCHOR0
 416 0090 00000000 		.word	.LANCHOR1
 417              		.cfi_endproc
 418              	.LFE125:
 420              		.section	.text.periph_Timer_GetEncoder_Input,"ax",%progbits
 421              		.align	1
 422              		.global	periph_Timer_GetEncoder_Input
 423              		.syntax unified
 424              		.thumb
 425              		.thumb_func
 426              		.fpu fpv4-sp-d16
 428              	periph_Timer_GetEncoder_Input:
 429              	.LVL39:
 430              	.LFB126:
 154:Bsp/periph_timer.c **** 
 155:Bsp/periph_timer.c **** int8_t periph_Timer_GetEncoder_Input(Timer_list timerx)
 156:Bsp/periph_timer.c **** {
 431              		.loc 1 156 1 is_stmt 1 view -0
 432              		.cfi_startproc
 433              		@ args = 0, pretend = 0, frame = 0
 434              		@ frame_needed = 0, uses_anonymous_args = 0
 435              		@ link register save eliminated.
 157:Bsp/periph_timer.c **** 	int8_t tmp = (int8_t)Timer_Port[timerx]->CNT;
 436              		.loc 1 157 2 view .LVU111
 437              		.loc 1 157 33 is_stmt 0 view .LVU112
 438 0000 034B     		ldr	r3, .L32
 439 0002 53F82030 		ldr	r3, [r3, r0, lsl #2]
 440              		.loc 1 157 41 view .LVU113
 441 0006 586A     		ldr	r0, [r3, #36]
 442              	.LVL40:
 158:Bsp/periph_timer.c **** 	Timer_Port[timerx]->CNT = 0;
 443              		.loc 1 158 2 is_stmt 1 view .LVU114
 444              		.loc 1 158 26 is_stmt 0 view .LVU115
 445 0008 0022     		movs	r2, #0
 446 000a 5A62     		str	r2, [r3, #36]
 159:Bsp/periph_timer.c **** 
ARM GAS  /tmp/cckwsmGX.s 			page 12


 160:Bsp/periph_timer.c **** 	return tmp;
 447              		.loc 1 160 2 is_stmt 1 view .LVU116
 161:Bsp/periph_timer.c **** }
 448              		.loc 1 161 1 is_stmt 0 view .LVU117
 449 000c 40B2     		sxtb	r0, r0
 450              		.loc 1 161 1 view .LVU118
 451 000e 7047     		bx	lr
 452              	.L33:
 453              		.align	2
 454              	.L32:
 455 0010 00000000 		.word	.LANCHOR1
 456              		.cfi_endproc
 457              	.LFE126:
 459              		.section	.text.periph_Timer_PWMOutPut_Mode_Init,"ax",%progbits
 460              		.align	1
 461              		.global	periph_Timer_PWMOutPut_Mode_Init
 462              		.syntax unified
 463              		.thumb
 464              		.thumb_func
 465              		.fpu fpv4-sp-d16
 467              	periph_Timer_PWMOutPut_Mode_Init:
 468              	.LVL41:
 469              	.LFB127:
 162:Bsp/periph_timer.c **** 
 163:Bsp/periph_timer.c **** void periph_Timer_PWMOutPut_Mode_Init(Timer_list timerx, PWM_Hz hz, Timer_PWM_Channel_State CH1_Sta
 164:Bsp/periph_timer.c **** {
 470              		.loc 1 164 1 is_stmt 1 view -0
 471              		.cfi_startproc
 472              		@ args = 8, pretend = 0, frame = 32
 473              		@ frame_needed = 0, uses_anonymous_args = 0
 474              		.loc 1 164 1 is_stmt 0 view .LVU120
 475 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 476              	.LCFI7:
 477              		.cfi_def_cfa_offset 28
 478              		.cfi_offset 4, -28
 479              		.cfi_offset 5, -24
 480              		.cfi_offset 6, -20
 481              		.cfi_offset 7, -16
 482              		.cfi_offset 8, -12
 483              		.cfi_offset 9, -8
 484              		.cfi_offset 14, -4
 485 0004 8BB0     		sub	sp, sp, #44
 486              	.LCFI8:
 487              		.cfi_def_cfa_offset 72
 488 0006 0446     		mov	r4, r0
 489 0008 0D46     		mov	r5, r1
 490 000a 9146     		mov	r9, r2
 491 000c 9846     		mov	r8, r3
 492 000e 9DF84870 		ldrb	r7, [sp, #72]	@ zero_extendqisi2
 493 0012 9DF84C60 		ldrb	r6, [sp, #76]	@ zero_extendqisi2
 165:Bsp/periph_timer.c **** 	TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
 494              		.loc 1 165 2 is_stmt 1 view .LVU121
 166:Bsp/periph_timer.c **** 	TIM_OCInitTypeDef TIM_OCInitStructure;
 495              		.loc 1 166 2 view .LVU122
 167:Bsp/periph_timer.c **** 
 168:Bsp/periph_timer.c **** 	periph_Timer_IO_Init(timerx, CH1_State, CH2_State, CH3_State, CH4_State);
 496              		.loc 1 168 2 view .LVU123
ARM GAS  /tmp/cckwsmGX.s 			page 13


 497 0016 0096     		str	r6, [sp]
 498 0018 3B46     		mov	r3, r7
 499              	.LVL42:
 500              		.loc 1 168 2 is_stmt 0 view .LVU124
 501 001a 4246     		mov	r2, r8
 502              	.LVL43:
 503              		.loc 1 168 2 view .LVU125
 504 001c 4946     		mov	r1, r9
 505              	.LVL44:
 506              		.loc 1 168 2 view .LVU126
 507 001e FFF7FEFF 		bl	periph_Timer_IO_Init
 508              	.LVL45:
 169:Bsp/periph_timer.c **** 
 170:Bsp/periph_timer.c **** 	RCC_APB1PeriphClockCmd(Timer_CLK[timerx], ENABLE);
 509              		.loc 1 170 2 is_stmt 1 view .LVU127
 510 0022 0121     		movs	r1, #1
 511 0024 414B     		ldr	r3, .L46
 512 0026 53F82400 		ldr	r0, [r3, r4, lsl #2]
 513 002a FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 514              	.LVL46:
 171:Bsp/periph_timer.c **** 	TIM_DeInit(Timer_Port[timerx]);
 515              		.loc 1 171 2 view .LVU128
 516 002e 404B     		ldr	r3, .L46+4
 517 0030 53F82400 		ldr	r0, [r3, r4, lsl #2]
 518 0034 FFF7FEFF 		bl	TIM_DeInit
 519              	.LVL47:
 172:Bsp/periph_timer.c **** 
 173:Bsp/periph_timer.c **** 	if (hz == PWM_50hz)
 520              		.loc 1 173 2 view .LVU129
 521              		.loc 1 173 5 is_stmt 0 view .LVU130
 522 0038 002D     		cmp	r5, #0
 523 003a 3DD1     		bne	.L35
 174:Bsp/periph_timer.c **** 	{
 175:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Period = TimerPWM_50Hz_Period;
 524              		.loc 1 175 3 is_stmt 1 view .LVU131
 525              		.loc 1 175 36 is_stmt 0 view .LVU132
 526 003c 44F62063 		movw	r3, #20000
 527 0040 0893     		str	r3, [sp, #32]
 176:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Prescaler = TimerPWM_50Hz_Prescaler;
 528              		.loc 1 176 3 is_stmt 1 view .LVU133
 529              		.loc 1 176 39 is_stmt 0 view .LVU134
 530 0042 5323     		movs	r3, #83
 531 0044 ADF81C30 		strh	r3, [sp, #28]	@ movhi
 532              	.L36:
 177:Bsp/periph_timer.c **** 	}
 178:Bsp/periph_timer.c **** 	else if (hz == PWM_38Khz)
 179:Bsp/periph_timer.c **** 	{
 180:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Period = TimerPWM_38KHz_Period;
 181:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Prescaler = TimerPWM_38KHz_Prescaler;
 182:Bsp/periph_timer.c **** 	}
 183:Bsp/periph_timer.c **** 
 184:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_ClockDivision = TIM_CKD_DIV1;
 533              		.loc 1 184 2 is_stmt 1 view .LVU135
 534              		.loc 1 184 42 is_stmt 0 view .LVU136
 535 0048 0025     		movs	r5, #0
 536 004a ADF82450 		strh	r5, [sp, #36]	@ movhi
 185:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
ARM GAS  /tmp/cckwsmGX.s 			page 14


 537              		.loc 1 185 2 is_stmt 1 view .LVU137
 538              		.loc 1 185 40 is_stmt 0 view .LVU138
 539 004e ADF81E50 		strh	r5, [sp, #30]	@ movhi
 186:Bsp/periph_timer.c **** 	TIM_TimeBaseInit(Timer_Port[timerx], &TIM_TimeBaseStructure);
 540              		.loc 1 186 2 is_stmt 1 view .LVU139
 541 0052 07A9     		add	r1, sp, #28
 542 0054 364B     		ldr	r3, .L46+4
 543 0056 53F82400 		ldr	r0, [r3, r4, lsl #2]
 544 005a FFF7FEFF 		bl	TIM_TimeBaseInit
 545              	.LVL48:
 187:Bsp/periph_timer.c **** 
 188:Bsp/periph_timer.c **** 	TIM_OCStructInit(&TIM_OCInitStructure);
 546              		.loc 1 188 2 view .LVU140
 547 005e 02A8     		add	r0, sp, #8
 548 0060 FFF7FEFF 		bl	TIM_OCStructInit
 549              	.LVL49:
 189:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OCMode = TIM_OCMode_PWM1;
 550              		.loc 1 189 2 view .LVU141
 551              		.loc 1 189 33 is_stmt 0 view .LVU142
 552 0064 6023     		movs	r3, #96
 553 0066 ADF80830 		strh	r3, [sp, #8]	@ movhi
 190:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OutputState = TIM_OutputState_Enable;
 554              		.loc 1 190 2 is_stmt 1 view .LVU143
 555              		.loc 1 190 38 is_stmt 0 view .LVU144
 556 006a 0123     		movs	r3, #1
 557 006c ADF80A30 		strh	r3, [sp, #10]	@ movhi
 191:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OCPolarity = TIM_OCPolarity_High;
 558              		.loc 1 191 2 is_stmt 1 view .LVU145
 559              		.loc 1 191 37 is_stmt 0 view .LVU146
 560 0070 ADF81450 		strh	r5, [sp, #20]	@ movhi
 192:Bsp/periph_timer.c **** 
 193:Bsp/periph_timer.c **** 	if (CH1_State == PWM_CH1_Enable)
 561              		.loc 1 193 2 is_stmt 1 view .LVU147
 562              		.loc 1 193 5 is_stmt 0 view .LVU148
 563 0074 9945     		cmp	r9, r3
 564 0076 28D0     		beq	.L42
 565              	.L37:
 194:Bsp/periph_timer.c **** 	{
 195:Bsp/periph_timer.c **** 		TIM_OC1Init(Timer_Port[timerx], &TIM_OCInitStructure);
 196:Bsp/periph_timer.c **** 		TIM_OC1PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 197:Bsp/periph_timer.c **** 	}
 198:Bsp/periph_timer.c **** 
 199:Bsp/periph_timer.c **** 	if (CH2_State == PWM_CH2_Enable)
 566              		.loc 1 199 2 is_stmt 1 view .LVU149
 567              		.loc 1 199 5 is_stmt 0 view .LVU150
 568 0078 B8F1010F 		cmp	r8, #1
 569 007c 31D0     		beq	.L43
 570              	.L38:
 200:Bsp/periph_timer.c **** 	{
 201:Bsp/periph_timer.c **** 		TIM_OC2Init(Timer_Port[timerx], &TIM_OCInitStructure);
 202:Bsp/periph_timer.c **** 		TIM_OC2PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 203:Bsp/periph_timer.c **** 	}
 204:Bsp/periph_timer.c **** 
 205:Bsp/periph_timer.c **** 	if (CH3_State == PWM_CH3_Enable)
 571              		.loc 1 205 2 is_stmt 1 view .LVU151
 572              		.loc 1 205 5 is_stmt 0 view .LVU152
 573 007e 012F     		cmp	r7, #1
ARM GAS  /tmp/cckwsmGX.s 			page 15


 574 0080 3BD0     		beq	.L44
 575              	.L39:
 206:Bsp/periph_timer.c **** 	{
 207:Bsp/periph_timer.c **** 		TIM_OC3Init(Timer_Port[timerx], &TIM_OCInitStructure);
 208:Bsp/periph_timer.c **** 		TIM_OC3PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 209:Bsp/periph_timer.c **** 	}
 210:Bsp/periph_timer.c **** 
 211:Bsp/periph_timer.c **** 	if (CH4_State == PWM_CH4_Enable)
 576              		.loc 1 211 2 is_stmt 1 view .LVU153
 577              		.loc 1 211 5 is_stmt 0 view .LVU154
 578 0082 012E     		cmp	r6, #1
 579 0084 45D0     		beq	.L45
 580              	.L40:
 212:Bsp/periph_timer.c **** 	{
 213:Bsp/periph_timer.c **** 		TIM_OC4Init(Timer_Port[timerx], &TIM_OCInitStructure);
 214:Bsp/periph_timer.c **** 		TIM_OC4PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 215:Bsp/periph_timer.c **** 	}
 216:Bsp/periph_timer.c **** 
 217:Bsp/periph_timer.c **** 	TIM_ARRPreloadConfig(Timer_Port[timerx], ENABLE);
 581              		.loc 1 217 2 is_stmt 1 view .LVU155
 582 0086 2A4D     		ldr	r5, .L46+4
 583 0088 0121     		movs	r1, #1
 584 008a 55F82400 		ldr	r0, [r5, r4, lsl #2]
 585 008e FFF7FEFF 		bl	TIM_ARRPreloadConfig
 586              	.LVL50:
 218:Bsp/periph_timer.c **** 	TIM_ClearFlag(Timer_Port[timerx], TIM_FLAG_Update);
 587              		.loc 1 218 2 view .LVU156
 588 0092 0121     		movs	r1, #1
 589 0094 55F82400 		ldr	r0, [r5, r4, lsl #2]
 590 0098 FFF7FEFF 		bl	TIM_ClearFlag
 591              	.LVL51:
 219:Bsp/periph_timer.c **** 	TIM_ITConfig(Timer_Port[timerx], TIM_IT_Update, ENABLE);
 592              		.loc 1 219 2 view .LVU157
 593 009c 0122     		movs	r2, #1
 594 009e 1146     		mov	r1, r2
 595 00a0 55F82400 		ldr	r0, [r5, r4, lsl #2]
 596 00a4 FFF7FEFF 		bl	TIM_ITConfig
 597              	.LVL52:
 220:Bsp/periph_timer.c **** 	TIM_Cmd(Timer_Port[timerx], ENABLE);
 598              		.loc 1 220 2 view .LVU158
 599 00a8 0121     		movs	r1, #1
 600 00aa 55F82400 		ldr	r0, [r5, r4, lsl #2]
 601 00ae FFF7FEFF 		bl	TIM_Cmd
 602              	.LVL53:
 221:Bsp/periph_timer.c **** }
 603              		.loc 1 221 1 is_stmt 0 view .LVU159
 604 00b2 0BB0     		add	sp, sp, #44
 605              	.LCFI9:
 606              		.cfi_remember_state
 607              		.cfi_def_cfa_offset 28
 608              		@ sp needed
 609 00b4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 610              	.LVL54:
 611              	.L35:
 612              	.LCFI10:
 613              		.cfi_restore_state
 178:Bsp/periph_timer.c **** 	{
ARM GAS  /tmp/cckwsmGX.s 			page 16


 614              		.loc 1 178 7 is_stmt 1 view .LVU160
 178:Bsp/periph_timer.c **** 	{
 615              		.loc 1 178 10 is_stmt 0 view .LVU161
 616 00b8 012D     		cmp	r5, #1
 617 00ba C5D1     		bne	.L36
 180:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Prescaler = TimerPWM_38KHz_Prescaler;
 618              		.loc 1 180 3 is_stmt 1 view .LVU162
 180:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Prescaler = TimerPWM_38KHz_Prescaler;
 619              		.loc 1 180 36 is_stmt 0 view .LVU163
 620 00bc 40F6A303 		movw	r3, #2211
 621 00c0 0893     		str	r3, [sp, #32]
 181:Bsp/periph_timer.c **** 	}
 622              		.loc 1 181 3 is_stmt 1 view .LVU164
 181:Bsp/periph_timer.c **** 	}
 623              		.loc 1 181 39 is_stmt 0 view .LVU165
 624 00c2 0023     		movs	r3, #0
 625 00c4 ADF81C30 		strh	r3, [sp, #28]	@ movhi
 626 00c8 BEE7     		b	.L36
 627              	.L42:
 195:Bsp/periph_timer.c **** 		TIM_OC1PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 628              		.loc 1 195 3 is_stmt 1 view .LVU166
 629 00ca 194D     		ldr	r5, .L46+4
 630 00cc 02A9     		add	r1, sp, #8
 631 00ce 55F82400 		ldr	r0, [r5, r4, lsl #2]
 632 00d2 FFF7FEFF 		bl	TIM_OC1Init
 633              	.LVL55:
 196:Bsp/periph_timer.c **** 	}
 634              		.loc 1 196 3 view .LVU167
 635 00d6 0821     		movs	r1, #8
 636 00d8 55F82400 		ldr	r0, [r5, r4, lsl #2]
 637 00dc FFF7FEFF 		bl	TIM_OC1PreloadConfig
 638              	.LVL56:
 639 00e0 CAE7     		b	.L37
 640              	.L43:
 201:Bsp/periph_timer.c **** 		TIM_OC2PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 641              		.loc 1 201 3 view .LVU168
 642 00e2 134D     		ldr	r5, .L46+4
 643 00e4 02A9     		add	r1, sp, #8
 644 00e6 55F82400 		ldr	r0, [r5, r4, lsl #2]
 645 00ea FFF7FEFF 		bl	TIM_OC2Init
 646              	.LVL57:
 202:Bsp/periph_timer.c **** 	}
 647              		.loc 1 202 3 view .LVU169
 648 00ee 0821     		movs	r1, #8
 649 00f0 55F82400 		ldr	r0, [r5, r4, lsl #2]
 650 00f4 FFF7FEFF 		bl	TIM_OC2PreloadConfig
 651              	.LVL58:
 652 00f8 C1E7     		b	.L38
 653              	.L44:
 207:Bsp/periph_timer.c **** 		TIM_OC3PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 654              		.loc 1 207 3 view .LVU170
 655 00fa 0D4D     		ldr	r5, .L46+4
 656 00fc 02A9     		add	r1, sp, #8
 657 00fe 55F82400 		ldr	r0, [r5, r4, lsl #2]
 658 0102 FFF7FEFF 		bl	TIM_OC3Init
 659              	.LVL59:
 208:Bsp/periph_timer.c **** 	}
ARM GAS  /tmp/cckwsmGX.s 			page 17


 660              		.loc 1 208 3 view .LVU171
 661 0106 0821     		movs	r1, #8
 662 0108 55F82400 		ldr	r0, [r5, r4, lsl #2]
 663 010c FFF7FEFF 		bl	TIM_OC3PreloadConfig
 664              	.LVL60:
 665 0110 B7E7     		b	.L39
 666              	.L45:
 213:Bsp/periph_timer.c **** 		TIM_OC4PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 667              		.loc 1 213 3 view .LVU172
 668 0112 074D     		ldr	r5, .L46+4
 669 0114 02A9     		add	r1, sp, #8
 670 0116 55F82400 		ldr	r0, [r5, r4, lsl #2]
 671 011a FFF7FEFF 		bl	TIM_OC4Init
 672              	.LVL61:
 214:Bsp/periph_timer.c **** 	}
 673              		.loc 1 214 3 view .LVU173
 674 011e 0821     		movs	r1, #8
 675 0120 55F82400 		ldr	r0, [r5, r4, lsl #2]
 676 0124 FFF7FEFF 		bl	TIM_OC4PreloadConfig
 677              	.LVL62:
 678 0128 ADE7     		b	.L40
 679              	.L47:
 680 012a 00BF     		.align	2
 681              	.L46:
 682 012c 00000000 		.word	.LANCHOR0
 683 0130 00000000 		.word	.LANCHOR1
 684              		.cfi_endproc
 685              	.LFE127:
 687              		.section	.text.periph_Timer_PWM_SetEnable,"ax",%progbits
 688              		.align	1
 689              		.global	periph_Timer_PWM_SetEnable
 690              		.syntax unified
 691              		.thumb
 692              		.thumb_func
 693              		.fpu fpv4-sp-d16
 695              	periph_Timer_PWM_SetEnable:
 696              	.LVL63:
 697              	.LFB128:
 222:Bsp/periph_timer.c **** 
 223:Bsp/periph_timer.c **** void periph_Timer_PWM_SetEnable(Timer_list timerx, uint8_t state)
 224:Bsp/periph_timer.c **** {
 698              		.loc 1 224 1 view -0
 699              		.cfi_startproc
 700              		@ args = 0, pretend = 0, frame = 0
 701              		@ frame_needed = 0, uses_anonymous_args = 0
 702              		.loc 1 224 1 is_stmt 0 view .LVU175
 703 0000 08B5     		push	{r3, lr}
 704              	.LCFI11:
 705              		.cfi_def_cfa_offset 8
 706              		.cfi_offset 3, -8
 707              		.cfi_offset 14, -4
 225:Bsp/periph_timer.c **** 	if (state)
 708              		.loc 1 225 2 is_stmt 1 view .LVU176
 709              		.loc 1 225 5 is_stmt 0 view .LVU177
 710 0002 31B1     		cbz	r1, .L49
 226:Bsp/periph_timer.c **** 	{
 227:Bsp/periph_timer.c **** 		TIM_Cmd(Timer_Port[timerx], ENABLE);
ARM GAS  /tmp/cckwsmGX.s 			page 18


 711              		.loc 1 227 3 is_stmt 1 view .LVU178
 712 0004 0121     		movs	r1, #1
 713              	.LVL64:
 714              		.loc 1 227 3 is_stmt 0 view .LVU179
 715 0006 064B     		ldr	r3, .L52
 716 0008 53F82000 		ldr	r0, [r3, r0, lsl #2]
 717              	.LVL65:
 718              		.loc 1 227 3 view .LVU180
 719 000c FFF7FEFF 		bl	TIM_Cmd
 720              	.LVL66:
 721              	.L48:
 228:Bsp/periph_timer.c **** 	}
 229:Bsp/periph_timer.c **** 	else
 230:Bsp/periph_timer.c **** 	{
 231:Bsp/periph_timer.c **** 		TIM_Cmd(Timer_Port[timerx], DISABLE);
 232:Bsp/periph_timer.c **** 	}
 233:Bsp/periph_timer.c **** }
 722              		.loc 1 233 1 view .LVU181
 723 0010 08BD     		pop	{r3, pc}
 724              	.LVL67:
 725              	.L49:
 231:Bsp/periph_timer.c **** 	}
 726              		.loc 1 231 3 is_stmt 1 view .LVU182
 727 0012 0021     		movs	r1, #0
 728              	.LVL68:
 231:Bsp/periph_timer.c **** 	}
 729              		.loc 1 231 3 is_stmt 0 view .LVU183
 730 0014 024B     		ldr	r3, .L52
 731 0016 53F82000 		ldr	r0, [r3, r0, lsl #2]
 732              	.LVL69:
 231:Bsp/periph_timer.c **** 	}
 733              		.loc 1 231 3 view .LVU184
 734 001a FFF7FEFF 		bl	TIM_Cmd
 735              	.LVL70:
 736              		.loc 1 233 1 view .LVU185
 737 001e F7E7     		b	.L48
 738              	.L53:
 739              		.align	2
 740              	.L52:
 741 0020 00000000 		.word	.LANCHOR1
 742              		.cfi_endproc
 743              	.LFE128:
 745              		.section	.text.periph_Timer_DShotOutPut_Mode_Init,"ax",%progbits
 746              		.align	1
 747              		.global	periph_Timer_DShotOutPut_Mode_Init
 748              		.syntax unified
 749              		.thumb
 750              		.thumb_func
 751              		.fpu fpv4-sp-d16
 753              	periph_Timer_DShotOutPut_Mode_Init:
 754              	.LVL71:
 755              	.LFB129:
 234:Bsp/periph_timer.c **** 
 235:Bsp/periph_timer.c **** void periph_Timer_DShotOutPut_Mode_Init(Timer_list timerx, Timer_PWM_Channel_State CH1_State, Timer
 236:Bsp/periph_timer.c **** 										uint32_t Buff_Size, uint32_t CH1_Buff, uint32_t CH2_Buff, uint32_t CH3_Buff, uint32_t CH4
 237:Bsp/periph_timer.c **** {
 756              		.loc 1 237 1 is_stmt 1 view -0
ARM GAS  /tmp/cckwsmGX.s 			page 19


 757              		.cfi_startproc
 758              		@ args = 24, pretend = 0, frame = 96
 759              		@ frame_needed = 0, uses_anonymous_args = 0
 760              		.loc 1 237 1 is_stmt 0 view .LVU187
 761 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 762              	.LCFI12:
 763              		.cfi_def_cfa_offset 32
 764              		.cfi_offset 4, -32
 765              		.cfi_offset 5, -28
 766              		.cfi_offset 6, -24
 767              		.cfi_offset 7, -20
 768              		.cfi_offset 8, -16
 769              		.cfi_offset 9, -12
 770              		.cfi_offset 10, -8
 771              		.cfi_offset 14, -4
 772 0004 9AB0     		sub	sp, sp, #104
 773              	.LCFI13:
 774              		.cfi_def_cfa_offset 136
 775 0006 0446     		mov	r4, r0
 776 0008 8946     		mov	r9, r1
 777 000a 9046     		mov	r8, r2
 778 000c 1F46     		mov	r7, r3
 779 000e 9DF88850 		ldrb	r5, [sp, #136]	@ zero_extendqisi2
 238:Bsp/periph_timer.c **** 	TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
 780              		.loc 1 238 2 is_stmt 1 view .LVU188
 239:Bsp/periph_timer.c **** 	TIM_OCInitTypeDef TIM_OCInitStructure;
 781              		.loc 1 239 2 view .LVU189
 240:Bsp/periph_timer.c **** 	DMA_InitTypeDef DMA_InitStructure;
 782              		.loc 1 240 2 view .LVU190
 241:Bsp/periph_timer.c **** 
 242:Bsp/periph_timer.c **** 	periph_Timer_IO_Init(timerx, CH1_State, CH2_State, CH3_State, CH4_State);
 783              		.loc 1 242 2 view .LVU191
 784 0012 0095     		str	r5, [sp]
 785 0014 FFF7FEFF 		bl	periph_Timer_IO_Init
 786              	.LVL72:
 243:Bsp/periph_timer.c **** 
 244:Bsp/periph_timer.c **** 	RCC_APB1PeriphClockCmd(Timer_CLK[timerx], ENABLE);
 787              		.loc 1 244 2 view .LVU192
 788 0018 0121     		movs	r1, #1
 789 001a 964B     		ldr	r3, .L80
 790 001c 53F82400 		ldr	r0, [r3, r4, lsl #2]
 791 0020 FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 792              	.LVL73:
 245:Bsp/periph_timer.c **** 	TIM_DeInit(Timer_Port[timerx]);
 793              		.loc 1 245 2 view .LVU193
 794 0024 DFF850A2 		ldr	r10, .L80+4
 795 0028 5AF82400 		ldr	r0, [r10, r4, lsl #2]
 796 002c FFF7FEFF 		bl	TIM_DeInit
 797              	.LVL74:
 246:Bsp/periph_timer.c **** 
 247:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Period = TIM_DShot600_Period;
 798              		.loc 1 247 2 view .LVU194
 799              		.loc 1 247 35 is_stmt 0 view .LVU195
 800 0030 4523     		movs	r3, #69
 801 0032 1893     		str	r3, [sp, #96]
 248:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Prescaler = TIM_DShot600_Prescaler;
 802              		.loc 1 248 2 is_stmt 1 view .LVU196
ARM GAS  /tmp/cckwsmGX.s 			page 20


 803              		.loc 1 248 38 is_stmt 0 view .LVU197
 804 0034 0323     		movs	r3, #3
 805 0036 ADF85C30 		strh	r3, [sp, #92]	@ movhi
 249:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_ClockDivision = TIM_CKD_DIV1;
 806              		.loc 1 249 2 is_stmt 1 view .LVU198
 807              		.loc 1 249 42 is_stmt 0 view .LVU199
 808 003a 0026     		movs	r6, #0
 809 003c ADF86460 		strh	r6, [sp, #100]	@ movhi
 250:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
 810              		.loc 1 250 2 is_stmt 1 view .LVU200
 811              		.loc 1 250 40 is_stmt 0 view .LVU201
 812 0040 ADF85E60 		strh	r6, [sp, #94]	@ movhi
 251:Bsp/periph_timer.c **** 	TIM_TimeBaseInit(Timer_Port[timerx], &TIM_TimeBaseStructure);
 813              		.loc 1 251 2 is_stmt 1 view .LVU202
 814 0044 17A9     		add	r1, sp, #92
 815 0046 5AF82400 		ldr	r0, [r10, r4, lsl #2]
 816 004a FFF7FEFF 		bl	TIM_TimeBaseInit
 817              	.LVL75:
 252:Bsp/periph_timer.c **** 
 253:Bsp/periph_timer.c **** 	TIM_OCStructInit(&TIM_OCInitStructure);
 818              		.loc 1 253 2 view .LVU203
 819 004e 12A8     		add	r0, sp, #72
 820 0050 FFF7FEFF 		bl	TIM_OCStructInit
 821              	.LVL76:
 254:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OCMode = TIM_OCMode_PWM1;
 822              		.loc 1 254 2 view .LVU204
 823              		.loc 1 254 33 is_stmt 0 view .LVU205
 824 0054 6023     		movs	r3, #96
 825 0056 ADF84830 		strh	r3, [sp, #72]	@ movhi
 255:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OutputState = TIM_OutputState_Enable;
 826              		.loc 1 255 2 is_stmt 1 view .LVU206
 827              		.loc 1 255 38 is_stmt 0 view .LVU207
 828 005a 0123     		movs	r3, #1
 829 005c ADF84A30 		strh	r3, [sp, #74]	@ movhi
 256:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OCPolarity = TIM_OCPolarity_High;
 830              		.loc 1 256 2 is_stmt 1 view .LVU208
 831              		.loc 1 256 37 is_stmt 0 view .LVU209
 832 0060 ADF85460 		strh	r6, [sp, #84]	@ movhi
 257:Bsp/periph_timer.c **** 
 258:Bsp/periph_timer.c **** 	if (CH1_State == PWM_CH1_Enable)
 833              		.loc 1 258 2 is_stmt 1 view .LVU210
 834              		.loc 1 258 5 is_stmt 0 view .LVU211
 835 0064 9945     		cmp	r9, r3
 836 0066 20D0     		beq	.L68
 837              	.L55:
 259:Bsp/periph_timer.c **** 	{
 260:Bsp/periph_timer.c **** 		TIM_OC1Init(Timer_Port[timerx], &TIM_OCInitStructure);
 261:Bsp/periph_timer.c **** 		TIM_OC1PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 262:Bsp/periph_timer.c **** 	}
 263:Bsp/periph_timer.c **** 
 264:Bsp/periph_timer.c **** 	if (CH2_State == PWM_CH2_Enable)
 838              		.loc 1 264 2 is_stmt 1 view .LVU212
 839              		.loc 1 264 5 is_stmt 0 view .LVU213
 840 0068 B8F1010F 		cmp	r8, #1
 841 006c 28D0     		beq	.L69
 842              	.L56:
 265:Bsp/periph_timer.c **** 	{
ARM GAS  /tmp/cckwsmGX.s 			page 21


 266:Bsp/periph_timer.c **** 		TIM_OC2Init(Timer_Port[timerx], &TIM_OCInitStructure);
 267:Bsp/periph_timer.c **** 		TIM_OC2PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 268:Bsp/periph_timer.c **** 	}
 269:Bsp/periph_timer.c **** 
 270:Bsp/periph_timer.c **** 	if (CH3_State == PWM_CH3_Enable)
 843              		.loc 1 270 2 is_stmt 1 view .LVU214
 844              		.loc 1 270 5 is_stmt 0 view .LVU215
 845 006e 012F     		cmp	r7, #1
 846 0070 32D0     		beq	.L70
 847              	.L57:
 271:Bsp/periph_timer.c **** 	{
 272:Bsp/periph_timer.c **** 		TIM_OC3Init(Timer_Port[timerx], &TIM_OCInitStructure);
 273:Bsp/periph_timer.c **** 		TIM_OC3PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 274:Bsp/periph_timer.c **** 	}
 275:Bsp/periph_timer.c **** 
 276:Bsp/periph_timer.c **** 	if (CH4_State == PWM_CH4_Enable)
 848              		.loc 1 276 2 is_stmt 1 view .LVU216
 849              		.loc 1 276 5 is_stmt 0 view .LVU217
 850 0072 012D     		cmp	r5, #1
 851 0074 3CD0     		beq	.L71
 852              	.L58:
 277:Bsp/periph_timer.c **** 	{
 278:Bsp/periph_timer.c **** 		TIM_OC4Init(Timer_Port[timerx], &TIM_OCInitStructure);
 279:Bsp/periph_timer.c **** 		TIM_OC4PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 280:Bsp/periph_timer.c **** 	}
 281:Bsp/periph_timer.c **** 
 282:Bsp/periph_timer.c **** 	TIM_ARRPreloadConfig(Timer_Port[timerx], ENABLE);
 853              		.loc 1 282 2 is_stmt 1 view .LVU218
 854 0076 804E     		ldr	r6, .L80+4
 855 0078 0121     		movs	r1, #1
 856 007a 56F82400 		ldr	r0, [r6, r4, lsl #2]
 857 007e FFF7FEFF 		bl	TIM_ARRPreloadConfig
 858              	.LVL77:
 283:Bsp/periph_timer.c **** 	TIM_Cmd(Timer_Port[timerx], ENABLE);
 859              		.loc 1 283 2 view .LVU219
 860 0082 0121     		movs	r1, #1
 861 0084 56F82400 		ldr	r0, [r6, r4, lsl #2]
 862 0088 FFF7FEFF 		bl	TIM_Cmd
 863              	.LVL78:
 284:Bsp/periph_timer.c **** 
 285:Bsp/periph_timer.c **** 	if (CH1_State == PWM_CH1_Enable)
 864              		.loc 1 285 2 view .LVU220
 865              		.loc 1 285 5 is_stmt 0 view .LVU221
 866 008c B9F1010F 		cmp	r9, #1
 867 0090 3AD0     		beq	.L72
 868              	.L59:
 286:Bsp/periph_timer.c **** 	{
 287:Bsp/periph_timer.c **** 		TIM_DMACmd(Timer_Port[timerx], TIM_DMA_CC1, ENABLE);
 288:Bsp/periph_timer.c **** 
 289:Bsp/periph_timer.c **** 		if (timerx == Timer_2)
 290:Bsp/periph_timer.c **** 		{
 291:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM2_CH1_DMA_Channel, (uint32_t) & (TIM2->CCR1), CH1_Buff, Bu
 292:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH1_DMA_Stream, &DMA_InitStructure, DISABLE);
 293:Bsp/periph_timer.c **** 		}
 294:Bsp/periph_timer.c **** 		else if (timerx == Timer_3)
 295:Bsp/periph_timer.c **** 		{
 296:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM3_CH1_DMA_Channel, (uint32_t) & (TIM3->CCR1), CH1_Buff, Bu
ARM GAS  /tmp/cckwsmGX.s 			page 22


 297:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH1_DMA_Stream, &DMA_InitStructure, DISABLE);
 298:Bsp/periph_timer.c **** 		}
 299:Bsp/periph_timer.c **** 	}
 300:Bsp/periph_timer.c **** 
 301:Bsp/periph_timer.c **** 	if (CH2_State == PWM_CH2_Enable)
 869              		.loc 1 301 2 is_stmt 1 view .LVU222
 870              		.loc 1 301 5 is_stmt 0 view .LVU223
 871 0092 B8F1010F 		cmp	r8, #1
 872 0096 63D0     		beq	.L73
 873              	.L61:
 302:Bsp/periph_timer.c **** 	{
 303:Bsp/periph_timer.c **** 		TIM_DMACmd(Timer_Port[timerx], TIM_DMA_CC2, ENABLE);
 304:Bsp/periph_timer.c **** 
 305:Bsp/periph_timer.c **** 		if (timerx == Timer_2)
 306:Bsp/periph_timer.c **** 		{
 307:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM2_CH2_DMA_Channel, (uint32_t) & (TIM2->CCR2), CH2_Buff, Bu
 308:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH2_DMA_Stream, &DMA_InitStructure, DISABLE);
 309:Bsp/periph_timer.c **** 		}
 310:Bsp/periph_timer.c **** 		else if (timerx == Timer_3)
 311:Bsp/periph_timer.c **** 		{
 312:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM3_CH2_DMA_Channel, (uint32_t) & (TIM3->CCR2), CH2_Buff, Bu
 313:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH2_DMA_Stream, &DMA_InitStructure, DISABLE);
 314:Bsp/periph_timer.c **** 		}
 315:Bsp/periph_timer.c **** 	}
 316:Bsp/periph_timer.c **** 
 317:Bsp/periph_timer.c **** 	if (CH3_State == PWM_CH3_Enable)
 874              		.loc 1 317 2 is_stmt 1 view .LVU224
 875              		.loc 1 317 5 is_stmt 0 view .LVU225
 876 0098 012F     		cmp	r7, #1
 877 009a 00F08E80 		beq	.L74
 878              	.L63:
 318:Bsp/periph_timer.c **** 	{
 319:Bsp/periph_timer.c **** 		TIM_DMACmd(Timer_Port[timerx], TIM_DMA_CC3, ENABLE);
 320:Bsp/periph_timer.c **** 
 321:Bsp/periph_timer.c **** 		if (timerx == Timer_2)
 322:Bsp/periph_timer.c **** 		{
 323:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM2_CH3_DMA_Channel, (uint32_t) & (TIM2->CCR3), CH3_Buff, Bu
 324:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH3_DMA_Stream, &DMA_InitStructure, DISABLE);
 325:Bsp/periph_timer.c **** 		}
 326:Bsp/periph_timer.c **** 		else if (timerx == Timer_3)
 327:Bsp/periph_timer.c **** 		{
 328:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM3_CH2_DMA_Channel, (uint32_t) & (TIM3->CCR3), CH3_Buff, Bu
 329:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH3_DMA_Stream, &DMA_InitStructure, DISABLE);
 330:Bsp/periph_timer.c **** 		}
 331:Bsp/periph_timer.c **** 	}
 332:Bsp/periph_timer.c **** 
 333:Bsp/periph_timer.c **** 	if (CH4_State == PWM_CH4_Enable)
 879              		.loc 1 333 2 is_stmt 1 view .LVU226
 880              		.loc 1 333 5 is_stmt 0 view .LVU227
 881 009e 012D     		cmp	r5, #1
 882 00a0 00F0B980 		beq	.L75
 883              	.L54:
 334:Bsp/periph_timer.c **** 	{
 335:Bsp/periph_timer.c **** 		TIM_DMACmd(Timer_Port[timerx], TIM_DMA_CC4, ENABLE);
 336:Bsp/periph_timer.c **** 
 337:Bsp/periph_timer.c **** 		if (timerx == Timer_2)
 338:Bsp/periph_timer.c **** 		{
ARM GAS  /tmp/cckwsmGX.s 			page 23


 339:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM2_CH4_DMA_Channel, (uint32_t) & (TIM2->CCR4), CH4_Buff, Bu
 340:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH4_DMA_Stream, &DMA_InitStructure, DISABLE);
 341:Bsp/periph_timer.c **** 		}
 342:Bsp/periph_timer.c **** 		else if (timerx == Timer_3)
 343:Bsp/periph_timer.c **** 		{
 344:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM3_CH4_DMA_Channel, (uint32_t) & (TIM3->CCR4), CH4_Buff, Bu
 345:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH4_DMA_Stream, &DMA_InitStructure, DISABLE);
 346:Bsp/periph_timer.c **** 		}
 347:Bsp/periph_timer.c **** 	}
 348:Bsp/periph_timer.c **** }
 884              		.loc 1 348 1 view .LVU228
 885 00a4 1AB0     		add	sp, sp, #104
 886              	.LCFI14:
 887              		.cfi_remember_state
 888              		.cfi_def_cfa_offset 32
 889              		@ sp needed
 890 00a6 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 891              	.LVL79:
 892              	.L68:
 893              	.LCFI15:
 894              		.cfi_restore_state
 260:Bsp/periph_timer.c **** 		TIM_OC1PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 895              		.loc 1 260 3 is_stmt 1 view .LVU229
 896 00aa 12A9     		add	r1, sp, #72
 897 00ac 5AF82400 		ldr	r0, [r10, r4, lsl #2]
 898 00b0 FFF7FEFF 		bl	TIM_OC1Init
 899              	.LVL80:
 261:Bsp/periph_timer.c **** 	}
 900              		.loc 1 261 3 view .LVU230
 901 00b4 0821     		movs	r1, #8
 902 00b6 5AF82400 		ldr	r0, [r10, r4, lsl #2]
 903 00ba FFF7FEFF 		bl	TIM_OC1PreloadConfig
 904              	.LVL81:
 905 00be D3E7     		b	.L55
 906              	.L69:
 266:Bsp/periph_timer.c **** 		TIM_OC2PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 907              		.loc 1 266 3 view .LVU231
 908 00c0 6D4E     		ldr	r6, .L80+4
 909 00c2 12A9     		add	r1, sp, #72
 910 00c4 56F82400 		ldr	r0, [r6, r4, lsl #2]
 911 00c8 FFF7FEFF 		bl	TIM_OC2Init
 912              	.LVL82:
 267:Bsp/periph_timer.c **** 	}
 913              		.loc 1 267 3 view .LVU232
 914 00cc 0821     		movs	r1, #8
 915 00ce 56F82400 		ldr	r0, [r6, r4, lsl #2]
 916 00d2 FFF7FEFF 		bl	TIM_OC2PreloadConfig
 917              	.LVL83:
 918 00d6 CAE7     		b	.L56
 919              	.L70:
 272:Bsp/periph_timer.c **** 		TIM_OC3PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 920              		.loc 1 272 3 view .LVU233
 921 00d8 674E     		ldr	r6, .L80+4
 922 00da 12A9     		add	r1, sp, #72
 923 00dc 56F82400 		ldr	r0, [r6, r4, lsl #2]
 924 00e0 FFF7FEFF 		bl	TIM_OC3Init
 925              	.LVL84:
ARM GAS  /tmp/cckwsmGX.s 			page 24


 273:Bsp/periph_timer.c **** 	}
 926              		.loc 1 273 3 view .LVU234
 927 00e4 0821     		movs	r1, #8
 928 00e6 56F82400 		ldr	r0, [r6, r4, lsl #2]
 929 00ea FFF7FEFF 		bl	TIM_OC3PreloadConfig
 930              	.LVL85:
 931 00ee C0E7     		b	.L57
 932              	.L71:
 278:Bsp/periph_timer.c **** 		TIM_OC4PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 933              		.loc 1 278 3 view .LVU235
 934 00f0 614E     		ldr	r6, .L80+4
 935 00f2 12A9     		add	r1, sp, #72
 936 00f4 56F82400 		ldr	r0, [r6, r4, lsl #2]
 937 00f8 FFF7FEFF 		bl	TIM_OC4Init
 938              	.LVL86:
 279:Bsp/periph_timer.c **** 	}
 939              		.loc 1 279 3 view .LVU236
 940 00fc 0821     		movs	r1, #8
 941 00fe 56F82400 		ldr	r0, [r6, r4, lsl #2]
 942 0102 FFF7FEFF 		bl	TIM_OC4PreloadConfig
 943              	.LVL87:
 944 0106 B6E7     		b	.L58
 945              	.L72:
 287:Bsp/periph_timer.c **** 
 946              		.loc 1 287 3 view .LVU237
 947 0108 0122     		movs	r2, #1
 948 010a 4FF40071 		mov	r1, #512
 949 010e 56F82400 		ldr	r0, [r6, r4, lsl #2]
 950 0112 FFF7FEFF 		bl	TIM_DMACmd
 951              	.LVL88:
 289:Bsp/periph_timer.c **** 		{
 952              		.loc 1 289 3 view .LVU238
 289:Bsp/periph_timer.c **** 		{
 953              		.loc 1 289 6 is_stmt 0 view .LVU239
 954 0116 94B1     		cbz	r4, .L76
 294:Bsp/periph_timer.c **** 		{
 955              		.loc 1 294 8 is_stmt 1 view .LVU240
 294:Bsp/periph_timer.c **** 		{
 956              		.loc 1 294 11 is_stmt 0 view .LVU241
 957 0118 012C     		cmp	r4, #1
 958 011a BAD1     		bne	.L59
 959              	.LBB2:
 296:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH1_DMA_Stream, &DMA_InitStructure, DISABLE);
 960              		.loc 1 296 4 is_stmt 1 view .LVU242
 961 011c 239B     		ldr	r3, [sp, #140]
 962 011e 0093     		str	r3, [sp]
 963 0120 249B     		ldr	r3, [sp, #144]
 964 0122 564A     		ldr	r2, .L80+8
 965 0124 4FF02061 		mov	r1, #167772160
 966 0128 03A8     		add	r0, sp, #12
 967 012a FFF7FEFF 		bl	periph_DMA_TIM
 968              	.LVL89:
 297:Bsp/periph_timer.c **** 		}
 969              		.loc 1 297 4 view .LVU243
 970 012e 0023     		movs	r3, #0
 971 0130 03AA     		add	r2, sp, #12
 972 0132 5349     		ldr	r1, .L80+12
ARM GAS  /tmp/cckwsmGX.s 			page 25


 973 0134 4FF40010 		mov	r0, #2097152
 974 0138 FFF7FEFF 		bl	periph_DMA_Init
 975              	.LVL90:
 976 013c A9E7     		b	.L59
 977              	.L76:
 978              	.LBE2:
 979              	.LBB3:
 291:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH1_DMA_Stream, &DMA_InitStructure, DISABLE);
 980              		.loc 1 291 4 view .LVU244
 981 013e 239B     		ldr	r3, [sp, #140]
 982 0140 0093     		str	r3, [sp]
 983 0142 249B     		ldr	r3, [sp, #144]
 984 0144 4F4A     		ldr	r2, .L80+16
 985 0146 4FF0C061 		mov	r1, #100663296
 986 014a 03A8     		add	r0, sp, #12
 987 014c FFF7FEFF 		bl	periph_DMA_TIM
 988              	.LVL91:
 292:Bsp/periph_timer.c **** 		}
 989              		.loc 1 292 4 view .LVU245
 990 0150 0023     		movs	r3, #0
 991 0152 03AA     		add	r2, sp, #12
 992 0154 4C49     		ldr	r1, .L80+20
 993 0156 4FF40010 		mov	r0, #2097152
 994 015a FFF7FEFF 		bl	periph_DMA_Init
 995              	.LVL92:
 996              	.LBE3:
 997 015e 98E7     		b	.L59
 998              	.L73:
 303:Bsp/periph_timer.c **** 
 999              		.loc 1 303 3 view .LVU246
 1000 0160 0122     		movs	r2, #1
 1001 0162 4FF48061 		mov	r1, #1024
 1002 0166 444B     		ldr	r3, .L80+4
 1003 0168 53F82400 		ldr	r0, [r3, r4, lsl #2]
 1004 016c FFF7FEFF 		bl	TIM_DMACmd
 1005              	.LVL93:
 305:Bsp/periph_timer.c **** 		{
 1006              		.loc 1 305 3 view .LVU247
 305:Bsp/periph_timer.c **** 		{
 1007              		.loc 1 305 6 is_stmt 0 view .LVU248
 1008 0170 94B1     		cbz	r4, .L77
 310:Bsp/periph_timer.c **** 		{
 1009              		.loc 1 310 8 is_stmt 1 view .LVU249
 310:Bsp/periph_timer.c **** 		{
 1010              		.loc 1 310 11 is_stmt 0 view .LVU250
 1011 0172 012C     		cmp	r4, #1
 1012 0174 90D1     		bne	.L61
 1013              	.LBB4:
 312:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH2_DMA_Stream, &DMA_InitStructure, DISABLE);
 1014              		.loc 1 312 4 is_stmt 1 view .LVU251
 1015 0176 239B     		ldr	r3, [sp, #140]
 1016 0178 0093     		str	r3, [sp]
 1017 017a 259B     		ldr	r3, [sp, #148]
 1018 017c 434A     		ldr	r2, .L80+24
 1019 017e 4FF02061 		mov	r1, #167772160
 1020 0182 03A8     		add	r0, sp, #12
 1021 0184 FFF7FEFF 		bl	periph_DMA_TIM
ARM GAS  /tmp/cckwsmGX.s 			page 26


 1022              	.LVL94:
 313:Bsp/periph_timer.c **** 		}
 1023              		.loc 1 313 4 view .LVU252
 1024 0188 0023     		movs	r3, #0
 1025 018a 03AA     		add	r2, sp, #12
 1026 018c 3E49     		ldr	r1, .L80+20
 1027 018e 4FF40010 		mov	r0, #2097152
 1028 0192 FFF7FEFF 		bl	periph_DMA_Init
 1029              	.LVL95:
 1030 0196 7FE7     		b	.L61
 1031              	.L77:
 1032              	.LBE4:
 1033              	.LBB5:
 307:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH2_DMA_Stream, &DMA_InitStructure, DISABLE);
 1034              		.loc 1 307 4 view .LVU253
 1035 0198 239B     		ldr	r3, [sp, #140]
 1036 019a 0093     		str	r3, [sp]
 1037 019c 259B     		ldr	r3, [sp, #148]
 1038 019e 3C4A     		ldr	r2, .L80+28
 1039 01a0 4FF0C061 		mov	r1, #100663296
 1040 01a4 03A8     		add	r0, sp, #12
 1041 01a6 FFF7FEFF 		bl	periph_DMA_TIM
 1042              	.LVL96:
 308:Bsp/periph_timer.c **** 		}
 1043              		.loc 1 308 4 view .LVU254
 1044 01aa 0023     		movs	r3, #0
 1045 01ac 03AA     		add	r2, sp, #12
 1046 01ae 3949     		ldr	r1, .L80+32
 1047 01b0 4FF40010 		mov	r0, #2097152
 1048 01b4 FFF7FEFF 		bl	periph_DMA_Init
 1049              	.LVL97:
 1050              	.LBE5:
 1051 01b8 6EE7     		b	.L61
 1052              	.L74:
 319:Bsp/periph_timer.c **** 
 1053              		.loc 1 319 3 view .LVU255
 1054 01ba 0122     		movs	r2, #1
 1055 01bc 4FF40061 		mov	r1, #2048
 1056 01c0 2D4B     		ldr	r3, .L80+4
 1057 01c2 53F82400 		ldr	r0, [r3, r4, lsl #2]
 1058 01c6 FFF7FEFF 		bl	TIM_DMACmd
 1059              	.LVL98:
 321:Bsp/periph_timer.c **** 		{
 1060              		.loc 1 321 3 view .LVU256
 321:Bsp/periph_timer.c **** 		{
 1061              		.loc 1 321 6 is_stmt 0 view .LVU257
 1062 01ca 9CB1     		cbz	r4, .L78
 326:Bsp/periph_timer.c **** 		{
 1063              		.loc 1 326 8 is_stmt 1 view .LVU258
 326:Bsp/periph_timer.c **** 		{
 1064              		.loc 1 326 11 is_stmt 0 view .LVU259
 1065 01cc 012C     		cmp	r4, #1
 1066 01ce 7FF466AF 		bne	.L63
 1067              	.LBB6:
 328:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH3_DMA_Stream, &DMA_InitStructure, DISABLE);
 1068              		.loc 1 328 4 is_stmt 1 view .LVU260
 1069 01d2 239B     		ldr	r3, [sp, #140]
ARM GAS  /tmp/cckwsmGX.s 			page 27


 1070 01d4 0093     		str	r3, [sp]
 1071 01d6 269B     		ldr	r3, [sp, #152]
 1072 01d8 2F4A     		ldr	r2, .L80+36
 1073 01da 4FF02061 		mov	r1, #167772160
 1074 01de 03A8     		add	r0, sp, #12
 1075 01e0 FFF7FEFF 		bl	periph_DMA_TIM
 1076              	.LVL99:
 329:Bsp/periph_timer.c **** 		}
 1077              		.loc 1 329 4 view .LVU261
 1078 01e4 0023     		movs	r3, #0
 1079 01e6 03AA     		add	r2, sp, #12
 1080 01e8 2C49     		ldr	r1, .L80+40
 1081 01ea 4FF40010 		mov	r0, #2097152
 1082 01ee FFF7FEFF 		bl	periph_DMA_Init
 1083              	.LVL100:
 1084 01f2 54E7     		b	.L63
 1085              	.L78:
 1086              	.LBE6:
 1087              	.LBB7:
 323:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH3_DMA_Stream, &DMA_InitStructure, DISABLE);
 1088              		.loc 1 323 4 view .LVU262
 1089 01f4 239B     		ldr	r3, [sp, #140]
 1090 01f6 0093     		str	r3, [sp]
 1091 01f8 269B     		ldr	r3, [sp, #152]
 1092 01fa 294A     		ldr	r2, .L80+44
 1093 01fc 4FF0C061 		mov	r1, #100663296
 1094 0200 03A8     		add	r0, sp, #12
 1095 0202 FFF7FEFF 		bl	periph_DMA_TIM
 1096              	.LVL101:
 324:Bsp/periph_timer.c **** 		}
 1097              		.loc 1 324 4 view .LVU263
 1098 0206 0023     		movs	r3, #0
 1099 0208 03AA     		add	r2, sp, #12
 1100 020a 2649     		ldr	r1, .L80+48
 1101 020c 4FF40010 		mov	r0, #2097152
 1102 0210 FFF7FEFF 		bl	periph_DMA_Init
 1103              	.LVL102:
 1104              	.LBE7:
 1105 0214 43E7     		b	.L63
 1106              	.L75:
 335:Bsp/periph_timer.c **** 
 1107              		.loc 1 335 3 view .LVU264
 1108 0216 0122     		movs	r2, #1
 1109 0218 4FF48051 		mov	r1, #4096
 1110 021c 164B     		ldr	r3, .L80+4
 1111 021e 53F82400 		ldr	r0, [r3, r4, lsl #2]
 1112 0222 FFF7FEFF 		bl	TIM_DMACmd
 1113              	.LVL103:
 337:Bsp/periph_timer.c **** 		{
 1114              		.loc 1 337 3 view .LVU265
 337:Bsp/periph_timer.c **** 		{
 1115              		.loc 1 337 6 is_stmt 0 view .LVU266
 1116 0226 9CB1     		cbz	r4, .L79
 342:Bsp/periph_timer.c **** 		{
 1117              		.loc 1 342 8 is_stmt 1 view .LVU267
 342:Bsp/periph_timer.c **** 		{
 1118              		.loc 1 342 11 is_stmt 0 view .LVU268
ARM GAS  /tmp/cckwsmGX.s 			page 28


 1119 0228 012C     		cmp	r4, #1
 1120 022a 7FF43BAF 		bne	.L54
 1121              	.LBB8:
 344:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH4_DMA_Stream, &DMA_InitStructure, DISABLE);
 1122              		.loc 1 344 4 is_stmt 1 view .LVU269
 1123 022e 239B     		ldr	r3, [sp, #140]
 1124 0230 0093     		str	r3, [sp]
 1125 0232 279B     		ldr	r3, [sp, #156]
 1126 0234 1C4A     		ldr	r2, .L80+52
 1127 0236 4FF02061 		mov	r1, #167772160
 1128 023a 03A8     		add	r0, sp, #12
 1129 023c FFF7FEFF 		bl	periph_DMA_TIM
 1130              	.LVL104:
 345:Bsp/periph_timer.c **** 		}
 1131              		.loc 1 345 4 view .LVU270
 1132 0240 0023     		movs	r3, #0
 1133 0242 03AA     		add	r2, sp, #12
 1134 0244 1949     		ldr	r1, .L80+56
 1135 0246 4FF40010 		mov	r0, #2097152
 1136 024a FFF7FEFF 		bl	periph_DMA_Init
 1137              	.LVL105:
 1138              	.LBE8:
 1139              		.loc 1 348 1 is_stmt 0 view .LVU271
 1140 024e 29E7     		b	.L54
 1141              	.L79:
 1142              	.LBB9:
 339:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH4_DMA_Stream, &DMA_InitStructure, DISABLE);
 1143              		.loc 1 339 4 is_stmt 1 view .LVU272
 1144 0250 239B     		ldr	r3, [sp, #140]
 1145 0252 0093     		str	r3, [sp]
 1146 0254 279B     		ldr	r3, [sp, #156]
 1147 0256 164A     		ldr	r2, .L80+60
 1148 0258 4FF0C061 		mov	r1, #100663296
 1149 025c 03A8     		add	r0, sp, #12
 1150 025e FFF7FEFF 		bl	periph_DMA_TIM
 1151              	.LVL106:
 340:Bsp/periph_timer.c **** 		}
 1152              		.loc 1 340 4 view .LVU273
 1153 0262 0023     		movs	r3, #0
 1154 0264 03AA     		add	r2, sp, #12
 1155 0266 0B49     		ldr	r1, .L80+32
 1156 0268 4FF40010 		mov	r0, #2097152
 1157 026c FFF7FEFF 		bl	periph_DMA_Init
 1158              	.LVL107:
 1159              	.LBE9:
 1160 0270 18E7     		b	.L54
 1161              	.L81:
 1162 0272 00BF     		.align	2
 1163              	.L80:
 1164 0274 00000000 		.word	.LANCHOR0
 1165 0278 00000000 		.word	.LANCHOR1
 1166 027c 34040040 		.word	1073742900
 1167 0280 70600240 		.word	1073897584
 1168 0284 34000040 		.word	1073741876
 1169 0288 88600240 		.word	1073897608
 1170 028c 38040040 		.word	1073742904
 1171 0290 38000040 		.word	1073741880
ARM GAS  /tmp/cckwsmGX.s 			page 29


 1172 0294 A0600240 		.word	1073897632
 1173 0298 3C040040 		.word	1073742908
 1174 029c B8600240 		.word	1073897656
 1175 02a0 3C000040 		.word	1073741884
 1176 02a4 28600240 		.word	1073897512
 1177 02a8 40040040 		.word	1073742912
 1178 02ac 40600240 		.word	1073897536
 1179 02b0 40000040 		.word	1073741888
 1180              		.cfi_endproc
 1181              	.LFE129:
 1183              		.section	.text.periph_Timer_Set_PWMOutPut,"ax",%progbits
 1184              		.align	1
 1185              		.global	periph_Timer_Set_PWMOutPut
 1186              		.syntax unified
 1187              		.thumb
 1188              		.thumb_func
 1189              		.fpu fpv4-sp-d16
 1191              	periph_Timer_Set_PWMOutPut:
 1192              	.LVL108:
 1193              	.LFB130:
 349:Bsp/periph_timer.c **** 
 350:Bsp/periph_timer.c **** void periph_Timer_Set_PWMOutPut(Timer_list timerx, PWM_OutPut_Channel Channel, uint32_t value)
 351:Bsp/periph_timer.c **** {
 1194              		.loc 1 351 1 view -0
 1195              		.cfi_startproc
 1196              		@ args = 0, pretend = 0, frame = 0
 1197              		@ frame_needed = 0, uses_anonymous_args = 0
 1198              		.loc 1 351 1 is_stmt 0 view .LVU275
 1199 0000 08B5     		push	{r3, lr}
 1200              	.LCFI16:
 1201              		.cfi_def_cfa_offset 8
 1202              		.cfi_offset 3, -8
 1203              		.cfi_offset 14, -4
 352:Bsp/periph_timer.c **** 	PWM_Set_Value[Channel](Timer_Port[timerx], value);
 1204              		.loc 1 352 2 is_stmt 1 view .LVU276
 1205              		.loc 1 352 15 is_stmt 0 view .LVU277
 1206 0002 044B     		ldr	r3, .L84
 1207 0004 53F82130 		ldr	r3, [r3, r1, lsl #2]
 1208              		.loc 1 352 2 view .LVU278
 1209 0008 1146     		mov	r1, r2
 1210              	.LVL109:
 1211              		.loc 1 352 2 view .LVU279
 1212 000a 034A     		ldr	r2, .L84+4
 1213              	.LVL110:
 1214              		.loc 1 352 2 view .LVU280
 1215 000c 52F82000 		ldr	r0, [r2, r0, lsl #2]
 1216              	.LVL111:
 1217              		.loc 1 352 2 view .LVU281
 1218 0010 9847     		blx	r3
 1219              	.LVL112:
 353:Bsp/periph_timer.c **** }
 1220              		.loc 1 353 1 view .LVU282
 1221 0012 08BD     		pop	{r3, pc}
 1222              	.L85:
 1223              		.align	2
 1224              	.L84:
 1225 0014 00000000 		.word	.LANCHOR3
ARM GAS  /tmp/cckwsmGX.s 			page 30


 1226 0018 00000000 		.word	.LANCHOR1
 1227              		.cfi_endproc
 1228              	.LFE130:
 1230              		.section	.text.periph_Timer_Counter_SetEnable,"ax",%progbits
 1231              		.align	1
 1232              		.global	periph_Timer_Counter_SetEnable
 1233              		.syntax unified
 1234              		.thumb
 1235              		.thumb_func
 1236              		.fpu fpv4-sp-d16
 1238              	periph_Timer_Counter_SetEnable:
 1239              	.LVL113:
 1240              	.LFB131:
 354:Bsp/periph_timer.c **** 
 355:Bsp/periph_timer.c **** void periph_Timer_Counter_SetEnable(Timer_list timerx, uint8_t state)
 356:Bsp/periph_timer.c **** {
 1241              		.loc 1 356 1 is_stmt 1 view -0
 1242              		.cfi_startproc
 1243              		@ args = 0, pretend = 0, frame = 0
 1244              		@ frame_needed = 0, uses_anonymous_args = 0
 1245              		.loc 1 356 1 is_stmt 0 view .LVU284
 1246 0000 08B5     		push	{r3, lr}
 1247              	.LCFI17:
 1248              		.cfi_def_cfa_offset 8
 1249              		.cfi_offset 3, -8
 1250              		.cfi_offset 14, -4
 357:Bsp/periph_timer.c **** 	if (state)
 1251              		.loc 1 357 2 is_stmt 1 view .LVU285
 1252              		.loc 1 357 5 is_stmt 0 view .LVU286
 1253 0002 31B1     		cbz	r1, .L87
 358:Bsp/periph_timer.c **** 	{
 359:Bsp/periph_timer.c **** 		TIM_Cmd(Timer_Port[timerx], ENABLE);
 1254              		.loc 1 359 3 is_stmt 1 view .LVU287
 1255 0004 0121     		movs	r1, #1
 1256              	.LVL114:
 1257              		.loc 1 359 3 is_stmt 0 view .LVU288
 1258 0006 064B     		ldr	r3, .L90
 1259 0008 53F82000 		ldr	r0, [r3, r0, lsl #2]
 1260              	.LVL115:
 1261              		.loc 1 359 3 view .LVU289
 1262 000c FFF7FEFF 		bl	TIM_Cmd
 1263              	.LVL116:
 1264              	.L86:
 360:Bsp/periph_timer.c **** 	}
 361:Bsp/periph_timer.c **** 	else
 362:Bsp/periph_timer.c **** 	{
 363:Bsp/periph_timer.c **** 		TIM_Cmd(Timer_Port[timerx], DISABLE);
 364:Bsp/periph_timer.c **** 	}
 365:Bsp/periph_timer.c **** }
 1265              		.loc 1 365 1 view .LVU290
 1266 0010 08BD     		pop	{r3, pc}
 1267              	.LVL117:
 1268              	.L87:
 363:Bsp/periph_timer.c **** 	}
 1269              		.loc 1 363 3 is_stmt 1 view .LVU291
 1270 0012 0021     		movs	r1, #0
 1271              	.LVL118:
ARM GAS  /tmp/cckwsmGX.s 			page 31


 363:Bsp/periph_timer.c **** 	}
 1272              		.loc 1 363 3 is_stmt 0 view .LVU292
 1273 0014 024B     		ldr	r3, .L90
 1274 0016 53F82000 		ldr	r0, [r3, r0, lsl #2]
 1275              	.LVL119:
 363:Bsp/periph_timer.c **** 	}
 1276              		.loc 1 363 3 view .LVU293
 1277 001a FFF7FEFF 		bl	TIM_Cmd
 1278              	.LVL120:
 1279              		.loc 1 365 1 view .LVU294
 1280 001e F7E7     		b	.L86
 1281              	.L91:
 1282              		.align	2
 1283              	.L90:
 1284 0020 00000000 		.word	.LANCHOR1
 1285              		.cfi_endproc
 1286              	.LFE131:
 1288              		.global	Timer_Port
 1289              		.section	.data.Timer_Port,"aw"
 1290              		.align	2
 1291              		.set	.LANCHOR1,. + 0
 1294              	Timer_Port:
 1295 0000 00000040 		.word	1073741824
 1296 0004 00040040 		.word	1073742848
 1297 0008 00080040 		.word	1073743872
 1298 000c 00040140 		.word	1073808384
 1299              		.section	.rodata.PWM_Set_Value,"a"
 1300              		.align	2
 1301              		.set	.LANCHOR3,. + 0
 1304              	PWM_Set_Value:
 1305 0000 00000000 		.word	TIM_SetCompare1
 1306 0004 00000000 		.word	TIM_SetCompare2
 1307 0008 00000000 		.word	TIM_SetCompare3
 1308 000c 00000000 		.word	TIM_SetCompare4
 1309              		.section	.rodata.Timer_CLK,"a"
 1310              		.align	2
 1311              		.set	.LANCHOR0,. + 0
 1314              	Timer_CLK:
 1315 0000 01000000 		.word	1
 1316 0004 02000000 		.word	2
 1317 0008 04000000 		.word	4
 1318 000c 02000000 		.word	2
 1319              		.section	.rodata.Timer_IRQ_Channel,"a"
 1320              		.align	2
 1321              		.set	.LANCHOR2,. + 0
 1324              	Timer_IRQ_Channel:
 1325 0000 1C       		.byte	28
 1326 0001 1D       		.byte	29
 1327 0002 1E       		.byte	30
 1328 0003 00       		.space	1
 1329              		.text
 1330              	.Letext0:
 1331              		.file 2 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1332              		.file 3 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1333              		.file 4 "F4_CORE/core_cm4.h"
 1334              		.file 5 "USER/system_stm32f4xx.h"
 1335              		.file 6 "USER/stm32f4xx.h"
ARM GAS  /tmp/cckwsmGX.s 			page 32


 1336              		.file 7 "FWLIB/inc/stm32f4xx_dma.h"
 1337              		.file 8 "FWLIB/inc/misc.h"
 1338              		.file 9 "FWLIB/inc/stm32f4xx_tim.h"
 1339              		.file 10 "Bsp/periph_timer.h"
 1340              		.file 11 "Bsp/periph_dma.h"
 1341              		.file 12 "FWLIB/inc/stm32f4xx_rcc.h"
 1342              		.file 13 "Bsp/periph_gpio.h"
ARM GAS  /tmp/cckwsmGX.s 			page 33


DEFINED SYMBOLS
                            *ABS*:0000000000000000 periph_timer.c
     /tmp/cckwsmGX.s:18     .text.periph_Timer_IO_Init:0000000000000000 $t
     /tmp/cckwsmGX.s:25     .text.periph_Timer_IO_Init:0000000000000000 periph_Timer_IO_Init
     /tmp/cckwsmGX.s:178    .text.periph_Timer_CounterMode_Init:0000000000000000 $t
     /tmp/cckwsmGX.s:185    .text.periph_Timer_CounterMode_Init:0000000000000000 periph_Timer_CounterMode_Init
     /tmp/cckwsmGX.s:289    .text.periph_Timer_CounterMode_Init:0000000000000074 $d
     /tmp/cckwsmGX.s:296    .text.periph_Timer_Encoder_Mode_Init:0000000000000000 $t
     /tmp/cckwsmGX.s:303    .text.periph_Timer_Encoder_Mode_Init:0000000000000000 periph_Timer_Encoder_Mode_Init
     /tmp/cckwsmGX.s:415    .text.periph_Timer_Encoder_Mode_Init:000000000000008c $d
     /tmp/cckwsmGX.s:421    .text.periph_Timer_GetEncoder_Input:0000000000000000 $t
     /tmp/cckwsmGX.s:428    .text.periph_Timer_GetEncoder_Input:0000000000000000 periph_Timer_GetEncoder_Input
     /tmp/cckwsmGX.s:455    .text.periph_Timer_GetEncoder_Input:0000000000000010 $d
     /tmp/cckwsmGX.s:460    .text.periph_Timer_PWMOutPut_Mode_Init:0000000000000000 $t
     /tmp/cckwsmGX.s:467    .text.periph_Timer_PWMOutPut_Mode_Init:0000000000000000 periph_Timer_PWMOutPut_Mode_Init
     /tmp/cckwsmGX.s:682    .text.periph_Timer_PWMOutPut_Mode_Init:000000000000012c $d
     /tmp/cckwsmGX.s:688    .text.periph_Timer_PWM_SetEnable:0000000000000000 $t
     /tmp/cckwsmGX.s:695    .text.periph_Timer_PWM_SetEnable:0000000000000000 periph_Timer_PWM_SetEnable
     /tmp/cckwsmGX.s:741    .text.periph_Timer_PWM_SetEnable:0000000000000020 $d
     /tmp/cckwsmGX.s:746    .text.periph_Timer_DShotOutPut_Mode_Init:0000000000000000 $t
     /tmp/cckwsmGX.s:753    .text.periph_Timer_DShotOutPut_Mode_Init:0000000000000000 periph_Timer_DShotOutPut_Mode_Init
     /tmp/cckwsmGX.s:1164   .text.periph_Timer_DShotOutPut_Mode_Init:0000000000000274 $d
     /tmp/cckwsmGX.s:1184   .text.periph_Timer_Set_PWMOutPut:0000000000000000 $t
     /tmp/cckwsmGX.s:1191   .text.periph_Timer_Set_PWMOutPut:0000000000000000 periph_Timer_Set_PWMOutPut
     /tmp/cckwsmGX.s:1225   .text.periph_Timer_Set_PWMOutPut:0000000000000014 $d
     /tmp/cckwsmGX.s:1231   .text.periph_Timer_Counter_SetEnable:0000000000000000 $t
     /tmp/cckwsmGX.s:1238   .text.periph_Timer_Counter_SetEnable:0000000000000000 periph_Timer_Counter_SetEnable
     /tmp/cckwsmGX.s:1284   .text.periph_Timer_Counter_SetEnable:0000000000000020 $d
     /tmp/cckwsmGX.s:1294   .data.Timer_Port:0000000000000000 Timer_Port
     /tmp/cckwsmGX.s:1290   .data.Timer_Port:0000000000000000 $d
     /tmp/cckwsmGX.s:1300   .rodata.PWM_Set_Value:0000000000000000 $d
     /tmp/cckwsmGX.s:1304   .rodata.PWM_Set_Value:0000000000000000 PWM_Set_Value
     /tmp/cckwsmGX.s:1310   .rodata.Timer_CLK:0000000000000000 $d
     /tmp/cckwsmGX.s:1314   .rodata.Timer_CLK:0000000000000000 Timer_CLK
     /tmp/cckwsmGX.s:1320   .rodata.Timer_IRQ_Channel:0000000000000000 $d
     /tmp/cckwsmGX.s:1324   .rodata.Timer_IRQ_Channel:0000000000000000 Timer_IRQ_Channel

UNDEFINED SYMBOLS
GPIO_TIM4_PWMCH1_IO_Init
GPIO_TIM2_PWMCH1_IO_Init
GPIO_TIM3_PWMCH1_IO_Init
GPIO_TIM4_PWMCH2_IO_Init
GPIO_TIM2_PWMCH2_IO_Init
GPIO_TIM3_PWMCH2_IO_Init
GPIO_TIM4_PWMCH3_IO_Init
GPIO_TIM2_PWMCH3_IO_Init
GPIO_TIM3_PWMCH3_IO_Init
GPIO_TIM4_PWMCH4_IO_Init
GPIO_TIM2_PWMCH4_IO_Init
GPIO_TIM3_PWMCH4_IO_Init
RCC_APB1PeriphClockCmd
TIM_TimeBaseInit
TIM_ITConfig
TIM_Cmd
NVIC_Init
RCC_APB2PeriphClockCmd
TIM_ICInit
ARM GAS  /tmp/cckwsmGX.s 			page 34


TIM_EncoderInterfaceConfig
TIM_ICStructInit
TIM_DeInit
TIM_OCStructInit
TIM_ARRPreloadConfig
TIM_ClearFlag
TIM_OC1Init
TIM_OC1PreloadConfig
TIM_OC2Init
TIM_OC2PreloadConfig
TIM_OC3Init
TIM_OC3PreloadConfig
TIM_OC4Init
TIM_OC4PreloadConfig
TIM_DMACmd
periph_DMA_TIM
periph_DMA_Init
TIM_SetCompare1
TIM_SetCompare2
TIM_SetCompare3
TIM_SetCompare4
