ARM GAS  /tmp/ccMRrM2X.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"periph_timer.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.periph_Timer_IO_Init,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	periph_Timer_IO_Init:
  26              	.LVL0:
  27              	.LFB123:
  28              		.file 1 "Bsp/periph_timer.c"
   1:Bsp/periph_timer.c **** #include "stm32f4xx_tim.h"
   2:Bsp/periph_timer.c **** #include "periph_timer.h"
   3:Bsp/periph_timer.c **** #include "periph_gpio.h"
   4:Bsp/periph_timer.c **** #include "periph_dma.h"
   5:Bsp/periph_timer.c **** #include "misc.h"
   6:Bsp/periph_timer.c **** #include <stdbool.h>
   7:Bsp/periph_timer.c **** 
   8:Bsp/periph_timer.c **** TIM_TypeDef *Timer_Port[Timer_Port_Sum] = {TIM2,
   9:Bsp/periph_timer.c **** 										   TIM3,
  10:Bsp/periph_timer.c **** 										   TIM4};
  11:Bsp/periph_timer.c **** 
  12:Bsp/periph_timer.c **** static uint32_t Timer_CLK[Timer_Port_Sum] = {RCC_APB1Periph_TIM2,
  13:Bsp/periph_timer.c **** 											 RCC_APB1Periph_TIM3,
  14:Bsp/periph_timer.c **** 											 RCC_APB1Periph_TIM4};
  15:Bsp/periph_timer.c **** 
  16:Bsp/periph_timer.c **** static uint8_t Timer_IRQ_Channel[Timer_Port_Sum] = {TIM2_IRQn,
  17:Bsp/periph_timer.c **** 													TIM3_IRQn,
  18:Bsp/periph_timer.c **** 													TIM4_IRQn};
  19:Bsp/periph_timer.c **** 
  20:Bsp/periph_timer.c **** static void (*PWM_Set_Value[PWM_SUM])(TIM_TypeDef *TIMx, uint32_t Compare1) = {TIM_SetCompare1,
  21:Bsp/periph_timer.c **** 																			   TIM_SetCompare2,
  22:Bsp/periph_timer.c **** 																			   TIM_SetCompare3,
  23:Bsp/periph_timer.c **** 																			   TIM_SetCompare4};
  24:Bsp/periph_timer.c **** 
  25:Bsp/periph_timer.c **** static void periph_Timer_IO_Init(Timer_list timerx, Timer_PWM_Channel_State CH1_State, Timer_PWM_Ch
  26:Bsp/periph_timer.c **** {
  29              		.loc 1 26 1 view -0
  30              		.cfi_startproc
  31              		@ args = 4, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/ccMRrM2X.s 			page 2


  33              		.loc 1 26 1 is_stmt 0 view .LVU1
  34 0000 70B5     		push	{r4, r5, r6, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 4, -16
  38              		.cfi_offset 5, -12
  39              		.cfi_offset 6, -8
  40              		.cfi_offset 14, -4
  41 0002 0446     		mov	r4, r0
  42 0004 1646     		mov	r6, r2
  43 0006 1D46     		mov	r5, r3
  27:Bsp/periph_timer.c **** 	if (CH1_State == PWM_CH1_Enable)
  44              		.loc 1 27 2 is_stmt 1 view .LVU2
  45              		.loc 1 27 5 is_stmt 0 view .LVU3
  46 0008 0129     		cmp	r1, #1
  47 000a 08D0     		beq	.L19
  48              	.LVL1:
  49              	.L2:
  28:Bsp/periph_timer.c **** 	{
  29:Bsp/periph_timer.c **** 		switch ((uint8_t)timerx)
  30:Bsp/periph_timer.c **** 		{
  31:Bsp/periph_timer.c **** 		case Timer_2:
  32:Bsp/periph_timer.c **** 			GPIO_TIM2_PWMCH1_IO_Init();
  33:Bsp/periph_timer.c **** 			break;
  34:Bsp/periph_timer.c **** 		case Timer_3:
  35:Bsp/periph_timer.c **** 			GPIO_TIM3_PWMCH1_IO_Init();
  36:Bsp/periph_timer.c **** 			break;
  37:Bsp/periph_timer.c **** 		case Timer_4:
  38:Bsp/periph_timer.c **** 			GPIO_TIM4_PWMCH1_IO_Init();
  39:Bsp/periph_timer.c **** 			break;
  40:Bsp/periph_timer.c **** 		default:
  41:Bsp/periph_timer.c **** 			break;
  42:Bsp/periph_timer.c **** 		}
  43:Bsp/periph_timer.c **** 	}
  44:Bsp/periph_timer.c **** 
  45:Bsp/periph_timer.c **** 	if (CH2_State == PWM_CH2_Enable)
  50              		.loc 1 45 2 is_stmt 1 view .LVU4
  51              		.loc 1 45 5 is_stmt 0 view .LVU5
  52 000c 012E     		cmp	r6, #1
  53 000e 15D0     		beq	.L20
  54              	.L6:
  46:Bsp/periph_timer.c **** 	{
  47:Bsp/periph_timer.c **** 		switch ((uint8_t)timerx)
  48:Bsp/periph_timer.c **** 		{
  49:Bsp/periph_timer.c **** 		case Timer_2:
  50:Bsp/periph_timer.c **** 			GPIO_TIM2_PWMCH2_IO_Init();
  51:Bsp/periph_timer.c **** 			break;
  52:Bsp/periph_timer.c **** 		case Timer_3:
  53:Bsp/periph_timer.c **** 			GPIO_TIM3_PWMCH2_IO_Init();
  54:Bsp/periph_timer.c **** 			break;
  55:Bsp/periph_timer.c **** 		case Timer_4:
  56:Bsp/periph_timer.c **** 			GPIO_TIM4_PWMCH2_IO_Init();
  57:Bsp/periph_timer.c **** 			break;
  58:Bsp/periph_timer.c **** 		default:
  59:Bsp/periph_timer.c **** 			break;
  60:Bsp/periph_timer.c **** 		}
  61:Bsp/periph_timer.c **** 	}
ARM GAS  /tmp/ccMRrM2X.s 			page 3


  62:Bsp/periph_timer.c **** 
  63:Bsp/periph_timer.c **** 	if (CH3_State == PWM_CH3_Enable)
  55              		.loc 1 63 2 is_stmt 1 view .LVU6
  56              		.loc 1 63 5 is_stmt 0 view .LVU7
  57 0010 012D     		cmp	r5, #1
  58 0012 22D0     		beq	.L21
  59              	.L10:
  64:Bsp/periph_timer.c **** 	{
  65:Bsp/periph_timer.c **** 		switch ((uint8_t)timerx)
  66:Bsp/periph_timer.c **** 		{
  67:Bsp/periph_timer.c **** 		case Timer_2:
  68:Bsp/periph_timer.c **** 			GPIO_TIM2_PWMCH3_IO_Init();
  69:Bsp/periph_timer.c **** 			break;
  70:Bsp/periph_timer.c **** 		case Timer_3:
  71:Bsp/periph_timer.c **** 			GPIO_TIM3_PWMCH3_IO_Init();
  72:Bsp/periph_timer.c **** 			break;
  73:Bsp/periph_timer.c **** 		case Timer_4:
  74:Bsp/periph_timer.c **** 			GPIO_TIM4_PWMCH3_IO_Init();
  75:Bsp/periph_timer.c **** 			break;
  76:Bsp/periph_timer.c **** 		default:
  77:Bsp/periph_timer.c **** 			break;
  78:Bsp/periph_timer.c **** 		}
  79:Bsp/periph_timer.c **** 	}
  80:Bsp/periph_timer.c **** 
  81:Bsp/periph_timer.c **** 	if (CH4_State == PWM_CH4_Enable)
  60              		.loc 1 81 2 is_stmt 1 view .LVU8
  61              		.loc 1 81 5 is_stmt 0 view .LVU9
  62 0014 9DF81030 		ldrb	r3, [sp, #16]	@ zero_extendqisi2
  63 0018 012B     		cmp	r3, #1
  64 001a 2DD0     		beq	.L22
  65              	.L1:
  82:Bsp/periph_timer.c **** 	{
  83:Bsp/periph_timer.c **** 		switch ((uint8_t)timerx)
  84:Bsp/periph_timer.c **** 		{
  85:Bsp/periph_timer.c **** 		case Timer_2:
  86:Bsp/periph_timer.c **** 			GPIO_TIM2_PWMCH4_IO_Init();
  87:Bsp/periph_timer.c **** 			break;
  88:Bsp/periph_timer.c **** 		case Timer_3:
  89:Bsp/periph_timer.c **** 			GPIO_TIM3_PWMCH4_IO_Init();
  90:Bsp/periph_timer.c **** 			break;
  91:Bsp/periph_timer.c **** 		case Timer_4:
  92:Bsp/periph_timer.c **** 			GPIO_TIM4_PWMCH4_IO_Init();
  93:Bsp/periph_timer.c **** 			break;
  94:Bsp/periph_timer.c **** 		default:
  95:Bsp/periph_timer.c **** 			break;
  96:Bsp/periph_timer.c **** 		}
  97:Bsp/periph_timer.c **** 	}
  98:Bsp/periph_timer.c **** }
  66              		.loc 1 98 1 view .LVU10
  67 001c 70BD     		pop	{r4, r5, r6, pc}
  68              	.LVL2:
  69              	.L19:
  29:Bsp/periph_timer.c **** 		{
  70              		.loc 1 29 3 is_stmt 1 view .LVU11
  71 001e 0128     		cmp	r0, #1
  72 0020 09D0     		beq	.L3
  73 0022 43B2     		sxtb	r3, r0
ARM GAS  /tmp/ccMRrM2X.s 			page 4


  74              	.LVL3:
  29:Bsp/periph_timer.c **** 		{
  75              		.loc 1 29 3 is_stmt 0 view .LVU12
  76 0024 23B1     		cbz	r3, .L4
  77 0026 0228     		cmp	r0, #2
  78 0028 F0D1     		bne	.L2
  38:Bsp/periph_timer.c **** 			break;
  79              		.loc 1 38 4 is_stmt 1 view .LVU13
  80 002a FFF7FEFF 		bl	GPIO_TIM4_PWMCH1_IO_Init
  81              	.LVL4:
  39:Bsp/periph_timer.c **** 		default:
  82              		.loc 1 39 4 view .LVU14
  83 002e EDE7     		b	.L2
  84              	.LVL5:
  85              	.L4:
  32:Bsp/periph_timer.c **** 			break;
  86              		.loc 1 32 4 view .LVU15
  87 0030 FFF7FEFF 		bl	GPIO_TIM2_PWMCH1_IO_Init
  88              	.LVL6:
  33:Bsp/periph_timer.c **** 		case Timer_3:
  89              		.loc 1 33 4 view .LVU16
  90 0034 EAE7     		b	.L2
  91              	.LVL7:
  92              	.L3:
  35:Bsp/periph_timer.c **** 			break;
  93              		.loc 1 35 4 view .LVU17
  94 0036 FFF7FEFF 		bl	GPIO_TIM3_PWMCH1_IO_Init
  95              	.LVL8:
  36:Bsp/periph_timer.c **** 		case Timer_4:
  96              		.loc 1 36 4 view .LVU18
  97 003a E7E7     		b	.L2
  98              	.L20:
  47:Bsp/periph_timer.c **** 		{
  99              		.loc 1 47 3 view .LVU19
 100 003c 012C     		cmp	r4, #1
 101 003e 09D0     		beq	.L7
 102 0040 63B2     		sxtb	r3, r4
 103 0042 23B1     		cbz	r3, .L8
 104 0044 022C     		cmp	r4, #2
 105 0046 E3D1     		bne	.L6
  56:Bsp/periph_timer.c **** 			break;
 106              		.loc 1 56 4 view .LVU20
 107 0048 FFF7FEFF 		bl	GPIO_TIM4_PWMCH2_IO_Init
 108              	.LVL9:
  57:Bsp/periph_timer.c **** 		default:
 109              		.loc 1 57 4 view .LVU21
 110 004c E0E7     		b	.L6
 111              	.L8:
  50:Bsp/periph_timer.c **** 			break;
 112              		.loc 1 50 4 view .LVU22
 113 004e FFF7FEFF 		bl	GPIO_TIM2_PWMCH2_IO_Init
 114              	.LVL10:
  51:Bsp/periph_timer.c **** 		case Timer_3:
 115              		.loc 1 51 4 view .LVU23
 116 0052 DDE7     		b	.L6
 117              	.L7:
  53:Bsp/periph_timer.c **** 			break;
ARM GAS  /tmp/ccMRrM2X.s 			page 5


 118              		.loc 1 53 4 view .LVU24
 119 0054 FFF7FEFF 		bl	GPIO_TIM3_PWMCH2_IO_Init
 120              	.LVL11:
  54:Bsp/periph_timer.c **** 		case Timer_4:
 121              		.loc 1 54 4 view .LVU25
 122 0058 DAE7     		b	.L6
 123              	.L21:
  65:Bsp/periph_timer.c **** 		{
 124              		.loc 1 65 3 view .LVU26
 125 005a 012C     		cmp	r4, #1
 126 005c 09D0     		beq	.L11
 127 005e 63B2     		sxtb	r3, r4
 128 0060 23B1     		cbz	r3, .L12
 129 0062 022C     		cmp	r4, #2
 130 0064 D6D1     		bne	.L10
  74:Bsp/periph_timer.c **** 			break;
 131              		.loc 1 74 4 view .LVU27
 132 0066 FFF7FEFF 		bl	GPIO_TIM4_PWMCH3_IO_Init
 133              	.LVL12:
  75:Bsp/periph_timer.c **** 		default:
 134              		.loc 1 75 4 view .LVU28
 135 006a D3E7     		b	.L10
 136              	.L12:
  68:Bsp/periph_timer.c **** 			break;
 137              		.loc 1 68 4 view .LVU29
 138 006c FFF7FEFF 		bl	GPIO_TIM2_PWMCH3_IO_Init
 139              	.LVL13:
  69:Bsp/periph_timer.c **** 		case Timer_3:
 140              		.loc 1 69 4 view .LVU30
 141 0070 D0E7     		b	.L10
 142              	.L11:
  71:Bsp/periph_timer.c **** 			break;
 143              		.loc 1 71 4 view .LVU31
 144 0072 FFF7FEFF 		bl	GPIO_TIM3_PWMCH3_IO_Init
 145              	.LVL14:
  72:Bsp/periph_timer.c **** 		case Timer_4:
 146              		.loc 1 72 4 view .LVU32
 147 0076 CDE7     		b	.L10
 148              	.L22:
  83:Bsp/periph_timer.c **** 		{
 149              		.loc 1 83 3 view .LVU33
 150 0078 012C     		cmp	r4, #1
 151 007a 09D0     		beq	.L15
 152 007c 63B2     		sxtb	r3, r4
 153 007e 23B1     		cbz	r3, .L16
 154 0080 022C     		cmp	r4, #2
 155 0082 CBD1     		bne	.L1
  92:Bsp/periph_timer.c **** 			break;
 156              		.loc 1 92 4 view .LVU34
 157 0084 FFF7FEFF 		bl	GPIO_TIM4_PWMCH4_IO_Init
 158              	.LVL15:
  93:Bsp/periph_timer.c **** 		default:
 159              		.loc 1 93 4 view .LVU35
 160              		.loc 1 98 1 is_stmt 0 view .LVU36
 161 0088 C8E7     		b	.L1
 162              	.L16:
  86:Bsp/periph_timer.c **** 			break;
ARM GAS  /tmp/ccMRrM2X.s 			page 6


 163              		.loc 1 86 4 is_stmt 1 view .LVU37
 164 008a FFF7FEFF 		bl	GPIO_TIM2_PWMCH4_IO_Init
 165              	.LVL16:
  87:Bsp/periph_timer.c **** 		case Timer_3:
 166              		.loc 1 87 4 view .LVU38
 167 008e C5E7     		b	.L1
 168              	.L15:
  89:Bsp/periph_timer.c **** 			break;
 169              		.loc 1 89 4 view .LVU39
 170 0090 FFF7FEFF 		bl	GPIO_TIM3_PWMCH4_IO_Init
 171              	.LVL17:
  90:Bsp/periph_timer.c **** 		case Timer_4:
 172              		.loc 1 90 4 view .LVU40
 173 0094 C2E7     		b	.L1
 174              		.cfi_endproc
 175              	.LFE123:
 177              		.section	.text.periph_Timer_CounterMode_Init,"ax",%progbits
 178              		.align	1
 179              		.global	periph_Timer_CounterMode_Init
 180              		.syntax unified
 181              		.thumb
 182              		.thumb_func
 183              		.fpu fpv4-sp-d16
 185              	periph_Timer_CounterMode_Init:
 186              	.LVL18:
 187              	.LFB124:
  99:Bsp/periph_timer.c **** 
 100:Bsp/periph_timer.c **** void periph_Timer_CounterMode_Init(Timer_list timerx, uint32_t Period, uint32_t Prescaler, uint8_t 
 101:Bsp/periph_timer.c **** {
 188              		.loc 1 101 1 view -0
 189              		.cfi_startproc
 190              		@ args = 4, pretend = 0, frame = 16
 191              		@ frame_needed = 0, uses_anonymous_args = 0
 192              		.loc 1 101 1 is_stmt 0 view .LVU42
 193 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 194              	.LCFI1:
 195              		.cfi_def_cfa_offset 20
 196              		.cfi_offset 4, -20
 197              		.cfi_offset 5, -16
 198              		.cfi_offset 6, -12
 199              		.cfi_offset 7, -8
 200              		.cfi_offset 14, -4
 201 0002 85B0     		sub	sp, sp, #20
 202              	.LCFI2:
 203              		.cfi_def_cfa_offset 40
 204 0004 0446     		mov	r4, r0
 205 0006 0F46     		mov	r7, r1
 206 0008 1546     		mov	r5, r2
 207 000a 1E46     		mov	r6, r3
 102:Bsp/periph_timer.c **** 	TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
 208              		.loc 1 102 2 is_stmt 1 view .LVU43
 103:Bsp/periph_timer.c **** 	NVIC_InitTypeDef NVIC_InitStructure;
 209              		.loc 1 103 2 view .LVU44
 104:Bsp/periph_timer.c **** 
 105:Bsp/periph_timer.c **** 	RCC_APB1PeriphClockCmd(Timer_CLK[timerx], ENABLE);
 210              		.loc 1 105 2 view .LVU45
 211 000c 0121     		movs	r1, #1
ARM GAS  /tmp/ccMRrM2X.s 			page 7


 212              	.LVL19:
 213              		.loc 1 105 2 is_stmt 0 view .LVU46
 214 000e 194B     		ldr	r3, .L25
 215              	.LVL20:
 216              		.loc 1 105 2 view .LVU47
 217 0010 53F82000 		ldr	r0, [r3, r0, lsl #2]
 218              	.LVL21:
 219              		.loc 1 105 2 view .LVU48
 220 0014 FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 221              	.LVL22:
 106:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Period = Period;		 //1000
 222              		.loc 1 106 2 is_stmt 1 view .LVU49
 223              		.loc 1 106 35 is_stmt 0 view .LVU50
 224 0018 0297     		str	r7, [sp, #8]
 107:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Prescaler = Prescaler; //83
 225              		.loc 1 107 2 is_stmt 1 view .LVU51
 226              		.loc 1 107 38 is_stmt 0 view .LVU52
 227 001a ADF80450 		strh	r5, [sp, #4]	@ movhi
 108:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_ClockDivision = TIM_CKD_DIV1;
 228              		.loc 1 108 2 is_stmt 1 view .LVU53
 229              		.loc 1 108 42 is_stmt 0 view .LVU54
 230 001e 0023     		movs	r3, #0
 231 0020 ADF80C30 		strh	r3, [sp, #12]	@ movhi
 109:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
 232              		.loc 1 109 2 is_stmt 1 view .LVU55
 233              		.loc 1 109 40 is_stmt 0 view .LVU56
 234 0024 ADF80630 		strh	r3, [sp, #6]	@ movhi
 110:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_RepetitionCounter = 0;
 235              		.loc 1 110 2 is_stmt 1 view .LVU57
 236              		.loc 1 110 46 is_stmt 0 view .LVU58
 237 0028 8DF80E30 		strb	r3, [sp, #14]
 111:Bsp/periph_timer.c **** 	TIM_TimeBaseInit(Timer_Port[timerx], &TIM_TimeBaseStructure);
 238              		.loc 1 111 2 is_stmt 1 view .LVU59
 239 002c 124D     		ldr	r5, .L25+4
 240              	.LVL23:
 241              		.loc 1 111 2 is_stmt 0 view .LVU60
 242 002e 01A9     		add	r1, sp, #4
 243 0030 55F82400 		ldr	r0, [r5, r4, lsl #2]
 244 0034 FFF7FEFF 		bl	TIM_TimeBaseInit
 245              	.LVL24:
 112:Bsp/periph_timer.c **** 
 113:Bsp/periph_timer.c **** 	TIM_ITConfig(Timer_Port[timerx], TIM_IT_Update, ENABLE);
 246              		.loc 1 113 2 is_stmt 1 view .LVU61
 247 0038 0122     		movs	r2, #1
 248 003a 1146     		mov	r1, r2
 249 003c 55F82400 		ldr	r0, [r5, r4, lsl #2]
 250 0040 FFF7FEFF 		bl	TIM_ITConfig
 251              	.LVL25:
 114:Bsp/periph_timer.c **** 	TIM_Cmd(Timer_Port[timerx], ENABLE);
 252              		.loc 1 114 2 view .LVU62
 253 0044 0121     		movs	r1, #1
 254 0046 55F82400 		ldr	r0, [r5, r4, lsl #2]
 255 004a FFF7FEFF 		bl	TIM_Cmd
 256              	.LVL26:
 115:Bsp/periph_timer.c **** 
 116:Bsp/periph_timer.c **** 	NVIC_InitStructure.NVIC_IRQChannel = Timer_IRQ_Channel[timerx];
 257              		.loc 1 116 2 view .LVU63
ARM GAS  /tmp/ccMRrM2X.s 			page 8


 258              		.loc 1 116 56 is_stmt 0 view .LVU64
 259 004e 0B4B     		ldr	r3, .L25+8
 260 0050 1B5D     		ldrb	r3, [r3, r4]	@ zero_extendqisi2
 261              		.loc 1 116 37 view .LVU65
 262 0052 8DF80030 		strb	r3, [sp]
 117:Bsp/periph_timer.c **** 	NVIC_InitStructure.NVIC_IRQChannelCmd = ENABLE;
 263              		.loc 1 117 2 is_stmt 1 view .LVU66
 264              		.loc 1 117 40 is_stmt 0 view .LVU67
 265 0056 0123     		movs	r3, #1
 266 0058 8DF80330 		strb	r3, [sp, #3]
 118:Bsp/periph_timer.c **** 	NVIC_InitStructure.NVIC_IRQChannelPreemptionPriority = PreemptionPriority;
 267              		.loc 1 118 2 is_stmt 1 view .LVU68
 268              		.loc 1 118 55 is_stmt 0 view .LVU69
 269 005c 8DF80160 		strb	r6, [sp, #1]
 119:Bsp/periph_timer.c **** 	NVIC_InitStructure.NVIC_IRQChannelSubPriority = SubPriority;
 270              		.loc 1 119 2 is_stmt 1 view .LVU70
 271              		.loc 1 119 48 is_stmt 0 view .LVU71
 272 0060 9DF82830 		ldrb	r3, [sp, #40]	@ zero_extendqisi2
 273 0064 8DF80230 		strb	r3, [sp, #2]
 120:Bsp/periph_timer.c **** 	NVIC_Init(&NVIC_InitStructure);
 274              		.loc 1 120 2 is_stmt 1 view .LVU72
 275 0068 6846     		mov	r0, sp
 276 006a FFF7FEFF 		bl	NVIC_Init
 277              	.LVL27:
 121:Bsp/periph_timer.c **** }
 278              		.loc 1 121 1 is_stmt 0 view .LVU73
 279 006e 05B0     		add	sp, sp, #20
 280              	.LCFI3:
 281              		.cfi_def_cfa_offset 20
 282              		@ sp needed
 283 0070 F0BD     		pop	{r4, r5, r6, r7, pc}
 284              	.LVL28:
 285              	.L26:
 286              		.loc 1 121 1 view .LVU74
 287 0072 00BF     		.align	2
 288              	.L25:
 289 0074 00000000 		.word	.LANCHOR0
 290 0078 00000000 		.word	.LANCHOR1
 291 007c 00000000 		.word	.LANCHOR2
 292              		.cfi_endproc
 293              	.LFE124:
 295              		.section	.text.periph_Timer_Encoder_Mode_Init,"ax",%progbits
 296              		.align	1
 297              		.global	periph_Timer_Encoder_Mode_Init
 298              		.syntax unified
 299              		.thumb
 300              		.thumb_func
 301              		.fpu fpv4-sp-d16
 303              	periph_Timer_Encoder_Mode_Init:
 304              	.LVL29:
 305              	.LFB125:
 122:Bsp/periph_timer.c **** 
 123:Bsp/periph_timer.c **** /* need modify */
 124:Bsp/periph_timer.c **** void periph_Timer_Encoder_Mode_Init(Timer_list timerx, uint16_t channel_a, uint16_t channel_b)
 125:Bsp/periph_timer.c **** {
 306              		.loc 1 125 1 is_stmt 1 view -0
 307              		.cfi_startproc
ARM GAS  /tmp/ccMRrM2X.s 			page 9


 308              		@ args = 0, pretend = 0, frame = 24
 309              		@ frame_needed = 0, uses_anonymous_args = 0
 310              		.loc 1 125 1 is_stmt 0 view .LVU76
 311 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 312              	.LCFI4:
 313              		.cfi_def_cfa_offset 28
 314              		.cfi_offset 4, -28
 315              		.cfi_offset 5, -24
 316              		.cfi_offset 6, -20
 317              		.cfi_offset 7, -16
 318              		.cfi_offset 8, -12
 319              		.cfi_offset 9, -8
 320              		.cfi_offset 14, -4
 321 0004 87B0     		sub	sp, sp, #28
 322              	.LCFI5:
 323              		.cfi_def_cfa_offset 56
 324 0006 0446     		mov	r4, r0
 325 0008 8946     		mov	r9, r1
 326 000a 9046     		mov	r8, r2
 126:Bsp/periph_timer.c **** 	TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
 327              		.loc 1 126 2 is_stmt 1 view .LVU77
 127:Bsp/periph_timer.c **** 	TIM_ICInitTypeDef TIM_ICInitStructure;
 328              		.loc 1 127 2 view .LVU78
 128:Bsp/periph_timer.c **** 
 129:Bsp/periph_timer.c **** 	RCC_APB2PeriphClockCmd(Timer_CLK[timerx], ENABLE);
 329              		.loc 1 129 2 view .LVU79
 330 000c 0121     		movs	r1, #1
 331              	.LVL30:
 332              		.loc 1 129 2 is_stmt 0 view .LVU80
 333 000e 1C4B     		ldr	r3, .L29
 334 0010 53F82000 		ldr	r0, [r3, r0, lsl #2]
 335              	.LVL31:
 336              		.loc 1 129 2 view .LVU81
 337 0014 FFF7FEFF 		bl	RCC_APB2PeriphClockCmd
 338              	.LVL32:
 130:Bsp/periph_timer.c **** 
 131:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Period = 0xffff;
 339              		.loc 1 131 2 is_stmt 1 view .LVU82
 340              		.loc 1 131 35 is_stmt 0 view .LVU83
 341 0018 4FF6FF73 		movw	r3, #65535
 342 001c 0493     		str	r3, [sp, #16]
 132:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Prescaler = 0;
 343              		.loc 1 132 2 is_stmt 1 view .LVU84
 344              		.loc 1 132 38 is_stmt 0 view .LVU85
 345 001e 0026     		movs	r6, #0
 346 0020 ADF80C60 		strh	r6, [sp, #12]	@ movhi
 133:Bsp/periph_timer.c **** 	TIM_TimeBaseInit(Timer_Port[timerx], &TIM_TimeBaseStructure);
 347              		.loc 1 133 2 is_stmt 1 view .LVU86
 348 0024 174D     		ldr	r5, .L29+4
 349 0026 03A9     		add	r1, sp, #12
 350 0028 55F82400 		ldr	r0, [r5, r4, lsl #2]
 351 002c FFF7FEFF 		bl	TIM_TimeBaseInit
 352              	.LVL33:
 134:Bsp/periph_timer.c **** 
 135:Bsp/periph_timer.c **** 	TIM_ICInitStructure.TIM_ICFilter = 10;
 353              		.loc 1 135 2 view .LVU87
 354              		.loc 1 135 35 is_stmt 0 view .LVU88
ARM GAS  /tmp/ccMRrM2X.s 			page 10


 355 0030 0A23     		movs	r3, #10
 356 0032 ADF80830 		strh	r3, [sp, #8]	@ movhi
 136:Bsp/periph_timer.c **** 	TIM_ICInitStructure.TIM_ICSelection = TIM_ICSelection_DirectTI;
 357              		.loc 1 136 2 is_stmt 1 view .LVU89
 358              		.loc 1 136 38 is_stmt 0 view .LVU90
 359 0036 0127     		movs	r7, #1
 360 0038 ADF80470 		strh	r7, [sp, #4]	@ movhi
 137:Bsp/periph_timer.c **** 	TIM_ICInitStructure.TIM_Channel = channel_a; //TIM_Channel_1
 361              		.loc 1 137 2 is_stmt 1 view .LVU91
 362              		.loc 1 137 34 is_stmt 0 view .LVU92
 363 003c ADF80090 		strh	r9, [sp]	@ movhi
 138:Bsp/periph_timer.c **** 	TIM_ICInit(Timer_Port[timerx], &TIM_ICInitStructure);
 364              		.loc 1 138 2 is_stmt 1 view .LVU93
 365 0040 6946     		mov	r1, sp
 366 0042 55F82400 		ldr	r0, [r5, r4, lsl #2]
 367 0046 FFF7FEFF 		bl	TIM_ICInit
 368              	.LVL34:
 139:Bsp/periph_timer.c **** 
 140:Bsp/periph_timer.c **** 	TIM_ICInitStructure.TIM_Channel = channel_b; //TIM_Channel_2
 369              		.loc 1 140 2 view .LVU94
 370              		.loc 1 140 34 is_stmt 0 view .LVU95
 371 004a ADF80080 		strh	r8, [sp]	@ movhi
 141:Bsp/periph_timer.c **** 	TIM_ICInit(Timer_Port[timerx], &TIM_ICInitStructure);
 372              		.loc 1 141 2 is_stmt 1 view .LVU96
 373 004e 6946     		mov	r1, sp
 374 0050 55F82400 		ldr	r0, [r5, r4, lsl #2]
 375 0054 FFF7FEFF 		bl	TIM_ICInit
 376              	.LVL35:
 142:Bsp/periph_timer.c **** 
 143:Bsp/periph_timer.c **** 	TIM_EncoderInterfaceConfig(Timer_Port[timerx], TIM_EncoderMode_TI12, TIM_ICPolarity_Rising, TIM_IC
 377              		.loc 1 143 2 view .LVU97
 378 0058 3346     		mov	r3, r6
 379 005a 3246     		mov	r2, r6
 380 005c 0321     		movs	r1, #3
 381 005e 55F82400 		ldr	r0, [r5, r4, lsl #2]
 382 0062 FFF7FEFF 		bl	TIM_EncoderInterfaceConfig
 383              	.LVL36:
 144:Bsp/periph_timer.c **** 	TIM_ICStructInit(&TIM_ICInitStructure);
 384              		.loc 1 144 2 view .LVU98
 385 0066 6846     		mov	r0, sp
 386 0068 FFF7FEFF 		bl	TIM_ICStructInit
 387              	.LVL37:
 145:Bsp/periph_timer.c **** 
 146:Bsp/periph_timer.c **** 	Timer_Port[timerx]->CNT = 0;
 388              		.loc 1 146 2 view .LVU99
 389              		.loc 1 146 12 is_stmt 0 view .LVU100
 390 006c 55F82400 		ldr	r0, [r5, r4, lsl #2]
 391              		.loc 1 146 26 view .LVU101
 392 0070 4662     		str	r6, [r0, #36]
 147:Bsp/periph_timer.c **** 	TIM_Cmd(Timer_Port[timerx], ENABLE);
 393              		.loc 1 147 2 is_stmt 1 view .LVU102
 394 0072 3946     		mov	r1, r7
 395 0074 FFF7FEFF 		bl	TIM_Cmd
 396              	.LVL38:
 148:Bsp/periph_timer.c **** }
 397              		.loc 1 148 1 is_stmt 0 view .LVU103
 398 0078 07B0     		add	sp, sp, #28
ARM GAS  /tmp/ccMRrM2X.s 			page 11


 399              	.LCFI6:
 400              		.cfi_def_cfa_offset 28
 401              		@ sp needed
 402 007a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 403              	.L30:
 404 007e 00BF     		.align	2
 405              	.L29:
 406 0080 00000000 		.word	.LANCHOR0
 407 0084 00000000 		.word	.LANCHOR1
 408              		.cfi_endproc
 409              	.LFE125:
 411              		.section	.text.periph_Timer_GetEncoder_Input,"ax",%progbits
 412              		.align	1
 413              		.global	periph_Timer_GetEncoder_Input
 414              		.syntax unified
 415              		.thumb
 416              		.thumb_func
 417              		.fpu fpv4-sp-d16
 419              	periph_Timer_GetEncoder_Input:
 420              	.LVL39:
 421              	.LFB126:
 149:Bsp/periph_timer.c **** 
 150:Bsp/periph_timer.c **** int8_t periph_Timer_GetEncoder_Input(Timer_list timerx)
 151:Bsp/periph_timer.c **** {
 422              		.loc 1 151 1 is_stmt 1 view -0
 423              		.cfi_startproc
 424              		@ args = 0, pretend = 0, frame = 0
 425              		@ frame_needed = 0, uses_anonymous_args = 0
 426              		@ link register save eliminated.
 152:Bsp/periph_timer.c **** 	return (int8_t)Timer_Port[timerx]->CNT;
 427              		.loc 1 152 2 view .LVU105
 428              		.loc 1 152 27 is_stmt 0 view .LVU106
 429 0000 024B     		ldr	r3, .L32
 430 0002 53F82030 		ldr	r3, [r3, r0, lsl #2]
 431              		.loc 1 152 35 view .LVU107
 432 0006 586A     		ldr	r0, [r3, #36]
 433              	.LVL40:
 153:Bsp/periph_timer.c **** }
 434              		.loc 1 153 1 view .LVU108
 435 0008 40B2     		sxtb	r0, r0
 436 000a 7047     		bx	lr
 437              	.L33:
 438              		.align	2
 439              	.L32:
 440 000c 00000000 		.word	.LANCHOR1
 441              		.cfi_endproc
 442              	.LFE126:
 444              		.section	.text.periph_Timer_PWMOutPut_Mode_Init,"ax",%progbits
 445              		.align	1
 446              		.global	periph_Timer_PWMOutPut_Mode_Init
 447              		.syntax unified
 448              		.thumb
 449              		.thumb_func
 450              		.fpu fpv4-sp-d16
 452              	periph_Timer_PWMOutPut_Mode_Init:
 453              	.LVL41:
 454              	.LFB127:
ARM GAS  /tmp/ccMRrM2X.s 			page 12


 154:Bsp/periph_timer.c **** 
 155:Bsp/periph_timer.c **** void periph_Timer_PWMOutPut_Mode_Init(Timer_list timerx, PWM_Hz hz, Timer_PWM_Channel_State CH1_Sta
 156:Bsp/periph_timer.c **** {
 455              		.loc 1 156 1 is_stmt 1 view -0
 456              		.cfi_startproc
 457              		@ args = 8, pretend = 0, frame = 32
 458              		@ frame_needed = 0, uses_anonymous_args = 0
 459              		.loc 1 156 1 is_stmt 0 view .LVU110
 460 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 461              	.LCFI7:
 462              		.cfi_def_cfa_offset 28
 463              		.cfi_offset 4, -28
 464              		.cfi_offset 5, -24
 465              		.cfi_offset 6, -20
 466              		.cfi_offset 7, -16
 467              		.cfi_offset 8, -12
 468              		.cfi_offset 9, -8
 469              		.cfi_offset 14, -4
 470 0004 8BB0     		sub	sp, sp, #44
 471              	.LCFI8:
 472              		.cfi_def_cfa_offset 72
 473 0006 0446     		mov	r4, r0
 474 0008 0D46     		mov	r5, r1
 475 000a 9146     		mov	r9, r2
 476 000c 9846     		mov	r8, r3
 477 000e 9DF84870 		ldrb	r7, [sp, #72]	@ zero_extendqisi2
 478 0012 9DF84C60 		ldrb	r6, [sp, #76]	@ zero_extendqisi2
 157:Bsp/periph_timer.c **** 	TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
 479              		.loc 1 157 2 is_stmt 1 view .LVU111
 158:Bsp/periph_timer.c **** 	TIM_OCInitTypeDef TIM_OCInitStructure;
 480              		.loc 1 158 2 view .LVU112
 159:Bsp/periph_timer.c **** 
 160:Bsp/periph_timer.c **** 	periph_Timer_IO_Init(timerx, CH1_State, CH2_State, CH3_State, CH4_State);
 481              		.loc 1 160 2 view .LVU113
 482 0016 0096     		str	r6, [sp]
 483 0018 3B46     		mov	r3, r7
 484              	.LVL42:
 485              		.loc 1 160 2 is_stmt 0 view .LVU114
 486 001a 4246     		mov	r2, r8
 487              	.LVL43:
 488              		.loc 1 160 2 view .LVU115
 489 001c 4946     		mov	r1, r9
 490              	.LVL44:
 491              		.loc 1 160 2 view .LVU116
 492 001e FFF7FEFF 		bl	periph_Timer_IO_Init
 493              	.LVL45:
 161:Bsp/periph_timer.c **** 
 162:Bsp/periph_timer.c **** 	RCC_APB1PeriphClockCmd(Timer_CLK[timerx], ENABLE);
 494              		.loc 1 162 2 is_stmt 1 view .LVU117
 495 0022 0121     		movs	r1, #1
 496 0024 414B     		ldr	r3, .L46
 497 0026 53F82400 		ldr	r0, [r3, r4, lsl #2]
 498 002a FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 499              	.LVL46:
 163:Bsp/periph_timer.c **** 	TIM_DeInit(Timer_Port[timerx]);
 500              		.loc 1 163 2 view .LVU118
 501 002e 404B     		ldr	r3, .L46+4
ARM GAS  /tmp/ccMRrM2X.s 			page 13


 502 0030 53F82400 		ldr	r0, [r3, r4, lsl #2]
 503 0034 FFF7FEFF 		bl	TIM_DeInit
 504              	.LVL47:
 164:Bsp/periph_timer.c **** 
 165:Bsp/periph_timer.c **** 	if (hz == PWM_50hz)
 505              		.loc 1 165 2 view .LVU119
 506              		.loc 1 165 5 is_stmt 0 view .LVU120
 507 0038 002D     		cmp	r5, #0
 508 003a 3DD1     		bne	.L35
 166:Bsp/periph_timer.c **** 	{
 167:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Period = TimerPWM_50Hz_Period;
 509              		.loc 1 167 3 is_stmt 1 view .LVU121
 510              		.loc 1 167 36 is_stmt 0 view .LVU122
 511 003c 44F62063 		movw	r3, #20000
 512 0040 0893     		str	r3, [sp, #32]
 168:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Prescaler = TimerPWM_50Hz_Prescaler;
 513              		.loc 1 168 3 is_stmt 1 view .LVU123
 514              		.loc 1 168 39 is_stmt 0 view .LVU124
 515 0042 5323     		movs	r3, #83
 516 0044 ADF81C30 		strh	r3, [sp, #28]	@ movhi
 517              	.L36:
 169:Bsp/periph_timer.c **** 	}
 170:Bsp/periph_timer.c **** 	else if (hz == PWM_38Khz)
 171:Bsp/periph_timer.c **** 	{
 172:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Period = TimerPWM_38KHz_Period;
 173:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Prescaler = TimerPWM_38KHz_Prescaler;
 174:Bsp/periph_timer.c **** 	}
 175:Bsp/periph_timer.c **** 
 176:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_ClockDivision = TIM_CKD_DIV1;
 518              		.loc 1 176 2 is_stmt 1 view .LVU125
 519              		.loc 1 176 42 is_stmt 0 view .LVU126
 520 0048 0025     		movs	r5, #0
 521 004a ADF82450 		strh	r5, [sp, #36]	@ movhi
 177:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
 522              		.loc 1 177 2 is_stmt 1 view .LVU127
 523              		.loc 1 177 40 is_stmt 0 view .LVU128
 524 004e ADF81E50 		strh	r5, [sp, #30]	@ movhi
 178:Bsp/periph_timer.c **** 	TIM_TimeBaseInit(Timer_Port[timerx], &TIM_TimeBaseStructure);
 525              		.loc 1 178 2 is_stmt 1 view .LVU129
 526 0052 07A9     		add	r1, sp, #28
 527 0054 364B     		ldr	r3, .L46+4
 528 0056 53F82400 		ldr	r0, [r3, r4, lsl #2]
 529 005a FFF7FEFF 		bl	TIM_TimeBaseInit
 530              	.LVL48:
 179:Bsp/periph_timer.c **** 
 180:Bsp/periph_timer.c **** 	TIM_OCStructInit(&TIM_OCInitStructure);
 531              		.loc 1 180 2 view .LVU130
 532 005e 02A8     		add	r0, sp, #8
 533 0060 FFF7FEFF 		bl	TIM_OCStructInit
 534              	.LVL49:
 181:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OCMode = TIM_OCMode_PWM1;
 535              		.loc 1 181 2 view .LVU131
 536              		.loc 1 181 33 is_stmt 0 view .LVU132
 537 0064 6023     		movs	r3, #96
 538 0066 ADF80830 		strh	r3, [sp, #8]	@ movhi
 182:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OutputState = TIM_OutputState_Enable;
 539              		.loc 1 182 2 is_stmt 1 view .LVU133
ARM GAS  /tmp/ccMRrM2X.s 			page 14


 540              		.loc 1 182 38 is_stmt 0 view .LVU134
 541 006a 0123     		movs	r3, #1
 542 006c ADF80A30 		strh	r3, [sp, #10]	@ movhi
 183:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OCPolarity = TIM_OCPolarity_High;
 543              		.loc 1 183 2 is_stmt 1 view .LVU135
 544              		.loc 1 183 37 is_stmt 0 view .LVU136
 545 0070 ADF81450 		strh	r5, [sp, #20]	@ movhi
 184:Bsp/periph_timer.c **** 
 185:Bsp/periph_timer.c **** 	if (CH1_State == PWM_CH1_Enable)
 546              		.loc 1 185 2 is_stmt 1 view .LVU137
 547              		.loc 1 185 5 is_stmt 0 view .LVU138
 548 0074 9945     		cmp	r9, r3
 549 0076 28D0     		beq	.L42
 550              	.L37:
 186:Bsp/periph_timer.c **** 	{
 187:Bsp/periph_timer.c **** 		TIM_OC1Init(Timer_Port[timerx], &TIM_OCInitStructure);
 188:Bsp/periph_timer.c **** 		TIM_OC1PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 189:Bsp/periph_timer.c **** 	}
 190:Bsp/periph_timer.c **** 
 191:Bsp/periph_timer.c **** 	if (CH2_State == PWM_CH2_Enable)
 551              		.loc 1 191 2 is_stmt 1 view .LVU139
 552              		.loc 1 191 5 is_stmt 0 view .LVU140
 553 0078 B8F1010F 		cmp	r8, #1
 554 007c 31D0     		beq	.L43
 555              	.L38:
 192:Bsp/periph_timer.c **** 	{
 193:Bsp/periph_timer.c **** 		TIM_OC2Init(Timer_Port[timerx], &TIM_OCInitStructure);
 194:Bsp/periph_timer.c **** 		TIM_OC2PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 195:Bsp/periph_timer.c **** 	}
 196:Bsp/periph_timer.c **** 
 197:Bsp/periph_timer.c **** 	if (CH3_State == PWM_CH3_Enable)
 556              		.loc 1 197 2 is_stmt 1 view .LVU141
 557              		.loc 1 197 5 is_stmt 0 view .LVU142
 558 007e 012F     		cmp	r7, #1
 559 0080 3BD0     		beq	.L44
 560              	.L39:
 198:Bsp/periph_timer.c **** 	{
 199:Bsp/periph_timer.c **** 		TIM_OC3Init(Timer_Port[timerx], &TIM_OCInitStructure);
 200:Bsp/periph_timer.c **** 		TIM_OC3PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 201:Bsp/periph_timer.c **** 	}
 202:Bsp/periph_timer.c **** 
 203:Bsp/periph_timer.c **** 	if (CH4_State == PWM_CH4_Enable)
 561              		.loc 1 203 2 is_stmt 1 view .LVU143
 562              		.loc 1 203 5 is_stmt 0 view .LVU144
 563 0082 012E     		cmp	r6, #1
 564 0084 45D0     		beq	.L45
 565              	.L40:
 204:Bsp/periph_timer.c **** 	{
 205:Bsp/periph_timer.c **** 		TIM_OC4Init(Timer_Port[timerx], &TIM_OCInitStructure);
 206:Bsp/periph_timer.c **** 		TIM_OC4PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 207:Bsp/periph_timer.c **** 	}
 208:Bsp/periph_timer.c **** 
 209:Bsp/periph_timer.c **** 	TIM_ARRPreloadConfig(Timer_Port[timerx], ENABLE);
 566              		.loc 1 209 2 is_stmt 1 view .LVU145
 567 0086 2A4D     		ldr	r5, .L46+4
 568 0088 0121     		movs	r1, #1
 569 008a 55F82400 		ldr	r0, [r5, r4, lsl #2]
ARM GAS  /tmp/ccMRrM2X.s 			page 15


 570 008e FFF7FEFF 		bl	TIM_ARRPreloadConfig
 571              	.LVL50:
 210:Bsp/periph_timer.c **** 	TIM_ClearFlag(Timer_Port[timerx], TIM_FLAG_Update);
 572              		.loc 1 210 2 view .LVU146
 573 0092 0121     		movs	r1, #1
 574 0094 55F82400 		ldr	r0, [r5, r4, lsl #2]
 575 0098 FFF7FEFF 		bl	TIM_ClearFlag
 576              	.LVL51:
 211:Bsp/periph_timer.c **** 	TIM_ITConfig(Timer_Port[timerx], TIM_IT_Update, ENABLE);
 577              		.loc 1 211 2 view .LVU147
 578 009c 0122     		movs	r2, #1
 579 009e 1146     		mov	r1, r2
 580 00a0 55F82400 		ldr	r0, [r5, r4, lsl #2]
 581 00a4 FFF7FEFF 		bl	TIM_ITConfig
 582              	.LVL52:
 212:Bsp/periph_timer.c **** 	TIM_Cmd(Timer_Port[timerx], ENABLE);
 583              		.loc 1 212 2 view .LVU148
 584 00a8 0121     		movs	r1, #1
 585 00aa 55F82400 		ldr	r0, [r5, r4, lsl #2]
 586 00ae FFF7FEFF 		bl	TIM_Cmd
 587              	.LVL53:
 213:Bsp/periph_timer.c **** }
 588              		.loc 1 213 1 is_stmt 0 view .LVU149
 589 00b2 0BB0     		add	sp, sp, #44
 590              	.LCFI9:
 591              		.cfi_remember_state
 592              		.cfi_def_cfa_offset 28
 593              		@ sp needed
 594 00b4 BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 595              	.LVL54:
 596              	.L35:
 597              	.LCFI10:
 598              		.cfi_restore_state
 170:Bsp/periph_timer.c **** 	{
 599              		.loc 1 170 7 is_stmt 1 view .LVU150
 170:Bsp/periph_timer.c **** 	{
 600              		.loc 1 170 10 is_stmt 0 view .LVU151
 601 00b8 012D     		cmp	r5, #1
 602 00ba C5D1     		bne	.L36
 172:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Prescaler = TimerPWM_38KHz_Prescaler;
 603              		.loc 1 172 3 is_stmt 1 view .LVU152
 172:Bsp/periph_timer.c **** 		TIM_TimeBaseStructure.TIM_Prescaler = TimerPWM_38KHz_Prescaler;
 604              		.loc 1 172 36 is_stmt 0 view .LVU153
 605 00bc 40F6A303 		movw	r3, #2211
 606 00c0 0893     		str	r3, [sp, #32]
 173:Bsp/periph_timer.c **** 	}
 607              		.loc 1 173 3 is_stmt 1 view .LVU154
 173:Bsp/periph_timer.c **** 	}
 608              		.loc 1 173 39 is_stmt 0 view .LVU155
 609 00c2 0023     		movs	r3, #0
 610 00c4 ADF81C30 		strh	r3, [sp, #28]	@ movhi
 611 00c8 BEE7     		b	.L36
 612              	.L42:
 187:Bsp/periph_timer.c **** 		TIM_OC1PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 613              		.loc 1 187 3 is_stmt 1 view .LVU156
 614 00ca 194D     		ldr	r5, .L46+4
 615 00cc 02A9     		add	r1, sp, #8
ARM GAS  /tmp/ccMRrM2X.s 			page 16


 616 00ce 55F82400 		ldr	r0, [r5, r4, lsl #2]
 617 00d2 FFF7FEFF 		bl	TIM_OC1Init
 618              	.LVL55:
 188:Bsp/periph_timer.c **** 	}
 619              		.loc 1 188 3 view .LVU157
 620 00d6 0821     		movs	r1, #8
 621 00d8 55F82400 		ldr	r0, [r5, r4, lsl #2]
 622 00dc FFF7FEFF 		bl	TIM_OC1PreloadConfig
 623              	.LVL56:
 624 00e0 CAE7     		b	.L37
 625              	.L43:
 193:Bsp/periph_timer.c **** 		TIM_OC2PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 626              		.loc 1 193 3 view .LVU158
 627 00e2 134D     		ldr	r5, .L46+4
 628 00e4 02A9     		add	r1, sp, #8
 629 00e6 55F82400 		ldr	r0, [r5, r4, lsl #2]
 630 00ea FFF7FEFF 		bl	TIM_OC2Init
 631              	.LVL57:
 194:Bsp/periph_timer.c **** 	}
 632              		.loc 1 194 3 view .LVU159
 633 00ee 0821     		movs	r1, #8
 634 00f0 55F82400 		ldr	r0, [r5, r4, lsl #2]
 635 00f4 FFF7FEFF 		bl	TIM_OC2PreloadConfig
 636              	.LVL58:
 637 00f8 C1E7     		b	.L38
 638              	.L44:
 199:Bsp/periph_timer.c **** 		TIM_OC3PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 639              		.loc 1 199 3 view .LVU160
 640 00fa 0D4D     		ldr	r5, .L46+4
 641 00fc 02A9     		add	r1, sp, #8
 642 00fe 55F82400 		ldr	r0, [r5, r4, lsl #2]
 643 0102 FFF7FEFF 		bl	TIM_OC3Init
 644              	.LVL59:
 200:Bsp/periph_timer.c **** 	}
 645              		.loc 1 200 3 view .LVU161
 646 0106 0821     		movs	r1, #8
 647 0108 55F82400 		ldr	r0, [r5, r4, lsl #2]
 648 010c FFF7FEFF 		bl	TIM_OC3PreloadConfig
 649              	.LVL60:
 650 0110 B7E7     		b	.L39
 651              	.L45:
 205:Bsp/periph_timer.c **** 		TIM_OC4PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 652              		.loc 1 205 3 view .LVU162
 653 0112 074D     		ldr	r5, .L46+4
 654 0114 02A9     		add	r1, sp, #8
 655 0116 55F82400 		ldr	r0, [r5, r4, lsl #2]
 656 011a FFF7FEFF 		bl	TIM_OC4Init
 657              	.LVL61:
 206:Bsp/periph_timer.c **** 	}
 658              		.loc 1 206 3 view .LVU163
 659 011e 0821     		movs	r1, #8
 660 0120 55F82400 		ldr	r0, [r5, r4, lsl #2]
 661 0124 FFF7FEFF 		bl	TIM_OC4PreloadConfig
 662              	.LVL62:
 663 0128 ADE7     		b	.L40
 664              	.L47:
 665 012a 00BF     		.align	2
ARM GAS  /tmp/ccMRrM2X.s 			page 17


 666              	.L46:
 667 012c 00000000 		.word	.LANCHOR0
 668 0130 00000000 		.word	.LANCHOR1
 669              		.cfi_endproc
 670              	.LFE127:
 672              		.section	.text.periph_Timer_PWM_SetEnable,"ax",%progbits
 673              		.align	1
 674              		.global	periph_Timer_PWM_SetEnable
 675              		.syntax unified
 676              		.thumb
 677              		.thumb_func
 678              		.fpu fpv4-sp-d16
 680              	periph_Timer_PWM_SetEnable:
 681              	.LVL63:
 682              	.LFB128:
 214:Bsp/periph_timer.c **** 
 215:Bsp/periph_timer.c **** void periph_Timer_PWM_SetEnable(Timer_list timerx, uint8_t state)
 216:Bsp/periph_timer.c **** {
 683              		.loc 1 216 1 view -0
 684              		.cfi_startproc
 685              		@ args = 0, pretend = 0, frame = 0
 686              		@ frame_needed = 0, uses_anonymous_args = 0
 687              		.loc 1 216 1 is_stmt 0 view .LVU165
 688 0000 08B5     		push	{r3, lr}
 689              	.LCFI11:
 690              		.cfi_def_cfa_offset 8
 691              		.cfi_offset 3, -8
 692              		.cfi_offset 14, -4
 217:Bsp/periph_timer.c **** 	if (state)
 693              		.loc 1 217 2 is_stmt 1 view .LVU166
 694              		.loc 1 217 5 is_stmt 0 view .LVU167
 695 0002 31B1     		cbz	r1, .L49
 218:Bsp/periph_timer.c **** 	{
 219:Bsp/periph_timer.c **** 		TIM_Cmd(Timer_Port[timerx], ENABLE);
 696              		.loc 1 219 3 is_stmt 1 view .LVU168
 697 0004 0121     		movs	r1, #1
 698              	.LVL64:
 699              		.loc 1 219 3 is_stmt 0 view .LVU169
 700 0006 064B     		ldr	r3, .L52
 701 0008 53F82000 		ldr	r0, [r3, r0, lsl #2]
 702              	.LVL65:
 703              		.loc 1 219 3 view .LVU170
 704 000c FFF7FEFF 		bl	TIM_Cmd
 705              	.LVL66:
 706              	.L48:
 220:Bsp/periph_timer.c **** 	}
 221:Bsp/periph_timer.c **** 	else
 222:Bsp/periph_timer.c **** 	{
 223:Bsp/periph_timer.c **** 		TIM_Cmd(Timer_Port[timerx], DISABLE);
 224:Bsp/periph_timer.c **** 	}
 225:Bsp/periph_timer.c **** }
 707              		.loc 1 225 1 view .LVU171
 708 0010 08BD     		pop	{r3, pc}
 709              	.LVL67:
 710              	.L49:
 223:Bsp/periph_timer.c **** 	}
 711              		.loc 1 223 3 is_stmt 1 view .LVU172
ARM GAS  /tmp/ccMRrM2X.s 			page 18


 712 0012 0021     		movs	r1, #0
 713              	.LVL68:
 223:Bsp/periph_timer.c **** 	}
 714              		.loc 1 223 3 is_stmt 0 view .LVU173
 715 0014 024B     		ldr	r3, .L52
 716 0016 53F82000 		ldr	r0, [r3, r0, lsl #2]
 717              	.LVL69:
 223:Bsp/periph_timer.c **** 	}
 718              		.loc 1 223 3 view .LVU174
 719 001a FFF7FEFF 		bl	TIM_Cmd
 720              	.LVL70:
 721              		.loc 1 225 1 view .LVU175
 722 001e F7E7     		b	.L48
 723              	.L53:
 724              		.align	2
 725              	.L52:
 726 0020 00000000 		.word	.LANCHOR1
 727              		.cfi_endproc
 728              	.LFE128:
 730              		.section	.text.periph_Timer_DShotOutPut_Mode_Init,"ax",%progbits
 731              		.align	1
 732              		.global	periph_Timer_DShotOutPut_Mode_Init
 733              		.syntax unified
 734              		.thumb
 735              		.thumb_func
 736              		.fpu fpv4-sp-d16
 738              	periph_Timer_DShotOutPut_Mode_Init:
 739              	.LVL71:
 740              	.LFB129:
 226:Bsp/periph_timer.c **** 
 227:Bsp/periph_timer.c **** void periph_Timer_DShotOutPut_Mode_Init(Timer_list timerx, Timer_PWM_Channel_State CH1_State, Timer
 228:Bsp/periph_timer.c **** 										uint32_t Buff_Size, uint32_t CH1_Buff, uint32_t CH2_Buff, uint32_t CH3_Buff, uint32_t CH4
 229:Bsp/periph_timer.c **** {
 741              		.loc 1 229 1 is_stmt 1 view -0
 742              		.cfi_startproc
 743              		@ args = 24, pretend = 0, frame = 96
 744              		@ frame_needed = 0, uses_anonymous_args = 0
 745              		.loc 1 229 1 is_stmt 0 view .LVU177
 746 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 747              	.LCFI12:
 748              		.cfi_def_cfa_offset 32
 749              		.cfi_offset 4, -32
 750              		.cfi_offset 5, -28
 751              		.cfi_offset 6, -24
 752              		.cfi_offset 7, -20
 753              		.cfi_offset 8, -16
 754              		.cfi_offset 9, -12
 755              		.cfi_offset 10, -8
 756              		.cfi_offset 14, -4
 757 0004 9AB0     		sub	sp, sp, #104
 758              	.LCFI13:
 759              		.cfi_def_cfa_offset 136
 760 0006 0446     		mov	r4, r0
 761 0008 8946     		mov	r9, r1
 762 000a 9046     		mov	r8, r2
 763 000c 1F46     		mov	r7, r3
 764 000e 9DF88850 		ldrb	r5, [sp, #136]	@ zero_extendqisi2
ARM GAS  /tmp/ccMRrM2X.s 			page 19


 230:Bsp/periph_timer.c **** 	TIM_TimeBaseInitTypeDef TIM_TimeBaseStructure;
 765              		.loc 1 230 2 is_stmt 1 view .LVU178
 231:Bsp/periph_timer.c **** 	TIM_OCInitTypeDef TIM_OCInitStructure;
 766              		.loc 1 231 2 view .LVU179
 232:Bsp/periph_timer.c **** 	DMA_InitTypeDef DMA_InitStructure;
 767              		.loc 1 232 2 view .LVU180
 233:Bsp/periph_timer.c **** 
 234:Bsp/periph_timer.c **** 	periph_Timer_IO_Init(timerx, CH1_State, CH2_State, CH3_State, CH4_State);
 768              		.loc 1 234 2 view .LVU181
 769 0012 0095     		str	r5, [sp]
 770 0014 FFF7FEFF 		bl	periph_Timer_IO_Init
 771              	.LVL72:
 235:Bsp/periph_timer.c **** 
 236:Bsp/periph_timer.c **** 	RCC_APB1PeriphClockCmd(Timer_CLK[timerx], ENABLE);
 772              		.loc 1 236 2 view .LVU182
 773 0018 0121     		movs	r1, #1
 774 001a 964B     		ldr	r3, .L80
 775 001c 53F82400 		ldr	r0, [r3, r4, lsl #2]
 776 0020 FFF7FEFF 		bl	RCC_APB1PeriphClockCmd
 777              	.LVL73:
 237:Bsp/periph_timer.c **** 	TIM_DeInit(Timer_Port[timerx]);
 778              		.loc 1 237 2 view .LVU183
 779 0024 DFF850A2 		ldr	r10, .L80+4
 780 0028 5AF82400 		ldr	r0, [r10, r4, lsl #2]
 781 002c FFF7FEFF 		bl	TIM_DeInit
 782              	.LVL74:
 238:Bsp/periph_timer.c **** 
 239:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Period = TIM_DShot600_Period;
 783              		.loc 1 239 2 view .LVU184
 784              		.loc 1 239 35 is_stmt 0 view .LVU185
 785 0030 4523     		movs	r3, #69
 786 0032 1893     		str	r3, [sp, #96]
 240:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_Prescaler = TIM_DShot600_Prescaler;
 787              		.loc 1 240 2 is_stmt 1 view .LVU186
 788              		.loc 1 240 38 is_stmt 0 view .LVU187
 789 0034 0323     		movs	r3, #3
 790 0036 ADF85C30 		strh	r3, [sp, #92]	@ movhi
 241:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_ClockDivision = TIM_CKD_DIV1;
 791              		.loc 1 241 2 is_stmt 1 view .LVU188
 792              		.loc 1 241 42 is_stmt 0 view .LVU189
 793 003a 0026     		movs	r6, #0
 794 003c ADF86460 		strh	r6, [sp, #100]	@ movhi
 242:Bsp/periph_timer.c **** 	TIM_TimeBaseStructure.TIM_CounterMode = TIM_CounterMode_Up;
 795              		.loc 1 242 2 is_stmt 1 view .LVU190
 796              		.loc 1 242 40 is_stmt 0 view .LVU191
 797 0040 ADF85E60 		strh	r6, [sp, #94]	@ movhi
 243:Bsp/periph_timer.c **** 	TIM_TimeBaseInit(Timer_Port[timerx], &TIM_TimeBaseStructure);
 798              		.loc 1 243 2 is_stmt 1 view .LVU192
 799 0044 17A9     		add	r1, sp, #92
 800 0046 5AF82400 		ldr	r0, [r10, r4, lsl #2]
 801 004a FFF7FEFF 		bl	TIM_TimeBaseInit
 802              	.LVL75:
 244:Bsp/periph_timer.c **** 
 245:Bsp/periph_timer.c **** 	TIM_OCStructInit(&TIM_OCInitStructure);
 803              		.loc 1 245 2 view .LVU193
 804 004e 12A8     		add	r0, sp, #72
 805 0050 FFF7FEFF 		bl	TIM_OCStructInit
ARM GAS  /tmp/ccMRrM2X.s 			page 20


 806              	.LVL76:
 246:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OCMode = TIM_OCMode_PWM1;
 807              		.loc 1 246 2 view .LVU194
 808              		.loc 1 246 33 is_stmt 0 view .LVU195
 809 0054 6023     		movs	r3, #96
 810 0056 ADF84830 		strh	r3, [sp, #72]	@ movhi
 247:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OutputState = TIM_OutputState_Enable;
 811              		.loc 1 247 2 is_stmt 1 view .LVU196
 812              		.loc 1 247 38 is_stmt 0 view .LVU197
 813 005a 0123     		movs	r3, #1
 814 005c ADF84A30 		strh	r3, [sp, #74]	@ movhi
 248:Bsp/periph_timer.c **** 	TIM_OCInitStructure.TIM_OCPolarity = TIM_OCPolarity_High;
 815              		.loc 1 248 2 is_stmt 1 view .LVU198
 816              		.loc 1 248 37 is_stmt 0 view .LVU199
 817 0060 ADF85460 		strh	r6, [sp, #84]	@ movhi
 249:Bsp/periph_timer.c **** 
 250:Bsp/periph_timer.c **** 	if (CH1_State == PWM_CH1_Enable)
 818              		.loc 1 250 2 is_stmt 1 view .LVU200
 819              		.loc 1 250 5 is_stmt 0 view .LVU201
 820 0064 9945     		cmp	r9, r3
 821 0066 20D0     		beq	.L68
 822              	.L55:
 251:Bsp/periph_timer.c **** 	{
 252:Bsp/periph_timer.c **** 		TIM_OC1Init(Timer_Port[timerx], &TIM_OCInitStructure);
 253:Bsp/periph_timer.c **** 		TIM_OC1PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 254:Bsp/periph_timer.c **** 	}
 255:Bsp/periph_timer.c **** 
 256:Bsp/periph_timer.c **** 	if (CH2_State == PWM_CH2_Enable)
 823              		.loc 1 256 2 is_stmt 1 view .LVU202
 824              		.loc 1 256 5 is_stmt 0 view .LVU203
 825 0068 B8F1010F 		cmp	r8, #1
 826 006c 28D0     		beq	.L69
 827              	.L56:
 257:Bsp/periph_timer.c **** 	{
 258:Bsp/periph_timer.c **** 		TIM_OC2Init(Timer_Port[timerx], &TIM_OCInitStructure);
 259:Bsp/periph_timer.c **** 		TIM_OC2PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 260:Bsp/periph_timer.c **** 	}
 261:Bsp/periph_timer.c **** 
 262:Bsp/periph_timer.c **** 	if (CH3_State == PWM_CH3_Enable)
 828              		.loc 1 262 2 is_stmt 1 view .LVU204
 829              		.loc 1 262 5 is_stmt 0 view .LVU205
 830 006e 012F     		cmp	r7, #1
 831 0070 32D0     		beq	.L70
 832              	.L57:
 263:Bsp/periph_timer.c **** 	{
 264:Bsp/periph_timer.c **** 		TIM_OC3Init(Timer_Port[timerx], &TIM_OCInitStructure);
 265:Bsp/periph_timer.c **** 		TIM_OC3PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 266:Bsp/periph_timer.c **** 	}
 267:Bsp/periph_timer.c **** 
 268:Bsp/periph_timer.c **** 	if (CH4_State == PWM_CH4_Enable)
 833              		.loc 1 268 2 is_stmt 1 view .LVU206
 834              		.loc 1 268 5 is_stmt 0 view .LVU207
 835 0072 012D     		cmp	r5, #1
 836 0074 3CD0     		beq	.L71
 837              	.L58:
 269:Bsp/periph_timer.c **** 	{
 270:Bsp/periph_timer.c **** 		TIM_OC4Init(Timer_Port[timerx], &TIM_OCInitStructure);
ARM GAS  /tmp/ccMRrM2X.s 			page 21


 271:Bsp/periph_timer.c **** 		TIM_OC4PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 272:Bsp/periph_timer.c **** 	}
 273:Bsp/periph_timer.c **** 
 274:Bsp/periph_timer.c **** 	TIM_ARRPreloadConfig(Timer_Port[timerx], ENABLE);
 838              		.loc 1 274 2 is_stmt 1 view .LVU208
 839 0076 804E     		ldr	r6, .L80+4
 840 0078 0121     		movs	r1, #1
 841 007a 56F82400 		ldr	r0, [r6, r4, lsl #2]
 842 007e FFF7FEFF 		bl	TIM_ARRPreloadConfig
 843              	.LVL77:
 275:Bsp/periph_timer.c **** 	TIM_Cmd(Timer_Port[timerx], ENABLE);
 844              		.loc 1 275 2 view .LVU209
 845 0082 0121     		movs	r1, #1
 846 0084 56F82400 		ldr	r0, [r6, r4, lsl #2]
 847 0088 FFF7FEFF 		bl	TIM_Cmd
 848              	.LVL78:
 276:Bsp/periph_timer.c **** 
 277:Bsp/periph_timer.c **** 	if (CH1_State == PWM_CH1_Enable)
 849              		.loc 1 277 2 view .LVU210
 850              		.loc 1 277 5 is_stmt 0 view .LVU211
 851 008c B9F1010F 		cmp	r9, #1
 852 0090 3AD0     		beq	.L72
 853              	.L59:
 278:Bsp/periph_timer.c **** 	{
 279:Bsp/periph_timer.c **** 		TIM_DMACmd(Timer_Port[timerx], TIM_DMA_CC1, ENABLE);
 280:Bsp/periph_timer.c **** 
 281:Bsp/periph_timer.c **** 		if (timerx == Timer_2)
 282:Bsp/periph_timer.c **** 		{
 283:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM2_CH1_DMA_Channel, (uint32_t) & (TIM2->CCR1), CH1_Buff, Bu
 284:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH1_DMA_Stream, &DMA_InitStructure, DISABLE);
 285:Bsp/periph_timer.c **** 		}
 286:Bsp/periph_timer.c **** 		else if (timerx == Timer_3)
 287:Bsp/periph_timer.c **** 		{
 288:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM3_CH1_DMA_Channel, (uint32_t) & (TIM3->CCR1), CH1_Buff, Bu
 289:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH1_DMA_Stream, &DMA_InitStructure, DISABLE);
 290:Bsp/periph_timer.c **** 		}
 291:Bsp/periph_timer.c **** 	}
 292:Bsp/periph_timer.c **** 
 293:Bsp/periph_timer.c **** 	if (CH2_State == PWM_CH2_Enable)
 854              		.loc 1 293 2 is_stmt 1 view .LVU212
 855              		.loc 1 293 5 is_stmt 0 view .LVU213
 856 0092 B8F1010F 		cmp	r8, #1
 857 0096 63D0     		beq	.L73
 858              	.L61:
 294:Bsp/periph_timer.c **** 	{
 295:Bsp/periph_timer.c **** 		TIM_DMACmd(Timer_Port[timerx], TIM_DMA_CC2, ENABLE);
 296:Bsp/periph_timer.c **** 
 297:Bsp/periph_timer.c **** 		if (timerx == Timer_2)
 298:Bsp/periph_timer.c **** 		{
 299:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM2_CH2_DMA_Channel, (uint32_t) & (TIM2->CCR2), CH2_Buff, Bu
 300:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH2_DMA_Stream, &DMA_InitStructure, DISABLE);
 301:Bsp/periph_timer.c **** 		}
 302:Bsp/periph_timer.c **** 		else if (timerx == Timer_3)
 303:Bsp/periph_timer.c **** 		{
 304:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM3_CH2_DMA_Channel, (uint32_t) & (TIM3->CCR2), CH2_Buff, Bu
 305:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH2_DMA_Stream, &DMA_InitStructure, DISABLE);
 306:Bsp/periph_timer.c **** 		}
ARM GAS  /tmp/ccMRrM2X.s 			page 22


 307:Bsp/periph_timer.c **** 	}
 308:Bsp/periph_timer.c **** 
 309:Bsp/periph_timer.c **** 	if (CH3_State == PWM_CH3_Enable)
 859              		.loc 1 309 2 is_stmt 1 view .LVU214
 860              		.loc 1 309 5 is_stmt 0 view .LVU215
 861 0098 012F     		cmp	r7, #1
 862 009a 00F08E80 		beq	.L74
 863              	.L63:
 310:Bsp/periph_timer.c **** 	{
 311:Bsp/periph_timer.c **** 		TIM_DMACmd(Timer_Port[timerx], TIM_DMA_CC3, ENABLE);
 312:Bsp/periph_timer.c **** 
 313:Bsp/periph_timer.c **** 		if (timerx == Timer_2)
 314:Bsp/periph_timer.c **** 		{
 315:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM2_CH3_DMA_Channel, (uint32_t) & (TIM2->CCR3), CH3_Buff, Bu
 316:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH3_DMA_Stream, &DMA_InitStructure, DISABLE);
 317:Bsp/periph_timer.c **** 		}
 318:Bsp/periph_timer.c **** 		else if (timerx == Timer_3)
 319:Bsp/periph_timer.c **** 		{
 320:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM3_CH2_DMA_Channel, (uint32_t) & (TIM3->CCR3), CH3_Buff, Bu
 321:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH3_DMA_Stream, &DMA_InitStructure, DISABLE);
 322:Bsp/periph_timer.c **** 		}
 323:Bsp/periph_timer.c **** 	}
 324:Bsp/periph_timer.c **** 
 325:Bsp/periph_timer.c **** 	if (CH4_State == PWM_CH4_Enable)
 864              		.loc 1 325 2 is_stmt 1 view .LVU216
 865              		.loc 1 325 5 is_stmt 0 view .LVU217
 866 009e 012D     		cmp	r5, #1
 867 00a0 00F0B980 		beq	.L75
 868              	.L54:
 326:Bsp/periph_timer.c **** 	{
 327:Bsp/periph_timer.c **** 		TIM_DMACmd(Timer_Port[timerx], TIM_DMA_CC4, ENABLE);
 328:Bsp/periph_timer.c **** 
 329:Bsp/periph_timer.c **** 		if (timerx == Timer_2)
 330:Bsp/periph_timer.c **** 		{
 331:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM2_CH4_DMA_Channel, (uint32_t) & (TIM2->CCR4), CH4_Buff, Bu
 332:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH4_DMA_Stream, &DMA_InitStructure, DISABLE);
 333:Bsp/periph_timer.c **** 		}
 334:Bsp/periph_timer.c **** 		else if (timerx == Timer_3)
 335:Bsp/periph_timer.c **** 		{
 336:Bsp/periph_timer.c **** 			periph_DMA_TIM(&DMA_InitStructure, TIM3_CH4_DMA_Channel, (uint32_t) & (TIM3->CCR4), CH4_Buff, Bu
 337:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH4_DMA_Stream, &DMA_InitStructure, DISABLE);
 338:Bsp/periph_timer.c **** 		}
 339:Bsp/periph_timer.c **** 	}
 340:Bsp/periph_timer.c **** }
 869              		.loc 1 340 1 view .LVU218
 870 00a4 1AB0     		add	sp, sp, #104
 871              	.LCFI14:
 872              		.cfi_remember_state
 873              		.cfi_def_cfa_offset 32
 874              		@ sp needed
 875 00a6 BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 876              	.LVL79:
 877              	.L68:
 878              	.LCFI15:
 879              		.cfi_restore_state
 252:Bsp/periph_timer.c **** 		TIM_OC1PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 880              		.loc 1 252 3 is_stmt 1 view .LVU219
ARM GAS  /tmp/ccMRrM2X.s 			page 23


 881 00aa 12A9     		add	r1, sp, #72
 882 00ac 5AF82400 		ldr	r0, [r10, r4, lsl #2]
 883 00b0 FFF7FEFF 		bl	TIM_OC1Init
 884              	.LVL80:
 253:Bsp/periph_timer.c **** 	}
 885              		.loc 1 253 3 view .LVU220
 886 00b4 0821     		movs	r1, #8
 887 00b6 5AF82400 		ldr	r0, [r10, r4, lsl #2]
 888 00ba FFF7FEFF 		bl	TIM_OC1PreloadConfig
 889              	.LVL81:
 890 00be D3E7     		b	.L55
 891              	.L69:
 258:Bsp/periph_timer.c **** 		TIM_OC2PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 892              		.loc 1 258 3 view .LVU221
 893 00c0 6D4E     		ldr	r6, .L80+4
 894 00c2 12A9     		add	r1, sp, #72
 895 00c4 56F82400 		ldr	r0, [r6, r4, lsl #2]
 896 00c8 FFF7FEFF 		bl	TIM_OC2Init
 897              	.LVL82:
 259:Bsp/periph_timer.c **** 	}
 898              		.loc 1 259 3 view .LVU222
 899 00cc 0821     		movs	r1, #8
 900 00ce 56F82400 		ldr	r0, [r6, r4, lsl #2]
 901 00d2 FFF7FEFF 		bl	TIM_OC2PreloadConfig
 902              	.LVL83:
 903 00d6 CAE7     		b	.L56
 904              	.L70:
 264:Bsp/periph_timer.c **** 		TIM_OC3PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 905              		.loc 1 264 3 view .LVU223
 906 00d8 674E     		ldr	r6, .L80+4
 907 00da 12A9     		add	r1, sp, #72
 908 00dc 56F82400 		ldr	r0, [r6, r4, lsl #2]
 909 00e0 FFF7FEFF 		bl	TIM_OC3Init
 910              	.LVL84:
 265:Bsp/periph_timer.c **** 	}
 911              		.loc 1 265 3 view .LVU224
 912 00e4 0821     		movs	r1, #8
 913 00e6 56F82400 		ldr	r0, [r6, r4, lsl #2]
 914 00ea FFF7FEFF 		bl	TIM_OC3PreloadConfig
 915              	.LVL85:
 916 00ee C0E7     		b	.L57
 917              	.L71:
 270:Bsp/periph_timer.c **** 		TIM_OC4PreloadConfig(Timer_Port[timerx], TIM_OCPreload_Enable);
 918              		.loc 1 270 3 view .LVU225
 919 00f0 614E     		ldr	r6, .L80+4
 920 00f2 12A9     		add	r1, sp, #72
 921 00f4 56F82400 		ldr	r0, [r6, r4, lsl #2]
 922 00f8 FFF7FEFF 		bl	TIM_OC4Init
 923              	.LVL86:
 271:Bsp/periph_timer.c **** 	}
 924              		.loc 1 271 3 view .LVU226
 925 00fc 0821     		movs	r1, #8
 926 00fe 56F82400 		ldr	r0, [r6, r4, lsl #2]
 927 0102 FFF7FEFF 		bl	TIM_OC4PreloadConfig
 928              	.LVL87:
 929 0106 B6E7     		b	.L58
 930              	.L72:
ARM GAS  /tmp/ccMRrM2X.s 			page 24


 279:Bsp/periph_timer.c **** 
 931              		.loc 1 279 3 view .LVU227
 932 0108 0122     		movs	r2, #1
 933 010a 4FF40071 		mov	r1, #512
 934 010e 56F82400 		ldr	r0, [r6, r4, lsl #2]
 935 0112 FFF7FEFF 		bl	TIM_DMACmd
 936              	.LVL88:
 281:Bsp/periph_timer.c **** 		{
 937              		.loc 1 281 3 view .LVU228
 281:Bsp/periph_timer.c **** 		{
 938              		.loc 1 281 6 is_stmt 0 view .LVU229
 939 0116 94B1     		cbz	r4, .L76
 286:Bsp/periph_timer.c **** 		{
 940              		.loc 1 286 8 is_stmt 1 view .LVU230
 286:Bsp/periph_timer.c **** 		{
 941              		.loc 1 286 11 is_stmt 0 view .LVU231
 942 0118 012C     		cmp	r4, #1
 943 011a BAD1     		bne	.L59
 944              	.LBB2:
 288:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH1_DMA_Stream, &DMA_InitStructure, DISABLE);
 945              		.loc 1 288 4 is_stmt 1 view .LVU232
 946 011c 239B     		ldr	r3, [sp, #140]
 947 011e 0093     		str	r3, [sp]
 948 0120 249B     		ldr	r3, [sp, #144]
 949 0122 564A     		ldr	r2, .L80+8
 950 0124 4FF02061 		mov	r1, #167772160
 951 0128 03A8     		add	r0, sp, #12
 952 012a FFF7FEFF 		bl	periph_DMA_TIM
 953              	.LVL89:
 289:Bsp/periph_timer.c **** 		}
 954              		.loc 1 289 4 view .LVU233
 955 012e 0023     		movs	r3, #0
 956 0130 03AA     		add	r2, sp, #12
 957 0132 5349     		ldr	r1, .L80+12
 958 0134 4FF40010 		mov	r0, #2097152
 959 0138 FFF7FEFF 		bl	periph_DMA_Init
 960              	.LVL90:
 961 013c A9E7     		b	.L59
 962              	.L76:
 963              	.LBE2:
 964              	.LBB3:
 283:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH1_DMA_Stream, &DMA_InitStructure, DISABLE);
 965              		.loc 1 283 4 view .LVU234
 966 013e 239B     		ldr	r3, [sp, #140]
 967 0140 0093     		str	r3, [sp]
 968 0142 249B     		ldr	r3, [sp, #144]
 969 0144 4F4A     		ldr	r2, .L80+16
 970 0146 4FF0C061 		mov	r1, #100663296
 971 014a 03A8     		add	r0, sp, #12
 972 014c FFF7FEFF 		bl	periph_DMA_TIM
 973              	.LVL91:
 284:Bsp/periph_timer.c **** 		}
 974              		.loc 1 284 4 view .LVU235
 975 0150 0023     		movs	r3, #0
 976 0152 03AA     		add	r2, sp, #12
 977 0154 4C49     		ldr	r1, .L80+20
 978 0156 4FF40010 		mov	r0, #2097152
ARM GAS  /tmp/ccMRrM2X.s 			page 25


 979 015a FFF7FEFF 		bl	periph_DMA_Init
 980              	.LVL92:
 981              	.LBE3:
 982 015e 98E7     		b	.L59
 983              	.L73:
 295:Bsp/periph_timer.c **** 
 984              		.loc 1 295 3 view .LVU236
 985 0160 0122     		movs	r2, #1
 986 0162 4FF48061 		mov	r1, #1024
 987 0166 444B     		ldr	r3, .L80+4
 988 0168 53F82400 		ldr	r0, [r3, r4, lsl #2]
 989 016c FFF7FEFF 		bl	TIM_DMACmd
 990              	.LVL93:
 297:Bsp/periph_timer.c **** 		{
 991              		.loc 1 297 3 view .LVU237
 297:Bsp/periph_timer.c **** 		{
 992              		.loc 1 297 6 is_stmt 0 view .LVU238
 993 0170 94B1     		cbz	r4, .L77
 302:Bsp/periph_timer.c **** 		{
 994              		.loc 1 302 8 is_stmt 1 view .LVU239
 302:Bsp/periph_timer.c **** 		{
 995              		.loc 1 302 11 is_stmt 0 view .LVU240
 996 0172 012C     		cmp	r4, #1
 997 0174 90D1     		bne	.L61
 998              	.LBB4:
 304:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH2_DMA_Stream, &DMA_InitStructure, DISABLE);
 999              		.loc 1 304 4 is_stmt 1 view .LVU241
 1000 0176 239B     		ldr	r3, [sp, #140]
 1001 0178 0093     		str	r3, [sp]
 1002 017a 259B     		ldr	r3, [sp, #148]
 1003 017c 434A     		ldr	r2, .L80+24
 1004 017e 4FF02061 		mov	r1, #167772160
 1005 0182 03A8     		add	r0, sp, #12
 1006 0184 FFF7FEFF 		bl	periph_DMA_TIM
 1007              	.LVL94:
 305:Bsp/periph_timer.c **** 		}
 1008              		.loc 1 305 4 view .LVU242
 1009 0188 0023     		movs	r3, #0
 1010 018a 03AA     		add	r2, sp, #12
 1011 018c 3E49     		ldr	r1, .L80+20
 1012 018e 4FF40010 		mov	r0, #2097152
 1013 0192 FFF7FEFF 		bl	periph_DMA_Init
 1014              	.LVL95:
 1015 0196 7FE7     		b	.L61
 1016              	.L77:
 1017              	.LBE4:
 1018              	.LBB5:
 299:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH2_DMA_Stream, &DMA_InitStructure, DISABLE);
 1019              		.loc 1 299 4 view .LVU243
 1020 0198 239B     		ldr	r3, [sp, #140]
 1021 019a 0093     		str	r3, [sp]
 1022 019c 259B     		ldr	r3, [sp, #148]
 1023 019e 3C4A     		ldr	r2, .L80+28
 1024 01a0 4FF0C061 		mov	r1, #100663296
 1025 01a4 03A8     		add	r0, sp, #12
 1026 01a6 FFF7FEFF 		bl	periph_DMA_TIM
 1027              	.LVL96:
ARM GAS  /tmp/ccMRrM2X.s 			page 26


 300:Bsp/periph_timer.c **** 		}
 1028              		.loc 1 300 4 view .LVU244
 1029 01aa 0023     		movs	r3, #0
 1030 01ac 03AA     		add	r2, sp, #12
 1031 01ae 3949     		ldr	r1, .L80+32
 1032 01b0 4FF40010 		mov	r0, #2097152
 1033 01b4 FFF7FEFF 		bl	periph_DMA_Init
 1034              	.LVL97:
 1035              	.LBE5:
 1036 01b8 6EE7     		b	.L61
 1037              	.L74:
 311:Bsp/periph_timer.c **** 
 1038              		.loc 1 311 3 view .LVU245
 1039 01ba 0122     		movs	r2, #1
 1040 01bc 4FF40061 		mov	r1, #2048
 1041 01c0 2D4B     		ldr	r3, .L80+4
 1042 01c2 53F82400 		ldr	r0, [r3, r4, lsl #2]
 1043 01c6 FFF7FEFF 		bl	TIM_DMACmd
 1044              	.LVL98:
 313:Bsp/periph_timer.c **** 		{
 1045              		.loc 1 313 3 view .LVU246
 313:Bsp/periph_timer.c **** 		{
 1046              		.loc 1 313 6 is_stmt 0 view .LVU247
 1047 01ca 9CB1     		cbz	r4, .L78
 318:Bsp/periph_timer.c **** 		{
 1048              		.loc 1 318 8 is_stmt 1 view .LVU248
 318:Bsp/periph_timer.c **** 		{
 1049              		.loc 1 318 11 is_stmt 0 view .LVU249
 1050 01cc 012C     		cmp	r4, #1
 1051 01ce 7FF466AF 		bne	.L63
 1052              	.LBB6:
 320:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH3_DMA_Stream, &DMA_InitStructure, DISABLE);
 1053              		.loc 1 320 4 is_stmt 1 view .LVU250
 1054 01d2 239B     		ldr	r3, [sp, #140]
 1055 01d4 0093     		str	r3, [sp]
 1056 01d6 269B     		ldr	r3, [sp, #152]
 1057 01d8 2F4A     		ldr	r2, .L80+36
 1058 01da 4FF02061 		mov	r1, #167772160
 1059 01de 03A8     		add	r0, sp, #12
 1060 01e0 FFF7FEFF 		bl	periph_DMA_TIM
 1061              	.LVL99:
 321:Bsp/periph_timer.c **** 		}
 1062              		.loc 1 321 4 view .LVU251
 1063 01e4 0023     		movs	r3, #0
 1064 01e6 03AA     		add	r2, sp, #12
 1065 01e8 2C49     		ldr	r1, .L80+40
 1066 01ea 4FF40010 		mov	r0, #2097152
 1067 01ee FFF7FEFF 		bl	periph_DMA_Init
 1068              	.LVL100:
 1069 01f2 54E7     		b	.L63
 1070              	.L78:
 1071              	.LBE6:
 1072              	.LBB7:
 315:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH3_DMA_Stream, &DMA_InitStructure, DISABLE);
 1073              		.loc 1 315 4 view .LVU252
 1074 01f4 239B     		ldr	r3, [sp, #140]
 1075 01f6 0093     		str	r3, [sp]
ARM GAS  /tmp/ccMRrM2X.s 			page 27


 1076 01f8 269B     		ldr	r3, [sp, #152]
 1077 01fa 294A     		ldr	r2, .L80+44
 1078 01fc 4FF0C061 		mov	r1, #100663296
 1079 0200 03A8     		add	r0, sp, #12
 1080 0202 FFF7FEFF 		bl	periph_DMA_TIM
 1081              	.LVL101:
 316:Bsp/periph_timer.c **** 		}
 1082              		.loc 1 316 4 view .LVU253
 1083 0206 0023     		movs	r3, #0
 1084 0208 03AA     		add	r2, sp, #12
 1085 020a 2649     		ldr	r1, .L80+48
 1086 020c 4FF40010 		mov	r0, #2097152
 1087 0210 FFF7FEFF 		bl	periph_DMA_Init
 1088              	.LVL102:
 1089              	.LBE7:
 1090 0214 43E7     		b	.L63
 1091              	.L75:
 327:Bsp/periph_timer.c **** 
 1092              		.loc 1 327 3 view .LVU254
 1093 0216 0122     		movs	r2, #1
 1094 0218 4FF48051 		mov	r1, #4096
 1095 021c 164B     		ldr	r3, .L80+4
 1096 021e 53F82400 		ldr	r0, [r3, r4, lsl #2]
 1097 0222 FFF7FEFF 		bl	TIM_DMACmd
 1098              	.LVL103:
 329:Bsp/periph_timer.c **** 		{
 1099              		.loc 1 329 3 view .LVU255
 329:Bsp/periph_timer.c **** 		{
 1100              		.loc 1 329 6 is_stmt 0 view .LVU256
 1101 0226 9CB1     		cbz	r4, .L79
 334:Bsp/periph_timer.c **** 		{
 1102              		.loc 1 334 8 is_stmt 1 view .LVU257
 334:Bsp/periph_timer.c **** 		{
 1103              		.loc 1 334 11 is_stmt 0 view .LVU258
 1104 0228 012C     		cmp	r4, #1
 1105 022a 7FF43BAF 		bne	.L54
 1106              	.LBB8:
 336:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM3_DMA_CLK, TIM3_CH4_DMA_Stream, &DMA_InitStructure, DISABLE);
 1107              		.loc 1 336 4 is_stmt 1 view .LVU259
 1108 022e 239B     		ldr	r3, [sp, #140]
 1109 0230 0093     		str	r3, [sp]
 1110 0232 279B     		ldr	r3, [sp, #156]
 1111 0234 1C4A     		ldr	r2, .L80+52
 1112 0236 4FF02061 		mov	r1, #167772160
 1113 023a 03A8     		add	r0, sp, #12
 1114 023c FFF7FEFF 		bl	periph_DMA_TIM
 1115              	.LVL104:
 337:Bsp/periph_timer.c **** 		}
 1116              		.loc 1 337 4 view .LVU260
 1117 0240 0023     		movs	r3, #0
 1118 0242 03AA     		add	r2, sp, #12
 1119 0244 1949     		ldr	r1, .L80+56
 1120 0246 4FF40010 		mov	r0, #2097152
 1121 024a FFF7FEFF 		bl	periph_DMA_Init
 1122              	.LVL105:
 1123              	.LBE8:
 1124              		.loc 1 340 1 is_stmt 0 view .LVU261
ARM GAS  /tmp/ccMRrM2X.s 			page 28


 1125 024e 29E7     		b	.L54
 1126              	.L79:
 1127              	.LBB9:
 331:Bsp/periph_timer.c **** 			periph_DMA_Init(TIM2_DMA_CLK, TIM2_CH4_DMA_Stream, &DMA_InitStructure, DISABLE);
 1128              		.loc 1 331 4 is_stmt 1 view .LVU262
 1129 0250 239B     		ldr	r3, [sp, #140]
 1130 0252 0093     		str	r3, [sp]
 1131 0254 279B     		ldr	r3, [sp, #156]
 1132 0256 164A     		ldr	r2, .L80+60
 1133 0258 4FF0C061 		mov	r1, #100663296
 1134 025c 03A8     		add	r0, sp, #12
 1135 025e FFF7FEFF 		bl	periph_DMA_TIM
 1136              	.LVL106:
 332:Bsp/periph_timer.c **** 		}
 1137              		.loc 1 332 4 view .LVU263
 1138 0262 0023     		movs	r3, #0
 1139 0264 03AA     		add	r2, sp, #12
 1140 0266 0B49     		ldr	r1, .L80+32
 1141 0268 4FF40010 		mov	r0, #2097152
 1142 026c FFF7FEFF 		bl	periph_DMA_Init
 1143              	.LVL107:
 1144              	.LBE9:
 1145 0270 18E7     		b	.L54
 1146              	.L81:
 1147 0272 00BF     		.align	2
 1148              	.L80:
 1149 0274 00000000 		.word	.LANCHOR0
 1150 0278 00000000 		.word	.LANCHOR1
 1151 027c 34040040 		.word	1073742900
 1152 0280 70600240 		.word	1073897584
 1153 0284 34000040 		.word	1073741876
 1154 0288 88600240 		.word	1073897608
 1155 028c 38040040 		.word	1073742904
 1156 0290 38000040 		.word	1073741880
 1157 0294 A0600240 		.word	1073897632
 1158 0298 3C040040 		.word	1073742908
 1159 029c B8600240 		.word	1073897656
 1160 02a0 3C000040 		.word	1073741884
 1161 02a4 28600240 		.word	1073897512
 1162 02a8 40040040 		.word	1073742912
 1163 02ac 40600240 		.word	1073897536
 1164 02b0 40000040 		.word	1073741888
 1165              		.cfi_endproc
 1166              	.LFE129:
 1168              		.section	.text.periph_Timer_Set_PWMOutPut,"ax",%progbits
 1169              		.align	1
 1170              		.global	periph_Timer_Set_PWMOutPut
 1171              		.syntax unified
 1172              		.thumb
 1173              		.thumb_func
 1174              		.fpu fpv4-sp-d16
 1176              	periph_Timer_Set_PWMOutPut:
 1177              	.LVL108:
 1178              	.LFB130:
 341:Bsp/periph_timer.c **** 
 342:Bsp/periph_timer.c **** void periph_Timer_Set_PWMOutPut(Timer_list timerx, PWM_OutPut_Channel Channel, uint32_t value)
 343:Bsp/periph_timer.c **** {
ARM GAS  /tmp/ccMRrM2X.s 			page 29


 1179              		.loc 1 343 1 view -0
 1180              		.cfi_startproc
 1181              		@ args = 0, pretend = 0, frame = 0
 1182              		@ frame_needed = 0, uses_anonymous_args = 0
 1183              		.loc 1 343 1 is_stmt 0 view .LVU265
 1184 0000 08B5     		push	{r3, lr}
 1185              	.LCFI16:
 1186              		.cfi_def_cfa_offset 8
 1187              		.cfi_offset 3, -8
 1188              		.cfi_offset 14, -4
 344:Bsp/periph_timer.c **** 	PWM_Set_Value[Channel](Timer_Port[timerx], value);
 1189              		.loc 1 344 2 is_stmt 1 view .LVU266
 1190              		.loc 1 344 15 is_stmt 0 view .LVU267
 1191 0002 044B     		ldr	r3, .L84
 1192 0004 53F82130 		ldr	r3, [r3, r1, lsl #2]
 1193              		.loc 1 344 2 view .LVU268
 1194 0008 1146     		mov	r1, r2
 1195              	.LVL109:
 1196              		.loc 1 344 2 view .LVU269
 1197 000a 034A     		ldr	r2, .L84+4
 1198              	.LVL110:
 1199              		.loc 1 344 2 view .LVU270
 1200 000c 52F82000 		ldr	r0, [r2, r0, lsl #2]
 1201              	.LVL111:
 1202              		.loc 1 344 2 view .LVU271
 1203 0010 9847     		blx	r3
 1204              	.LVL112:
 345:Bsp/periph_timer.c **** }
 1205              		.loc 1 345 1 view .LVU272
 1206 0012 08BD     		pop	{r3, pc}
 1207              	.L85:
 1208              		.align	2
 1209              	.L84:
 1210 0014 00000000 		.word	.LANCHOR3
 1211 0018 00000000 		.word	.LANCHOR1
 1212              		.cfi_endproc
 1213              	.LFE130:
 1215              		.section	.text.periph_Timer_Counter_SetEnable,"ax",%progbits
 1216              		.align	1
 1217              		.global	periph_Timer_Counter_SetEnable
 1218              		.syntax unified
 1219              		.thumb
 1220              		.thumb_func
 1221              		.fpu fpv4-sp-d16
 1223              	periph_Timer_Counter_SetEnable:
 1224              	.LVL113:
 1225              	.LFB131:
 346:Bsp/periph_timer.c **** 
 347:Bsp/periph_timer.c **** void periph_Timer_Counter_SetEnable(Timer_list timerx, uint8_t state)
 348:Bsp/periph_timer.c **** {
 1226              		.loc 1 348 1 is_stmt 1 view -0
 1227              		.cfi_startproc
 1228              		@ args = 0, pretend = 0, frame = 0
 1229              		@ frame_needed = 0, uses_anonymous_args = 0
 1230              		.loc 1 348 1 is_stmt 0 view .LVU274
 1231 0000 08B5     		push	{r3, lr}
 1232              	.LCFI17:
ARM GAS  /tmp/ccMRrM2X.s 			page 30


 1233              		.cfi_def_cfa_offset 8
 1234              		.cfi_offset 3, -8
 1235              		.cfi_offset 14, -4
 349:Bsp/periph_timer.c **** 	if (state)
 1236              		.loc 1 349 2 is_stmt 1 view .LVU275
 1237              		.loc 1 349 5 is_stmt 0 view .LVU276
 1238 0002 31B1     		cbz	r1, .L87
 350:Bsp/periph_timer.c **** 	{
 351:Bsp/periph_timer.c **** 		TIM_Cmd(Timer_Port[timerx], ENABLE);
 1239              		.loc 1 351 3 is_stmt 1 view .LVU277
 1240 0004 0121     		movs	r1, #1
 1241              	.LVL114:
 1242              		.loc 1 351 3 is_stmt 0 view .LVU278
 1243 0006 064B     		ldr	r3, .L90
 1244 0008 53F82000 		ldr	r0, [r3, r0, lsl #2]
 1245              	.LVL115:
 1246              		.loc 1 351 3 view .LVU279
 1247 000c FFF7FEFF 		bl	TIM_Cmd
 1248              	.LVL116:
 1249              	.L86:
 352:Bsp/periph_timer.c **** 	}
 353:Bsp/periph_timer.c **** 	else
 354:Bsp/periph_timer.c **** 	{
 355:Bsp/periph_timer.c **** 		TIM_Cmd(Timer_Port[timerx], DISABLE);
 356:Bsp/periph_timer.c **** 	}
 357:Bsp/periph_timer.c **** }
 1250              		.loc 1 357 1 view .LVU280
 1251 0010 08BD     		pop	{r3, pc}
 1252              	.LVL117:
 1253              	.L87:
 355:Bsp/periph_timer.c **** 	}
 1254              		.loc 1 355 3 is_stmt 1 view .LVU281
 1255 0012 0021     		movs	r1, #0
 1256              	.LVL118:
 355:Bsp/periph_timer.c **** 	}
 1257              		.loc 1 355 3 is_stmt 0 view .LVU282
 1258 0014 024B     		ldr	r3, .L90
 1259 0016 53F82000 		ldr	r0, [r3, r0, lsl #2]
 1260              	.LVL119:
 355:Bsp/periph_timer.c **** 	}
 1261              		.loc 1 355 3 view .LVU283
 1262 001a FFF7FEFF 		bl	TIM_Cmd
 1263              	.LVL120:
 1264              		.loc 1 357 1 view .LVU284
 1265 001e F7E7     		b	.L86
 1266              	.L91:
 1267              		.align	2
 1268              	.L90:
 1269 0020 00000000 		.word	.LANCHOR1
 1270              		.cfi_endproc
 1271              	.LFE131:
 1273              		.global	Timer_Port
 1274              		.section	.data.Timer_Port,"aw"
 1275              		.align	2
 1276              		.set	.LANCHOR1,. + 0
 1279              	Timer_Port:
 1280 0000 00000040 		.word	1073741824
ARM GAS  /tmp/ccMRrM2X.s 			page 31


 1281 0004 00040040 		.word	1073742848
 1282 0008 00080040 		.word	1073743872
 1283              		.section	.rodata.PWM_Set_Value,"a"
 1284              		.align	2
 1285              		.set	.LANCHOR3,. + 0
 1288              	PWM_Set_Value:
 1289 0000 00000000 		.word	TIM_SetCompare1
 1290 0004 00000000 		.word	TIM_SetCompare2
 1291 0008 00000000 		.word	TIM_SetCompare3
 1292 000c 00000000 		.word	TIM_SetCompare4
 1293              		.section	.rodata.Timer_CLK,"a"
 1294              		.align	2
 1295              		.set	.LANCHOR0,. + 0
 1298              	Timer_CLK:
 1299 0000 01000000 		.word	1
 1300 0004 02000000 		.word	2
 1301 0008 04000000 		.word	4
 1302              		.section	.rodata.Timer_IRQ_Channel,"a"
 1303              		.align	2
 1304              		.set	.LANCHOR2,. + 0
 1307              	Timer_IRQ_Channel:
 1308 0000 1C       		.byte	28
 1309 0001 1D       		.byte	29
 1310 0002 1E       		.byte	30
 1311              		.text
 1312              	.Letext0:
 1313              		.file 2 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1314              		.file 3 "/home/bt0/stm32/compile-tool/gcc-arm-none-eabi-8-2018-q4-major-linux/gcc-arm-none-eabi-8-
 1315              		.file 4 "F4_CORE/core_cm4.h"
 1316              		.file 5 "USER/system_stm32f4xx.h"
 1317              		.file 6 "USER/stm32f4xx.h"
 1318              		.file 7 "FWLIB/inc/stm32f4xx_dma.h"
 1319              		.file 8 "FWLIB/inc/misc.h"
 1320              		.file 9 "FWLIB/inc/stm32f4xx_tim.h"
 1321              		.file 10 "Bsp/periph_timer.h"
 1322              		.file 11 "Bsp/periph_dma.h"
 1323              		.file 12 "FWLIB/inc/stm32f4xx_rcc.h"
 1324              		.file 13 "Bsp/periph_gpio.h"
ARM GAS  /tmp/ccMRrM2X.s 			page 32


DEFINED SYMBOLS
                            *ABS*:0000000000000000 periph_timer.c
     /tmp/ccMRrM2X.s:18     .text.periph_Timer_IO_Init:0000000000000000 $t
     /tmp/ccMRrM2X.s:25     .text.periph_Timer_IO_Init:0000000000000000 periph_Timer_IO_Init
     /tmp/ccMRrM2X.s:178    .text.periph_Timer_CounterMode_Init:0000000000000000 $t
     /tmp/ccMRrM2X.s:185    .text.periph_Timer_CounterMode_Init:0000000000000000 periph_Timer_CounterMode_Init
     /tmp/ccMRrM2X.s:289    .text.periph_Timer_CounterMode_Init:0000000000000074 $d
     /tmp/ccMRrM2X.s:296    .text.periph_Timer_Encoder_Mode_Init:0000000000000000 $t
     /tmp/ccMRrM2X.s:303    .text.periph_Timer_Encoder_Mode_Init:0000000000000000 periph_Timer_Encoder_Mode_Init
     /tmp/ccMRrM2X.s:406    .text.periph_Timer_Encoder_Mode_Init:0000000000000080 $d
     /tmp/ccMRrM2X.s:412    .text.periph_Timer_GetEncoder_Input:0000000000000000 $t
     /tmp/ccMRrM2X.s:419    .text.periph_Timer_GetEncoder_Input:0000000000000000 periph_Timer_GetEncoder_Input
     /tmp/ccMRrM2X.s:440    .text.periph_Timer_GetEncoder_Input:000000000000000c $d
     /tmp/ccMRrM2X.s:445    .text.periph_Timer_PWMOutPut_Mode_Init:0000000000000000 $t
     /tmp/ccMRrM2X.s:452    .text.periph_Timer_PWMOutPut_Mode_Init:0000000000000000 periph_Timer_PWMOutPut_Mode_Init
     /tmp/ccMRrM2X.s:667    .text.periph_Timer_PWMOutPut_Mode_Init:000000000000012c $d
     /tmp/ccMRrM2X.s:673    .text.periph_Timer_PWM_SetEnable:0000000000000000 $t
     /tmp/ccMRrM2X.s:680    .text.periph_Timer_PWM_SetEnable:0000000000000000 periph_Timer_PWM_SetEnable
     /tmp/ccMRrM2X.s:726    .text.periph_Timer_PWM_SetEnable:0000000000000020 $d
     /tmp/ccMRrM2X.s:731    .text.periph_Timer_DShotOutPut_Mode_Init:0000000000000000 $t
     /tmp/ccMRrM2X.s:738    .text.periph_Timer_DShotOutPut_Mode_Init:0000000000000000 periph_Timer_DShotOutPut_Mode_Init
     /tmp/ccMRrM2X.s:1149   .text.periph_Timer_DShotOutPut_Mode_Init:0000000000000274 $d
     /tmp/ccMRrM2X.s:1169   .text.periph_Timer_Set_PWMOutPut:0000000000000000 $t
     /tmp/ccMRrM2X.s:1176   .text.periph_Timer_Set_PWMOutPut:0000000000000000 periph_Timer_Set_PWMOutPut
     /tmp/ccMRrM2X.s:1210   .text.periph_Timer_Set_PWMOutPut:0000000000000014 $d
     /tmp/ccMRrM2X.s:1216   .text.periph_Timer_Counter_SetEnable:0000000000000000 $t
     /tmp/ccMRrM2X.s:1223   .text.periph_Timer_Counter_SetEnable:0000000000000000 periph_Timer_Counter_SetEnable
     /tmp/ccMRrM2X.s:1269   .text.periph_Timer_Counter_SetEnable:0000000000000020 $d
     /tmp/ccMRrM2X.s:1279   .data.Timer_Port:0000000000000000 Timer_Port
     /tmp/ccMRrM2X.s:1275   .data.Timer_Port:0000000000000000 $d
     /tmp/ccMRrM2X.s:1284   .rodata.PWM_Set_Value:0000000000000000 $d
     /tmp/ccMRrM2X.s:1288   .rodata.PWM_Set_Value:0000000000000000 PWM_Set_Value
     /tmp/ccMRrM2X.s:1294   .rodata.Timer_CLK:0000000000000000 $d
     /tmp/ccMRrM2X.s:1298   .rodata.Timer_CLK:0000000000000000 Timer_CLK
     /tmp/ccMRrM2X.s:1303   .rodata.Timer_IRQ_Channel:0000000000000000 $d
     /tmp/ccMRrM2X.s:1307   .rodata.Timer_IRQ_Channel:0000000000000000 Timer_IRQ_Channel

UNDEFINED SYMBOLS
GPIO_TIM4_PWMCH1_IO_Init
GPIO_TIM2_PWMCH1_IO_Init
GPIO_TIM3_PWMCH1_IO_Init
GPIO_TIM4_PWMCH2_IO_Init
GPIO_TIM2_PWMCH2_IO_Init
GPIO_TIM3_PWMCH2_IO_Init
GPIO_TIM4_PWMCH3_IO_Init
GPIO_TIM2_PWMCH3_IO_Init
GPIO_TIM3_PWMCH3_IO_Init
GPIO_TIM4_PWMCH4_IO_Init
GPIO_TIM2_PWMCH4_IO_Init
GPIO_TIM3_PWMCH4_IO_Init
RCC_APB1PeriphClockCmd
TIM_TimeBaseInit
TIM_ITConfig
TIM_Cmd
NVIC_Init
RCC_APB2PeriphClockCmd
TIM_ICInit
ARM GAS  /tmp/ccMRrM2X.s 			page 33


TIM_EncoderInterfaceConfig
TIM_ICStructInit
TIM_DeInit
TIM_OCStructInit
TIM_ARRPreloadConfig
TIM_ClearFlag
TIM_OC1Init
TIM_OC1PreloadConfig
TIM_OC2Init
TIM_OC2PreloadConfig
TIM_OC3Init
TIM_OC3PreloadConfig
TIM_OC4Init
TIM_OC4PreloadConfig
TIM_DMACmd
periph_DMA_TIM
periph_DMA_Init
TIM_SetCompare1
TIM_SetCompare2
TIM_SetCompare3
TIM_SetCompare4
