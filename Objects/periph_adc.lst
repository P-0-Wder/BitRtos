ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"periph_adc.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.Periph_ADC_Init,"ax",%progbits
  18              		.align	1
  19              		.global	Periph_ADC_Init
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	Periph_ADC_Init:
  27              	.LVL0:
  28              	.LFB123:
  29              		.file 1 "Bsp/periph_adc.c"
   1:Bsp/periph_adc.c **** #include "periph_adc.h"
   2:Bsp/periph_adc.c **** #include "periph_gpio.h"
   3:Bsp/periph_adc.c **** #include "stm32f4xx_adc.h"
   4:Bsp/periph_adc.c **** #include "stm32f4xx_rcc.h"
   5:Bsp/periph_adc.c **** #include "stm32f4xx_gpio.h"
   6:Bsp/periph_adc.c **** 
   7:Bsp/periph_adc.c **** static void (*ADC_IO_Init[])(void) = {
   8:Bsp/periph_adc.c ****     GPIO_ADC1_Channel0_IO_Init,
   9:Bsp/periph_adc.c ****     GPIO_ADC1_Channel1_IO_Init,
  10:Bsp/periph_adc.c ****     GPIO_ADC1_Channel2_IO_Init,
  11:Bsp/periph_adc.c ****     GPIO_ADC1_Channel3_IO_Init,
  12:Bsp/periph_adc.c ****     GPIO_ADC1_Channel4_IO_Init,
  13:Bsp/periph_adc.c ****     GPIO_ADC1_Channel5_IO_Init,
  14:Bsp/periph_adc.c ****     GPIO_ADC1_Channel6_IO_Init,
  15:Bsp/periph_adc.c ****     GPIO_ADC1_Channel7_IO_Init,
  16:Bsp/periph_adc.c ****     GPIO_ADC1_Channel8_IO_Init,
  17:Bsp/periph_adc.c ****     GPIO_ADC1_Channel9_IO_Init,
  18:Bsp/periph_adc.c ****     GPIO_ADC1_Channel10_IO_Init,
  19:Bsp/periph_adc.c ****     GPIO_ADC1_Channel11_IO_Init,
  20:Bsp/periph_adc.c ****     GPIO_ADC1_Channel12_IO_Init,
  21:Bsp/periph_adc.c ****     GPIO_ADC1_Channel13_IO_Init,
  22:Bsp/periph_adc.c ****     GPIO_ADC1_Channel14_IO_Init,
  23:Bsp/periph_adc.c **** };
  24:Bsp/periph_adc.c **** 
  25:Bsp/periph_adc.c **** void Periph_ADC_Init(ADC_Channel_List ADCx_Channelx, uint8_t channel_sum)
  26:Bsp/periph_adc.c **** {
  30              		.loc 1 26 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 40
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s 			page 2


  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 26 1 is_stmt 0 view .LVU1
  35 0000 30B5     		push	{r4, r5, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 12
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 8BB0     		sub	sp, sp, #44
  42              	.LCFI1:
  43              		.cfi_def_cfa_offset 56
  44 0004 0D46     		mov	r5, r1
  27:Bsp/periph_adc.c ****     ADC_InitTypeDef ADC_InitStructure;
  45              		.loc 1 27 5 is_stmt 1 view .LVU2
  28:Bsp/periph_adc.c ****     ADC_CommonInitTypeDef ADC_CommonInitStructure;
  46              		.loc 1 28 5 view .LVU3
  29:Bsp/periph_adc.c **** 
  30:Bsp/periph_adc.c ****     ADC_IO_Init[ADCx_Channelx]();
  47              		.loc 1 30 5 view .LVU4
  48              		.loc 1 30 16 is_stmt 0 view .LVU5
  49 0006 124B     		ldr	r3, .L3
  50 0008 53F82030 		ldr	r3, [r3, r0, lsl #2]
  51              		.loc 1 30 5 view .LVU6
  52 000c 9847     		blx	r3
  53              	.LVL1:
  31:Bsp/periph_adc.c **** 
  32:Bsp/periph_adc.c ****     ADC_CommonInitStructure.ADC_DMAAccessMode = ADC_DMAAccessMode_Disabled;
  54              		.loc 1 32 5 is_stmt 1 view .LVU7
  55              		.loc 1 32 47 is_stmt 0 view .LVU8
  56 000e 0024     		movs	r4, #0
  57 0010 0294     		str	r4, [sp, #8]
  33:Bsp/periph_adc.c ****     ADC_CommonInitStructure.ADC_Mode = ADC_Mode_Independent;
  58              		.loc 1 33 5 is_stmt 1 view .LVU9
  59              		.loc 1 33 38 is_stmt 0 view .LVU10
  60 0012 0094     		str	r4, [sp]
  34:Bsp/periph_adc.c ****     ADC_CommonInitStructure.ADC_Prescaler = ADC_Prescaler_Div4;
  61              		.loc 1 34 5 is_stmt 1 view .LVU11
  62              		.loc 1 34 43 is_stmt 0 view .LVU12
  63 0014 4FF48033 		mov	r3, #65536
  64 0018 0193     		str	r3, [sp, #4]
  35:Bsp/periph_adc.c ****     ADC_CommonInitStructure.ADC_TwoSamplingDelay = ADC_TwoSamplingDelay_5Cycles;
  65              		.loc 1 35 5 is_stmt 1 view .LVU13
  66              		.loc 1 35 50 is_stmt 0 view .LVU14
  67 001a 0394     		str	r4, [sp, #12]
  36:Bsp/periph_adc.c ****     ADC_CommonInit(&ADC_CommonInitStructure);
  68              		.loc 1 36 5 is_stmt 1 view .LVU15
  69 001c 6846     		mov	r0, sp
  70 001e FFF7FEFF 		bl	ADC_CommonInit
  71              	.LVL2:
  37:Bsp/periph_adc.c **** 
  38:Bsp/periph_adc.c ****     ADC_InitStructure.ADC_Resolution = ADC_Resolution_12b;
  72              		.loc 1 38 5 view .LVU16
  73              		.loc 1 38 38 is_stmt 0 view .LVU17
  74 0022 0494     		str	r4, [sp, #16]
  39:Bsp/periph_adc.c ****     ADC_InitStructure.ADC_ScanConvMode = DISABLE;
  75              		.loc 1 39 5 is_stmt 1 view .LVU18
  76              		.loc 1 39 40 is_stmt 0 view .LVU19
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s 			page 3


  77 0024 8DF81440 		strb	r4, [sp, #20]
  40:Bsp/periph_adc.c ****     ADC_InitStructure.ADC_ContinuousConvMode = DISABLE;
  78              		.loc 1 40 5 is_stmt 1 view .LVU20
  79              		.loc 1 40 46 is_stmt 0 view .LVU21
  80 0028 8DF81540 		strb	r4, [sp, #21]
  41:Bsp/periph_adc.c ****     ADC_InitStructure.ADC_ExternalTrigConvEdge = ADC_ExternalTrigConvEdge_None;
  81              		.loc 1 41 5 is_stmt 1 view .LVU22
  82              		.loc 1 41 48 is_stmt 0 view .LVU23
  83 002c 0694     		str	r4, [sp, #24]
  42:Bsp/periph_adc.c ****     ADC_InitStructure.ADC_DataAlign = ADC_DataAlign_Right;
  84              		.loc 1 42 5 is_stmt 1 view .LVU24
  85              		.loc 1 42 37 is_stmt 0 view .LVU25
  86 002e 0894     		str	r4, [sp, #32]
  43:Bsp/periph_adc.c ****     ADC_InitStructure.ADC_NbrOfConversion = channel_sum;
  87              		.loc 1 43 5 is_stmt 1 view .LVU26
  88              		.loc 1 43 43 is_stmt 0 view .LVU27
  89 0030 8DF82450 		strb	r5, [sp, #36]
  44:Bsp/periph_adc.c ****     ADC_Init(ADC1, &ADC_InitStructure);
  90              		.loc 1 44 5 is_stmt 1 view .LVU28
  91 0034 04F18044 		add	r4, r4, #1073741824
  92 0038 04F59034 		add	r4, r4, #73728
  93 003c 04A9     		add	r1, sp, #16
  94 003e 2046     		mov	r0, r4
  95 0040 FFF7FEFF 		bl	ADC_Init
  96              	.LVL3:
  45:Bsp/periph_adc.c **** 
  46:Bsp/periph_adc.c ****     ADC_Cmd(ADC1, ENABLE);
  97              		.loc 1 46 5 view .LVU29
  98 0044 0121     		movs	r1, #1
  99 0046 2046     		mov	r0, r4
 100 0048 FFF7FEFF 		bl	ADC_Cmd
 101              	.LVL4:
  47:Bsp/periph_adc.c **** }
 102              		.loc 1 47 1 is_stmt 0 view .LVU30
 103 004c 0BB0     		add	sp, sp, #44
 104              	.LCFI2:
 105              		.cfi_def_cfa_offset 12
 106              		@ sp needed
 107 004e 30BD     		pop	{r4, r5, pc}
 108              	.L4:
 109              		.align	2
 110              	.L3:
 111 0050 00000000 		.word	.LANCHOR0
 112              		.cfi_endproc
 113              	.LFE123:
 115              		.section	.text.Periph_ADC_Close,"ax",%progbits
 116              		.align	1
 117              		.global	Periph_ADC_Close
 118              		.syntax unified
 119              		.thumb
 120              		.thumb_func
 121              		.fpu fpv4-sp-d16
 123              	Periph_ADC_Close:
 124              	.LVL5:
 125              	.LFB124:
  48:Bsp/periph_adc.c **** 
  49:Bsp/periph_adc.c **** void Periph_ADC_Close(ADC_Channel_List ADCx_Channelx)
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s 			page 4


  50:Bsp/periph_adc.c **** {
 126              		.loc 1 50 1 is_stmt 1 view -0
 127              		.cfi_startproc
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
 130              		@ link register save eliminated.
  51:Bsp/periph_adc.c **** }
 131              		.loc 1 51 1 view .LVU32
 132 0000 7047     		bx	lr
 133              		.cfi_endproc
 134              	.LFE124:
 136              		.section	.text.Periph_ADC_GetValue,"ax",%progbits
 137              		.align	1
 138              		.global	Periph_ADC_GetValue
 139              		.syntax unified
 140              		.thumb
 141              		.thumb_func
 142              		.fpu fpv4-sp-d16
 144              	Periph_ADC_GetValue:
 145              	.LVL6:
 146              	.LFB125:
  52:Bsp/periph_adc.c **** 
  53:Bsp/periph_adc.c **** uint16_t Periph_ADC_GetValue(ADC_Channel_List ADCx_Channelx, uint8_t sequence)
  54:Bsp/periph_adc.c **** {
 147              		.loc 1 54 1 view -0
 148              		.cfi_startproc
 149              		@ args = 0, pretend = 0, frame = 0
 150              		@ frame_needed = 0, uses_anonymous_args = 0
 151              		.loc 1 54 1 is_stmt 0 view .LVU34
 152 0000 10B5     		push	{r4, lr}
 153              	.LCFI3:
 154              		.cfi_def_cfa_offset 8
 155              		.cfi_offset 4, -8
 156              		.cfi_offset 14, -4
 157 0002 0A46     		mov	r2, r1
  55:Bsp/periph_adc.c ****     ADC_RegularChannelConfig(ADC1, ADCx_Channelx, sequence, ADC_SampleTime_480Cycles);
 158              		.loc 1 55 5 is_stmt 1 view .LVU35
 159 0004 094C     		ldr	r4, .L9
 160 0006 0723     		movs	r3, #7
 161 0008 0146     		mov	r1, r0
 162              	.LVL7:
 163              		.loc 1 55 5 is_stmt 0 view .LVU36
 164 000a 2046     		mov	r0, r4
 165              	.LVL8:
 166              		.loc 1 55 5 view .LVU37
 167 000c FFF7FEFF 		bl	ADC_RegularChannelConfig
 168              	.LVL9:
  56:Bsp/periph_adc.c ****     ADC_SoftwareStartConv(ADC1);
 169              		.loc 1 56 5 is_stmt 1 view .LVU38
 170 0010 2046     		mov	r0, r4
 171 0012 FFF7FEFF 		bl	ADC_SoftwareStartConv
 172              	.LVL10:
  57:Bsp/periph_adc.c **** 
  58:Bsp/periph_adc.c ****     while (!ADC_GetFlagStatus(ADC1, ADC_FLAG_EOC))
 173              		.loc 1 58 5 view .LVU39
 174              	.L7:
  59:Bsp/periph_adc.c ****         ;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s 			page 5


 175              		.loc 1 59 9 discriminator 1 view .LVU40
  58:Bsp/periph_adc.c ****         ;
 176              		.loc 1 58 11 discriminator 1 view .LVU41
  58:Bsp/periph_adc.c ****         ;
 177              		.loc 1 58 13 is_stmt 0 discriminator 1 view .LVU42
 178 0016 0221     		movs	r1, #2
 179 0018 0448     		ldr	r0, .L9
 180 001a FFF7FEFF 		bl	ADC_GetFlagStatus
 181              	.LVL11:
  58:Bsp/periph_adc.c ****         ;
 182              		.loc 1 58 11 discriminator 1 view .LVU43
 183 001e 0028     		cmp	r0, #0
 184 0020 F9D0     		beq	.L7
  60:Bsp/periph_adc.c ****     return ADC_GetConversionValue(ADC1);
 185              		.loc 1 60 5 is_stmt 1 view .LVU44
 186              		.loc 1 60 12 is_stmt 0 view .LVU45
 187 0022 0248     		ldr	r0, .L9
 188 0024 FFF7FEFF 		bl	ADC_GetConversionValue
 189              	.LVL12:
  61:Bsp/periph_adc.c **** }
 190              		.loc 1 61 1 view .LVU46
 191 0028 10BD     		pop	{r4, pc}
 192              	.L10:
 193 002a 00BF     		.align	2
 194              	.L9:
 195 002c 00200140 		.word	1073815552
 196              		.cfi_endproc
 197              	.LFE125:
 199              		.section	.rodata.ADC_IO_Init,"a"
 200              		.align	2
 201              		.set	.LANCHOR0,. + 0
 204              	ADC_IO_Init:
 205 0000 00000000 		.word	GPIO_ADC1_Channel0_IO_Init
 206 0004 00000000 		.word	GPIO_ADC1_Channel1_IO_Init
 207 0008 00000000 		.word	GPIO_ADC1_Channel2_IO_Init
 208 000c 00000000 		.word	GPIO_ADC1_Channel3_IO_Init
 209 0010 00000000 		.word	GPIO_ADC1_Channel4_IO_Init
 210 0014 00000000 		.word	GPIO_ADC1_Channel5_IO_Init
 211 0018 00000000 		.word	GPIO_ADC1_Channel6_IO_Init
 212 001c 00000000 		.word	GPIO_ADC1_Channel7_IO_Init
 213 0020 00000000 		.word	GPIO_ADC1_Channel8_IO_Init
 214 0024 00000000 		.word	GPIO_ADC1_Channel9_IO_Init
 215 0028 00000000 		.word	GPIO_ADC1_Channel10_IO_Init
 216 002c 00000000 		.word	GPIO_ADC1_Channel11_IO_Init
 217 0030 00000000 		.word	GPIO_ADC1_Channel12_IO_Init
 218 0034 00000000 		.word	GPIO_ADC1_Channel13_IO_Init
 219 0038 00000000 		.word	GPIO_ADC1_Channel14_IO_Init
 220              		.text
 221              	.Letext0:
 222              		.file 2 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/mac
 223              		.file 3 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys
 224              		.file 4 "Bsp/periph_adc.h"
 225              		.file 5 "USER/stm32f4xx.h"
 226              		.file 6 "FWLIB/inc/stm32f4xx_adc.h"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s 			page 6


DEFINED SYMBOLS
                            *ABS*:0000000000000000 periph_adc.c
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:18     .text.Periph_ADC_Init:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:26     .text.Periph_ADC_Init:0000000000000000 Periph_ADC_Init
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:111    .text.Periph_ADC_Init:0000000000000050 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:116    .text.Periph_ADC_Close:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:123    .text.Periph_ADC_Close:0000000000000000 Periph_ADC_Close
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:137    .text.Periph_ADC_GetValue:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:144    .text.Periph_ADC_GetValue:0000000000000000 Periph_ADC_GetValue
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:195    .text.Periph_ADC_GetValue:000000000000002c $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:200    .rodata.ADC_IO_Init:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc2SYwlc.s:204    .rodata.ADC_IO_Init:0000000000000000 ADC_IO_Init

UNDEFINED SYMBOLS
ADC_CommonInit
ADC_Init
ADC_Cmd
ADC_RegularChannelConfig
ADC_SoftwareStartConv
ADC_GetFlagStatus
ADC_GetConversionValue
GPIO_ADC1_Channel0_IO_Init
GPIO_ADC1_Channel1_IO_Init
GPIO_ADC1_Channel2_IO_Init
GPIO_ADC1_Channel3_IO_Init
GPIO_ADC1_Channel4_IO_Init
GPIO_ADC1_Channel5_IO_Init
GPIO_ADC1_Channel6_IO_Init
GPIO_ADC1_Channel7_IO_Init
GPIO_ADC1_Channel8_IO_Init
GPIO_ADC1_Channel9_IO_Init
GPIO_ADC1_Channel10_IO_Init
GPIO_ADC1_Channel11_IO_Init
GPIO_ADC1_Channel12_IO_Init
GPIO_ADC1_Channel13_IO_Init
GPIO_ADC1_Channel14_IO_Init
