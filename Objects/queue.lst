ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 1


   1              		.syntax unified
   2              		.cpu cortex-m4
   3              		.eabi_attribute 27, 1
   4              		.eabi_attribute 28, 1
   5              		.fpu fpv4-sp-d16
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.thumb
  16              		.syntax unified
  17              		.file	"queue.c"
  18              		.text
  19              	.Ltext0:
  20              		.cfi_sections	.debug_frame
  21              		.section	.text.Queue_GetState,"ax",%progbits
  22              		.align	2
  23              		.thumb
  24              		.thumb_func
  26              	Queue_GetState:
  27              	.LFB126:
  28              		.file 1 "SYS/data_structure/queue.c"
   1:SYS/data_structure/queue.c **** #include "queue.h"
   2:SYS/data_structure/queue.c **** #include <stdio.h>
   3:SYS/data_structure/queue.c **** #include <string.h>
   4:SYS/data_structure/queue.c **** 
   5:SYS/data_structure/queue.c **** static uint8_t Cur_Crtd_Queue = 0;
   6:SYS/data_structure/queue.c **** 
   7:SYS/data_structure/queue.c **** Queue_state Queue_Init(queue_s *queue, char *name, QueueData_OutType type)
   8:SYS/data_structure/queue.c **** {
   9:SYS/data_structure/queue.c ****     if (Cur_Crtd_Queue < MAX_QUEUE_NUM)
  10:SYS/data_structure/queue.c ****     {
  11:SYS/data_structure/queue.c ****         Cur_Crtd_Queue++;
  12:SYS/data_structure/queue.c ****         queue->state = Queue_ok;
  13:SYS/data_structure/queue.c ****     }
  14:SYS/data_structure/queue.c ****     else
  15:SYS/data_structure/queue.c ****         queue->state = Queue_CreateFailed;
  16:SYS/data_structure/queue.c **** 
  17:SYS/data_structure/queue.c ****     memset(queue->buff, NULL, QUEUE_MAX_SIZE);
  18:SYS/data_structure/queue.c ****     queue->name = name;
  19:SYS/data_structure/queue.c ****     queue->end_pos = 0;
  20:SYS/data_structure/queue.c ****     queue->head_pos = 0;
  21:SYS/data_structure/queue.c ****     queue->size = 0;
  22:SYS/data_structure/queue.c ****     queue->output_type = type;
  23:SYS/data_structure/queue.c **** 
  24:SYS/data_structure/queue.c ****     for (uint8_t i = 0; i < QUEUE_ERROR_TYPENUM; i++)
  25:SYS/data_structure/queue.c ****     {
  26:SYS/data_structure/queue.c ****         queue->error_times[i] = 0;
  27:SYS/data_structure/queue.c ****     }
  28:SYS/data_structure/queue.c ****     queue->total_error_times = 0;
  29:SYS/data_structure/queue.c **** 
  30:SYS/data_structure/queue.c ****     return queue->state;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 2


  31:SYS/data_structure/queue.c **** }
  32:SYS/data_structure/queue.c **** 
  33:SYS/data_structure/queue.c **** Queue_state Queue_Reset(queue_s *queue)
  34:SYS/data_structure/queue.c **** {
  35:SYS/data_structure/queue.c ****     return Queue_init(queue, queue->name);
  36:SYS/data_structure/queue.c **** }
  37:SYS/data_structure/queue.c **** 
  38:SYS/data_structure/queue.c **** static Queue_state Queue_GetState(queue_s *queue)
  39:SYS/data_structure/queue.c **** {
  29              		.loc 1 39 0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
  34              	.LVL0:
  40:SYS/data_structure/queue.c ****     if ((queue->head_pos == queue->end_pos) || (queue->size == 0))
  35              		.loc 1 40 0
  36 0000 0289     		ldrh	r2, [r0, #8]
  37 0002 4389     		ldrh	r3, [r0, #10]
  38 0004 9A42     		cmp	r2, r3
  39 0006 01D0     		beq	.L2
  40              		.loc 1 40 0 is_stmt 0 discriminator 1
  41 0008 8188     		ldrh	r1, [r0, #4]
  42 000a 69B9     		cbnz	r1, .L3
  43              	.L2:
  41:SYS/data_structure/queue.c ****     {
  42:SYS/data_structure/queue.c ****         queue->error_times[GET_QUEUE_ERROR_INDEX(Queue_empty)]++;
  44              		.loc 1 42 0 is_stmt 1
  45 000c D0F81832 		ldr	r3, [r0, #536]
  46 0010 0133     		adds	r3, r3, #1
  47 0012 C0F81832 		str	r3, [r0, #536]
  43:SYS/data_structure/queue.c ****         queue->total_error_times++;
  48              		.loc 1 43 0
  49 0016 D0F82032 		ldr	r3, [r0, #544]
  50 001a 0133     		adds	r3, r3, #1
  51 001c C0F82032 		str	r3, [r0, #544]
  44:SYS/data_structure/queue.c ****         queue->state = Queue_empty;
  52              		.loc 1 44 0
  53 0020 0423     		movs	r3, #4
  54 0022 8371     		strb	r3, [r0, #6]
  45:SYS/data_structure/queue.c ****         return Queue_empty;
  55              		.loc 1 45 0
  56 0024 1846     		mov	r0, r3
  57              	.LVL1:
  58 0026 7047     		bx	lr
  59              	.LVL2:
  60              	.L3:
  46:SYS/data_structure/queue.c ****     }
  47:SYS/data_structure/queue.c **** 
  48:SYS/data_structure/queue.c ****     if (((queue->end_pos + 1) % QUEUE_MAX_SIZE) == queue->head_pos)
  61              		.loc 1 48 0
  62 0028 0133     		adds	r3, r3, #1
  63 002a 0F49     		ldr	r1, .L7
  64 002c 1940     		ands	r1, r1, r3
  65 002e 0029     		cmp	r1, #0
  66 0030 05DA     		bge	.L5
  67 0032 0139     		subs	r1, r1, #1
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 3


  68 0034 6FEAC151 		mvn	r1, r1, lsl #23
  69 0038 6FEAD151 		mvn	r1, r1, lsr #23
  70 003c 0131     		adds	r1, r1, #1
  71              	.L5:
  72 003e 9142     		cmp	r1, r2
  73 0040 0DD1     		bne	.L6
  49:SYS/data_structure/queue.c ****     {
  50:SYS/data_structure/queue.c ****         queue->error_times[GET_QUEUE_ERROR_INDEX(Queue_full)]++;
  74              		.loc 1 50 0
  75 0042 D0F81C32 		ldr	r3, [r0, #540]
  76 0046 0133     		adds	r3, r3, #1
  77 0048 C0F81C32 		str	r3, [r0, #540]
  51:SYS/data_structure/queue.c ****         queue->total_error_times++;
  78              		.loc 1 51 0
  79 004c D0F82032 		ldr	r3, [r0, #544]
  80 0050 0133     		adds	r3, r3, #1
  81 0052 C0F82032 		str	r3, [r0, #544]
  52:SYS/data_structure/queue.c ****         queue->state = Queue_full;
  82              		.loc 1 52 0
  83 0056 0523     		movs	r3, #5
  84 0058 8371     		strb	r3, [r0, #6]
  53:SYS/data_structure/queue.c ****         return Queue_full;
  85              		.loc 1 53 0
  86 005a 1846     		mov	r0, r3
  87              	.LVL3:
  88 005c 7047     		bx	lr
  89              	.LVL4:
  90              	.L6:
  54:SYS/data_structure/queue.c ****     }
  55:SYS/data_structure/queue.c **** 
  56:SYS/data_structure/queue.c ****     queue->state = Queue_ok;
  91              		.loc 1 56 0
  92 005e 0023     		movs	r3, #0
  93 0060 8371     		strb	r3, [r0, #6]
  57:SYS/data_structure/queue.c ****     return Queue_ok;
  94              		.loc 1 57 0
  95 0062 1846     		mov	r0, r3
  96              	.LVL5:
  58:SYS/data_structure/queue.c **** }
  97              		.loc 1 58 0
  98 0064 7047     		bx	lr
  99              	.L8:
 100 0066 00BF     		.align	2
 101              	.L7:
 102 0068 FF010080 		.word	-2147483137
 103              		.cfi_endproc
 104              	.LFE126:
 106              		.section	.text.Queue_Init,"ax",%progbits
 107              		.align	2
 108              		.global	Queue_Init
 109              		.thumb
 110              		.thumb_func
 112              	Queue_Init:
 113              	.LFB124:
   8:SYS/data_structure/queue.c ****     if (Cur_Crtd_Queue < MAX_QUEUE_NUM)
 114              		.loc 1 8 0
 115              		.cfi_startproc
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 4


 116              		@ args = 0, pretend = 0, frame = 0
 117              		@ frame_needed = 0, uses_anonymous_args = 0
 118              	.LVL6:
 119 0000 70B5     		push	{r4, r5, r6, lr}
 120              	.LCFI0:
 121              		.cfi_def_cfa_offset 16
 122              		.cfi_offset 4, -16
 123              		.cfi_offset 5, -12
 124              		.cfi_offset 6, -8
 125              		.cfi_offset 14, -4
 126 0002 0446     		mov	r4, r0
 127 0004 0E46     		mov	r6, r1
 128 0006 1546     		mov	r5, r2
   9:SYS/data_structure/queue.c ****     {
 129              		.loc 1 9 0
 130 0008 144B     		ldr	r3, .L15
 131 000a 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 132 000c 092B     		cmp	r3, #9
 133 000e 05D8     		bhi	.L10
  11:SYS/data_structure/queue.c ****         queue->state = Queue_ok;
 134              		.loc 1 11 0
 135 0010 0133     		adds	r3, r3, #1
 136 0012 124A     		ldr	r2, .L15
 137              	.LVL7:
 138 0014 1370     		strb	r3, [r2]
  12:SYS/data_structure/queue.c ****     }
 139              		.loc 1 12 0
 140 0016 0023     		movs	r3, #0
 141 0018 8371     		strb	r3, [r0, #6]
 142 001a 01E0     		b	.L11
 143              	.LVL8:
 144              	.L10:
  15:SYS/data_structure/queue.c **** 
 145              		.loc 1 15 0
 146 001c 0623     		movs	r3, #6
 147 001e 8371     		strb	r3, [r0, #6]
 148              	.LVL9:
 149              	.L11:
  17:SYS/data_structure/queue.c ****     queue->name = name;
 150              		.loc 1 17 0
 151 0020 4FF40072 		mov	r2, #512
 152 0024 0021     		movs	r1, #0
 153              	.LVL10:
 154 0026 04F10C00 		add	r0, r4, #12
 155              	.LVL11:
 156 002a FFF7FEFF 		bl	memset
 157              	.LVL12:
  18:SYS/data_structure/queue.c ****     queue->end_pos = 0;
 158              		.loc 1 18 0
 159 002e 2660     		str	r6, [r4]
  19:SYS/data_structure/queue.c ****     queue->head_pos = 0;
 160              		.loc 1 19 0
 161 0030 0023     		movs	r3, #0
 162 0032 6381     		strh	r3, [r4, #10]	@ movhi
  20:SYS/data_structure/queue.c ****     queue->size = 0;
 163              		.loc 1 20 0
 164 0034 2381     		strh	r3, [r4, #8]	@ movhi
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 5


  21:SYS/data_structure/queue.c ****     queue->output_type = type;
 165              		.loc 1 21 0
 166 0036 A380     		strh	r3, [r4, #4]	@ movhi
  22:SYS/data_structure/queue.c **** 
 167              		.loc 1 22 0
 168 0038 84F80C52 		strb	r5, [r4, #524]
 169              	.LVL13:
 170              	.LBB2:
  24:SYS/data_structure/queue.c ****     {
 171              		.loc 1 24 0
 172 003c 06E0     		b	.L12
 173              	.LVL14:
 174              	.L13:
  26:SYS/data_structure/queue.c ****     }
 175              		.loc 1 26 0 discriminator 3
 176 003e 03F18402 		add	r2, r3, #132
 177 0042 0021     		movs	r1, #0
 178 0044 44F82210 		str	r1, [r4, r2, lsl #2]
  24:SYS/data_structure/queue.c ****     {
 179              		.loc 1 24 0 discriminator 3
 180 0048 0133     		adds	r3, r3, #1
 181              	.LVL15:
 182 004a DBB2     		uxtb	r3, r3
 183              	.LVL16:
 184              	.L12:
  24:SYS/data_structure/queue.c ****     {
 185              		.loc 1 24 0 is_stmt 0 discriminator 1
 186 004c 032B     		cmp	r3, #3
 187 004e F6D9     		bls	.L13
 188              	.LBE2:
  28:SYS/data_structure/queue.c **** 
 189              		.loc 1 28 0 is_stmt 1
 190 0050 0023     		movs	r3, #0
 191              	.LVL17:
 192 0052 C4F82032 		str	r3, [r4, #544]
  31:SYS/data_structure/queue.c **** 
 193              		.loc 1 31 0
 194 0056 A079     		ldrb	r0, [r4, #6]	@ zero_extendqisi2
 195 0058 70BD     		pop	{r4, r5, r6, pc}
 196              	.LVL18:
 197              	.L16:
 198 005a 00BF     		.align	2
 199              	.L15:
 200 005c 00000000 		.word	.LANCHOR0
 201              		.cfi_endproc
 202              	.LFE124:
 204              		.section	.text.Queue_Reset,"ax",%progbits
 205              		.align	2
 206              		.global	Queue_Reset
 207              		.thumb
 208              		.thumb_func
 210              	Queue_Reset:
 211              	.LFB125:
  34:SYS/data_structure/queue.c ****     return Queue_init(queue, queue->name);
 212              		.loc 1 34 0
 213              		.cfi_startproc
 214              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 6


 215              		@ frame_needed = 0, uses_anonymous_args = 0
 216              	.LVL19:
 217 0000 08B5     		push	{r3, lr}
 218              	.LCFI1:
 219              		.cfi_def_cfa_offset 8
 220              		.cfi_offset 3, -8
 221              		.cfi_offset 14, -4
  35:SYS/data_structure/queue.c **** }
 222              		.loc 1 35 0
 223 0002 0168     		ldr	r1, [r0]
 224 0004 FFF7FEFF 		bl	Queue_init
 225              	.LVL20:
  36:SYS/data_structure/queue.c **** 
 226              		.loc 1 36 0
 227 0008 C0B2     		uxtb	r0, r0
 228 000a 08BD     		pop	{r3, pc}
 229              		.cfi_endproc
 230              	.LFE125:
 232              		.section	.text.Queue_PushChar,"ax",%progbits
 233              		.align	2
 234              		.global	Queue_PushChar
 235              		.thumb
 236              		.thumb_func
 238              	Queue_PushChar:
 239              	.LFB127:
  59:SYS/data_structure/queue.c **** 
  60:SYS/data_structure/queue.c **** Queue_state Queue_PushChar(queue_s *queue, char data)
  61:SYS/data_structure/queue.c **** {
 240              		.loc 1 61 0
 241              		.cfi_startproc
 242              		@ args = 0, pretend = 0, frame = 0
 243              		@ frame_needed = 0, uses_anonymous_args = 0
 244              	.LVL21:
 245 0000 10B5     		push	{r4, lr}
 246              	.LCFI2:
 247              		.cfi_def_cfa_offset 8
 248              		.cfi_offset 4, -8
 249              		.cfi_offset 14, -4
 250 0002 0446     		mov	r4, r0
  62:SYS/data_structure/queue.c ****     if (queue->state == Queue_ok)
 251              		.loc 1 62 0
 252 0004 8379     		ldrb	r3, [r0, #6]	@ zero_extendqisi2
 253 0006 A3B9     		cbnz	r3, .L20
  63:SYS/data_structure/queue.c ****     {
  64:SYS/data_structure/queue.c ****         queue->buff[queue->end_pos] = data;
 254              		.loc 1 64 0
 255 0008 4389     		ldrh	r3, [r0, #10]
 256 000a C218     		adds	r2, r0, r3
 257 000c 1173     		strb	r1, [r2, #12]
  65:SYS/data_structure/queue.c **** 
  66:SYS/data_structure/queue.c ****         queue->end_pos = (queue->end_pos + 1) % QUEUE_MAX_SIZE;
 258              		.loc 1 66 0
 259 000e 5A1C     		adds	r2, r3, #1
 260 0010 094B     		ldr	r3, .L23
 261 0012 1340     		ands	r3, r3, r2
 262 0014 002B     		cmp	r3, #0
 263 0016 05DA     		bge	.L21
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 7


 264 0018 013B     		subs	r3, r3, #1
 265 001a 6FEAC353 		mvn	r3, r3, lsl #23
 266 001e 6FEAD353 		mvn	r3, r3, lsr #23
 267 0022 0133     		adds	r3, r3, #1
 268              	.L21:
 269 0024 6381     		strh	r3, [r4, #10]	@ movhi
  67:SYS/data_structure/queue.c ****         queue->size++;
 270              		.loc 1 67 0
 271 0026 A388     		ldrh	r3, [r4, #4]
 272 0028 0133     		adds	r3, r3, #1
 273 002a A380     		strh	r3, [r4, #4]	@ movhi
  68:SYS/data_structure/queue.c **** 
  69:SYS/data_structure/queue.c ****         Queue_GetState(queue);
 274              		.loc 1 69 0
 275 002c 2046     		mov	r0, r4
 276              	.LVL22:
 277 002e FFF7FEFF 		bl	Queue_GetState
 278              	.LVL23:
 279              	.L20:
  70:SYS/data_structure/queue.c ****     }
  71:SYS/data_structure/queue.c **** 
  72:SYS/data_structure/queue.c ****     return queue->state;
  73:SYS/data_structure/queue.c **** }
 280              		.loc 1 73 0
 281 0032 A079     		ldrb	r0, [r4, #6]	@ zero_extendqisi2
 282 0034 10BD     		pop	{r4, pc}
 283              	.LVL24:
 284              	.L24:
 285 0036 00BF     		.align	2
 286              	.L23:
 287 0038 FF010080 		.word	-2147483137
 288              		.cfi_endproc
 289              	.LFE127:
 291              		.section	.text.Queue_PushLenChar,"ax",%progbits
 292              		.align	2
 293              		.global	Queue_PushLenChar
 294              		.thumb
 295              		.thumb_func
 297              	Queue_PushLenChar:
 298              	.LFB128:
  74:SYS/data_structure/queue.c **** 
  75:SYS/data_structure/queue.c **** Queue_state Queue_PushLenChar(queue_s *queue, uint16_t len, char *data)
  76:SYS/data_structure/queue.c **** {
 299              		.loc 1 76 0
 300              		.cfi_startproc
 301              		@ args = 0, pretend = 0, frame = 0
 302              		@ frame_needed = 0, uses_anonymous_args = 0
 303              	.LVL25:
 304 0000 70B5     		push	{r4, r5, r6, lr}
 305              	.LCFI3:
 306              		.cfi_def_cfa_offset 16
 307              		.cfi_offset 4, -16
 308              		.cfi_offset 5, -12
 309              		.cfi_offset 6, -8
 310              		.cfi_offset 14, -4
 311 0002 0446     		mov	r4, r0
  77:SYS/data_structure/queue.c ****     if ((queue->state == Queue_ok) || (queue->state == Queue_empty))
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 8


 312              		.loc 1 77 0
 313 0004 8379     		ldrb	r3, [r0, #6]	@ zero_extendqisi2
 314 0006 0BB1     		cbz	r3, .L26
 315              		.loc 1 77 0 is_stmt 0 discriminator 1
 316 0008 042B     		cmp	r3, #4
 317 000a 27D1     		bne	.L27
 318              	.L26:
  78:SYS/data_structure/queue.c ****     {
  79:SYS/data_structure/queue.c ****         if (len <= (QUEUE_MAX_SIZE - queue->size))
 319              		.loc 1 79 0 is_stmt 1
 320 000c A688     		ldrh	r6, [r4, #4]
 321 000e C6F50073 		rsb	r3, r6, #512
 322 0012 9942     		cmp	r1, r3
 323 0014 16DC     		bgt	.L33
 324 0016 07E0     		b	.L32
 325              	.LVL26:
 326              	.L30:
 327              	.LBB3:
  80:SYS/data_structure/queue.c ****         {
  81:SYS/data_structure/queue.c ****             for (uint16_t index = 0; index < len; index++)
  82:SYS/data_structure/queue.c ****             {
  83:SYS/data_structure/queue.c ****                 queue->buff[queue->end_pos + index] = data[index];
 328              		.loc 1 83 0 discriminator 3
 329 0018 6089     		ldrh	r0, [r4, #10]
 330 001a 1844     		add	r0, r0, r3
 331 001c D55C     		ldrb	r5, [r2, r3]	@ zero_extendqisi2
 332 001e 2044     		add	r0, r0, r4
 333 0020 0573     		strb	r5, [r0, #12]
  81:SYS/data_structure/queue.c ****             {
 334              		.loc 1 81 0 discriminator 3
 335 0022 0133     		adds	r3, r3, #1
 336              	.LVL27:
 337 0024 9BB2     		uxth	r3, r3
 338              	.LVL28:
 339 0026 00E0     		b	.L28
 340              	.LVL29:
 341              	.L32:
 342              	.LBE3:
 343 0028 0023     		movs	r3, #0
 344              	.LVL30:
 345              	.L28:
 346              	.LBB4:
  81:SYS/data_structure/queue.c ****             {
 347              		.loc 1 81 0 is_stmt 0 discriminator 1
 348 002a 8B42     		cmp	r3, r1
 349 002c F4D3     		bcc	.L30
 350              	.LBE4:
  84:SYS/data_structure/queue.c ****             }
  85:SYS/data_structure/queue.c **** 
  86:SYS/data_structure/queue.c ****             queue->end_pos = (queue->end_pos + len) % QUEUE_MAX_SIZE;
 351              		.loc 1 86 0 is_stmt 1
 352 002e 6389     		ldrh	r3, [r4, #10]
 353              	.LVL31:
 354 0030 0B44     		add	r3, r3, r1
 355 0032 C3F30803 		ubfx	r3, r3, #0, #9
 356 0036 6381     		strh	r3, [r4, #10]	@ movhi
  87:SYS/data_structure/queue.c ****             queue->size += len;
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 9


 357              		.loc 1 87 0
 358 0038 3144     		add	r1, r1, r6
 359              	.LVL32:
 360 003a A180     		strh	r1, [r4, #4]	@ movhi
  88:SYS/data_structure/queue.c ****             Queue_GetState(queue);
 361              		.loc 1 88 0
 362 003c 2046     		mov	r0, r4
 363 003e FFF7FEFF 		bl	Queue_GetState
 364              	.LVL33:
 365 0042 0BE0     		b	.L27
 366              	.LVL34:
 367              	.L33:
  89:SYS/data_structure/queue.c ****         }
  90:SYS/data_structure/queue.c ****         else
  91:SYS/data_structure/queue.c ****         {
  92:SYS/data_structure/queue.c ****             queue->error_times[GET_QUEUE_ERROR_INDEX(Queue_overflow_w)]++;
 368              		.loc 1 92 0
 369 0044 D4F81032 		ldr	r3, [r4, #528]
 370 0048 0133     		adds	r3, r3, #1
 371 004a C4F81032 		str	r3, [r4, #528]
  93:SYS/data_structure/queue.c ****             queue->total_error_times++;
 372              		.loc 1 93 0
 373 004e D4F82032 		ldr	r3, [r4, #544]
 374 0052 0133     		adds	r3, r3, #1
 375 0054 C4F82032 		str	r3, [r4, #544]
  94:SYS/data_structure/queue.c ****             return Queue_overflow_w;
 376              		.loc 1 94 0
 377 0058 0220     		movs	r0, #2
 378              	.LVL35:
 379 005a 70BD     		pop	{r4, r5, r6, pc}
 380              	.LVL36:
 381              	.L27:
  95:SYS/data_structure/queue.c ****         }
  96:SYS/data_structure/queue.c ****     }
  97:SYS/data_structure/queue.c **** 
  98:SYS/data_structure/queue.c ****     return queue->state;
 382              		.loc 1 98 0
 383 005c A079     		ldrb	r0, [r4, #6]	@ zero_extendqisi2
  99:SYS/data_structure/queue.c **** }
 384              		.loc 1 99 0
 385 005e 70BD     		pop	{r4, r5, r6, pc}
 386              		.cfi_endproc
 387              	.LFE128:
 389              		.section	.text.Queue_PopCharFromFront,"ax",%progbits
 390              		.align	2
 391              		.global	Queue_PopCharFromFront
 392              		.thumb
 393              		.thumb_func
 395              	Queue_PopCharFromFront:
 396              	.LFB129:
 100:SYS/data_structure/queue.c **** 
 101:SYS/data_structure/queue.c **** Queue_state Queue_PopCharFromFront(queue_s *queue, char *out_data)
 102:SYS/data_structure/queue.c **** {
 397              		.loc 1 102 0
 398              		.cfi_startproc
 399              		@ args = 0, pretend = 0, frame = 0
 400              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 10


 401              	.LVL37:
 402 0000 10B5     		push	{r4, lr}
 403              	.LCFI4:
 404              		.cfi_def_cfa_offset 8
 405              		.cfi_offset 4, -8
 406              		.cfi_offset 14, -4
 407 0002 0446     		mov	r4, r0
 103:SYS/data_structure/queue.c ****     if ((queue->state == Queue_ok) || (queue->state == Queue_full))
 408              		.loc 1 103 0
 409 0004 8379     		ldrb	r3, [r0, #6]	@ zero_extendqisi2
 410 0006 0BB1     		cbz	r3, .L36
 411              		.loc 1 103 0 is_stmt 0 discriminator 1
 412 0008 052B     		cmp	r3, #5
 413 000a 0DD1     		bne	.L37
 414              	.L36:
 104:SYS/data_structure/queue.c ****     {
 105:SYS/data_structure/queue.c ****         *out_data = queue->buff[queue->head_pos];
 415              		.loc 1 105 0 is_stmt 1
 416 000c 2389     		ldrh	r3, [r4, #8]
 417 000e 2344     		add	r3, r3, r4
 418 0010 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 419 0012 0B70     		strb	r3, [r1]
 106:SYS/data_structure/queue.c ****         queue->buff[queue->head_pos] = NULL;
 420              		.loc 1 106 0
 421 0014 2389     		ldrh	r3, [r4, #8]
 422 0016 2344     		add	r3, r3, r4
 423 0018 0022     		movs	r2, #0
 424 001a 1A73     		strb	r2, [r3, #12]
 107:SYS/data_structure/queue.c **** 
 108:SYS/data_structure/queue.c ****         queue->head_pos == (queue->head_pos + 1) % QUEUE_MAX_SIZE;
 109:SYS/data_structure/queue.c ****         queue->size--;
 425              		.loc 1 109 0
 426 001c A388     		ldrh	r3, [r4, #4]
 427 001e 013B     		subs	r3, r3, #1
 428 0020 A380     		strh	r3, [r4, #4]	@ movhi
 110:SYS/data_structure/queue.c **** 
 111:SYS/data_structure/queue.c ****         Queue_GetState(queue);
 429              		.loc 1 111 0
 430 0022 2046     		mov	r0, r4
 431              	.LVL38:
 432 0024 FFF7FEFF 		bl	Queue_GetState
 433              	.LVL39:
 434              	.L37:
 112:SYS/data_structure/queue.c ****     }
 113:SYS/data_structure/queue.c **** 
 114:SYS/data_structure/queue.c ****     return queue->state;
 115:SYS/data_structure/queue.c **** }
 435              		.loc 1 115 0
 436 0028 A079     		ldrb	r0, [r4, #6]	@ zero_extendqisi2
 437 002a 10BD     		pop	{r4, pc}
 438              		.cfi_endproc
 439              	.LFE129:
 441              		.section	.text.Queue_PopCharFromBack,"ax",%progbits
 442              		.align	2
 443              		.global	Queue_PopCharFromBack
 444              		.thumb
 445              		.thumb_func
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 11


 447              	Queue_PopCharFromBack:
 448              	.LFB130:
 116:SYS/data_structure/queue.c **** 
 117:SYS/data_structure/queue.c **** //still have bug in this func fix when i start to use it hahahahha boooyaaaaa
 118:SYS/data_structure/queue.c **** Queue_state Queue_PopCharFromBack(queue_s *queue, char *out_data)
 119:SYS/data_structure/queue.c **** {
 449              		.loc 1 119 0
 450              		.cfi_startproc
 451              		@ args = 0, pretend = 0, frame = 0
 452              		@ frame_needed = 0, uses_anonymous_args = 0
 453              	.LVL40:
 454 0000 10B5     		push	{r4, lr}
 455              	.LCFI5:
 456              		.cfi_def_cfa_offset 8
 457              		.cfi_offset 4, -8
 458              		.cfi_offset 14, -4
 459 0002 0446     		mov	r4, r0
 120:SYS/data_structure/queue.c ****     if ((queue->state == Queue_ok) || (queue->state == Queue_full))
 460              		.loc 1 120 0
 461 0004 8379     		ldrb	r3, [r0, #6]	@ zero_extendqisi2
 462 0006 0BB1     		cbz	r3, .L40
 463              		.loc 1 120 0 is_stmt 0 discriminator 1
 464 0008 052B     		cmp	r3, #5
 465 000a 1AD1     		bne	.L41
 466              	.L40:
 121:SYS/data_structure/queue.c ****     {
 122:SYS/data_structure/queue.c ****         *out_data = queue->buff[queue->end_pos - 1];
 467              		.loc 1 122 0 is_stmt 1
 468 000c 6389     		ldrh	r3, [r4, #10]
 469 000e 013B     		subs	r3, r3, #1
 470 0010 2344     		add	r3, r3, r4
 471 0012 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 472 0014 0B70     		strb	r3, [r1]
 123:SYS/data_structure/queue.c ****         queue->buff[queue->end_pos - 1] = NULL;
 473              		.loc 1 123 0
 474 0016 6289     		ldrh	r2, [r4, #10]
 475 0018 013A     		subs	r2, r2, #1
 476 001a A318     		adds	r3, r4, r2
 477 001c 0021     		movs	r1, #0
 478              	.LVL41:
 479 001e 1973     		strb	r1, [r3, #12]
 124:SYS/data_structure/queue.c **** 
 125:SYS/data_structure/queue.c ****         queue->end_pos = (queue->end_pos - 1) % QUEUE_MAX_SIZE;
 480              		.loc 1 125 0
 481 0020 094B     		ldr	r3, .L44
 482 0022 1340     		ands	r3, r3, r2
 483 0024 8B42     		cmp	r3, r1
 484 0026 05DA     		bge	.L42
 485 0028 013B     		subs	r3, r3, #1
 486 002a 6FEAC353 		mvn	r3, r3, lsl #23
 487 002e 6FEAD353 		mvn	r3, r3, lsr #23
 488 0032 0133     		adds	r3, r3, #1
 489              	.L42:
 490 0034 6381     		strh	r3, [r4, #10]	@ movhi
 126:SYS/data_structure/queue.c ****         queue->size--;
 491              		.loc 1 126 0
 492 0036 A388     		ldrh	r3, [r4, #4]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 12


 493 0038 013B     		subs	r3, r3, #1
 494 003a A380     		strh	r3, [r4, #4]	@ movhi
 127:SYS/data_structure/queue.c **** 
 128:SYS/data_structure/queue.c ****         Queue_GetState(queue);
 495              		.loc 1 128 0
 496 003c 2046     		mov	r0, r4
 497              	.LVL42:
 498 003e FFF7FEFF 		bl	Queue_GetState
 499              	.LVL43:
 500              	.L41:
 129:SYS/data_structure/queue.c ****     }
 130:SYS/data_structure/queue.c **** 
 131:SYS/data_structure/queue.c ****     return queue->state;
 132:SYS/data_structure/queue.c **** }
 501              		.loc 1 132 0
 502 0042 A079     		ldrb	r0, [r4, #6]	@ zero_extendqisi2
 503 0044 10BD     		pop	{r4, pc}
 504              	.LVL44:
 505              	.L45:
 506 0046 00BF     		.align	2
 507              	.L44:
 508 0048 FF010080 		.word	-2147483137
 509              		.cfi_endproc
 510              	.LFE130:
 512              		.section	.text.Queue_Dump,"ax",%progbits
 513              		.align	2
 514              		.global	Queue_Dump
 515              		.thumb
 516              		.thumb_func
 518              	Queue_Dump:
 519              	.LFB131:
 133:SYS/data_structure/queue.c **** 
 134:SYS/data_structure/queue.c **** Queue_state Queue_Dump(queue_s *queue, char *out_data)
 135:SYS/data_structure/queue.c **** {
 520              		.loc 1 135 0
 521              		.cfi_startproc
 522              		@ args = 0, pretend = 0, frame = 0
 523              		@ frame_needed = 0, uses_anonymous_args = 0
 524              		@ link register save eliminated.
 525              	.LVL45:
 526 0000 10B4     		push	{r4}
 527              	.LCFI6:
 528              		.cfi_def_cfa_offset 4
 529              		.cfi_offset 4, -4
 530              	.LVL46:
 531              	.LBB5:
 136:SYS/data_structure/queue.c **** 
 137:SYS/data_structure/queue.c ****     for (uint16_t index = 0; index < queue->size; index++)
 532              		.loc 1 137 0
 533 0002 0023     		movs	r3, #0
 534 0004 10E0     		b	.L47
 535              	.LVL47:
 536              	.L50:
 138:SYS/data_structure/queue.c ****     {
 139:SYS/data_structure/queue.c ****         if (queue->output_type == Queue_FIFO)
 537              		.loc 1 139 0
 538 0006 90F80C42 		ldrb	r4, [r0, #524]	@ zero_extendqisi2
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 13


 539 000a 1CB9     		cbnz	r4, .L48
 140:SYS/data_structure/queue.c ****         {
 141:SYS/data_structure/queue.c ****             out_data[index] = queue->buff[index];
 540              		.loc 1 141 0
 541 000c C218     		adds	r2, r0, r3
 542 000e 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
 543 0010 CA54     		strb	r2, [r1, r3]
 544 0012 04E0     		b	.L49
 545              	.L48:
 142:SYS/data_structure/queue.c ****         }
 143:SYS/data_structure/queue.c ****         else
 144:SYS/data_structure/queue.c ****         {
 145:SYS/data_structure/queue.c ****             out_data[index] = queue->buff[queue->size - 1 - index];
 546              		.loc 1 145 0
 547 0014 013A     		subs	r2, r2, #1
 548 0016 D21A     		subs	r2, r2, r3
 549 0018 0244     		add	r2, r2, r0
 550 001a 127B     		ldrb	r2, [r2, #12]	@ zero_extendqisi2
 551 001c CA54     		strb	r2, [r1, r3]
 552              	.L49:
 146:SYS/data_structure/queue.c ****         }
 147:SYS/data_structure/queue.c **** 
 148:SYS/data_structure/queue.c ****         queue->buff[index] = NULL;
 553              		.loc 1 148 0 discriminator 2
 554 001e C218     		adds	r2, r0, r3
 555 0020 0024     		movs	r4, #0
 556 0022 1473     		strb	r4, [r2, #12]
 137:SYS/data_structure/queue.c ****     {
 557              		.loc 1 137 0 discriminator 2
 558 0024 0133     		adds	r3, r3, #1
 559              	.LVL48:
 560 0026 9BB2     		uxth	r3, r3
 561              	.LVL49:
 562              	.L47:
 137:SYS/data_structure/queue.c ****     {
 563              		.loc 1 137 0 is_stmt 0 discriminator 1
 564 0028 8288     		ldrh	r2, [r0, #4]
 565 002a 9342     		cmp	r3, r2
 566 002c EBD3     		bcc	.L50
 567              	.LBE5:
 149:SYS/data_structure/queue.c ****     }
 150:SYS/data_structure/queue.c **** 
 151:SYS/data_structure/queue.c ****     queue->size = 0;
 568              		.loc 1 151 0 is_stmt 1
 569 002e 0023     		movs	r3, #0
 570              	.LVL50:
 571 0030 8380     		strh	r3, [r0, #4]	@ movhi
 152:SYS/data_structure/queue.c ****     queue->end_pos = 0;
 572              		.loc 1 152 0
 573 0032 4381     		strh	r3, [r0, #10]	@ movhi
 153:SYS/data_structure/queue.c ****     queue->head_pos = 0;
 574              		.loc 1 153 0
 575 0034 0381     		strh	r3, [r0, #8]	@ movhi
 154:SYS/data_structure/queue.c ****     queue->state = Queue_empty;
 576              		.loc 1 154 0
 577 0036 0423     		movs	r3, #4
 578 0038 8371     		strb	r3, [r0, #6]
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 14


 155:SYS/data_structure/queue.c **** 
 156:SYS/data_structure/queue.c ****     return queue->state;
 157:SYS/data_structure/queue.c **** }
 579              		.loc 1 157 0
 580 003a 1846     		mov	r0, r3
 581              	.LVL51:
 582 003c 5DF8044B 		ldr	r4, [sp], #4
 583              	.LCFI7:
 584              		.cfi_restore 4
 585              		.cfi_def_cfa_offset 0
 586 0040 7047     		bx	lr
 587              		.cfi_endproc
 588              	.LFE131:
 590 0042 00BF     		.section	.text.Queue_PopLenCharFromFront,"ax",%progbits
 591              		.align	2
 592              		.global	Queue_PopLenCharFromFront
 593              		.thumb
 594              		.thumb_func
 596              	Queue_PopLenCharFromFront:
 597              	.LFB132:
 158:SYS/data_structure/queue.c **** 
 159:SYS/data_structure/queue.c **** Queue_state Queue_PopLenCharFromFront(queue_s *queue, uint16_t len, char *out_buff)
 160:SYS/data_structure/queue.c **** {
 598              		.loc 1 160 0
 599              		.cfi_startproc
 600              		@ args = 0, pretend = 0, frame = 0
 601              		@ frame_needed = 0, uses_anonymous_args = 0
 602              	.LVL52:
 603 0000 38B5     		push	{r3, r4, r5, lr}
 604              	.LCFI8:
 605              		.cfi_def_cfa_offset 16
 606              		.cfi_offset 3, -16
 607              		.cfi_offset 4, -12
 608              		.cfi_offset 5, -8
 609              		.cfi_offset 14, -4
 161:SYS/data_structure/queue.c ****     static uint32_t test = 0;
 162:SYS/data_structure/queue.c ****     if ((queue->state == Queue_ok) || (queue->state == Queue_full))
 610              		.loc 1 162 0
 611 0002 8379     		ldrb	r3, [r0, #6]	@ zero_extendqisi2
 612 0004 0BB1     		cbz	r3, .L53
 613              		.loc 1 162 0 is_stmt 0 discriminator 1
 614 0006 052B     		cmp	r3, #5
 615 0008 41D1     		bne	.L60
 616              	.L53:
 163:SYS/data_structure/queue.c ****     {
 164:SYS/data_structure/queue.c ****         if (len <= queue->size)
 617              		.loc 1 164 0 is_stmt 1
 618 000a 8388     		ldrh	r3, [r0, #4]
 619 000c 8B42     		cmp	r3, r1
 620 000e 2ED3     		bcc	.L62
 621 0010 1EE0     		b	.L61
 622              	.LVL53:
 623              	.L59:
 624              	.LBB6:
 165:SYS/data_structure/queue.c ****         {
 166:SYS/data_structure/queue.c ****             for (uint16_t index = 0; index < len; index++)
 167:SYS/data_structure/queue.c ****             {
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 15


 168:SYS/data_structure/queue.c ****                 if (queue->output_type == Queue_FIFO)
 625              		.loc 1 168 0
 626 0012 90F80C42 		ldrb	r4, [r0, #524]	@ zero_extendqisi2
 627 0016 54B9     		cbnz	r4, .L57
 169:SYS/data_structure/queue.c ****                 {
 170:SYS/data_structure/queue.c ****                     //FIFO
 171:SYS/data_structure/queue.c ****                     out_buff[index] = queue->buff[queue->head_pos + index];
 628              		.loc 1 171 0
 629 0018 0489     		ldrh	r4, [r0, #8]
 630 001a 1C44     		add	r4, r4, r3
 631 001c 0444     		add	r4, r4, r0
 632 001e 247B     		ldrb	r4, [r4, #12]	@ zero_extendqisi2
 633 0020 D454     		strb	r4, [r2, r3]
 172:SYS/data_structure/queue.c ****                     queue->buff[queue->head_pos + index] = NULL;
 634              		.loc 1 172 0
 635 0022 0489     		ldrh	r4, [r0, #8]
 636 0024 1C44     		add	r4, r4, r3
 637 0026 0444     		add	r4, r4, r0
 638 0028 0025     		movs	r5, #0
 639 002a 2573     		strb	r5, [r4, #12]
 640 002c 0DE0     		b	.L58
 641              	.L57:
 173:SYS/data_structure/queue.c ****                 }
 174:SYS/data_structure/queue.c ****                 else
 175:SYS/data_structure/queue.c ****                 {
 176:SYS/data_structure/queue.c ****                     //LIFO
 177:SYS/data_structure/queue.c ****                     out_buff[index] = queue->buff[queue->head_pos + len - 1 - index];
 642              		.loc 1 177 0
 643 002e 0489     		ldrh	r4, [r0, #8]
 644 0030 0C44     		add	r4, r4, r1
 645 0032 013C     		subs	r4, r4, #1
 646 0034 E41A     		subs	r4, r4, r3
 647 0036 0444     		add	r4, r4, r0
 648 0038 247B     		ldrb	r4, [r4, #12]	@ zero_extendqisi2
 649 003a D454     		strb	r4, [r2, r3]
 178:SYS/data_structure/queue.c ****                     queue->buff[queue->head_pos + len - 1 - index] = NULL;
 650              		.loc 1 178 0
 651 003c 0489     		ldrh	r4, [r0, #8]
 652 003e 0C44     		add	r4, r4, r1
 653 0040 013C     		subs	r4, r4, #1
 654 0042 E41A     		subs	r4, r4, r3
 655 0044 0444     		add	r4, r4, r0
 656 0046 0025     		movs	r5, #0
 657 0048 2573     		strb	r5, [r4, #12]
 658              	.L58:
 166:SYS/data_structure/queue.c ****             {
 659              		.loc 1 166 0 discriminator 2
 660 004a 0133     		adds	r3, r3, #1
 661              	.LVL54:
 662 004c 9BB2     		uxth	r3, r3
 663              	.LVL55:
 664 004e 00E0     		b	.L55
 665              	.LVL56:
 666              	.L61:
 667              	.LBE6:
 668 0050 0023     		movs	r3, #0
 669              	.L55:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 16


 670              	.LVL57:
 671              	.LBB7:
 166:SYS/data_structure/queue.c ****             {
 672              		.loc 1 166 0 is_stmt 0 discriminator 1
 673 0052 8B42     		cmp	r3, r1
 674 0054 DDD3     		bcc	.L59
 675              	.LBE7:
 179:SYS/data_structure/queue.c ****                 }
 180:SYS/data_structure/queue.c ****             }
 181:SYS/data_structure/queue.c **** 
 182:SYS/data_structure/queue.c ****             queue->size -= len;
 676              		.loc 1 182 0 is_stmt 1
 677 0056 8388     		ldrh	r3, [r0, #4]
 678              	.LVL58:
 679 0058 5B1A     		subs	r3, r3, r1
 680 005a 8380     		strh	r3, [r0, #4]	@ movhi
 183:SYS/data_structure/queue.c ****             queue->head_pos = (queue->head_pos + len) % QUEUE_MAX_SIZE;
 681              		.loc 1 183 0
 682 005c 0389     		ldrh	r3, [r0, #8]
 683 005e 1944     		add	r1, r1, r3
 684              	.LVL59:
 685 0060 C1F30801 		ubfx	r1, r1, #0, #9
 686 0064 0181     		strh	r1, [r0, #8]	@ movhi
 184:SYS/data_structure/queue.c **** 
 185:SYS/data_structure/queue.c ****             Queue_GetState(queue);
 687              		.loc 1 185 0
 688 0066 FFF7FEFF 		bl	Queue_GetState
 689              	.LVL60:
 186:SYS/data_structure/queue.c ****             return Queue_ok;
 690              		.loc 1 186 0
 691 006a 0020     		movs	r0, #0
 692 006c 38BD     		pop	{r3, r4, r5, pc}
 693              	.LVL61:
 694              	.L62:
 187:SYS/data_structure/queue.c ****         }
 188:SYS/data_structure/queue.c ****         else
 189:SYS/data_structure/queue.c ****         {
 190:SYS/data_structure/queue.c ****             test++;
 695              		.loc 1 190 0
 696 006e 094A     		ldr	r2, .L64
 697              	.LVL62:
 698 0070 1368     		ldr	r3, [r2]
 699 0072 0133     		adds	r3, r3, #1
 700 0074 1360     		str	r3, [r2]
 191:SYS/data_structure/queue.c ****             //count error num
 192:SYS/data_structure/queue.c ****             queue->error_times[GET_QUEUE_ERROR_INDEX(Queue_overlimit_r)]++;
 701              		.loc 1 192 0
 702 0076 D0F81432 		ldr	r3, [r0, #532]
 703 007a 0133     		adds	r3, r3, #1
 704 007c C0F81432 		str	r3, [r0, #532]
 193:SYS/data_structure/queue.c ****             queue->total_error_times++;
 705              		.loc 1 193 0
 706 0080 D0F82032 		ldr	r3, [r0, #544]
 707 0084 0133     		adds	r3, r3, #1
 708 0086 C0F82032 		str	r3, [r0, #544]
 194:SYS/data_structure/queue.c ****             return Queue_overlimit_r;
 709              		.loc 1 194 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 17


 710 008a 0320     		movs	r0, #3
 711              	.LVL63:
 712 008c 38BD     		pop	{r3, r4, r5, pc}
 713              	.LVL64:
 714              	.L60:
 195:SYS/data_structure/queue.c ****         }
 196:SYS/data_structure/queue.c ****     }
 197:SYS/data_structure/queue.c ****     else
 198:SYS/data_structure/queue.c ****     {
 199:SYS/data_structure/queue.c ****         return Queue_empty;
 715              		.loc 1 199 0
 716 008e 0420     		movs	r0, #4
 717              	.LVL65:
 200:SYS/data_structure/queue.c ****     }
 201:SYS/data_structure/queue.c **** }
 718              		.loc 1 201 0
 719 0090 38BD     		pop	{r3, r4, r5, pc}
 720              	.L65:
 721 0092 00BF     		.align	2
 722              	.L64:
 723 0094 00000000 		.word	.LANCHOR1
 724              		.cfi_endproc
 725              	.LFE132:
 727              		.section	.text.Queue_PopLenCharFromBack,"ax",%progbits
 728              		.align	2
 729              		.global	Queue_PopLenCharFromBack
 730              		.thumb
 731              		.thumb_func
 733              	Queue_PopLenCharFromBack:
 734              	.LFB133:
 202:SYS/data_structure/queue.c **** 
 203:SYS/data_structure/queue.c **** //func describe same as Queue_PopCharFromBack
 204:SYS/data_structure/queue.c **** Queue_state Queue_PopLenCharFromBack(queue_s *queue, uint16_t len, char *out_buff)
 205:SYS/data_structure/queue.c **** {
 735              		.loc 1 205 0
 736              		.cfi_startproc
 737              		@ args = 0, pretend = 0, frame = 0
 738              		@ frame_needed = 0, uses_anonymous_args = 0
 739              	.LVL66:
 740 0000 38B5     		push	{r3, r4, r5, lr}
 741              	.LCFI9:
 742              		.cfi_def_cfa_offset 16
 743              		.cfi_offset 3, -16
 744              		.cfi_offset 4, -12
 745              		.cfi_offset 5, -8
 746              		.cfi_offset 14, -4
 747 0002 0446     		mov	r4, r0
 206:SYS/data_structure/queue.c ****     if ((queue->state == Queue_ok) || (queue->state == Queue_full))
 748              		.loc 1 206 0
 749 0004 8379     		ldrb	r3, [r0, #6]	@ zero_extendqisi2
 750 0006 0BB1     		cbz	r3, .L67
 751              		.loc 1 206 0 is_stmt 0 discriminator 1
 752 0008 052B     		cmp	r3, #5
 753 000a 48D1     		bne	.L68
 754              	.L67:
 207:SYS/data_structure/queue.c ****     {
 208:SYS/data_structure/queue.c ****         if (len < queue->size)
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 18


 755              		.loc 1 208 0 is_stmt 1
 756 000c A388     		ldrh	r3, [r4, #4]
 757 000e 8B42     		cmp	r3, r1
 758 0010 39D9     		bls	.L77
 759 0012 21E0     		b	.L76
 760              	.LVL67:
 761              	.L73:
 762              	.LBB8:
 209:SYS/data_structure/queue.c ****         {
 210:SYS/data_structure/queue.c ****             for (uint16_t index = 0; index < len; index++)
 211:SYS/data_structure/queue.c ****             {
 212:SYS/data_structure/queue.c ****                 if (queue->output_type == Queue_LIFO)
 763              		.loc 1 212 0
 764 0014 94F80C02 		ldrb	r0, [r4, #524]	@ zero_extendqisi2
 765 0018 0128     		cmp	r0, #1
 766 001a 0CD1     		bne	.L71
 213:SYS/data_structure/queue.c ****                 {
 214:SYS/data_structure/queue.c ****                     out_buff[index] = queue->buff[(queue->end_pos - 1) - index];
 767              		.loc 1 214 0
 768 001c 6089     		ldrh	r0, [r4, #10]
 769 001e 0138     		subs	r0, r0, #1
 770 0020 C01A     		subs	r0, r0, r3
 771 0022 2044     		add	r0, r0, r4
 772 0024 007B     		ldrb	r0, [r0, #12]	@ zero_extendqisi2
 773 0026 D054     		strb	r0, [r2, r3]
 215:SYS/data_structure/queue.c ****                     queue->buff[(queue->end_pos - 1) - index] = NULL;
 774              		.loc 1 215 0
 775 0028 6089     		ldrh	r0, [r4, #10]
 776 002a 0138     		subs	r0, r0, #1
 777 002c C01A     		subs	r0, r0, r3
 778 002e 2044     		add	r0, r0, r4
 779 0030 0025     		movs	r5, #0
 780 0032 0573     		strb	r5, [r0, #12]
 781 0034 0DE0     		b	.L72
 782              	.L71:
 216:SYS/data_structure/queue.c ****                 }
 217:SYS/data_structure/queue.c ****                 else
 218:SYS/data_structure/queue.c ****                 {
 219:SYS/data_structure/queue.c ****                     out_buff[index] = queue->buff[(queue->end_pos - 1 - len) + index];
 783              		.loc 1 219 0
 784 0036 6089     		ldrh	r0, [r4, #10]
 785 0038 0138     		subs	r0, r0, #1
 786 003a 401A     		subs	r0, r0, r1
 787 003c 1844     		add	r0, r0, r3
 788 003e 2044     		add	r0, r0, r4
 789 0040 007B     		ldrb	r0, [r0, #12]	@ zero_extendqisi2
 790 0042 D054     		strb	r0, [r2, r3]
 220:SYS/data_structure/queue.c ****                     queue->buff[(queue->end_pos - 1 - len) + index] = NULL;
 791              		.loc 1 220 0
 792 0044 6089     		ldrh	r0, [r4, #10]
 793 0046 0138     		subs	r0, r0, #1
 794 0048 401A     		subs	r0, r0, r1
 795 004a 1844     		add	r0, r0, r3
 796 004c 2044     		add	r0, r0, r4
 797 004e 0025     		movs	r5, #0
 798 0050 0573     		strb	r5, [r0, #12]
 799              	.L72:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 19


 210:SYS/data_structure/queue.c ****             {
 800              		.loc 1 210 0 discriminator 2
 801 0052 0133     		adds	r3, r3, #1
 802              	.LVL68:
 803 0054 9BB2     		uxth	r3, r3
 804              	.LVL69:
 805 0056 00E0     		b	.L69
 806              	.LVL70:
 807              	.L76:
 808              	.LBE8:
 809 0058 0023     		movs	r3, #0
 810              	.LVL71:
 811              	.L69:
 812              	.LBB9:
 210:SYS/data_structure/queue.c ****             {
 813              		.loc 1 210 0 is_stmt 0 discriminator 1
 814 005a 8B42     		cmp	r3, r1
 815 005c DAD3     		bcc	.L73
 816              	.LBE9:
 221:SYS/data_structure/queue.c ****                 }
 222:SYS/data_structure/queue.c ****             }
 223:SYS/data_structure/queue.c **** 
 224:SYS/data_structure/queue.c ****             queue->size -= len;
 817              		.loc 1 224 0 is_stmt 1
 818 005e A388     		ldrh	r3, [r4, #4]
 819              	.LVL72:
 820 0060 5B1A     		subs	r3, r3, r1
 821 0062 A380     		strh	r3, [r4, #4]	@ movhi
 225:SYS/data_structure/queue.c ****             queue->end_pos = (queue->end_pos - len) % QUEUE_MAX_SIZE;
 822              		.loc 1 225 0
 823 0064 6389     		ldrh	r3, [r4, #10]
 824 0066 591A     		subs	r1, r3, r1
 825              	.LVL73:
 826 0068 0E4B     		ldr	r3, .L79
 827 006a 0B40     		ands	r3, r3, r1
 828 006c 002B     		cmp	r3, #0
 829 006e 05DA     		bge	.L74
 830 0070 013B     		subs	r3, r3, #1
 831 0072 6FEAC353 		mvn	r3, r3, lsl #23
 832 0076 6FEAD353 		mvn	r3, r3, lsr #23
 833 007a 0133     		adds	r3, r3, #1
 834              	.L74:
 835 007c 6381     		strh	r3, [r4, #10]	@ movhi
 226:SYS/data_structure/queue.c **** 
 227:SYS/data_structure/queue.c ****             Queue_GetState(queue);
 836              		.loc 1 227 0
 837 007e 2046     		mov	r0, r4
 838 0080 FFF7FEFF 		bl	Queue_GetState
 839              	.LVL74:
 840 0084 0BE0     		b	.L68
 841              	.LVL75:
 842              	.L77:
 228:SYS/data_structure/queue.c ****         }
 229:SYS/data_structure/queue.c ****         else
 230:SYS/data_structure/queue.c ****         {
 231:SYS/data_structure/queue.c ****             queue->error_times[GET_QUEUE_ERROR_INDEX(Queue_overlimit_r)]++;
 843              		.loc 1 231 0
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 20


 844 0086 D4F81432 		ldr	r3, [r4, #532]
 845 008a 0133     		adds	r3, r3, #1
 846 008c C4F81432 		str	r3, [r4, #532]
 232:SYS/data_structure/queue.c ****             queue->total_error_times++;
 847              		.loc 1 232 0
 848 0090 D4F82032 		ldr	r3, [r4, #544]
 849 0094 0133     		adds	r3, r3, #1
 850 0096 C4F82032 		str	r3, [r4, #544]
 233:SYS/data_structure/queue.c ****             return Queue_overlimit_r;
 851              		.loc 1 233 0
 852 009a 0320     		movs	r0, #3
 853              	.LVL76:
 854 009c 38BD     		pop	{r3, r4, r5, pc}
 855              	.LVL77:
 856              	.L68:
 234:SYS/data_structure/queue.c ****         }
 235:SYS/data_structure/queue.c ****     }
 236:SYS/data_structure/queue.c **** 
 237:SYS/data_structure/queue.c ****     return queue->state;
 857              		.loc 1 237 0
 858 009e A079     		ldrb	r0, [r4, #6]	@ zero_extendqisi2
 238:SYS/data_structure/queue.c **** }
 859              		.loc 1 238 0
 860 00a0 38BD     		pop	{r3, r4, r5, pc}
 861              	.LVL78:
 862              	.L80:
 863 00a2 00BF     		.align	2
 864              	.L79:
 865 00a4 FF010080 		.word	-2147483137
 866              		.cfi_endproc
 867              	.LFE133:
 869              		.section	.text.Queue_CheckData,"ax",%progbits
 870              		.align	2
 871              		.global	Queue_CheckData
 872              		.thumb
 873              		.thumb_func
 875              	Queue_CheckData:
 876              	.LFB134:
 239:SYS/data_structure/queue.c **** 
 240:SYS/data_structure/queue.c **** Queue_CheckOut_u Queue_CheckData(queue_s queue, uint16_t index)
 241:SYS/data_structure/queue.c **** {
 877              		.loc 1 241 0
 878              		.cfi_startproc
 879              		@ args = 552, pretend = 16, frame = 0
 880              		@ frame_needed = 0, uses_anonymous_args = 0
 881              		@ link register save eliminated.
 882              	.LVL79:
 883 0000 84B0     		sub	sp, sp, #16
 884              	.LCFI10:
 885              		.cfi_def_cfa_offset 16
 886 0002 8DE80F00 		stmia	sp, {r0, r1, r2, r3}
 887 0006 BDF82432 		ldrh	r3, [sp, #548]
 242:SYS/data_structure/queue.c ****     Queue_CheckOut_u Data_tmp;
 243:SYS/data_structure/queue.c ****     Data_tmp.reg.value = 0;
 888              		.loc 1 243 0
 889 000a 4FF00000 		mov	r0, #0	@ movhi
 890              	.LVL80:
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 21


 244:SYS/data_structure/queue.c **** 
 245:SYS/data_structure/queue.c ****     if (queue.state != Queue_empty)
 891              		.loc 1 245 0
 892 000e 9DF80620 		ldrb	r2, [sp, #6]	@ zero_extendqisi2
 893 0012 042A     		cmp	r2, #4
 894 0014 16D0     		beq	.L82
 246:SYS/data_structure/queue.c ****     {
 247:SYS/data_structure/queue.c ****         if ((index < QUEUE_MAX_SIZE) && (index <= queue.size))
 895              		.loc 1 247 0
 896 0016 B3F5007F 		cmp	r3, #512
 897 001a 0FD2     		bcs	.L83
 898              		.loc 1 247 0 is_stmt 0 discriminator 1
 899 001c BDF80420 		ldrh	r2, [sp, #4]
 900 0020 9342     		cmp	r3, r2
 901 0022 0BD8     		bhi	.L83
 248:SYS/data_structure/queue.c ****         {
 249:SYS/data_structure/queue.c ****             Data_tmp.reg.state = Queue_ok;
 902              		.loc 1 249 0 is_stmt 1
 903 0024 6FF30700 		bfc	r0, #0, #8
 904              	.LVL81:
 250:SYS/data_structure/queue.c ****             Data_tmp.reg.value = queue.buff[(index + queue.head_pos) % QUEUE_MAX_SIZE];
 905              		.loc 1 250 0
 906 0028 BDF80820 		ldrh	r2, [sp, #8]
 907 002c 1344     		add	r3, r3, r2
 908 002e C3F30803 		ubfx	r3, r3, #0, #9
 909 0032 6B44     		add	r3, r3, sp
 910 0034 1B7B     		ldrb	r3, [r3, #12]	@ zero_extendqisi2
 911 0036 63F30F20 		bfi	r0, r3, #8, #8
 912 003a 06E0     		b	.L84
 913              	.LVL82:
 914              	.L83:
 251:SYS/data_structure/queue.c ****         }
 252:SYS/data_structure/queue.c ****         else
 253:SYS/data_structure/queue.c ****         {
 254:SYS/data_structure/queue.c ****             Data_tmp.reg.state = Queue_CheckErrorPos;
 915              		.loc 1 254 0
 916 003c 0123     		movs	r3, #1
 917 003e 63F30700 		bfi	r0, r3, #0, #8
 918              	.LVL83:
 919 0042 02E0     		b	.L84
 920              	.LVL84:
 921              	.L82:
 255:SYS/data_structure/queue.c ****         }
 256:SYS/data_structure/queue.c ****     }
 257:SYS/data_structure/queue.c ****     else
 258:SYS/data_structure/queue.c ****     {
 259:SYS/data_structure/queue.c ****         Data_tmp.reg.state = Queue_empty;
 922              		.loc 1 259 0
 923 0044 0423     		movs	r3, #4
 924 0046 63F30700 		bfi	r0, r3, #0, #8
 925              	.LVL85:
 926              	.L84:
 927              	.LVL86:
 260:SYS/data_structure/queue.c ****     }
 261:SYS/data_structure/queue.c **** 
 262:SYS/data_structure/queue.c ****     return Data_tmp;
 263:SYS/data_structure/queue.c **** }
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 22


 928              		.loc 1 263 0
 929 004a 04B0     		add	sp, sp, #16
 930              	.LCFI11:
 931              		.cfi_def_cfa_offset 0
 932 004c 7047     		bx	lr
 933              		.cfi_endproc
 934              	.LFE134:
 936 004e 00BF     		.section	.text.Queue_Output_ErrorTimes,"ax",%progbits
 937              		.align	2
 938              		.global	Queue_Output_ErrorTimes
 939              		.thumb
 940              		.thumb_func
 942              	Queue_Output_ErrorTimes:
 943              	.LFB135:
 264:SYS/data_structure/queue.c **** 
 265:SYS/data_structure/queue.c **** void Queue_Output_ErrorTimes(queue_s queue)
 266:SYS/data_structure/queue.c **** {
 944              		.loc 1 266 0
 945              		.cfi_startproc
 946              		@ args = 548, pretend = 16, frame = 0
 947              		@ frame_needed = 0, uses_anonymous_args = 0
 948              		@ link register save eliminated.
 949 0000 84B0     		sub	sp, sp, #16
 950              	.LCFI12:
 951              		.cfi_def_cfa_offset 16
 952 0002 8DE80F00 		stmia	sp, {r0, r1, r2, r3}
 267:SYS/data_structure/queue.c ****     if (queue.total_error_times)
 953              		.loc 1 267 0
 954 0006 889B     		ldr	r3, [sp, #544]
 955 0008 1BB9     		cbnz	r3, .L90
 956              	.LBB10:
 957 000a 05E0     		b	.L86
 958              	.LVL87:
 959              	.L89:
 268:SYS/data_structure/queue.c ****     {
 269:SYS/data_structure/queue.c ****         for (uint8_t i = 0; i < QUEUE_ERROR_TYPENUM; i++)
 960              		.loc 1 269 0
 961 000c 0133     		adds	r3, r3, #1
 962              	.LVL88:
 963 000e DBB2     		uxtb	r3, r3
 964              	.LVL89:
 965 0010 00E0     		b	.L87
 966              	.LVL90:
 967              	.L90:
 968              	.LBE10:
 969 0012 0023     		movs	r3, #0
 970              	.L87:
 971              	.LVL91:
 972              	.LBB11:
 973              		.loc 1 269 0 is_stmt 0 discriminator 1
 974 0014 032B     		cmp	r3, #3
 975 0016 F9D9     		bls	.L89
 976              	.LVL92:
 977              	.L86:
 978              	.LBE11:
 270:SYS/data_structure/queue.c ****         {
 271:SYS/data_structure/queue.c ****             if (queue.error_times[i])
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 23


 272:SYS/data_structure/queue.c ****             {
 273:SYS/data_structure/queue.c ****                 switch (i + Queue_overflow_w)
 274:SYS/data_structure/queue.c ****                 {
 275:SYS/data_structure/queue.c ****                 case Queue_overflow_w:
 276:SYS/data_structure/queue.c ****                     break;
 277:SYS/data_structure/queue.c **** 
 278:SYS/data_structure/queue.c ****                 case Queue_overlimit_r:
 279:SYS/data_structure/queue.c ****                     break;
 280:SYS/data_structure/queue.c **** 
 281:SYS/data_structure/queue.c ****                 case Queue_empty:
 282:SYS/data_structure/queue.c ****                     break;
 283:SYS/data_structure/queue.c **** 
 284:SYS/data_structure/queue.c ****                 case Queue_full:
 285:SYS/data_structure/queue.c ****                     break;
 286:SYS/data_structure/queue.c **** 
 287:SYS/data_structure/queue.c ****                 case Queue_CreateFailed:
 288:SYS/data_structure/queue.c ****                     break;
 289:SYS/data_structure/queue.c ****                 }
 290:SYS/data_structure/queue.c ****             }
 291:SYS/data_structure/queue.c ****         }
 292:SYS/data_structure/queue.c ****     }
 293:SYS/data_structure/queue.c **** }
 979              		.loc 1 293 0 is_stmt 1
 980 0018 04B0     		add	sp, sp, #16
 981              	.LCFI13:
 982              		.cfi_def_cfa_offset 0
 983 001a 7047     		bx	lr
 984              		.cfi_endproc
 985              	.LFE135:
 987              		.section	.bss.test.9021,"aw",%nobits
 988              		.align	2
 989              		.set	.LANCHOR1,. + 0
 992              	test.9021:
 993 0000 00000000 		.space	4
 994              		.section	.bss.Cur_Crtd_Queue,"aw",%nobits
 995              		.set	.LANCHOR0,. + 0
 998              	Cur_Crtd_Queue:
 999 0000 00       		.space	1
 1000              		.text
 1001              	.Letext0:
 1002              		.file 2 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\machine\\_default_types.h"
 1003              		.file 3 "d:\\gcc_arm\\5.4 2016q3\\arm-none-eabi\\include\\sys\\_stdint.h"
 1004              		.file 4 "SYS/data_structure/queue.h"
 1005              		.file 5 "F4_CORE/core_cm4.h"
ARM GAS  C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s 			page 24


DEFINED SYMBOLS
                            *ABS*:00000000 queue.c
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:22     .text.Queue_GetState:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:26     .text.Queue_GetState:00000000 Queue_GetState
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:102    .text.Queue_GetState:00000068 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:107    .text.Queue_Init:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:112    .text.Queue_Init:00000000 Queue_Init
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:200    .text.Queue_Init:0000005c $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:205    .text.Queue_Reset:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:210    .text.Queue_Reset:00000000 Queue_Reset
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:233    .text.Queue_PushChar:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:238    .text.Queue_PushChar:00000000 Queue_PushChar
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:287    .text.Queue_PushChar:00000038 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:292    .text.Queue_PushLenChar:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:297    .text.Queue_PushLenChar:00000000 Queue_PushLenChar
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:390    .text.Queue_PopCharFromFront:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:395    .text.Queue_PopCharFromFront:00000000 Queue_PopCharFromFront
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:442    .text.Queue_PopCharFromBack:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:447    .text.Queue_PopCharFromBack:00000000 Queue_PopCharFromBack
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:508    .text.Queue_PopCharFromBack:00000048 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:513    .text.Queue_Dump:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:518    .text.Queue_Dump:00000000 Queue_Dump
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:591    .text.Queue_PopLenCharFromFront:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:596    .text.Queue_PopLenCharFromFront:00000000 Queue_PopLenCharFromFront
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:723    .text.Queue_PopLenCharFromFront:00000094 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:728    .text.Queue_PopLenCharFromBack:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:733    .text.Queue_PopLenCharFromBack:00000000 Queue_PopLenCharFromBack
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:865    .text.Queue_PopLenCharFromBack:000000a4 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:870    .text.Queue_CheckData:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:875    .text.Queue_CheckData:00000000 Queue_CheckData
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:937    .text.Queue_Output_ErrorTimes:00000000 $t
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:942    .text.Queue_Output_ErrorTimes:00000000 Queue_Output_ErrorTimes
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:988    .bss.test.9021:00000000 $d
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:992    .bss.test.9021:00000000 test.9021
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:998    .bss.Cur_Crtd_Queue:00000000 Cur_Crtd_Queue
C:\Users\ADMINI~1\AppData\Local\Temp\ccUmQboz.s:999    .bss.Cur_Crtd_Queue:00000000 $d
                     .debug_frame:00000010 $d

UNDEFINED SYMBOLS
memset
Queue_init
