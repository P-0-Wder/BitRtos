ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"drv_serial.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.DrvSerial_Write,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	DrvSerial_Write:
  26              	.LVL0:
  27              	.LFB127:
  28              		.file 1 "Drv/drv_serial.c"
   1:Drv/drv_serial.c **** #include "drv_serial.h"
   2:Drv/drv_serial.c **** #include "vcp.h"
   3:Drv/drv_serial.c **** 
   4:Drv/drv_serial.c **** #define Serial_Default_Baudrate Serial_115200
   5:Drv/drv_serial.c **** 
   6:Drv/drv_serial.c **** /* internal virable */
   7:Drv/drv_serial.c **** static uint8_t Serial_TX_Buff[DrvSerial_Sum][SERIAL_MAX_RECLEN];
   8:Drv/drv_serial.c **** static uint8_t Serial_RX_Buff[DrvSerial_Sum][SERIAL_MAX_RECLEN];
   9:Drv/drv_serial.c **** static DrvSerial_SrcInfo_TypeDef DrvSerial_SrcInfo[DrvSerial_Sum] = {
  10:Drv/drv_serial.c ****     {.inuse = false},
  11:Drv/drv_serial.c ****     {.inuse = false},
  12:Drv/drv_serial.c ****     {.inuse = false},
  13:Drv/drv_serial.c ****     {.inuse = false},
  14:Drv/drv_serial.c **** };
  15:Drv/drv_serial.c **** 
  16:Drv/drv_serial.c **** /* internal function */
  17:Drv/drv_serial.c **** 
  18:Drv/drv_serial.c **** /* external function */
  19:Drv/drv_serial.c **** static bool
  20:Drv/drv_serial.c **** DrvSerial_Ctl(DrvSerial_Port_List portx, DrvSerial_CMD_List cmd, uint32_t data, uint8_t len);
  21:Drv/drv_serial.c **** static void DrvSerial_Write(DrvSerial_Port_List portx, uint8_t *data, uint16_t len);
  22:Drv/drv_serial.c **** 
  23:Drv/drv_serial.c **** /* external virable */
  24:Drv/drv_serial.c **** DrvSerial_GenProcFunc_TypeDef DrvSerial = {
  25:Drv/drv_serial.c ****     .ctl = DrvSerial_Ctl,
  26:Drv/drv_serial.c ****     .read = NULL,
  27:Drv/drv_serial.c ****     .write = DrvSerial_Write,
  28:Drv/drv_serial.c **** };
  29:Drv/drv_serial.c **** 
  30:Drv/drv_serial.c **** static bool DrvSerial_Ctl(DrvSerial_Port_List portx, DrvSerial_CMD_List cmd, uint32_t data, uint8_t
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 2


  31:Drv/drv_serial.c **** {
  32:Drv/drv_serial.c ****     switch ((uint8_t)cmd)
  33:Drv/drv_serial.c ****     {
  34:Drv/drv_serial.c ****     case DrvSerial_Open:
  35:Drv/drv_serial.c ****         if ((len != sizeof(DrvSerial_Config_Typedef)) || (DrvSerial_SrcInfo[portx].inuse))
  36:Drv/drv_serial.c ****             return;
  37:Drv/drv_serial.c **** 
  38:Drv/drv_serial.c ****         if (portx != DrvSerial_Vcp)
  39:Drv/drv_serial.c ****         {
  40:Drv/drv_serial.c ****             switch ((uint8_t)(((DrvSerial_Config_Typedef *)data)->mode))
  41:Drv/drv_serial.c ****             {
  42:Drv/drv_serial.c ****             case DrvSerial_MODE_Normal:
  43:Drv/drv_serial.c ****                 Serial_IRQ_RX_Init(portx, ((DrvSerial_Config_Typedef *)data)->baudrate,
  44:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
  45:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority, Serial_Normal);
  46:Drv/drv_serial.c **** 
  47:Drv/drv_serial.c ****                 Serial_Set_IRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->Irq_Callback);
  48:Drv/drv_serial.c ****                 break;
  49:Drv/drv_serial.c **** 
  50:Drv/drv_serial.c ****             case DrvSerial_MODE_DMA_Rx:
  51:Drv/drv_serial.c ****                 Serial_DMA_RX_Init(portx, ((DrvSerial_Config_Typedef *)data)->baudrate, ((DrvSerial
  52:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority,
  53:Drv/drv_serial.c ****                                    (uint32_t)&Serial_RX_Buff[portx],
  54:Drv/drv_serial.c ****                                    SERIAL_MAX_RECLEN, Serial_Normal);
  55:Drv/drv_serial.c **** 
  56:Drv/drv_serial.c ****                 Serial_Set_IRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->Irq_Callback);
  57:Drv/drv_serial.c ****                 break;
  58:Drv/drv_serial.c **** 
  59:Drv/drv_serial.c ****             case DrvSerial_MODE_DMA_TxRx:
  60:Drv/drv_serial.c ****                 Serial_DMA_RXTX_Init(portx, ((DrvSerial_Config_Typedef *)data)->baudrate,
  61:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
  62:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->SubPriority,
  63:Drv/drv_serial.c ****                                      (uint32_t)&Serial_RX_Buff[portx],
  64:Drv/drv_serial.c ****                                      (uint32_t)&Serial_TX_Buff[portx],
  65:Drv/drv_serial.c ****                                      SERIAL_MAX_RECLEN, Serial_Normal);
  66:Drv/drv_serial.c **** 
  67:Drv/drv_serial.c ****                 Serial_Set_IRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->Irq_Callback);
  68:Drv/drv_serial.c ****                 break;
  69:Drv/drv_serial.c **** 
  70:Drv/drv_serial.c ****             default:
  71:Drv/drv_serial.c ****                 return false;
  72:Drv/drv_serial.c ****             }
  73:Drv/drv_serial.c ****         }
  74:Drv/drv_serial.c ****         else
  75:Drv/drv_serial.c ****         {
  76:Drv/drv_serial.c ****             VCP_Init();
  77:Drv/drv_serial.c ****         }
  78:Drv/drv_serial.c **** 
  79:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].inuse = true;
  80:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
  81:Drv/drv_serial.c ****         break;
  82:Drv/drv_serial.c **** 
  83:Drv/drv_serial.c ****     case DrvSerial_Close:
  84:Drv/drv_serial.c ****         Serial_Deinit(portx);
  85:Drv/drv_serial.c ****         Serial_Set_IRQ_Callback(portx, NULL);
  86:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->mode = DrvSerial_MODE_None;
  87:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->PreemptionPriority = 0;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 3


  88:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->SubPriority = 0;
  89:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->baudrate = 0;
  90:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->Irq_Callback = NULL;
  91:Drv/drv_serial.c **** 
  92:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].inuse = false;
  93:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
  94:Drv/drv_serial.c ****         break;
  95:Drv/drv_serial.c **** 
  96:Drv/drv_serial.c ****     case DrvSerial_Set_RxIRQCallback:
  97:Drv/drv_serial.c ****         Serial_Set_IRQ_Callback(portx, (Serial_IRQ_Callback)data);
  98:Drv/drv_serial.c ****         break;
  99:Drv/drv_serial.c **** 
 100:Drv/drv_serial.c ****     default:
 101:Drv/drv_serial.c ****         return false;
 102:Drv/drv_serial.c ****     }
 103:Drv/drv_serial.c **** 
 104:Drv/drv_serial.c ****     return true;
 105:Drv/drv_serial.c **** }
 106:Drv/drv_serial.c **** 
 107:Drv/drv_serial.c **** static void DrvSerial_Write(DrvSerial_Port_List portx, uint8_t *data, uint16_t len)
 108:Drv/drv_serial.c **** {
  29              		.loc 1 108 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 108 1 is_stmt 0 view .LVU1
  34 0000 10B5     		push	{r4, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 8
  37              		.cfi_offset 4, -8
  38              		.cfi_offset 14, -4
  39 0002 0446     		mov	r4, r0
 109:Drv/drv_serial.c ****     if (!DrvSerial_SrcInfo[portx].inuse)
  40              		.loc 1 109 5 is_stmt 1 view .LVU2
  41              		.loc 1 109 34 is_stmt 0 view .LVU3
  42 0004 00EB8000 		add	r0, r0, r0, lsl #2
  43              	.LVL1:
  44              		.loc 1 109 34 view .LVU4
  45 0008 104B     		ldr	r3, .L8
  46 000a 13F82030 		ldrb	r3, [r3, r0, lsl #2]	@ zero_extendqisi2
  47              		.loc 1 109 8 view .LVU5
  48 000e 43B1     		cbz	r3, .L1
 110:Drv/drv_serial.c ****         return;
 111:Drv/drv_serial.c **** 
 112:Drv/drv_serial.c ****     if ((DrvSerial_SrcInfo[portx].cfg.mode == DrvSerial_MODE_Normal) || (DrvSerial_SrcInfo[portx].c
  49              		.loc 1 112 5 is_stmt 1 view .LVU6
  50              		.loc 1 112 38 is_stmt 0 view .LVU7
  51 0010 0346     		mov	r3, r0
  52 0012 0E48     		ldr	r0, .L8
  53 0014 00EB8303 		add	r3, r0, r3, lsl #2
  54 0018 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
  55              		.loc 1 112 8 view .LVU8
  56 001a 012B     		cmp	r3, #1
  57 001c 02D9     		bls	.L6
 113:Drv/drv_serial.c ****     {
 114:Drv/drv_serial.c ****         Serial_SendBuff(portx, data, len);
 115:Drv/drv_serial.c ****     }
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 4


 116:Drv/drv_serial.c ****     else if (DrvSerial_SrcInfo[portx].cfg.mode == DrvSerial_MODE_DMA_TxRx)
  58              		.loc 1 116 10 is_stmt 1 view .LVU9
  59              		.loc 1 116 13 is_stmt 0 view .LVU10
  60 001e 022B     		cmp	r3, #2
  61 0020 0FD0     		beq	.L7
  62              	.LVL2:
  63              	.L1:
 117:Drv/drv_serial.c ****     {
 118:Drv/drv_serial.c ****         Serial_DMA_SendBuff(portx, data, len);
 119:Drv/drv_serial.c ****     }
 120:Drv/drv_serial.c ****     else
 121:Drv/drv_serial.c ****         return;
 122:Drv/drv_serial.c **** 
 123:Drv/drv_serial.c ****     if (DrvSerial_Send_Async == DrvSerial_SrcInfo[portx].cfg.mode)
 124:Drv/drv_serial.c ****     {
 125:Drv/drv_serial.c ****         Serial_DMA_WaitFinish(portx);
 126:Drv/drv_serial.c ****     }
 127:Drv/drv_serial.c **** }
  64              		.loc 1 127 1 view .LVU11
  65 0022 10BD     		pop	{r4, pc}
  66              	.LVL3:
  67              	.L6:
 114:Drv/drv_serial.c ****     }
  68              		.loc 1 114 9 is_stmt 1 view .LVU12
  69 0024 2046     		mov	r0, r4
  70 0026 FFF7FEFF 		bl	Serial_SendBuff
  71              	.LVL4:
  72              	.L4:
 123:Drv/drv_serial.c ****     {
  73              		.loc 1 123 5 view .LVU13
 123:Drv/drv_serial.c ****     {
  74              		.loc 1 123 61 is_stmt 0 view .LVU14
  75 002a 04EB8403 		add	r3, r4, r4, lsl #2
  76 002e 074A     		ldr	r2, .L8
  77 0030 02EB8303 		add	r3, r2, r3, lsl #2
  78 0034 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 123:Drv/drv_serial.c ****     {
  79              		.loc 1 123 8 view .LVU15
  80 0036 002B     		cmp	r3, #0
  81 0038 F3D1     		bne	.L1
 125:Drv/drv_serial.c ****     }
  82              		.loc 1 125 9 is_stmt 1 view .LVU16
  83 003a 2046     		mov	r0, r4
  84 003c FFF7FEFF 		bl	Serial_DMA_WaitFinish
  85              	.LVL5:
  86 0040 EFE7     		b	.L1
  87              	.LVL6:
  88              	.L7:
 118:Drv/drv_serial.c ****     }
  89              		.loc 1 118 9 view .LVU17
  90 0042 2046     		mov	r0, r4
  91 0044 FFF7FEFF 		bl	Serial_DMA_SendBuff
  92              	.LVL7:
 118:Drv/drv_serial.c ****     }
  93              		.loc 1 118 9 is_stmt 0 view .LVU18
  94 0048 EFE7     		b	.L4
  95              	.L9:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 5


  96 004a 00BF     		.align	2
  97              	.L8:
  98 004c 00000000 		.word	.LANCHOR0
  99              		.cfi_endproc
 100              	.LFE127:
 102              		.section	.text.DrvSerial_Ctl,"ax",%progbits
 103              		.align	1
 104              		.syntax unified
 105              		.thumb
 106              		.thumb_func
 107              		.fpu fpv4-sp-d16
 109              	DrvSerial_Ctl:
 110              	.LVL8:
 111              	.LFB126:
  31:Drv/drv_serial.c ****     switch ((uint8_t)cmd)
 112              		.loc 1 31 1 is_stmt 1 view -0
 113              		.cfi_startproc
 114              		@ args = 0, pretend = 0, frame = 0
 115              		@ frame_needed = 0, uses_anonymous_args = 0
  31:Drv/drv_serial.c ****     switch ((uint8_t)cmd)
 116              		.loc 1 31 1 is_stmt 0 view .LVU20
 117 0000 70B5     		push	{r4, r5, r6, lr}
 118              	.LCFI1:
 119              		.cfi_def_cfa_offset 16
 120              		.cfi_offset 4, -16
 121              		.cfi_offset 5, -12
 122              		.cfi_offset 6, -8
 123              		.cfi_offset 14, -4
 124 0002 84B0     		sub	sp, sp, #16
 125              	.LCFI2:
 126              		.cfi_def_cfa_offset 32
 127 0004 0446     		mov	r4, r0
 128 0006 1546     		mov	r5, r2
  32:Drv/drv_serial.c ****     {
 129              		.loc 1 32 5 is_stmt 1 view .LVU21
 130 0008 0129     		cmp	r1, #1
 131 000a 62D0     		beq	.L11
 132 000c 0229     		cmp	r1, #2
 133 000e 7DD0     		beq	.L12
 134 0010 11B1     		cbz	r1, .L22
 135 0012 0020     		movs	r0, #0
 136              	.LVL9:
 137              	.L10:
 105:Drv/drv_serial.c **** 
 138              		.loc 1 105 1 is_stmt 0 view .LVU22
 139 0014 04B0     		add	sp, sp, #16
 140              	.LCFI3:
 141              		.cfi_remember_state
 142              		.cfi_def_cfa_offset 16
 143              		@ sp needed
 144 0016 70BD     		pop	{r4, r5, r6, pc}
 145              	.LVL10:
 146              	.L22:
 147              	.LCFI4:
 148              		.cfi_restore_state
  35:Drv/drv_serial.c ****             return;
 149              		.loc 1 35 9 is_stmt 1 view .LVU23
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 6


  35:Drv/drv_serial.c ****             return;
 150              		.loc 1 35 12 is_stmt 0 view .LVU24
 151 0018 102B     		cmp	r3, #16
 152 001a FBD1     		bne	.L10
  35:Drv/drv_serial.c ****             return;
 153              		.loc 1 35 83 discriminator 1 view .LVU25
 154 001c 00EB8003 		add	r3, r0, r0, lsl #2
 155              	.LVL11:
  35:Drv/drv_serial.c ****             return;
 156              		.loc 1 35 83 discriminator 1 view .LVU26
 157 0020 3D4A     		ldr	r2, .L23
 158              	.LVL12:
  35:Drv/drv_serial.c ****             return;
 159              		.loc 1 35 83 discriminator 1 view .LVU27
 160 0022 12F82300 		ldrb	r0, [r2, r3, lsl #2]	@ zero_extendqisi2
 161              	.LVL13:
  35:Drv/drv_serial.c ****             return;
 162              		.loc 1 35 55 discriminator 1 view .LVU28
 163 0026 0028     		cmp	r0, #0
 164 0028 F4D1     		bne	.L10
  38:Drv/drv_serial.c ****         {
 165              		.loc 1 38 9 is_stmt 1 view .LVU29
  38:Drv/drv_serial.c ****         {
 166              		.loc 1 38 12 is_stmt 0 view .LVU30
 167 002a 042C     		cmp	r4, #4
 168 002c 3FD0     		beq	.L16
  40:Drv/drv_serial.c ****             {
 169              		.loc 1 40 13 is_stmt 1 view .LVU31
  40:Drv/drv_serial.c ****             {
 170              		.loc 1 40 65 is_stmt 0 view .LVU32
 171 002e AB79     		ldrb	r3, [r5, #6]	@ zero_extendqisi2
 172 0030 012B     		cmp	r3, #1
 173 0032 10D0     		beq	.L17
 174 0034 022B     		cmp	r3, #2
 175 0036 22D0     		beq	.L18
 176 0038 002B     		cmp	r3, #0
 177 003a EBD1     		bne	.L10
  43:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 178              		.loc 1 43 17 is_stmt 1 view .LVU33
 179 003c 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 180 003e 2A79     		ldrb	r2, [r5, #4]	@ zero_extendqisi2
 181 0040 0021     		movs	r1, #0
 182              	.LVL14:
  43:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 183              		.loc 1 43 17 is_stmt 0 view .LVU34
 184 0042 0091     		str	r1, [sp]
 185 0044 2968     		ldr	r1, [r5]
 186 0046 2046     		mov	r0, r4
 187 0048 FFF7FEFF 		bl	Serial_IRQ_RX_Init
 188              	.LVL15:
  47:Drv/drv_serial.c ****                 break;
 189              		.loc 1 47 17 is_stmt 1 view .LVU35
 190 004c A968     		ldr	r1, [r5, #8]
 191 004e 2046     		mov	r0, r4
 192 0050 FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 193              	.LVL16:
  48:Drv/drv_serial.c **** 
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 7


 194              		.loc 1 48 17 view .LVU36
 195 0054 2DE0     		b	.L19
 196              	.LVL17:
 197              	.L17:
  51:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority,
 198              		.loc 1 51 17 view .LVU37
  53:Drv/drv_serial.c ****                                    SERIAL_MAX_RECLEN, Serial_Normal);
 199              		.loc 1 53 46 is_stmt 0 view .LVU38
 200 0056 3149     		ldr	r1, .L23+4
 201              	.LVL18:
  53:Drv/drv_serial.c ****                                    SERIAL_MAX_RECLEN, Serial_Normal);
 202              		.loc 1 53 46 view .LVU39
 203 0058 01EB8421 		add	r1, r1, r4, lsl #10
  51:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority,
 204              		.loc 1 51 17 view .LVU40
 205 005c 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 206 005e 2A79     		ldrb	r2, [r5, #4]	@ zero_extendqisi2
 207 0060 0020     		movs	r0, #0
 208 0062 0290     		str	r0, [sp, #8]
 209 0064 4FF48060 		mov	r0, #1024
 210 0068 0190     		str	r0, [sp, #4]
 211 006a 0091     		str	r1, [sp]
 212 006c 2968     		ldr	r1, [r5]
 213 006e 2046     		mov	r0, r4
 214 0070 FFF7FEFF 		bl	Serial_DMA_RX_Init
 215              	.LVL19:
  56:Drv/drv_serial.c ****                 break;
 216              		.loc 1 56 17 is_stmt 1 view .LVU41
 217 0074 A968     		ldr	r1, [r5, #8]
 218 0076 2046     		mov	r0, r4
 219 0078 FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 220              	.LVL20:
  57:Drv/drv_serial.c **** 
 221              		.loc 1 57 17 view .LVU42
 222 007c 19E0     		b	.L19
 223              	.LVL21:
 224              	.L18:
  60:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 225              		.loc 1 60 17 view .LVU43
  63:Drv/drv_serial.c ****                                      (uint32_t)&Serial_TX_Buff[portx],
 226              		.loc 1 63 48 is_stmt 0 view .LVU44
 227 007e 2749     		ldr	r1, .L23+4
 228              	.LVL22:
  63:Drv/drv_serial.c ****                                      (uint32_t)&Serial_TX_Buff[portx],
 229              		.loc 1 63 48 view .LVU45
 230 0080 01EB8421 		add	r1, r1, r4, lsl #10
  64:Drv/drv_serial.c ****                                      SERIAL_MAX_RECLEN, Serial_Normal);
 231              		.loc 1 64 48 view .LVU46
 232 0084 2648     		ldr	r0, .L23+8
 233 0086 00EB8420 		add	r0, r0, r4, lsl #10
  60:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 234              		.loc 1 60 17 view .LVU47
 235 008a 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 236 008c 2A79     		ldrb	r2, [r5, #4]	@ zero_extendqisi2
 237 008e 0026     		movs	r6, #0
 238 0090 0396     		str	r6, [sp, #12]
 239 0092 4FF48066 		mov	r6, #1024
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 8


 240 0096 0296     		str	r6, [sp, #8]
 241 0098 0190     		str	r0, [sp, #4]
 242 009a 0091     		str	r1, [sp]
 243 009c 2968     		ldr	r1, [r5]
 244 009e 2046     		mov	r0, r4
 245 00a0 FFF7FEFF 		bl	Serial_DMA_RXTX_Init
 246              	.LVL23:
  67:Drv/drv_serial.c ****                 break;
 247              		.loc 1 67 17 is_stmt 1 view .LVU48
 248 00a4 A968     		ldr	r1, [r5, #8]
 249 00a6 2046     		mov	r0, r4
 250 00a8 FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 251              	.LVL24:
  68:Drv/drv_serial.c **** 
 252              		.loc 1 68 17 view .LVU49
 253 00ac 01E0     		b	.L19
 254              	.LVL25:
 255              	.L16:
  76:Drv/drv_serial.c ****         }
 256              		.loc 1 76 13 view .LVU50
 257 00ae FFF7FEFF 		bl	VCP_Init
 258              	.LVL26:
 259              	.L19:
  79:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 260              		.loc 1 79 9 view .LVU51
  79:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 261              		.loc 1 79 40 is_stmt 0 view .LVU52
 262 00b2 194B     		ldr	r3, .L23
 263 00b4 04EB8402 		add	r2, r4, r4, lsl #2
 264 00b8 4FF0010C 		mov	ip, #1
 265 00bc 03F822C0 		strb	ip, [r3, r2, lsl #2]
  80:Drv/drv_serial.c ****         break;
 266              		.loc 1 80 9 is_stmt 1 view .LVU53
  80:Drv/drv_serial.c ****         break;
 267              		.loc 1 80 38 is_stmt 0 view .LVU54
 268 00c0 03EB8204 		add	r4, r3, r2, lsl #2
 269 00c4 0434     		adds	r4, r4, #4
 270 00c6 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 271 00ca 84E80F00 		stm	r4, {r0, r1, r2, r3}
  81:Drv/drv_serial.c **** 
 272              		.loc 1 81 9 is_stmt 1 view .LVU55
 104:Drv/drv_serial.c **** }
 273              		.loc 1 104 12 is_stmt 0 view .LVU56
 274 00ce 6046     		mov	r0, ip
  81:Drv/drv_serial.c **** 
 275              		.loc 1 81 9 view .LVU57
 276 00d0 A0E7     		b	.L10
 277              	.LVL27:
 278              	.L11:
  84:Drv/drv_serial.c ****         Serial_Set_IRQ_Callback(portx, NULL);
 279              		.loc 1 84 9 is_stmt 1 view .LVU58
 280 00d2 FFF7FEFF 		bl	Serial_Deinit
 281              	.LVL28:
  85:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->mode = DrvSerial_MODE_None;
 282              		.loc 1 85 9 view .LVU59
 283 00d6 0021     		movs	r1, #0
 284 00d8 2046     		mov	r0, r4
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 9


 285 00da FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 286              	.LVL29:
  86:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->PreemptionPriority = 0;
 287              		.loc 1 86 9 view .LVU60
  86:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->PreemptionPriority = 0;
 288              		.loc 1 86 50 is_stmt 0 view .LVU61
 289 00de 0323     		movs	r3, #3
 290 00e0 AB71     		strb	r3, [r5, #6]
  87:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->SubPriority = 0;
 291              		.loc 1 87 9 is_stmt 1 view .LVU62
  87:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->SubPriority = 0;
 292              		.loc 1 87 64 is_stmt 0 view .LVU63
 293 00e2 0022     		movs	r2, #0
 294 00e4 2A71     		strb	r2, [r5, #4]
  88:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->baudrate = 0;
 295              		.loc 1 88 9 is_stmt 1 view .LVU64
  88:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->baudrate = 0;
 296              		.loc 1 88 57 is_stmt 0 view .LVU65
 297 00e6 6A71     		strb	r2, [r5, #5]
  89:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->Irq_Callback = NULL;
 298              		.loc 1 89 9 is_stmt 1 view .LVU66
  89:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->Irq_Callback = NULL;
 299              		.loc 1 89 54 is_stmt 0 view .LVU67
 300 00e8 2A60     		str	r2, [r5]
  90:Drv/drv_serial.c **** 
 301              		.loc 1 90 9 is_stmt 1 view .LVU68
  90:Drv/drv_serial.c **** 
 302              		.loc 1 90 58 is_stmt 0 view .LVU69
 303 00ea AA60     		str	r2, [r5, #8]
  92:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 304              		.loc 1 92 9 is_stmt 1 view .LVU70
  92:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 305              		.loc 1 92 40 is_stmt 0 view .LVU71
 306 00ec 0A4B     		ldr	r3, .L23
 307 00ee 04EB8401 		add	r1, r4, r4, lsl #2
 308 00f2 8900     		lsls	r1, r1, #2
 309 00f4 5A54     		strb	r2, [r3, r1]
  93:Drv/drv_serial.c ****         break;
 310              		.loc 1 93 9 is_stmt 1 view .LVU72
  93:Drv/drv_serial.c ****         break;
 311              		.loc 1 93 38 is_stmt 0 view .LVU73
 312 00f6 04EB8404 		add	r4, r4, r4, lsl #2
 313 00fa 03EB8404 		add	r4, r3, r4, lsl #2
 314 00fe 0434     		adds	r4, r4, #4
 315 0100 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 316 0104 84E80F00 		stm	r4, {r0, r1, r2, r3}
  94:Drv/drv_serial.c **** 
 317              		.loc 1 94 9 is_stmt 1 view .LVU74
 104:Drv/drv_serial.c **** }
 318              		.loc 1 104 12 is_stmt 0 view .LVU75
 319 0108 0120     		movs	r0, #1
  94:Drv/drv_serial.c **** 
 320              		.loc 1 94 9 view .LVU76
 321 010a 83E7     		b	.L10
 322              	.LVL30:
 323              	.L12:
  97:Drv/drv_serial.c ****         break;
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 10


 324              		.loc 1 97 9 is_stmt 1 view .LVU77
 325 010c 1146     		mov	r1, r2
 326              	.LVL31:
  97:Drv/drv_serial.c ****         break;
 327              		.loc 1 97 9 is_stmt 0 view .LVU78
 328 010e FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 329              	.LVL32:
  98:Drv/drv_serial.c **** 
 330              		.loc 1 98 9 is_stmt 1 view .LVU79
 104:Drv/drv_serial.c **** }
 331              		.loc 1 104 12 is_stmt 0 view .LVU80
 332 0112 0120     		movs	r0, #1
  98:Drv/drv_serial.c **** 
 333              		.loc 1 98 9 view .LVU81
 334 0114 7EE7     		b	.L10
 335              	.L24:
 336 0116 00BF     		.align	2
 337              	.L23:
 338 0118 00000000 		.word	.LANCHOR0
 339 011c 00000000 		.word	Serial_RX_Buff
 340 0120 00000000 		.word	Serial_TX_Buff
 341              		.cfi_endproc
 342              	.LFE126:
 344              		.global	DrvSerial
 345              		.section	.bss.DrvSerial_SrcInfo,"aw",%nobits
 346              		.align	2
 347              		.set	.LANCHOR0,. + 0
 350              	DrvSerial_SrcInfo:
 351 0000 00000000 		.space	100
 351      00000000 
 351      00000000 
 351      00000000 
 351      00000000 
 352              		.section	.bss.Serial_RX_Buff,"aw",%nobits
 353              		.align	2
 356              	Serial_RX_Buff:
 357 0000 00000000 		.space	5120
 357      00000000 
 357      00000000 
 357      00000000 
 357      00000000 
 358              		.section	.bss.Serial_TX_Buff,"aw",%nobits
 359              		.align	2
 362              	Serial_TX_Buff:
 363 0000 00000000 		.space	5120
 363      00000000 
 363      00000000 
 363      00000000 
 363      00000000 
 364              		.section	.data.DrvSerial,"aw"
 365              		.align	2
 368              	DrvSerial:
 369 0000 00000000 		.word	DrvSerial_Ctl
 370 0004 00000000 		.word	0
 371 0008 00000000 		.word	DrvSerial_Write
 372              		.text
 373              	.Letext0:
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 11


 374              		.file 2 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 375              		.file 3 "c:\\program files (x86)\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\inc
 376              		.file 4 "Bsp/periph_serial.h"
 377              		.file 5 "Drv/drv_serial.h"
 378              		.file 6 "USB/config/vcp.h"
ARM GAS  C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s 			page 12


DEFINED SYMBOLS
                            *ABS*:00000000 drv_serial.c
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:18     .text.DrvSerial_Write:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:25     .text.DrvSerial_Write:00000000 DrvSerial_Write
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:98     .text.DrvSerial_Write:0000004c $d
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:103    .text.DrvSerial_Ctl:00000000 $t
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:109    .text.DrvSerial_Ctl:00000000 DrvSerial_Ctl
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:338    .text.DrvSerial_Ctl:00000118 $d
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:356    .bss.Serial_RX_Buff:00000000 Serial_RX_Buff
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:362    .bss.Serial_TX_Buff:00000000 Serial_TX_Buff
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:368    .data.DrvSerial:00000000 DrvSerial
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:346    .bss.DrvSerial_SrcInfo:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:350    .bss.DrvSerial_SrcInfo:00000000 DrvSerial_SrcInfo
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:353    .bss.Serial_RX_Buff:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:359    .bss.Serial_TX_Buff:00000000 $d
C:\Users\huav\AppData\Local\Temp\ccGi9Fv1.s:365    .data.DrvSerial:00000000 $d

UNDEFINED SYMBOLS
Serial_SendBuff
Serial_DMA_WaitFinish
Serial_DMA_SendBuff
Serial_IRQ_RX_Init
Serial_Set_IRQ_Callback
Serial_DMA_RX_Init
Serial_DMA_RXTX_Init
VCP_Init
Serial_Deinit
