ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"drv_serial.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.DrvSerial_Write,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	DrvSerial_Write:
  26              	.LVL0:
  27              	.LFB127:
  28              		.file 1 "Drv/drv_serial.c"
   1:Drv/drv_serial.c **** #include "drv_serial.h"
   2:Drv/drv_serial.c **** #include "vcp.h"
   3:Drv/drv_serial.c **** 
   4:Drv/drv_serial.c **** #define Serial_Default_Baudrate Serial_115200
   5:Drv/drv_serial.c **** 
   6:Drv/drv_serial.c **** /* internal virable */
   7:Drv/drv_serial.c **** static uint8_t Serial_TX_Buff[DrvSerial_Sum][SERIAL_MAX_RECLEN];
   8:Drv/drv_serial.c **** static uint8_t Serial_RX_Buff[DrvSerial_Sum][SERIAL_MAX_RECLEN];
   9:Drv/drv_serial.c **** static DrvSerial_SrcInfo_TypeDef DrvSerial_SrcInfo[DrvSerial_Sum] = {
  10:Drv/drv_serial.c ****     {.inuse = false},
  11:Drv/drv_serial.c ****     {.inuse = false},
  12:Drv/drv_serial.c ****     {.inuse = false},
  13:Drv/drv_serial.c ****     {.inuse = false},
  14:Drv/drv_serial.c **** };
  15:Drv/drv_serial.c **** 
  16:Drv/drv_serial.c **** /* internal function */
  17:Drv/drv_serial.c **** 
  18:Drv/drv_serial.c **** /* external function */
  19:Drv/drv_serial.c **** static bool
  20:Drv/drv_serial.c **** DrvSerial_Ctl(DrvSerial_Port_List portx, DrvSerial_CMD_List cmd, uint32_t data, uint8_t len);
  21:Drv/drv_serial.c **** static void DrvSerial_Write(DrvSerial_Port_List portx, uint8_t *data, uint16_t len, DrvSerial_SendM
  22:Drv/drv_serial.c **** 
  23:Drv/drv_serial.c **** /* external virable */
  24:Drv/drv_serial.c **** DrvSerial_GenProcFunc_TypeDef DrvSerial = {
  25:Drv/drv_serial.c ****     .ctl = DrvSerial_Ctl,
  26:Drv/drv_serial.c ****     .read = NULL,
  27:Drv/drv_serial.c ****     .write = DrvSerial_Write,
  28:Drv/drv_serial.c **** };
  29:Drv/drv_serial.c **** 
  30:Drv/drv_serial.c **** static bool DrvSerial_Ctl(DrvSerial_Port_List portx, DrvSerial_CMD_List cmd, uint32_t data, uint8_t
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 2


  31:Drv/drv_serial.c **** {
  32:Drv/drv_serial.c ****     switch ((uint8_t)cmd)
  33:Drv/drv_serial.c ****     {
  34:Drv/drv_serial.c ****     case DrvSerial_Open:
  35:Drv/drv_serial.c ****         if ((len != sizeof(DrvSerial_Config_Typedef)) || (DrvSerial_SrcInfo[portx].inuse))
  36:Drv/drv_serial.c ****             return;
  37:Drv/drv_serial.c **** 
  38:Drv/drv_serial.c ****         if (portx != DrvSerial_Vcp)
  39:Drv/drv_serial.c ****         {
  40:Drv/drv_serial.c ****             switch ((uint8_t)(((DrvSerial_Config_Typedef *)data)->mode))
  41:Drv/drv_serial.c ****             {
  42:Drv/drv_serial.c ****             case DrvSerial_MODE_Normal:
  43:Drv/drv_serial.c ****                 Serial_IRQ_RX_Init(portx, ((DrvSerial_Config_Typedef *)data)->baudrate,
  44:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
  45:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority, Serial_Normal);
  46:Drv/drv_serial.c **** 
  47:Drv/drv_serial.c ****                 Serial_Set_IRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->Irq_Callback);
  48:Drv/drv_serial.c ****                 break;
  49:Drv/drv_serial.c **** 
  50:Drv/drv_serial.c ****             case DrvSerial_MODE_DMA_Rx:
  51:Drv/drv_serial.c ****                 Serial_DMA_RX_Init(portx, ((DrvSerial_Config_Typedef *)data)->baudrate, ((DrvSerial
  52:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority,
  53:Drv/drv_serial.c ****                                    (uint32_t)&Serial_RX_Buff[portx],
  54:Drv/drv_serial.c ****                                    SERIAL_MAX_RECLEN, Serial_Normal);
  55:Drv/drv_serial.c **** 
  56:Drv/drv_serial.c ****                 Serial_Set_IRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->Irq_Callback);
  57:Drv/drv_serial.c ****                 break;
  58:Drv/drv_serial.c **** 
  59:Drv/drv_serial.c ****             case DrvSerial_MODE_DMA_TxRx:
  60:Drv/drv_serial.c ****                 Serial_DMA_RXTX_Init(portx, ((DrvSerial_Config_Typedef *)data)->baudrate,
  61:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
  62:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->SubPriority,
  63:Drv/drv_serial.c ****                                      (uint32_t)&Serial_RX_Buff[portx],
  64:Drv/drv_serial.c ****                                      (uint32_t)&Serial_TX_Buff[portx],
  65:Drv/drv_serial.c ****                                      SERIAL_MAX_RECLEN, Serial_Normal);
  66:Drv/drv_serial.c **** 
  67:Drv/drv_serial.c ****                 Serial_Set_IRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->Irq_Callback);
  68:Drv/drv_serial.c ****                 Serial_Set_DMAIRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->DmaIrq_Callba
  69:Drv/drv_serial.c ****                 break;
  70:Drv/drv_serial.c **** 
  71:Drv/drv_serial.c ****             default:
  72:Drv/drv_serial.c ****                 return false;
  73:Drv/drv_serial.c ****             }
  74:Drv/drv_serial.c ****         }
  75:Drv/drv_serial.c ****         else
  76:Drv/drv_serial.c ****         {
  77:Drv/drv_serial.c ****             VCP_Init();
  78:Drv/drv_serial.c ****         }
  79:Drv/drv_serial.c **** 
  80:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].inuse = true;
  81:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
  82:Drv/drv_serial.c ****         break;
  83:Drv/drv_serial.c **** 
  84:Drv/drv_serial.c ****     case DrvSerial_Close:
  85:Drv/drv_serial.c ****         Serial_Deinit(portx);
  86:Drv/drv_serial.c ****         Serial_Set_IRQ_Callback(portx, NULL);
  87:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->mode = DrvSerial_MODE_None;
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 3


  88:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->PreemptionPriority = 0;
  89:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->SubPriority = 0;
  90:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->baudrate = 0;
  91:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->DmaIrq_Callback = NULL;
  92:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->Irq_Callback = NULL;
  93:Drv/drv_serial.c **** 
  94:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].inuse = false;
  95:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
  96:Drv/drv_serial.c ****         break;
  97:Drv/drv_serial.c **** 
  98:Drv/drv_serial.c ****     case DrvSerial_Set_RxIRQCallback:
  99:Drv/drv_serial.c ****         Serial_Set_IRQ_Callback(portx, (Serial_IRQ_Callback)data);
 100:Drv/drv_serial.c ****         break;
 101:Drv/drv_serial.c **** 
 102:Drv/drv_serial.c ****     default:
 103:Drv/drv_serial.c ****         return false;
 104:Drv/drv_serial.c ****     }
 105:Drv/drv_serial.c **** 
 106:Drv/drv_serial.c ****     return true;
 107:Drv/drv_serial.c **** }
 108:Drv/drv_serial.c **** 
 109:Drv/drv_serial.c **** static void DrvSerial_Write(DrvSerial_Port_List portx, uint8_t *data, uint16_t len, DrvSerial_SendM
 110:Drv/drv_serial.c **** {
  29              		.loc 1 110 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 110 1 is_stmt 0 view .LVU1
  34 0000 38B5     		push	{r3, r4, r5, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 16
  37              		.cfi_offset 3, -16
  38              		.cfi_offset 4, -12
  39              		.cfi_offset 5, -8
  40              		.cfi_offset 14, -4
  41 0002 0446     		mov	r4, r0
  42 0004 1D46     		mov	r5, r3
 111:Drv/drv_serial.c **** 
 112:Drv/drv_serial.c ****     switch (DrvSerial_SrcInfo[portx].cfg.mode)
  43              		.loc 1 112 5 is_stmt 1 view .LVU2
  44              		.loc 1 112 41 is_stmt 0 view .LVU3
  45 0006 00EB4003 		add	r3, r0, r0, lsl #1
  46              	.LVL1:
  47              		.loc 1 112 41 view .LVU4
  48 000a 0A48     		ldr	r0, .L8
  49              	.LVL2:
  50              		.loc 1 112 41 view .LVU5
  51 000c 00EBC300 		add	r0, r0, r3, lsl #3
  52 0010 837A     		ldrb	r3, [r0, #10]	@ zero_extendqisi2
  53              		.loc 1 112 5 view .LVU6
  54 0012 012B     		cmp	r3, #1
  55 0014 05D9     		bls	.L2
  56 0016 022B     		cmp	r3, #2
  57 0018 07D1     		bne	.L1
 113:Drv/drv_serial.c ****     {
 114:Drv/drv_serial.c ****     case DrvSerial_MODE_Normal:
 115:Drv/drv_serial.c ****     case DrvSerial_MODE_DMA_Rx:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 4


 116:Drv/drv_serial.c ****         Serial_SendBuff(portx, data, len);
 117:Drv/drv_serial.c ****         break;
 118:Drv/drv_serial.c **** 
 119:Drv/drv_serial.c ****     case DrvSerial_MODE_DMA_TxRx:
 120:Drv/drv_serial.c ****         Serial_DMA_SendBuff(portx, data, len);
  58              		.loc 1 120 9 is_stmt 1 view .LVU7
  59 001a 2046     		mov	r0, r4
  60 001c FFF7FEFF 		bl	Serial_DMA_SendBuff
  61              	.LVL3:
 121:Drv/drv_serial.c ****         break;
  62              		.loc 1 121 9 view .LVU8
  63 0020 02E0     		b	.L5
  64              	.LVL4:
  65              	.L2:
 116:Drv/drv_serial.c ****         break;
  66              		.loc 1 116 9 view .LVU9
  67 0022 2046     		mov	r0, r4
  68 0024 FFF7FEFF 		bl	Serial_SendBuff
  69              	.LVL5:
 117:Drv/drv_serial.c **** 
  70              		.loc 1 117 9 view .LVU10
  71              	.L5:
 122:Drv/drv_serial.c **** 
 123:Drv/drv_serial.c ****     default:
 124:Drv/drv_serial.c ****         return;
 125:Drv/drv_serial.c ****     }
 126:Drv/drv_serial.c **** 
 127:Drv/drv_serial.c ****     if (DrvSerial_Send_Async == mode)
  72              		.loc 1 127 5 view .LVU11
  73              		.loc 1 127 8 is_stmt 0 view .LVU12
  74 0028 05B1     		cbz	r5, .L7
  75              	.L1:
 128:Drv/drv_serial.c ****     {
 129:Drv/drv_serial.c ****         Serial_DMA_WaitFinish(portx);
 130:Drv/drv_serial.c ****     }
 131:Drv/drv_serial.c **** }
  76              		.loc 1 131 1 view .LVU13
  77 002a 38BD     		pop	{r3, r4, r5, pc}
  78              	.L7:
 129:Drv/drv_serial.c ****     }
  79              		.loc 1 129 9 is_stmt 1 view .LVU14
  80 002c 2046     		mov	r0, r4
  81 002e FFF7FEFF 		bl	Serial_DMA_WaitFinish
  82              	.LVL6:
  83 0032 FAE7     		b	.L1
  84              	.L9:
  85              		.align	2
  86              	.L8:
  87 0034 00000000 		.word	.LANCHOR0
  88              		.cfi_endproc
  89              	.LFE127:
  91              		.section	.text.DrvSerial_Ctl,"ax",%progbits
  92              		.align	1
  93              		.syntax unified
  94              		.thumb
  95              		.thumb_func
  96              		.fpu fpv4-sp-d16
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 5


  98              	DrvSerial_Ctl:
  99              	.LVL7:
 100              	.LFB126:
  31:Drv/drv_serial.c ****     switch ((uint8_t)cmd)
 101              		.loc 1 31 1 view -0
 102              		.cfi_startproc
 103              		@ args = 0, pretend = 0, frame = 0
 104              		@ frame_needed = 0, uses_anonymous_args = 0
  31:Drv/drv_serial.c ****     switch ((uint8_t)cmd)
 105              		.loc 1 31 1 is_stmt 0 view .LVU16
 106 0000 70B5     		push	{r4, r5, r6, lr}
 107              	.LCFI1:
 108              		.cfi_def_cfa_offset 16
 109              		.cfi_offset 4, -16
 110              		.cfi_offset 5, -12
 111              		.cfi_offset 6, -8
 112              		.cfi_offset 14, -4
 113 0002 84B0     		sub	sp, sp, #16
 114              	.LCFI2:
 115              		.cfi_def_cfa_offset 32
 116 0004 0546     		mov	r5, r0
 117 0006 1446     		mov	r4, r2
  32:Drv/drv_serial.c ****     {
 118              		.loc 1 32 5 is_stmt 1 view .LVU17
 119 0008 0129     		cmp	r1, #1
 120 000a 67D0     		beq	.L11
 121 000c 0229     		cmp	r1, #2
 122 000e 00F08380 		beq	.L12
 123 0012 11B1     		cbz	r1, .L22
 124 0014 0020     		movs	r0, #0
 125              	.LVL8:
 126              	.L10:
 107:Drv/drv_serial.c **** 
 127              		.loc 1 107 1 is_stmt 0 view .LVU18
 128 0016 04B0     		add	sp, sp, #16
 129              	.LCFI3:
 130              		.cfi_remember_state
 131              		.cfi_def_cfa_offset 16
 132              		@ sp needed
 133 0018 70BD     		pop	{r4, r5, r6, pc}
 134              	.LVL9:
 135              	.L22:
 136              	.LCFI4:
 137              		.cfi_restore_state
  35:Drv/drv_serial.c ****             return;
 138              		.loc 1 35 9 is_stmt 1 view .LVU19
  35:Drv/drv_serial.c ****             return;
 139              		.loc 1 35 12 is_stmt 0 view .LVU20
 140 001a 142B     		cmp	r3, #20
 141 001c FBD1     		bne	.L10
  35:Drv/drv_serial.c ****             return;
 142              		.loc 1 35 83 discriminator 1 view .LVU21
 143 001e 00EB4003 		add	r3, r0, r0, lsl #1
 144              	.LVL10:
  35:Drv/drv_serial.c ****             return;
 145              		.loc 1 35 83 discriminator 1 view .LVU22
 146 0022 404A     		ldr	r2, .L23
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 6


 147              	.LVL11:
  35:Drv/drv_serial.c ****             return;
 148              		.loc 1 35 83 discriminator 1 view .LVU23
 149 0024 12F83300 		ldrb	r0, [r2, r3, lsl #3]	@ zero_extendqisi2
 150              	.LVL12:
  35:Drv/drv_serial.c ****             return;
 151              		.loc 1 35 55 discriminator 1 view .LVU24
 152 0028 0028     		cmp	r0, #0
 153 002a F4D1     		bne	.L10
  38:Drv/drv_serial.c ****         {
 154              		.loc 1 38 9 is_stmt 1 view .LVU25
  38:Drv/drv_serial.c ****         {
 155              		.loc 1 38 12 is_stmt 0 view .LVU26
 156 002c 042D     		cmp	r5, #4
 157 002e 43D0     		beq	.L16
  40:Drv/drv_serial.c ****             {
 158              		.loc 1 40 13 is_stmt 1 view .LVU27
  40:Drv/drv_serial.c ****             {
 159              		.loc 1 40 65 is_stmt 0 view .LVU28
 160 0030 A379     		ldrb	r3, [r4, #6]	@ zero_extendqisi2
 161 0032 012B     		cmp	r3, #1
 162 0034 10D0     		beq	.L17
 163 0036 022B     		cmp	r3, #2
 164 0038 22D0     		beq	.L18
 165 003a 002B     		cmp	r3, #0
 166 003c EBD1     		bne	.L10
  43:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 167              		.loc 1 43 17 is_stmt 1 view .LVU29
 168 003e 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 169 0040 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 170 0042 0021     		movs	r1, #0
 171              	.LVL13:
  43:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 172              		.loc 1 43 17 is_stmt 0 view .LVU30
 173 0044 0091     		str	r1, [sp]
 174 0046 2168     		ldr	r1, [r4]
 175 0048 2846     		mov	r0, r5
 176 004a FFF7FEFF 		bl	Serial_IRQ_RX_Init
 177              	.LVL14:
  47:Drv/drv_serial.c ****                 break;
 178              		.loc 1 47 17 is_stmt 1 view .LVU31
 179 004e A168     		ldr	r1, [r4, #8]
 180 0050 2846     		mov	r0, r5
 181 0052 FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 182              	.LVL15:
  48:Drv/drv_serial.c **** 
 183              		.loc 1 48 17 view .LVU32
 184 0056 31E0     		b	.L19
 185              	.LVL16:
 186              	.L17:
  51:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority,
 187              		.loc 1 51 17 view .LVU33
  53:Drv/drv_serial.c ****                                    SERIAL_MAX_RECLEN, Serial_Normal);
 188              		.loc 1 53 46 is_stmt 0 view .LVU34
 189 0058 3349     		ldr	r1, .L23+4
 190              	.LVL17:
  53:Drv/drv_serial.c ****                                    SERIAL_MAX_RECLEN, Serial_Normal);
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 7


 191              		.loc 1 53 46 view .LVU35
 192 005a 01EB8521 		add	r1, r1, r5, lsl #10
  51:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority,
 193              		.loc 1 51 17 view .LVU36
 194 005e 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 195 0060 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 196 0062 0020     		movs	r0, #0
 197 0064 0290     		str	r0, [sp, #8]
 198 0066 4FF48060 		mov	r0, #1024
 199 006a 0190     		str	r0, [sp, #4]
 200 006c 0091     		str	r1, [sp]
 201 006e 2168     		ldr	r1, [r4]
 202 0070 2846     		mov	r0, r5
 203 0072 FFF7FEFF 		bl	Serial_DMA_RX_Init
 204              	.LVL18:
  56:Drv/drv_serial.c ****                 break;
 205              		.loc 1 56 17 is_stmt 1 view .LVU37
 206 0076 A168     		ldr	r1, [r4, #8]
 207 0078 2846     		mov	r0, r5
 208 007a FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 209              	.LVL19:
  57:Drv/drv_serial.c **** 
 210              		.loc 1 57 17 view .LVU38
 211 007e 1DE0     		b	.L19
 212              	.LVL20:
 213              	.L18:
  60:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 214              		.loc 1 60 17 view .LVU39
  63:Drv/drv_serial.c ****                                      (uint32_t)&Serial_TX_Buff[portx],
 215              		.loc 1 63 48 is_stmt 0 view .LVU40
 216 0080 2949     		ldr	r1, .L23+4
 217              	.LVL21:
  63:Drv/drv_serial.c ****                                      (uint32_t)&Serial_TX_Buff[portx],
 218              		.loc 1 63 48 view .LVU41
 219 0082 01EB8521 		add	r1, r1, r5, lsl #10
  64:Drv/drv_serial.c ****                                      SERIAL_MAX_RECLEN, Serial_Normal);
 220              		.loc 1 64 48 view .LVU42
 221 0086 2948     		ldr	r0, .L23+8
 222 0088 00EB8520 		add	r0, r0, r5, lsl #10
  60:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 223              		.loc 1 60 17 view .LVU43
 224 008c 6379     		ldrb	r3, [r4, #5]	@ zero_extendqisi2
 225 008e 2279     		ldrb	r2, [r4, #4]	@ zero_extendqisi2
 226 0090 0026     		movs	r6, #0
 227 0092 0396     		str	r6, [sp, #12]
 228 0094 4FF48066 		mov	r6, #1024
 229 0098 0296     		str	r6, [sp, #8]
 230 009a 0190     		str	r0, [sp, #4]
 231 009c 0091     		str	r1, [sp]
 232 009e 2168     		ldr	r1, [r4]
 233 00a0 2846     		mov	r0, r5
 234 00a2 FFF7FEFF 		bl	Serial_DMA_RXTX_Init
 235              	.LVL22:
  67:Drv/drv_serial.c ****                 Serial_Set_DMAIRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->DmaIrq_Callba
 236              		.loc 1 67 17 is_stmt 1 view .LVU44
 237 00a6 A168     		ldr	r1, [r4, #8]
 238 00a8 2846     		mov	r0, r5
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 8


 239 00aa FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 240              	.LVL23:
  68:Drv/drv_serial.c ****                 break;
 241              		.loc 1 68 17 view .LVU45
 242 00ae E168     		ldr	r1, [r4, #12]
 243 00b0 2846     		mov	r0, r5
 244 00b2 FFF7FEFF 		bl	Serial_Set_DMAIRQ_Callback
 245              	.LVL24:
  69:Drv/drv_serial.c **** 
 246              		.loc 1 69 17 view .LVU46
 247 00b6 01E0     		b	.L19
 248              	.LVL25:
 249              	.L16:
  77:Drv/drv_serial.c ****         }
 250              		.loc 1 77 13 view .LVU47
 251 00b8 FFF7FEFF 		bl	VCP_Init
 252              	.LVL26:
 253              	.L19:
  80:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 254              		.loc 1 80 9 view .LVU48
  80:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 255              		.loc 1 80 40 is_stmt 0 view .LVU49
 256 00bc 194B     		ldr	r3, .L23
 257 00be 05EB4502 		add	r2, r5, r5, lsl #1
 258 00c2 4FF0010C 		mov	ip, #1
 259 00c6 03F832C0 		strb	ip, [r3, r2, lsl #3]
  81:Drv/drv_serial.c ****         break;
 260              		.loc 1 81 9 is_stmt 1 view .LVU50
  81:Drv/drv_serial.c ****         break;
 261              		.loc 1 81 38 is_stmt 0 view .LVU51
 262 00ca 03EBC205 		add	r5, r3, r2, lsl #3
 263 00ce 0435     		adds	r5, r5, #4
 264 00d0 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 265              	.LVL27:
  81:Drv/drv_serial.c ****         break;
 266              		.loc 1 81 38 view .LVU52
 267 00d2 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 268 00d4 2368     		ldr	r3, [r4]
 269 00d6 2B60     		str	r3, [r5]
  82:Drv/drv_serial.c **** 
 270              		.loc 1 82 9 is_stmt 1 view .LVU53
 106:Drv/drv_serial.c **** }
 271              		.loc 1 106 12 is_stmt 0 view .LVU54
 272 00d8 6046     		mov	r0, ip
  82:Drv/drv_serial.c **** 
 273              		.loc 1 82 9 view .LVU55
 274 00da 9CE7     		b	.L10
 275              	.LVL28:
 276              	.L11:
  85:Drv/drv_serial.c ****         Serial_Set_IRQ_Callback(portx, NULL);
 277              		.loc 1 85 9 is_stmt 1 view .LVU56
 278 00dc FFF7FEFF 		bl	Serial_Deinit
 279              	.LVL29:
  86:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->mode = DrvSerial_MODE_None;
 280              		.loc 1 86 9 view .LVU57
 281 00e0 0021     		movs	r1, #0
 282 00e2 2846     		mov	r0, r5
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 9


 283 00e4 FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 284              	.LVL30:
  87:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->PreemptionPriority = 0;
 285              		.loc 1 87 9 view .LVU58
  87:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->PreemptionPriority = 0;
 286              		.loc 1 87 50 is_stmt 0 view .LVU59
 287 00e8 0323     		movs	r3, #3
 288 00ea A371     		strb	r3, [r4, #6]
  88:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->SubPriority = 0;
 289              		.loc 1 88 9 is_stmt 1 view .LVU60
  88:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->SubPriority = 0;
 290              		.loc 1 88 64 is_stmt 0 view .LVU61
 291 00ec 0022     		movs	r2, #0
 292 00ee 2271     		strb	r2, [r4, #4]
  89:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->baudrate = 0;
 293              		.loc 1 89 9 is_stmt 1 view .LVU62
  89:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->baudrate = 0;
 294              		.loc 1 89 57 is_stmt 0 view .LVU63
 295 00f0 6271     		strb	r2, [r4, #5]
  90:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->DmaIrq_Callback = NULL;
 296              		.loc 1 90 9 is_stmt 1 view .LVU64
  90:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->DmaIrq_Callback = NULL;
 297              		.loc 1 90 54 is_stmt 0 view .LVU65
 298 00f2 2260     		str	r2, [r4]
  91:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->Irq_Callback = NULL;
 299              		.loc 1 91 9 is_stmt 1 view .LVU66
  91:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->Irq_Callback = NULL;
 300              		.loc 1 91 61 is_stmt 0 view .LVU67
 301 00f4 E260     		str	r2, [r4, #12]
  92:Drv/drv_serial.c **** 
 302              		.loc 1 92 9 is_stmt 1 view .LVU68
  92:Drv/drv_serial.c **** 
 303              		.loc 1 92 58 is_stmt 0 view .LVU69
 304 00f6 A260     		str	r2, [r4, #8]
  94:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 305              		.loc 1 94 9 is_stmt 1 view .LVU70
  94:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 306              		.loc 1 94 40 is_stmt 0 view .LVU71
 307 00f8 0A4B     		ldr	r3, .L23
 308 00fa 05EB4501 		add	r1, r5, r5, lsl #1
 309 00fe C900     		lsls	r1, r1, #3
 310 0100 5A54     		strb	r2, [r3, r1]
  95:Drv/drv_serial.c ****         break;
 311              		.loc 1 95 9 is_stmt 1 view .LVU72
  95:Drv/drv_serial.c ****         break;
 312              		.loc 1 95 38 is_stmt 0 view .LVU73
 313 0102 05EB4505 		add	r5, r5, r5, lsl #1
 314 0106 03EBC505 		add	r5, r3, r5, lsl #3
 315 010a 0435     		adds	r5, r5, #4
 316 010c 0FCC     		ldmia	r4!, {r0, r1, r2, r3}
 317              	.LVL31:
  95:Drv/drv_serial.c ****         break;
 318              		.loc 1 95 38 view .LVU74
 319 010e 0FC5     		stmia	r5!, {r0, r1, r2, r3}
 320 0110 2368     		ldr	r3, [r4]
 321 0112 2B60     		str	r3, [r5]
  96:Drv/drv_serial.c **** 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 10


 322              		.loc 1 96 9 is_stmt 1 view .LVU75
 106:Drv/drv_serial.c **** }
 323              		.loc 1 106 12 is_stmt 0 view .LVU76
 324 0114 0120     		movs	r0, #1
  96:Drv/drv_serial.c **** 
 325              		.loc 1 96 9 view .LVU77
 326 0116 7EE7     		b	.L10
 327              	.LVL32:
 328              	.L12:
  99:Drv/drv_serial.c ****         break;
 329              		.loc 1 99 9 is_stmt 1 view .LVU78
 330 0118 1146     		mov	r1, r2
 331              	.LVL33:
  99:Drv/drv_serial.c ****         break;
 332              		.loc 1 99 9 is_stmt 0 view .LVU79
 333 011a FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 334              	.LVL34:
 100:Drv/drv_serial.c **** 
 335              		.loc 1 100 9 is_stmt 1 view .LVU80
 106:Drv/drv_serial.c **** }
 336              		.loc 1 106 12 is_stmt 0 view .LVU81
 337 011e 0120     		movs	r0, #1
 100:Drv/drv_serial.c **** 
 338              		.loc 1 100 9 view .LVU82
 339 0120 79E7     		b	.L10
 340              	.L24:
 341 0122 00BF     		.align	2
 342              	.L23:
 343 0124 00000000 		.word	.LANCHOR0
 344 0128 00000000 		.word	Serial_RX_Buff
 345 012c 00000000 		.word	Serial_TX_Buff
 346              		.cfi_endproc
 347              	.LFE126:
 349              		.global	DrvSerial
 350              		.section	.bss.DrvSerial_SrcInfo,"aw",%nobits
 351              		.align	2
 352              		.set	.LANCHOR0,. + 0
 355              	DrvSerial_SrcInfo:
 356 0000 00000000 		.space	120
 356      00000000 
 356      00000000 
 356      00000000 
 356      00000000 
 357              		.section	.bss.Serial_RX_Buff,"aw",%nobits
 358              		.align	2
 361              	Serial_RX_Buff:
 362 0000 00000000 		.space	5120
 362      00000000 
 362      00000000 
 362      00000000 
 362      00000000 
 363              		.section	.bss.Serial_TX_Buff,"aw",%nobits
 364              		.align	2
 367              	Serial_TX_Buff:
 368 0000 00000000 		.space	5120
 368      00000000 
 368      00000000 
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 11


 368      00000000 
 368      00000000 
 369              		.section	.data.DrvSerial,"aw"
 370              		.align	2
 373              	DrvSerial:
 374 0000 00000000 		.word	DrvSerial_Ctl
 375 0004 00000000 		.word	0
 376 0008 00000000 		.word	DrvSerial_Write
 377              		.text
 378              	.Letext0:
 379              		.file 2 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/mac
 380              		.file 3 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys
 381              		.file 4 "Bsp/periph_dma.h"
 382              		.file 5 "Bsp/periph_serial.h"
 383              		.file 6 "Drv/drv_serial.h"
 384              		.file 7 "USB/config/vcp.h"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s 			page 12


DEFINED SYMBOLS
                            *ABS*:0000000000000000 drv_serial.c
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:18     .text.DrvSerial_Write:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:25     .text.DrvSerial_Write:0000000000000000 DrvSerial_Write
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:87     .text.DrvSerial_Write:0000000000000034 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:92     .text.DrvSerial_Ctl:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:98     .text.DrvSerial_Ctl:0000000000000000 DrvSerial_Ctl
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:343    .text.DrvSerial_Ctl:0000000000000124 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:361    .bss.Serial_RX_Buff:0000000000000000 Serial_RX_Buff
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:367    .bss.Serial_TX_Buff:0000000000000000 Serial_TX_Buff
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:373    .data.DrvSerial:0000000000000000 DrvSerial
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:351    .bss.DrvSerial_SrcInfo:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:355    .bss.DrvSerial_SrcInfo:0000000000000000 DrvSerial_SrcInfo
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:358    .bss.Serial_RX_Buff:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:364    .bss.Serial_TX_Buff:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//cc0f7RiC.s:370    .data.DrvSerial:0000000000000000 $d

UNDEFINED SYMBOLS
Serial_DMA_SendBuff
Serial_SendBuff
Serial_DMA_WaitFinish
Serial_IRQ_RX_Init
Serial_Set_IRQ_Callback
Serial_DMA_RX_Init
Serial_DMA_RXTX_Init
Serial_Set_DMAIRQ_Callback
VCP_Init
Serial_Deinit
