ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"drv_serial.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.DrvSerial_Write,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	DrvSerial_Write:
  26              	.LVL0:
  27              	.LFB127:
  28              		.file 1 "Drv/drv_serial.c"
   1:Drv/drv_serial.c **** #include "drv_serial.h"
   2:Drv/drv_serial.c **** #include "vcp.h"
   3:Drv/drv_serial.c **** 
   4:Drv/drv_serial.c **** #define Serial_Default_Baudrate Serial_115200
   5:Drv/drv_serial.c **** 
   6:Drv/drv_serial.c **** /* internal virable */
   7:Drv/drv_serial.c **** static uint8_t Serial_TX_Buff[DrvSerial_Sum][SERIAL_MAX_RECLEN];
   8:Drv/drv_serial.c **** static uint8_t Serial_RX_Buff[DrvSerial_Sum][SERIAL_MAX_RECLEN];
   9:Drv/drv_serial.c **** static DrvSerial_SrcInfo_TypeDef DrvSerial_SrcInfo[DrvSerial_Sum] = {
  10:Drv/drv_serial.c ****     {.inuse = false},
  11:Drv/drv_serial.c ****     {.inuse = false},
  12:Drv/drv_serial.c ****     {.inuse = false},
  13:Drv/drv_serial.c ****     {.inuse = false},
  14:Drv/drv_serial.c **** };
  15:Drv/drv_serial.c **** 
  16:Drv/drv_serial.c **** /* internal function */
  17:Drv/drv_serial.c **** 
  18:Drv/drv_serial.c **** /* external function */
  19:Drv/drv_serial.c **** static bool
  20:Drv/drv_serial.c **** DrvSerial_Ctl(DrvSerial_Port_List portx, DrvSerial_CMD_List cmd, uint32_t data, uint8_t len);
  21:Drv/drv_serial.c **** static void DrvSerial_Write(DrvSerial_Port_List portx, uint8_t *data, uint16_t len);
  22:Drv/drv_serial.c **** 
  23:Drv/drv_serial.c **** /* external virable */
  24:Drv/drv_serial.c **** DrvSerial_GenProcFunc_TypeDef DrvSerial = {
  25:Drv/drv_serial.c ****     .ctl = DrvSerial_Ctl,
  26:Drv/drv_serial.c ****     .read = NULL,
  27:Drv/drv_serial.c ****     .write = DrvSerial_Write,
  28:Drv/drv_serial.c **** };
  29:Drv/drv_serial.c **** 
  30:Drv/drv_serial.c **** static bool DrvSerial_Ctl(DrvSerial_Port_List portx, DrvSerial_CMD_List cmd, uint32_t data, uint8_t
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 2


  31:Drv/drv_serial.c **** {
  32:Drv/drv_serial.c ****     switch ((uint8_t)cmd)
  33:Drv/drv_serial.c ****     {
  34:Drv/drv_serial.c ****     case DrvSerial_Open:
  35:Drv/drv_serial.c ****         if ((len != sizeof(DrvSerial_Config_Typedef)) || (DrvSerial_SrcInfo[portx].inuse))
  36:Drv/drv_serial.c ****             return;
  37:Drv/drv_serial.c **** 
  38:Drv/drv_serial.c ****         if (portx != DrvSerial_Vcp)
  39:Drv/drv_serial.c ****         {
  40:Drv/drv_serial.c ****             switch ((uint8_t)(((DrvSerial_Config_Typedef *)data)->mode))
  41:Drv/drv_serial.c ****             {
  42:Drv/drv_serial.c ****             case DrvSerial_MODE_Normal:
  43:Drv/drv_serial.c ****                 Serial_IRQ_RX_Init(portx, ((DrvSerial_Config_Typedef *)data)->baudrate,
  44:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
  45:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority, Serial_Normal);
  46:Drv/drv_serial.c **** 
  47:Drv/drv_serial.c ****                 Serial_Set_IRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->Irq_Callback);
  48:Drv/drv_serial.c ****                 break;
  49:Drv/drv_serial.c **** 
  50:Drv/drv_serial.c ****             case DrvSerial_MODE_DMA_Rx:
  51:Drv/drv_serial.c ****                 Serial_DMA_RX_Init(portx, ((DrvSerial_Config_Typedef *)data)->baudrate, ((DrvSerial
  52:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority,
  53:Drv/drv_serial.c ****                                    (uint32_t)Serial_RX_Buff[portx],
  54:Drv/drv_serial.c ****                                    SERIAL_MAX_RECLEN, Serial_Normal);
  55:Drv/drv_serial.c **** 
  56:Drv/drv_serial.c ****                 Serial_Set_IRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->Irq_Callback);
  57:Drv/drv_serial.c ****                 break;
  58:Drv/drv_serial.c **** 
  59:Drv/drv_serial.c ****             case DrvSerial_MODE_DMA_TxRx:
  60:Drv/drv_serial.c ****                 memset(Serial_RX_Buff[portx], NULL, sizeof(Serial_RX_Buff[portx]));
  61:Drv/drv_serial.c ****                 memset(Serial_TX_Buff[portx], NULL, sizeof(Serial_TX_Buff[portx]));
  62:Drv/drv_serial.c **** 
  63:Drv/drv_serial.c ****                 Serial_DMA_RXTX_Init(portx, ((DrvSerial_Config_Typedef *)data)->baudrate,
  64:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
  65:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->SubPriority,
  66:Drv/drv_serial.c ****                                      (uint32_t)Serial_RX_Buff[portx],
  67:Drv/drv_serial.c ****                                      (uint32_t)Serial_TX_Buff[portx],
  68:Drv/drv_serial.c ****                                      SERIAL_MAX_RECLEN, Serial_Normal);
  69:Drv/drv_serial.c **** 
  70:Drv/drv_serial.c ****                 Serial_Set_IRQ_Callback(portx, ((DrvSerial_Config_Typedef *)data)->Irq_Callback);
  71:Drv/drv_serial.c ****                 break;
  72:Drv/drv_serial.c **** 
  73:Drv/drv_serial.c ****             default:
  74:Drv/drv_serial.c ****                 return false;
  75:Drv/drv_serial.c ****             }
  76:Drv/drv_serial.c ****         }
  77:Drv/drv_serial.c ****         else
  78:Drv/drv_serial.c ****         {
  79:Drv/drv_serial.c ****             VCP_Init();
  80:Drv/drv_serial.c ****         }
  81:Drv/drv_serial.c **** 
  82:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].inuse = true;
  83:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
  84:Drv/drv_serial.c ****         break;
  85:Drv/drv_serial.c **** 
  86:Drv/drv_serial.c ****     case DrvSerial_Close:
  87:Drv/drv_serial.c ****         Serial_Deinit(portx);
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 3


  88:Drv/drv_serial.c ****         Serial_Set_IRQ_Callback(portx, NULL);
  89:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->mode = DrvSerial_MODE_None;
  90:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->PreemptionPriority = 0;
  91:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->SubPriority = 0;
  92:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->baudrate = 0;
  93:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->Irq_Callback = NULL;
  94:Drv/drv_serial.c **** 
  95:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].inuse = false;
  96:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
  97:Drv/drv_serial.c ****         break;
  98:Drv/drv_serial.c **** 
  99:Drv/drv_serial.c ****     case DrvSerial_Set_RxIRQCallback:
 100:Drv/drv_serial.c ****         Serial_Set_IRQ_Callback(portx, (Serial_IRQ_Callback)data);
 101:Drv/drv_serial.c ****         break;
 102:Drv/drv_serial.c **** 
 103:Drv/drv_serial.c ****     default:
 104:Drv/drv_serial.c ****         return false;
 105:Drv/drv_serial.c ****     }
 106:Drv/drv_serial.c **** 
 107:Drv/drv_serial.c ****     return true;
 108:Drv/drv_serial.c **** }
 109:Drv/drv_serial.c **** 
 110:Drv/drv_serial.c **** static void DrvSerial_Write(DrvSerial_Port_List portx, uint8_t *data, uint16_t len)
 111:Drv/drv_serial.c **** {
  29              		.loc 1 111 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		.loc 1 111 1 is_stmt 0 view .LVU1
  34 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  35              	.LCFI0:
  36              		.cfi_def_cfa_offset 24
  37              		.cfi_offset 3, -24
  38              		.cfi_offset 4, -20
  39              		.cfi_offset 5, -16
  40              		.cfi_offset 6, -12
  41              		.cfi_offset 7, -8
  42              		.cfi_offset 14, -4
  43 0002 0446     		mov	r4, r0
 112:Drv/drv_serial.c ****     if (!DrvSerial_SrcInfo[portx].inuse)
  44              		.loc 1 112 5 is_stmt 1 view .LVU2
  45              		.loc 1 112 34 is_stmt 0 view .LVU3
  46 0004 00EB8000 		add	r0, r0, r0, lsl #2
  47              	.LVL1:
  48              		.loc 1 112 34 view .LVU4
  49 0008 194B     		ldr	r3, .L10
  50 000a 13F82030 		ldrb	r3, [r3, r0, lsl #2]	@ zero_extendqisi2
  51              		.loc 1 112 8 view .LVU5
  52 000e 03B9     		cbnz	r3, .L7
  53              	.LVL2:
  54              	.L1:
 113:Drv/drv_serial.c ****         return;
 114:Drv/drv_serial.c **** 
 115:Drv/drv_serial.c ****     memcpy(Serial_TX_Buff[portx], data, len);
 116:Drv/drv_serial.c **** 
 117:Drv/drv_serial.c ****     if ((DrvSerial_SrcInfo[portx].cfg.mode == DrvSerial_MODE_Normal) || (DrvSerial_SrcInfo[portx].c
 118:Drv/drv_serial.c ****     {
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 4


 119:Drv/drv_serial.c ****         Serial_SendBuff(portx, data, len);
 120:Drv/drv_serial.c ****     }
 121:Drv/drv_serial.c ****     else if (DrvSerial_SrcInfo[portx].cfg.mode == DrvSerial_MODE_DMA_TxRx)
 122:Drv/drv_serial.c ****     {
 123:Drv/drv_serial.c ****         Serial_DMA_SendBuff(portx, len);
 124:Drv/drv_serial.c ****     }
 125:Drv/drv_serial.c ****     else
 126:Drv/drv_serial.c ****         return;
 127:Drv/drv_serial.c **** 
 128:Drv/drv_serial.c ****     if (DrvSerial_Send_Async == DrvSerial_SrcInfo[portx].cfg.send_mode)
 129:Drv/drv_serial.c ****     {
 130:Drv/drv_serial.c ****         Serial_DMA_WaitFinish(portx);
 131:Drv/drv_serial.c ****     }
 132:Drv/drv_serial.c **** 
 133:Drv/drv_serial.c ****     memset(Serial_TX_Buff[portx], NULL, SERIAL_MAX_RECLEN);
 134:Drv/drv_serial.c **** }
  55              		.loc 1 134 1 view .LVU6
  56 0010 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
  57              	.LVL3:
  58              	.L7:
  59              		.loc 1 134 1 view .LVU7
  60 0012 0F46     		mov	r7, r1
  61 0014 1646     		mov	r6, r2
 115:Drv/drv_serial.c **** 
  62              		.loc 1 115 5 is_stmt 1 view .LVU8
 115:Drv/drv_serial.c **** 
  63              		.loc 1 115 26 is_stmt 0 view .LVU9
  64 0016 174D     		ldr	r5, .L10+4
  65 0018 05EB8425 		add	r5, r5, r4, lsl #10
 115:Drv/drv_serial.c **** 
  66              		.loc 1 115 5 view .LVU10
  67 001c 2846     		mov	r0, r5
  68 001e FFF7FEFF 		bl	memcpy
  69              	.LVL4:
 117:Drv/drv_serial.c ****     {
  70              		.loc 1 117 5 is_stmt 1 view .LVU11
 117:Drv/drv_serial.c ****     {
  71              		.loc 1 117 38 is_stmt 0 view .LVU12
  72 0022 04EB8403 		add	r3, r4, r4, lsl #2
  73 0026 124A     		ldr	r2, .L10
  74 0028 02EB8303 		add	r3, r2, r3, lsl #2
  75 002c 9B7A     		ldrb	r3, [r3, #10]	@ zero_extendqisi2
 117:Drv/drv_serial.c ****     {
  76              		.loc 1 117 8 view .LVU13
  77 002e 012B     		cmp	r3, #1
  78 0030 06D9     		bls	.L8
 121:Drv/drv_serial.c ****     {
  79              		.loc 1 121 10 is_stmt 1 view .LVU14
 121:Drv/drv_serial.c ****     {
  80              		.loc 1 121 13 is_stmt 0 view .LVU15
  81 0032 022B     		cmp	r3, #2
  82 0034 ECD1     		bne	.L1
 123:Drv/drv_serial.c ****     }
  83              		.loc 1 123 9 is_stmt 1 view .LVU16
  84 0036 3146     		mov	r1, r6
  85 0038 2046     		mov	r0, r4
  86 003a FFF7FEFF 		bl	Serial_DMA_SendBuff
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 5


  87              	.LVL5:
  88 003e 04E0     		b	.L4
  89              	.L8:
 119:Drv/drv_serial.c ****     }
  90              		.loc 1 119 9 view .LVU17
  91 0040 3246     		mov	r2, r6
  92 0042 3946     		mov	r1, r7
  93 0044 2046     		mov	r0, r4
  94 0046 FFF7FEFF 		bl	Serial_SendBuff
  95              	.LVL6:
  96              	.L4:
 128:Drv/drv_serial.c ****     {
  97              		.loc 1 128 5 view .LVU18
 128:Drv/drv_serial.c ****     {
  98              		.loc 1 128 61 is_stmt 0 view .LVU19
  99 004a 04EB8403 		add	r3, r4, r4, lsl #2
 100 004e 084A     		ldr	r2, .L10
 101 0050 02EB8303 		add	r3, r2, r3, lsl #2
 102 0054 1B7C     		ldrb	r3, [r3, #16]	@ zero_extendqisi2
 128:Drv/drv_serial.c ****     {
 103              		.loc 1 128 8 view .LVU20
 104 0056 33B1     		cbz	r3, .L9
 105              	.L5:
 133:Drv/drv_serial.c **** }
 106              		.loc 1 133 5 is_stmt 1 view .LVU21
 107 0058 4FF48062 		mov	r2, #1024
 108 005c 0021     		movs	r1, #0
 109 005e 2846     		mov	r0, r5
 110 0060 FFF7FEFF 		bl	memset
 111              	.LVL7:
 112 0064 D4E7     		b	.L1
 113              	.L9:
 130:Drv/drv_serial.c ****     }
 114              		.loc 1 130 9 view .LVU22
 115 0066 2046     		mov	r0, r4
 116 0068 FFF7FEFF 		bl	Serial_DMA_WaitFinish
 117              	.LVL8:
 118 006c F4E7     		b	.L5
 119              	.L11:
 120 006e 00BF     		.align	2
 121              	.L10:
 122 0070 00000000 		.word	.LANCHOR0
 123 0074 00000000 		.word	Serial_TX_Buff
 124              		.cfi_endproc
 125              	.LFE127:
 127              		.section	.text.DrvSerial_Ctl,"ax",%progbits
 128              		.align	1
 129              		.syntax unified
 130              		.thumb
 131              		.thumb_func
 132              		.fpu fpv4-sp-d16
 134              	DrvSerial_Ctl:
 135              	.LVL9:
 136              	.LFB126:
  31:Drv/drv_serial.c ****     switch ((uint8_t)cmd)
 137              		.loc 1 31 1 view -0
 138              		.cfi_startproc
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 6


 139              		@ args = 0, pretend = 0, frame = 0
 140              		@ frame_needed = 0, uses_anonymous_args = 0
  31:Drv/drv_serial.c ****     switch ((uint8_t)cmd)
 141              		.loc 1 31 1 is_stmt 0 view .LVU24
 142 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 143              	.LCFI1:
 144              		.cfi_def_cfa_offset 24
 145              		.cfi_offset 4, -24
 146              		.cfi_offset 5, -20
 147              		.cfi_offset 6, -16
 148              		.cfi_offset 7, -12
 149              		.cfi_offset 8, -8
 150              		.cfi_offset 14, -4
 151 0004 84B0     		sub	sp, sp, #16
 152              	.LCFI2:
 153              		.cfi_def_cfa_offset 40
 154 0006 0446     		mov	r4, r0
 155 0008 1546     		mov	r5, r2
  32:Drv/drv_serial.c ****     {
 156              		.loc 1 32 5 is_stmt 1 view .LVU25
 157 000a 0129     		cmp	r1, #1
 158 000c 6FD0     		beq	.L13
 159 000e 0229     		cmp	r1, #2
 160 0010 00F08A80 		beq	.L14
 161 0014 19B1     		cbz	r1, .L24
 162 0016 0020     		movs	r0, #0
 163              	.LVL10:
 164              	.L12:
 108:Drv/drv_serial.c **** 
 165              		.loc 1 108 1 is_stmt 0 view .LVU26
 166 0018 04B0     		add	sp, sp, #16
 167              	.LCFI3:
 168              		.cfi_remember_state
 169              		.cfi_def_cfa_offset 24
 170              		@ sp needed
 171 001a BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 172              	.LVL11:
 173              	.L24:
 174              	.LCFI4:
 175              		.cfi_restore_state
  35:Drv/drv_serial.c ****             return;
 176              		.loc 1 35 9 is_stmt 1 view .LVU27
  35:Drv/drv_serial.c ****             return;
 177              		.loc 1 35 12 is_stmt 0 view .LVU28
 178 001e 102B     		cmp	r3, #16
 179 0020 FAD1     		bne	.L12
  35:Drv/drv_serial.c ****             return;
 180              		.loc 1 35 83 discriminator 1 view .LVU29
 181 0022 00EB8003 		add	r3, r0, r0, lsl #2
 182              	.LVL12:
  35:Drv/drv_serial.c ****             return;
 183              		.loc 1 35 83 discriminator 1 view .LVU30
 184 0026 434A     		ldr	r2, .L25
 185              	.LVL13:
  35:Drv/drv_serial.c ****             return;
 186              		.loc 1 35 83 discriminator 1 view .LVU31
 187 0028 12F82300 		ldrb	r0, [r2, r3, lsl #2]	@ zero_extendqisi2
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 7


 188              	.LVL14:
  35:Drv/drv_serial.c ****             return;
 189              		.loc 1 35 55 discriminator 1 view .LVU32
 190 002c 0028     		cmp	r0, #0
 191 002e F3D1     		bne	.L12
  38:Drv/drv_serial.c ****         {
 192              		.loc 1 38 9 is_stmt 1 view .LVU33
  38:Drv/drv_serial.c ****         {
 193              		.loc 1 38 12 is_stmt 0 view .LVU34
 194 0030 042C     		cmp	r4, #4
 195 0032 4AD0     		beq	.L18
  40:Drv/drv_serial.c ****             {
 196              		.loc 1 40 13 is_stmt 1 view .LVU35
  40:Drv/drv_serial.c ****             {
 197              		.loc 1 40 65 is_stmt 0 view .LVU36
 198 0034 AB79     		ldrb	r3, [r5, #6]	@ zero_extendqisi2
 199 0036 012B     		cmp	r3, #1
 200 0038 10D0     		beq	.L19
 201 003a 022B     		cmp	r3, #2
 202 003c 22D0     		beq	.L20
 203 003e 002B     		cmp	r3, #0
 204 0040 EAD1     		bne	.L12
  43:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 205              		.loc 1 43 17 is_stmt 1 view .LVU37
 206 0042 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 207 0044 2A79     		ldrb	r2, [r5, #4]	@ zero_extendqisi2
 208 0046 0021     		movs	r1, #0
 209              	.LVL15:
  43:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 210              		.loc 1 43 17 is_stmt 0 view .LVU38
 211 0048 0091     		str	r1, [sp]
 212 004a 2968     		ldr	r1, [r5]
 213 004c 2046     		mov	r0, r4
 214 004e FFF7FEFF 		bl	Serial_IRQ_RX_Init
 215              	.LVL16:
  47:Drv/drv_serial.c ****                 break;
 216              		.loc 1 47 17 is_stmt 1 view .LVU39
 217 0052 A968     		ldr	r1, [r5, #8]
 218 0054 2046     		mov	r0, r4
 219 0056 FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 220              	.LVL17:
  48:Drv/drv_serial.c **** 
 221              		.loc 1 48 17 view .LVU40
 222 005a 38E0     		b	.L21
 223              	.LVL18:
 224              	.L19:
  51:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority,
 225              		.loc 1 51 17 view .LVU41
  53:Drv/drv_serial.c ****                                    SERIAL_MAX_RECLEN, Serial_Normal);
 226              		.loc 1 53 46 is_stmt 0 view .LVU42
 227 005c 3649     		ldr	r1, .L25+4
 228              	.LVL19:
  53:Drv/drv_serial.c ****                                    SERIAL_MAX_RECLEN, Serial_Normal);
 229              		.loc 1 53 46 view .LVU43
 230 005e 01EB8421 		add	r1, r1, r4, lsl #10
  51:Drv/drv_serial.c ****                                    ((DrvSerial_Config_Typedef *)data)->SubPriority,
 231              		.loc 1 51 17 view .LVU44
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 8


 232 0062 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 233 0064 2A79     		ldrb	r2, [r5, #4]	@ zero_extendqisi2
 234 0066 0020     		movs	r0, #0
 235 0068 0290     		str	r0, [sp, #8]
 236 006a 4FF48060 		mov	r0, #1024
 237 006e 0190     		str	r0, [sp, #4]
 238 0070 0091     		str	r1, [sp]
 239 0072 2968     		ldr	r1, [r5]
 240 0074 2046     		mov	r0, r4
 241 0076 FFF7FEFF 		bl	Serial_DMA_RX_Init
 242              	.LVL20:
  56:Drv/drv_serial.c ****                 break;
 243              		.loc 1 56 17 is_stmt 1 view .LVU45
 244 007a A968     		ldr	r1, [r5, #8]
 245 007c 2046     		mov	r0, r4
 246 007e FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 247              	.LVL21:
  57:Drv/drv_serial.c **** 
 248              		.loc 1 57 17 view .LVU46
 249 0082 24E0     		b	.L21
 250              	.LVL22:
 251              	.L20:
  60:Drv/drv_serial.c ****                 memset(Serial_TX_Buff[portx], NULL, sizeof(Serial_TX_Buff[portx]));
 252              		.loc 1 60 17 view .LVU47
  60:Drv/drv_serial.c ****                 memset(Serial_TX_Buff[portx], NULL, sizeof(Serial_TX_Buff[portx]));
 253              		.loc 1 60 38 is_stmt 0 view .LVU48
 254 0084 A702     		lsls	r7, r4, #10
 255 0086 2C4E     		ldr	r6, .L25+4
 256 0088 06EB8426 		add	r6, r6, r4, lsl #10
  60:Drv/drv_serial.c ****                 memset(Serial_TX_Buff[portx], NULL, sizeof(Serial_TX_Buff[portx]));
 257              		.loc 1 60 17 view .LVU49
 258 008c 4FF48068 		mov	r8, #1024
 259 0090 4246     		mov	r2, r8
 260 0092 0021     		movs	r1, #0
 261              	.LVL23:
  60:Drv/drv_serial.c ****                 memset(Serial_TX_Buff[portx], NULL, sizeof(Serial_TX_Buff[portx]));
 262              		.loc 1 60 17 view .LVU50
 263 0094 3046     		mov	r0, r6
 264 0096 FFF7FEFF 		bl	memset
 265              	.LVL24:
  61:Drv/drv_serial.c **** 
 266              		.loc 1 61 17 is_stmt 1 view .LVU51
  61:Drv/drv_serial.c **** 
 267              		.loc 1 61 38 is_stmt 0 view .LVU52
 268 009a 284B     		ldr	r3, .L25+8
 269 009c 1F44     		add	r7, r7, r3
  61:Drv/drv_serial.c **** 
 270              		.loc 1 61 17 view .LVU53
 271 009e 4246     		mov	r2, r8
 272 00a0 0021     		movs	r1, #0
 273 00a2 3846     		mov	r0, r7
 274 00a4 FFF7FEFF 		bl	memset
 275              	.LVL25:
  63:Drv/drv_serial.c ****                                      ((DrvSerial_Config_Typedef *)data)->PreemptionPriority,
 276              		.loc 1 63 17 is_stmt 1 view .LVU54
 277 00a8 6B79     		ldrb	r3, [r5, #5]	@ zero_extendqisi2
 278 00aa 2A79     		ldrb	r2, [r5, #4]	@ zero_extendqisi2
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 9


 279 00ac 0021     		movs	r1, #0
 280 00ae 0391     		str	r1, [sp, #12]
 281 00b0 CDF80880 		str	r8, [sp, #8]
 282 00b4 0197     		str	r7, [sp, #4]
 283 00b6 0096     		str	r6, [sp]
 284 00b8 2968     		ldr	r1, [r5]
 285 00ba 2046     		mov	r0, r4
 286 00bc FFF7FEFF 		bl	Serial_DMA_RXTX_Init
 287              	.LVL26:
  70:Drv/drv_serial.c ****                 break;
 288              		.loc 1 70 17 view .LVU55
 289 00c0 A968     		ldr	r1, [r5, #8]
 290 00c2 2046     		mov	r0, r4
 291 00c4 FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 292              	.LVL27:
  71:Drv/drv_serial.c **** 
 293              		.loc 1 71 17 view .LVU56
 294 00c8 01E0     		b	.L21
 295              	.LVL28:
 296              	.L18:
  79:Drv/drv_serial.c ****         }
 297              		.loc 1 79 13 view .LVU57
 298 00ca FFF7FEFF 		bl	VCP_Init
 299              	.LVL29:
 300              	.L21:
  82:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 301              		.loc 1 82 9 view .LVU58
  82:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 302              		.loc 1 82 40 is_stmt 0 view .LVU59
 303 00ce 194B     		ldr	r3, .L25
 304 00d0 04EB8402 		add	r2, r4, r4, lsl #2
 305 00d4 4FF0010C 		mov	ip, #1
 306 00d8 03F822C0 		strb	ip, [r3, r2, lsl #2]
  83:Drv/drv_serial.c ****         break;
 307              		.loc 1 83 9 is_stmt 1 view .LVU60
  83:Drv/drv_serial.c ****         break;
 308              		.loc 1 83 38 is_stmt 0 view .LVU61
 309 00dc 03EB8204 		add	r4, r3, r2, lsl #2
 310 00e0 0434     		adds	r4, r4, #4
 311 00e2 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 312 00e6 84E80F00 		stm	r4, {r0, r1, r2, r3}
  84:Drv/drv_serial.c **** 
 313              		.loc 1 84 9 is_stmt 1 view .LVU62
 107:Drv/drv_serial.c **** }
 314              		.loc 1 107 12 is_stmt 0 view .LVU63
 315 00ea 6046     		mov	r0, ip
  84:Drv/drv_serial.c **** 
 316              		.loc 1 84 9 view .LVU64
 317 00ec 94E7     		b	.L12
 318              	.LVL30:
 319              	.L13:
  87:Drv/drv_serial.c ****         Serial_Set_IRQ_Callback(portx, NULL);
 320              		.loc 1 87 9 is_stmt 1 view .LVU65
 321 00ee FFF7FEFF 		bl	Serial_Deinit
 322              	.LVL31:
  88:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->mode = DrvSerial_MODE_None;
 323              		.loc 1 88 9 view .LVU66
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 10


 324 00f2 0021     		movs	r1, #0
 325 00f4 2046     		mov	r0, r4
 326 00f6 FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 327              	.LVL32:
  89:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->PreemptionPriority = 0;
 328              		.loc 1 89 9 view .LVU67
  89:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->PreemptionPriority = 0;
 329              		.loc 1 89 50 is_stmt 0 view .LVU68
 330 00fa 0323     		movs	r3, #3
 331 00fc AB71     		strb	r3, [r5, #6]
  90:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->SubPriority = 0;
 332              		.loc 1 90 9 is_stmt 1 view .LVU69
  90:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->SubPriority = 0;
 333              		.loc 1 90 64 is_stmt 0 view .LVU70
 334 00fe 0022     		movs	r2, #0
 335 0100 2A71     		strb	r2, [r5, #4]
  91:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->baudrate = 0;
 336              		.loc 1 91 9 is_stmt 1 view .LVU71
  91:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->baudrate = 0;
 337              		.loc 1 91 57 is_stmt 0 view .LVU72
 338 0102 6A71     		strb	r2, [r5, #5]
  92:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->Irq_Callback = NULL;
 339              		.loc 1 92 9 is_stmt 1 view .LVU73
  92:Drv/drv_serial.c ****         ((DrvSerial_Config_Typedef *)data)->Irq_Callback = NULL;
 340              		.loc 1 92 54 is_stmt 0 view .LVU74
 341 0104 2A60     		str	r2, [r5]
  93:Drv/drv_serial.c **** 
 342              		.loc 1 93 9 is_stmt 1 view .LVU75
  93:Drv/drv_serial.c **** 
 343              		.loc 1 93 58 is_stmt 0 view .LVU76
 344 0106 AA60     		str	r2, [r5, #8]
  95:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 345              		.loc 1 95 9 is_stmt 1 view .LVU77
  95:Drv/drv_serial.c ****         DrvSerial_SrcInfo[portx].cfg = *((DrvSerial_Config_Typedef *)data);
 346              		.loc 1 95 40 is_stmt 0 view .LVU78
 347 0108 0A4B     		ldr	r3, .L25
 348 010a 04EB8401 		add	r1, r4, r4, lsl #2
 349 010e 8900     		lsls	r1, r1, #2
 350 0110 5A54     		strb	r2, [r3, r1]
  96:Drv/drv_serial.c ****         break;
 351              		.loc 1 96 9 is_stmt 1 view .LVU79
  96:Drv/drv_serial.c ****         break;
 352              		.loc 1 96 38 is_stmt 0 view .LVU80
 353 0112 04EB8404 		add	r4, r4, r4, lsl #2
 354 0116 03EB8404 		add	r4, r3, r4, lsl #2
 355 011a 0434     		adds	r4, r4, #4
 356 011c 95E80F00 		ldm	r5, {r0, r1, r2, r3}
 357 0120 84E80F00 		stm	r4, {r0, r1, r2, r3}
  97:Drv/drv_serial.c **** 
 358              		.loc 1 97 9 is_stmt 1 view .LVU81
 107:Drv/drv_serial.c **** }
 359              		.loc 1 107 12 is_stmt 0 view .LVU82
 360 0124 0120     		movs	r0, #1
  97:Drv/drv_serial.c **** 
 361              		.loc 1 97 9 view .LVU83
 362 0126 77E7     		b	.L12
 363              	.LVL33:
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 11


 364              	.L14:
 100:Drv/drv_serial.c ****         break;
 365              		.loc 1 100 9 is_stmt 1 view .LVU84
 366 0128 1146     		mov	r1, r2
 367              	.LVL34:
 100:Drv/drv_serial.c ****         break;
 368              		.loc 1 100 9 is_stmt 0 view .LVU85
 369 012a FFF7FEFF 		bl	Serial_Set_IRQ_Callback
 370              	.LVL35:
 101:Drv/drv_serial.c **** 
 371              		.loc 1 101 9 is_stmt 1 view .LVU86
 107:Drv/drv_serial.c **** }
 372              		.loc 1 107 12 is_stmt 0 view .LVU87
 373 012e 0120     		movs	r0, #1
 101:Drv/drv_serial.c **** 
 374              		.loc 1 101 9 view .LVU88
 375 0130 72E7     		b	.L12
 376              	.L26:
 377 0132 00BF     		.align	2
 378              	.L25:
 379 0134 00000000 		.word	.LANCHOR0
 380 0138 00000000 		.word	Serial_RX_Buff
 381 013c 00000000 		.word	Serial_TX_Buff
 382              		.cfi_endproc
 383              	.LFE126:
 385              		.global	DrvSerial
 386              		.section	.bss.DrvSerial_SrcInfo,"aw",%nobits
 387              		.align	2
 388              		.set	.LANCHOR0,. + 0
 391              	DrvSerial_SrcInfo:
 392 0000 00000000 		.space	100
 392      00000000 
 392      00000000 
 392      00000000 
 392      00000000 
 393              		.section	.bss.Serial_RX_Buff,"aw",%nobits
 394              		.align	2
 397              	Serial_RX_Buff:
 398 0000 00000000 		.space	5120
 398      00000000 
 398      00000000 
 398      00000000 
 398      00000000 
 399              		.section	.bss.Serial_TX_Buff,"aw",%nobits
 400              		.align	2
 403              	Serial_TX_Buff:
 404 0000 00000000 		.space	5120
 404      00000000 
 404      00000000 
 404      00000000 
 404      00000000 
 405              		.section	.data.DrvSerial,"aw"
 406              		.align	2
 409              	DrvSerial:
 410 0000 00000000 		.word	DrvSerial_Ctl
 411 0004 00000000 		.word	0
 412 0008 00000000 		.word	DrvSerial_Write
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 12


 413              		.text
 414              	.Letext0:
 415              		.file 2 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/mac
 416              		.file 3 "/usr/local/arm-none-eabi-gcc/gcc-arm-none-eabi-10-2020-q4-major/arm-none-eabi/include/sys
 417              		.file 4 "Bsp/periph_serial.h"
 418              		.file 5 "Drv/drv_serial.h"
 419              		.file 6 "<built-in>"
 420              		.file 7 "USB/config/vcp.h"
ARM GAS  /var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s 			page 13


DEFINED SYMBOLS
                            *ABS*:0000000000000000 drv_serial.c
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:18     .text.DrvSerial_Write:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:25     .text.DrvSerial_Write:0000000000000000 DrvSerial_Write
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:122    .text.DrvSerial_Write:0000000000000070 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:403    .bss.Serial_TX_Buff:0000000000000000 Serial_TX_Buff
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:128    .text.DrvSerial_Ctl:0000000000000000 $t
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:134    .text.DrvSerial_Ctl:0000000000000000 DrvSerial_Ctl
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:379    .text.DrvSerial_Ctl:0000000000000134 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:397    .bss.Serial_RX_Buff:0000000000000000 Serial_RX_Buff
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:409    .data.DrvSerial:0000000000000000 DrvSerial
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:387    .bss.DrvSerial_SrcInfo:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:391    .bss.DrvSerial_SrcInfo:0000000000000000 DrvSerial_SrcInfo
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:394    .bss.Serial_RX_Buff:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:400    .bss.Serial_TX_Buff:0000000000000000 $d
/var/folders/lx/hc4sn_b53233_zkc9xbbl97r0000gp/T//ccOXmCTh.s:406    .data.DrvSerial:0000000000000000 $d

UNDEFINED SYMBOLS
memcpy
Serial_DMA_SendBuff
Serial_SendBuff
memset
Serial_DMA_WaitFinish
Serial_IRQ_RX_Init
Serial_Set_IRQ_Callback
Serial_DMA_RX_Init
Serial_DMA_RXTX_Init
VCP_Init
Serial_Deinit
