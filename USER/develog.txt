开发说明

采用优先级调度运行机制，系统时钟基于stm32f405 的 systick
硬件采用stm32f405的f4v3(ominbusf4飞控)飞控板子改造
该系统尝试移植到stm32f411最小系统板，部分硬件IO，与外设时钟需要更改，暂不进行移植

当前运行环境系统设计完成以下部分：
1.系统运行时钟配置，计时功能
2. 仿ucos优先级 查表 任务调度 (任务最大运行频率15khz , 最小运行频率50hz)
3. 支持任务的创建与删除，可以查看任务运行状态 (部分运行数据不准确，还可以进行优化)，支持任务暂停恢复

基于该系统的飞控开发完成以下部分：
1.mpu 6000的 配置 与 陀螺仪采样，mpu6000 使用SPI 1接口，硬件陀螺仪支持最大8K采样，系统运行时陀螺仪采样任务以 15K hz 频率运行，实际1S内
    可以达到约8K的采样速度，mpu6000 陀螺仪采样函数可以输出原始采样数据以及经过二阶卡尔曼函数滤波后的数据
2.mpu6000 的 加速度计采样，硬件加速度计支持最大1Khz的采样频率，系统运行时加速度计采样以2Khz频率运行，实际采样可以达到1.2K采样速度，mpu6000
    加速度计采样函数可以输出原始采样数据和滤波后数据
3.sbus信号采集，数据接受使用Serial的DMA接受，不需要创建Task
4. 计算cpu在1ms内，每个任务占用CPU的情况 即任务的cpu占用率
5. pendsv中断实现的任务调用，但是这个中断的使用并不严谨，需要使用汇编编写代码，进行升级！后期再做升级处理
6. 内存占用情况（各任务占用内存）
7. mavlink cli 
    包含以下功能
    1.参数设置功能 （滤波参数 / 控制参数 ）
    2.传输特定数据功能（目的在于减少单次传输数据量，数传模块有数据量限制）
    3.查看任务运行情况，数据passby功能(passby 尚未开发)
8. 浮点数打印与浮点数计算功能打开
9. 可变参数 debug 数据输出
<<<<<<< HEAD

2021 2 月 需要修改
1.将FatFs Lib更换为 AsyncFatFs Lib 
2.重新构建SD 驱动代码
3.重新构建FileSys.c 和 FileSys.h
4.增加 BlackBox 系统任务 

2021 3月 已修改部分
1.fatfs 替换为asyncfatfs 可以高速连续读写SD卡，但是之可以写入一个freefile功能文件
2.正在修改队列功能
3.完成BlackBox 任务的构建

需要开发部分
1. 内存管理系统(需要双相连表)
2. 互斥信号量和同步信号量的设计和构造
3. 系统任务
5. CPU温度
=======
10.SD卡驱动完成
11.asyncfatfs 移植成功，可以连续快速写入SD卡
12.增加blackbox数据记录功能

2021 3 月 需要修改
1.文件记录产生bug
2.makefile的修改，需要明确该调度系统需要多大的系统资源，占用多大的内存空间（参考betaflight-master 的makefile）
3.系统高优先级任务的抢占，和低优先级任务的挂起

需要开发部分
2.系统高优先级任务的抢占，和低优先级任务的挂起
3.进程间的数据消息队列
4.信号同步，互斥构建，信号队列
5.makefile的修改，需要明确该调度系统需要多大的系统资源，占用多大的内存空间
6. 内存管理系统
7. 系统任务
8. CPU温度
>>>>>>> f38fc4a6cbc0dce0555bdc9713f1be642089ff74
